!function (e, define) { define("kendo.core.min", ["jquery"], e) }(function () {
    return function (e, t, n) {
        function r() { } function o(e, t) { if (t) return "'" + e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\t/g, "\\t") + "'"; var n = e.charAt(0), r = e.substring(1); return "=" === n ? "+(" + r + ")+" : ":" === n ? "+$kendoHtmlEncode(" + r + ")+" : ";" + e + ";$kendoOutput+=" } function i(e, t, n) { return e += "", t = t || 2, n = t - e.length, n ? L[t].substring(0, n) + e : e } function a(e) { var t = e.css(ye.support.transitions.css + "box-shadow") || e.css("box-shadow"), n = t ? t.match(ze) || [0, 0, 0, 0, 0] : [0, 0, 0, 0, 0], r = Te.max(+n[3], +(n[4] || 0)); return { left: -n[1] + r, right: +n[1] + r, bottom: +n[2] + r } } function s(t, n) { var r, o, i, a, s, u, l, c = ke.browser, d = ye._outerWidth, f = ye._outerHeight; return t.parent().hasClass("k-animation-container") ? (u = t.parent(".k-animation-container"), l = u[0].style, u.is(":hidden") && u.css({ display: "", position: "" }), r = Oe.test(l.width) || Oe.test(l.height), r || u.css({ width: n ? d(t) + 1 : d(t), height: f(t), boxSizing: "content-box", mozBoxSizing: "content-box", webkitBoxSizing: "content-box" })) : (o = t[0].style.width, i = t[0].style.height, a = Oe.test(o), s = Oe.test(i), r = a || s, !a && (!n || n && o) && (o = n ? d(t) + 1 : d(t)), !s && (!n || n && i) && (i = f(t)), t.wrap(e("<div/>").addClass("k-animation-container").css({ width: o, height: i })), r && t.css({ width: "100%", height: "100%", boxSizing: "border-box", mozBoxSizing: "border-box", webkitBoxSizing: "border-box" })), c.msie && Te.floor(c.version) <= 7 && (t.css({ zoom: 1 }), t.children(".k-menu").width(t.width())), t.parent() } function u(e) { var t = 1, n = arguments.length; for (t = 1; t < n; t++)l(e, arguments[t]); return e } function l(e, t) { var n, r, o, i, a, s = ye.data.ObservableArray, u = ye.data.LazyObservableArray, c = ye.data.DataSource, d = ye.data.HierarchicalDataSource; for (n in t) r = t[n], o = typeof r, i = o === Ae && null !== r ? r.constructor : null, i && i !== Array && i !== s && i !== u && i !== c && i !== d && i !== RegExp ? r instanceof Date ? e[n] = new Date(r.getTime()) : _(r.clone) ? e[n] = r.clone() : (a = e[n], e[n] = typeof a === Ae ? a || {} : {}, l(e[n], r)) : o !== Fe && (e[n] = r); return e } function c(e, t, r) { for (var o in t) if (t.hasOwnProperty(o) && t[o].test(e)) return o; return r !== n ? r : e } function d(e) { return e.replace(/([a-z][A-Z])/g, function (e) { return e.charAt(0) + "-" + e.charAt(1).toLowerCase() }) } function f(e) { return e.replace(/\-(\w)/g, function (e, t) { return t.toUpperCase() }) } function p(t, n) { var r, o = {}; return document.defaultView && document.defaultView.getComputedStyle ? (r = document.defaultView.getComputedStyle(t, ""), n && e.each(n, function (e, t) { o[t] = r.getPropertyValue(t) })) : (r = t.currentStyle, n && e.each(n, function (e, t) { o[t] = r[f(t)] })), ye.size(o) || (o = r), o } function m(e) { if (e && e.className && "string" == typeof e.className && e.className.indexOf("k-auto-scrollable") > -1) return !0; var t = p(e, ["overflow"]).overflow; return "auto" == t || "scroll" == t } function h(t, r) { var o, i = ke.browser.webkit, a = ke.browser.mozilla, s = t instanceof e ? t[0] : t; if (t) return o = ke.isRtl(t), r === n ? o && i ? s.scrollWidth - s.clientWidth - s.scrollLeft : Math.abs(s.scrollLeft) : (s.scrollLeft = o && i ? s.scrollWidth - s.clientWidth - r : o && a ? -r : r, n) } function g(e) { var t, n = 0; for (t in e) e.hasOwnProperty(t) && "toJSON" != t && n++; return n } function y(e, n, r) { var o, i, a; return n || (n = "offset"), o = e[n](), i = { top: o.top, right: o.right, bottom: o.bottom, left: o.left }, ke.browser.msie && (ke.pointers || ke.msPointers) && !r && (a = ke.isRtl(e) ? 1 : -1, i.top -= t.pageYOffset - document.documentElement.scrollTop, i.left -= t.pageXOffset + a * document.documentElement.scrollLeft), i } function v(e) { var t = {}; return be("string" == typeof e ? e.split(" ") : e, function (e) { t[e] = this }), t } function b(e) { return new ye.effects.Element(e) } function w(e, t, n, r) { return typeof e === He && (_(t) && (r = t, t = 400, n = !1), _(n) && (r = n, n = !1), typeof t === Pe && (n = t, t = 400), e = { effects: e, duration: t, reverse: n, complete: r }), ve({ effects: {}, duration: 400, reverse: !1, init: Se, teardown: Se, hide: !1 }, e, { completeCallback: e.complete, complete: Se }) } function M(t, n, r, o, i) { for (var a, s = 0, u = t.length; s < u; s++)a = e(t[s]), a.queue(function () { B.promise(a, w(n, r, o, i)) }); return t } function S(e, t, n, r) { return t && (t = t.split(" "), be(t, function (t, n) { e.toggleClass(n, r) })), e } function T(e) { return ("" + e).replace(Y, "&amp;").replace(q, "&lt;").replace(G, "&gt;").replace(J, "&quot;").replace(V, "&#39;") } function x(e, t) { var r; return 0 === t.indexOf("data") && (t = t.substring(4), t = t.charAt(0).toLowerCase() + t.substring(1)), t = t.replace(oe, "-$1"), r = e.getAttribute("data-" + ye.ns + t), null === r ? r = n : "null" === r ? r = null : "true" === r ? r = !0 : "false" === r ? r = !1 : Ce.test(r) && "mask" != t ? r = parseFloat(r) : ne.test(r) && !re.test(r) && (r = Function("return (" + r + ")")()), r } function k(t, r, o) { var i, a, s = {}; for (i in r) a = x(t, i), a !== n && (te.test(i) && ("string" == typeof a ? e("#" + a).length ? a = ye.template(e("#" + a).html()) : o && (a = ye.template(o[a])) : a = t.getAttribute(i)), s[i] = a); return s } function O(t, n) { return e.contains(t, n) ? -1 : 1 } function D() { var t = e(this); return e.inArray(t.attr("data-" + ye.ns + "role"), ["slider", "rangeslider"]) > -1 || t.is(":visible") } function z(e, t) { var n = e.nodeName.toLowerCase(); return (/input|select|textarea|button|object/.test(n) ? !e.disabled : "a" === n ? e.href || t : t) && C(e) } function C(t) { return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () { return "hidden" === e.css(this, "visibility") }).length } function E(e, t) { return new E.fn.init(e, t) } var H, _, A, N, P, F, R, U, I, W, $, L, j, B, Y, q, J, V, G, K, Q, Z, X, ee, te, ne, re, oe, ie, ae, se, ue, le, ce, de, fe, pe, me, he, ge, ye = t.kendo = t.kendo || { cultures: {} }, ve = e.extend, be = e.each, we = e.isArray, Me = e.proxy, Se = e.noop, Te = Math, xe = t.JSON || {}, ke = {}, Oe = /%/, De = /\{(\d+)(:[^\}]+)?\}/g, ze = /(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i, Ce = /^(\+|-?)\d+(\.?)\d*$/, Ee = "function", He = "string", _e = "number", Ae = "object", Ne = "null", Pe = "boolean", Fe = "undefined", Re = {}, Ue = {}, Ie = [].slice; ye.version = "2018.2.516".replace(/^\s+|\s+$/g, ""), r.extend = function (e) { var t, n, r = function () { }, o = this, i = e && e.init ? e.init : function () { o.apply(this, arguments) }; r.prototype = o.prototype, n = i.fn = i.prototype = new r; for (t in e) n[t] = null != e[t] && e[t].constructor === Object ? ve(!0, {}, r.prototype[t], e[t]) : e[t]; return n.constructor = i, i.extend = o.extend, i }, r.prototype._initOptions = function (e) { this.options = u({}, this.options, e) }, _ = ye.isFunction = function (e) { return "function" == typeof e }, A = function () { this._defaultPrevented = !0 }, N = function () { return this._defaultPrevented === !0 }, P = r.extend({ init: function () { this._events = {} }, bind: function (e, t, r) { var o, i, a, s, u, l = this, c = typeof e === He ? [e] : e, d = typeof t === Ee; if (t === n) { for (o in e) l.bind(o, e[o]); return l } for (o = 0, i = c.length; o < i; o++)e = c[o], s = d ? t : t[e], s && (r && (a = s, s = function () { l.unbind(e, s), a.apply(l, arguments) }, s.original = a), u = l._events[e] = l._events[e] || [], u.push(s)); return l }, one: function (e, t) { return this.bind(e, t, !0) }, first: function (e, t) { var n, r, o, i, a = this, s = typeof e === He ? [e] : e, u = typeof t === Ee; for (n = 0, r = s.length; n < r; n++)e = s[n], o = u ? t : t[e], o && (i = a._events[e] = a._events[e] || [], i.unshift(o)); return a }, trigger: function (e, t) { var n, r, o = this, i = o._events[e]; if (i) { for (t = t || {}, t.sender = o, t._defaultPrevented = !1, t.preventDefault = A, t.isDefaultPrevented = N, i = i.slice(), n = 0, r = i.length; n < r; n++)i[n].call(o, t); return t._defaultPrevented === !0 } return !1 }, unbind: function (e, t) { var r, o = this, i = o._events[e]; if (e === n) o._events = {}; else if (i) if (t) for (r = i.length - 1; r >= 0; r--)i[r] !== t && i[r].original !== t || i.splice(r, 1); else o._events[e] = []; return o } }), F = /^\w+/, R = /\$\{([^}]*)\}/g, U = /\\\}/g, I = /__CURLY__/g, W = /\\#/g, $ = /__SHARP__/g, L = ["", "0", "00", "000", "0000"], H = { paramName: "data", useWithBlock: !0, render: function (e, t) { var n, r, o = ""; for (n = 0, r = t.length; n < r; n++)o += e(t[n]); return o }, compile: function (e, t) { var n, r, i, a = ve({}, this, t), s = a.paramName, u = s.match(F)[0], l = a.useWithBlock, c = "var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;"; if (_(e)) return e; for (c += l ? "with(" + s + "){" : "", c += "$kendoOutput=", r = e.replace(U, "__CURLY__").replace(R, "#=$kendoHtmlEncode($1)#").replace(I, "}").replace(W, "__SHARP__").split("#"), i = 0; i < r.length; i++)c += o(r[i], i % 2 === 0); c += l ? ";}" : ";", c += "return $kendoOutput;", c = c.replace($, "#"); try { return n = Function(u, c), n._slotCount = Math.floor(r.length / 2), n } catch (d) { throw Error(ye.format("Invalid template:'{0}' Generated code:'{1}'", e, c)) } } }, function () { function e(e) { return a.lastIndex = 0, a.test(e) ? '"' + e.replace(a, function (e) { var t = s[e]; return typeof t === He ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) }) + '"' : '"' + e + '"' } function t(i, a) { var s, l, c, d, f, p, m = n, h = a[i]; if (h && typeof h === Ae && typeof h.toJSON === Ee && (h = h.toJSON(i)), typeof o === Ee && (h = o.call(a, i, h)), p = typeof h, p === He) return e(h); if (p === _e) return isFinite(h) ? h + "" : Ne; if (p === Pe || p === Ne) return h + ""; if (p === Ae) { if (!h) return Ne; if (n += r, f = [], "[object Array]" === u.apply(h)) { for (d = h.length, s = 0; s < d; s++)f[s] = t(s, h) || Ne; return c = 0 === f.length ? "[]" : n ? "[\n" + n + f.join(",\n" + n) + "\n" + m + "]" : "[" + f.join(",") + "]", n = m, c } if (o && typeof o === Ae) for (d = o.length, s = 0; s < d; s++)typeof o[s] === He && (l = o[s], c = t(l, h), c && f.push(e(l) + (n ? ": " : ":") + c)); else for (l in h) Object.hasOwnProperty.call(h, l) && (c = t(l, h), c && f.push(e(l) + (n ? ": " : ":") + c)); return c = 0 === f.length ? "{}" : n ? "{\n" + n + f.join(",\n" + n) + "\n" + m + "}" : "{" + f.join(",") + "}", n = m, c } } var n, r, o, a = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, s = { "\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" }, u = {}.toString; typeof Date.prototype.toJSON !== Ee && (Date.prototype.toJSON = function () { var e = this; return isFinite(e.valueOf()) ? i(e.getUTCFullYear(), 4) + "-" + i(e.getUTCMonth() + 1) + "-" + i(e.getUTCDate()) + "T" + i(e.getUTCHours()) + ":" + i(e.getUTCMinutes()) + ":" + i(e.getUTCSeconds()) + "Z" : null }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () { return this.valueOf() }), typeof xe.stringify !== Ee && (xe.stringify = function (e, i, a) { var s; if (n = "", r = "", typeof a === _e) for (s = 0; s < a; s += 1)r += " "; else typeof a === He && (r = a); if (o = i, i && typeof i !== Ee && (typeof i !== Ae || typeof i.length !== _e)) throw Error("JSON.stringify"); return t("", { "": e }) }) }(), function () { function t(e) { if (e) { if (e.numberFormat) return e; if (typeof e === He) { var t = ye.cultures; return t[e] || t[e.split("-")[0]] || null } return null } return null } function r(e) { return e && (e = t(e)), e || ye.cultures.current } function o(e, t, o) { o = r(o); var a = o.calendars.standard, s = a.days, u = a.months; return t = a.patterns[t] || t, t.replace(c, function (t) { var r, o, l; return "d" === t ? o = e.getDate() : "dd" === t ? o = i(e.getDate()) : "ddd" === t ? o = s.namesAbbr[e.getDay()] : "dddd" === t ? o = s.names[e.getDay()] : "M" === t ? o = e.getMonth() + 1 : "MM" === t ? o = i(e.getMonth() + 1) : "MMM" === t ? o = u.namesAbbr[e.getMonth()] : "MMMM" === t ? o = u.names[e.getMonth()] : "yy" === t ? o = i(e.getFullYear() % 100) : "yyyy" === t ? o = i(e.getFullYear(), 4) : "h" === t ? o = e.getHours() % 12 || 12 : "hh" === t ? o = i(e.getHours() % 12 || 12) : "H" === t ? o = e.getHours() : "HH" === t ? o = i(e.getHours()) : "m" === t ? o = e.getMinutes() : "mm" === t ? o = i(e.getMinutes()) : "s" === t ? o = e.getSeconds() : "ss" === t ? o = i(e.getSeconds()) : "f" === t ? o = Te.floor(e.getMilliseconds() / 100) : "ff" === t ? (o = e.getMilliseconds(), o > 99 && (o = Te.floor(o / 10)), o = i(o)) : "fff" === t ? o = i(e.getMilliseconds(), 3) : "tt" === t ? o = e.getHours() < 12 ? a.AM[0] : a.PM[0] : "zzz" === t ? (r = e.getTimezoneOffset(), l = r < 0, o = ("" + Te.abs(r / 60)).split(".")[0], r = Te.abs(r) - 60 * o, o = (l ? "+" : "-") + i(o), o += ":" + i(r)) : "zz" !== t && "z" !== t || (o = e.getTimezoneOffset() / 60, l = o < 0, o = ("" + Te.abs(o)).split(".")[0], o = (l ? "+" : "-") + ("zz" === t ? i(o) : o)), o !== n ? o : t.slice(1, t.length - 1) }) } function a(e, t, o) { o = r(o); var i, a, l, c, w, M, S, T, x, k, O, D, z, C, E, H, _, A, N, P, F, R, U, I = o.numberFormat, W = I[h], $ = I.decimals, L = I.pattern[0], j = [], B = e < 0, Y = m, q = m, J = -1; if (e === n) return m; if (!isFinite(e)) return e; if (!t) return o.name.length ? e.toLocaleString() : "" + e; if (w = d.exec(t)) { if (t = w[1].toLowerCase(), a = "c" === t, l = "p" === t, (a || l) && (I = a ? I.currency : I.percent, W = I[h], $ = I.decimals, i = I.symbol, L = I.pattern[B ? 0 : 1]), c = w[2], c && ($ = +c), "e" === t) return c ? e.toExponential($) : e.toExponential(); if (l && (e *= 100), e = u(e, $), B = e < 0, e = e.split(h), M = e[0], S = e[1], B && (M = M.substring(1)), q = s(M, 0, M.length, I), S && (q += W + S), "n" === t && !B) return q; for (e = m, k = 0, O = L.length; k < O; k++)D = L.charAt(k), e += "n" === D ? q : "$" === D || "%" === D ? i : D; return e } if (B && (e = -e), (t.indexOf("'") > -1 || t.indexOf('"') > -1 || t.indexOf("\\") > -1) && (t = t.replace(f, function (e) { var t = e.charAt(0).replace("\\", ""), n = e.slice(1).replace(t, ""); return j.push(n), b })), t = t.split(";"), B && t[1]) t = t[1], C = !0; else if (0 === e) { if (t = t[2] || t[0], t.indexOf(y) == -1 && t.indexOf(v) == -1) return t } else t = t[0]; if (P = t.indexOf("%"), F = t.indexOf("$"), l = P != -1, a = F != -1, l && (e *= 100), a && "\\" === t[F - 1] && (t = t.split("\\").join(""), a = !1), (a || l) && (I = a ? I.currency : I.percent, W = I[h], $ = I.decimals, i = I.symbol), z = t.indexOf(g) > -1, z && (t = t.replace(p, m)), E = t.indexOf(h), O = t.length, E != -1 ? (S = ("" + e).split("e"), S = S[1] ? u(e, Math.abs(S[1])) : S[0], S = S.split(h)[1] || m, _ = t.lastIndexOf(v) - E, H = t.lastIndexOf(y) - E, A = _ > -1, N = H > -1, k = S.length, A || N || (t = t.substring(0, E) + t.substring(E + 1), O = t.length, E = -1, k = 0), A && _ > H ? k = _ : H > _ && (N && k > H ? k = H : A && k < _ && (k = _)), k > -1 && (e = u(e, k))) : e = u(e), H = t.indexOf(y), R = _ = t.indexOf(v), J = H == -1 && _ != -1 ? _ : H != -1 && _ == -1 ? H : H > _ ? _ : H, H = t.lastIndexOf(y), _ = t.lastIndexOf(v), U = H == -1 && _ != -1 ? _ : H != -1 && _ == -1 ? H : H > _ ? H : _, J == O && (U = J), J != -1) { for (q = ("" + e).split(h), M = q[0], S = q[1] || m, T = M.length, x = S.length, B && e * -1 >= 0 && (B = !1), e = t.substring(0, J), B && !C && (e += "-"), k = J; k < O; k++) { if (D = t.charAt(k), E == -1) { if (U - k < T) { e += M; break } } else if (_ != -1 && _ < k && (Y = m), E - k <= T && E - k > -1 && (e += M, k = E), E === k) { e += (S ? W : m) + S, k += U - E + 1; continue } D === v ? (e += D, Y = D) : D === y && (e += Y) } if (z && (e = s(e, J + (B && !C ? 1 : 0), Math.max(U, T + J), I)), U >= J && (e += t.substring(U + 1)), a || l) { for (q = m, k = 0, O = e.length; k < O; k++)D = e.charAt(k), q += "$" === D || "%" === D ? i : D; e = q } if (O = j.length) for (k = 0; k < O; k++)e = e.replace(b, j[k]) } return e } var s, u, l, c = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g, d = /^(n|c|p|e)(\d*)$/i, f = /(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g, p = /\,/g, m = "", h = ".", g = ",", y = "#", v = "0", b = "??", w = "en-US", M = {}.toString; ye.cultures["en-US"] = { name: w, numberFormat: { pattern: ["-n"], decimals: 2, ",": ",", ".": ".", groupSize: [3], percent: { pattern: ["-n %", "n %"], decimals: 2, ",": ",", ".": ".", groupSize: [3], symbol: "%" }, currency: { name: "US Dollar", abbr: "USD", pattern: ["($n)", "$n"], decimals: 2, ",": ",", ".": ".", groupSize: [3], symbol: "$" } }, calendars: { standard: { days: { names: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], namesAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], namesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"] }, months: { names: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], namesAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }, AM: ["AM", "am", "AM"], PM: ["PM", "pm", "PM"], patterns: { d: "M/d/yyyy", D: "dddd, MMMM dd, yyyy", F: "dddd, MMMM dd, yyyy h:mm:ss tt", g: "M/d/yyyy h:mm tt", G: "M/d/yyyy h:mm:ss tt", m: "MMMM dd", M: "MMMM dd", s: "yyyy'-'MM'-'ddTHH':'mm':'ss", t: "h:mm tt", T: "h:mm:ss tt", u: "yyyy'-'MM'-'dd HH':'mm':'ss'Z'", y: "MMMM, yyyy", Y: "MMMM, yyyy" }, "/": "/", ":": ":", firstDay: 0, twoDigitYearMax: 2029 } } }, ye.culture = function (e) { var r, o = ye.cultures; return e === n ? o.current : (r = t(e) || o[w], r.calendar = r.calendars.standard, o.current = r, n) }, ye.findCulture = t, ye.getCulture = r, ye.culture(w), s = function (e, t, r, o) { var i, a, s, u, l, c, d = e.indexOf(o[h]), f = o.groupSize.slice(), p = f.shift(); if (r = d !== -1 ? d : r + 1, i = e.substring(t, r), a = i.length, a >= p) { for (s = a, u = []; s > -1;)if (l = i.substring(s - p, s), l && u.push(l), s -= p, c = f.shift(), p = c !== n ? c : p, 0 === p) { s > 0 && u.push(i.substring(0, s)); break } i = u.reverse().join(o[g]), e = e.substring(0, t) + i + e.substring(r) } return e }, u = function (e, t) { return t = t || 0, e = ("" + e).split("e"), e = Math.round(+(e[0] + "e" + (e[1] ? +e[1] + t : t))), e = ("" + e).split("e"), e = +(e[0] + "e" + (e[1] ? +e[1] - t : -t)), e.toFixed(Math.min(t, 20)) }, l = function (e, t, r) { if (t) { if ("[object Date]" === M.call(e)) return o(e, t, r); if (typeof e === _e) return a(e, t, r) } return e !== n ? e : "" }, ye.format = function (e) { var t = arguments; return e.replace(De, function (e, n, r) { var o = t[parseInt(n, 10) + 1]; return l(o, r ? r.substring(1) : "") }) }, ye._extractFormat = function (e) { return "{0:" === e.slice(0, 3) && (e = e.slice(3, e.length - 1)), e }, ye._activeElement = function () { try { return document.activeElement } catch (e) { return document.documentElement.activeElement } }, ye._round = u, ye._outerWidth = function (t, n) { return e(t).outerWidth(n || !1) || 0 }, ye._outerHeight = function (t, n) { return e(t).outerHeight(n || !1) || 0 }, ye.toString = l }(), function () { function t(e, t, n) { return !(e >= t && e <= n) } function r(e) { return e.charAt(0) } function o(t) { return e.map(t, r) } function i(e, t) { t || 23 !== e.getHours() || e.setHours(e.getHours() + 2) } function a(e) { for (var t = 0, n = e.length, r = []; t < n; t++)r[t] = (e[t] + "").toLowerCase(); return r } function s(e) { var t, n = {}; for (t in e) n[t] = a(e[t]); return n } function u(e, r, a, u) { if (!e) return null; var l, c, d, f, p, g, y, v, b, M, S, T, x, k = function (e) { for (var t = 0; r[R] === e;)t++ , R++; return t > 0 && (R -= 1), t }, O = function (t) { var n = w[t] || RegExp("^\\d{1," + t + "}"), r = e.substr(U, t).match(n); return r ? (r = r[0], U += r.length, parseInt(r, 10)) : null }, D = function (t, n) { for (var r, o, i, a = 0, s = t.length, u = 0, l = 0; a < s; a++)r = t[a], o = r.length, i = e.substr(U, o), n && (i = i.toLowerCase()), i == r && o > u && (u = o, l = a); return u ? (U += u, l + 1) : null }, z = function () { var t = !1; return e.charAt(U) === r[R] && (U++ , t = !0), t }, C = a.calendars.standard, E = null, H = null, _ = null, A = null, N = null, P = null, F = null, R = 0, U = 0, I = !1, W = new Date, $ = C.twoDigitYearMax || 2029, L = W.getFullYear(); for (r || (r = "d"), f = C.patterns[r], f && (r = f), r = r.split(""), d = r.length; R < d; R++)if (l = r[R], I) "'" === l ? I = !1 : z(); else if ("d" === l) { if (c = k("d"), C._lowerDays || (C._lowerDays = s(C.days)), null !== _ && c > 2) continue; if (_ = c < 3 ? O(2) : D(C._lowerDays[3 == c ? "namesAbbr" : "names"], !0), null === _ || t(_, 1, 31)) return null } else if ("M" === l) { if (c = k("M"), C._lowerMonths || (C._lowerMonths = s(C.months)), H = c < 3 ? O(2) : D(C._lowerMonths[3 == c ? "namesAbbr" : "names"], !0), null === H || t(H, 1, 12)) return null; H -= 1 } else if ("y" === l) { if (c = k("y"), E = O(c), null === E) return null; 2 == c && ("string" == typeof $ && ($ = L + parseInt($, 10)), E = L - L % 100 + E, E > $ && (E -= 100)) } else if ("h" === l) { if (k("h"), A = O(2), 12 == A && (A = 0), null === A || t(A, 0, 11)) return null } else if ("H" === l) { if (k("H"), A = O(2), null === A || t(A, 0, 23)) return null } else if ("m" === l) { if (k("m"), N = O(2), null === N || t(N, 0, 59)) return null } else if ("s" === l) { if (k("s"), P = O(2), null === P || t(P, 0, 59)) return null } else if ("f" === l) { if (c = k("f"), x = e.substr(U, c).match(w[3]), F = O(c), null !== F && (F = parseFloat("0." + x[0], 10), F = ye._round(F, 3), F *= 1e3), null === F || t(F, 0, 999)) return null } else if ("t" === l) { if (c = k("t"), v = C.AM, b = C.PM, 1 === c && (v = o(v), b = o(b)), p = D(b), !p && !D(v)) return null } else if ("z" === l) { if (g = !0, c = k("z"), "Z" === e.substr(U, 1)) { z(); continue } if (y = e.substr(U, 6).match(c > 2 ? h : m), !y) return null; if (y = y[0].split(":"), M = y[0], S = y[1], !S && M.length > 3 && (U = M.length - 2, S = M.substring(U), M = M.substring(0, U)), M = parseInt(M, 10), t(M, -12, 13)) return null; if (c > 2 && (S = y[0][0] + S, S = parseInt(S, 10), isNaN(S) || t(S, -59, 59))) return null } else if ("'" === l) I = !0, z(); else if (!z()) return null; return u && !/^\s*$/.test(e.substr(U)) ? null : (T = null !== A || null !== N || P || null, null === E && null === H && null === _ && T ? (E = L, H = W.getMonth(), _ = W.getDate()) : (null === E && (E = L), null === _ && (_ = 1)), p && A < 12 && (A += 12), g ? (M && (A += -M), S && (N += -S), e = new Date(Date.UTC(E, H, _, A, N, P, F))) : (e = new Date(E, H, _, A, N, P, F), i(e, A)), E < 100 && e.setFullYear(E), e.getDate() !== _ && g === n ? null : e) } function l(e) { var t = "-" === e.substr(0, 1) ? -1 : 1; return e = e.substring(1), e = 60 * parseInt(e.substr(0, 2), 10) + parseInt(e.substring(2), 10), t * e } function c(e) { var t, n, r, o = Te.max(v.length, b.length), i = e.calendar.patterns, a = []; for (r = 0; r < o; r++) { for (t = v[r], n = 0; n < t.length; n++)a.push(i[t[n]]); a = a.concat(b[r]) } return a } function d(e, t, n, r) { var o, i, a, s; if ("[object Date]" === M.call(e)) return e; if (o = 0, i = null, e && 0 === e.indexOf("/D") && (i = g.exec(e))) return i = i[1], s = y.exec(i.substring(1)), i = new Date(parseInt(i, 10)), s && (s = l(s[0]), i = ye.timezone.apply(i, 0), i = ye.timezone.convert(i, 0, -1 * s)), i; for (n = ye.getCulture(n), t || (t = c(n)), t = we(t) ? t : [t], a = t.length; o < a; o++)if (i = u(e, t[o], n, r)) return i; return i } var f = /\u00A0/g, p = /[eE][\-+]?[0-9]+/, m = /[+|\-]\d{1,2}/, h = /[+|\-]\d{1,2}:?\d{2}/, g = /^\/Date\((.*?)\)\/$/, y = /[+-]\d*/, v = [[], ["G", "g", "F"], ["D", "d", "y", "m", "T", "t"]], b = [["yyyy-MM-ddTHH:mm:ss.fffffffzzz", "yyyy-MM-ddTHH:mm:ss.fffffff", "yyyy-MM-ddTHH:mm:ss.fffzzz", "yyyy-MM-ddTHH:mm:ss.fff", "ddd MMM dd yyyy HH:mm:ss", "yyyy-MM-ddTHH:mm:sszzz", "yyyy-MM-ddTHH:mmzzz", "yyyy-MM-ddTHH:mmzz", "yyyy-MM-ddTHH:mm:ss", "yyyy-MM-dd HH:mm:ss", "yyyy/MM/dd HH:mm:ss"], ["yyyy-MM-ddTHH:mm", "yyyy-MM-dd HH:mm", "yyyy/MM/dd HH:mm"], ["yyyy/MM/dd", "yyyy-MM-dd", "HH:mm:ss", "HH:mm"]], w = { 2: /^\d{1,2}/, 3: /^\d{1,3}/, 4: /^\d{4}/ }, M = {}.toString; ye.parseDate = function (e, t, n) { return d(e, t, n, !1) }, ye.parseExactDate = function (e, t, n) { return d(e, t, n, !0) }, ye.parseInt = function (e, t) { var n = ye.parseFloat(e, t); return n && (n = 0 | n), n }, ye.parseFloat = function (e, t, n) { if (!e && 0 !== e) return null; if (typeof e === _e) return e; e = "" + e, t = ye.getCulture(t); var r, o, i = t.numberFormat, a = i.percent, s = i.currency, u = s.symbol, l = a.symbol, c = e.indexOf("-"); return p.test(e) ? (e = parseFloat(e.replace(i["."], ".")), isNaN(e) && (e = null), e) : c > 0 ? null : (c = c > -1, e.indexOf(u) > -1 || n && n.toLowerCase().indexOf("c") > -1 ? (i = s, r = i.pattern[0].replace("$", u).split("n"), e.indexOf(r[0]) > -1 && e.indexOf(r[1]) > -1 && (e = e.replace(r[0], "").replace(r[1], ""), c = !0)) : e.indexOf(l) > -1 && (o = !0, i = a, u = l), e = e.replace("-", "").replace(u, "").replace(f, " ").split(i[","].replace(f, " ")).join("").replace(i["."], "."), e = parseFloat(e), isNaN(e) ? e = null : c && (e *= -1), e && o && (e /= 100), e) } }(), function () { var r, o, i, a, s, u, l, d, f, p; ke._scrollbar = n, ke.scrollbar = function (e) { if (isNaN(ke._scrollbar) || e) { var t, n = document.createElement("div"); return n.style.cssText = "overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block", n.innerHTML = "&nbsp;", document.body.appendChild(n), ke._scrollbar = t = n.offsetWidth - n.scrollWidth, document.body.removeChild(n), t } return ke._scrollbar }, ke.isRtl = function (t) { return e(t).closest(".k-rtl").length > 0 }, r = document.createElement("table"); try { r.innerHTML = "<tr><td></td></tr>", ke.tbodyInnerHtml = !0 } catch (m) { ke.tbodyInnerHtml = !1 } ke.touch = "ontouchstart" in t, o = document.documentElement.style, i = ke.transitions = !1, a = ke.transforms = !1, s = "HTMLElement" in t ? HTMLElement.prototype : [], ke.hasHW3D = "WebKitCSSMatrix" in t && "m11" in new t.WebKitCSSMatrix || "MozPerspective" in o || "msPerspective" in o, ke.cssFlexbox = "flexWrap" in o || "WebkitFlexWrap" in o || "msFlexWrap" in o, be(["Moz", "webkit", "O", "ms"], function () { var e, t = "" + this, n = typeof r.style[t + "Transition"] === He; if (n || typeof r.style[t + "Transform"] === He) return e = t.toLowerCase(), a = { css: "ms" != e ? "-" + e + "-" : "", prefix: t, event: "o" === e || "webkit" === e ? e : "" }, n && (i = a, i.event = i.event ? i.event + "TransitionEnd" : "transitionend"), !1 }), r = null, ke.transforms = a, ke.transitions = i, ke.devicePixelRatio = t.devicePixelRatio === n ? 1 : t.devicePixelRatio; try { ke.screenWidth = t.outerWidth || t.screen ? t.screen.availWidth : t.innerWidth, ke.screenHeight = t.outerHeight || t.screen ? t.screen.availHeight : t.innerHeight } catch (m) { ke.screenWidth = t.screen.availWidth, ke.screenHeight = t.screen.availHeight } ke.detectOS = function (e) { var n, r, o = !1, i = [], a = !/mobile safari/i.test(e), s = { wp: /(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/, fire: /(Silk)\/(\d+)\.(\d+(\.\d+)?)/, android: /(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/, iphone: /(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/, ipad: /(iPad).*OS\s+(\d+)[\._]([\d_]+)/, meego: /(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/, webos: /(webOS)\/(\d+)\.(\d+(\.\d+)?)/, blackberry: /(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/, playbook: /(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/, windows: /(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/, tizen: /(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i, sailfish: /(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i, ffos: /(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/ }, u = { ios: /^i(phone|pad|pod)$/i, android: /^android|fire$/i, blackberry: /^blackberry|playbook/i, windows: /windows/, wp: /wp/, flat: /sailfish|ffos|tizen/i, meego: /meego/ }, l = { tablet: /playbook|ipad|fire/i }, d = { omini: /Opera\sMini/i, omobile: /Opera\sMobi/i, firefox: /Firefox|Fennec/i, mobilesafari: /version\/.*safari/i, ie: /MSIE|Windows\sPhone/i, chrome: /chrome|crios/i, webkit: /webkit/i }; for (r in s) if (s.hasOwnProperty(r) && (i = e.match(s[r]))) { if ("windows" == r && "plugins" in navigator) return !1; o = {}, o.device = r, o.tablet = c(r, l, !1), o.browser = c(e, d, "default"), o.name = c(r, u), o[o.name] = !0, o.majorVersion = i[2], o.minorVersion = i[3].replace("_", "."), n = o.minorVersion.replace(".", "").substr(0, 2), o.flatVersion = o.majorVersion + n + Array(3 - (n.length < 3 ? n.length : 2)).join("0"), o.cordova = typeof t.PhoneGap !== Fe || typeof t.cordova !== Fe, o.appMode = t.navigator.standalone || /file|local|wmapp/.test(t.location.protocol) || o.cordova, o.android && (ke.devicePixelRatio < 1.5 && o.flatVersion < 400 || a) && (ke.screenWidth > 800 || ke.screenHeight > 800) && (o.tablet = r); break } return o }, u = ke.mobileOS = ke.detectOS(navigator.userAgent), ke.wpDevicePixelRatio = u.wp ? screen.width / 320 : 0, ke.hasNativeScrolling = !1, (u.ios || u.android && u.majorVersion > 2 || u.wp) && (ke.hasNativeScrolling = u), ke.delayedClick = function () { if (ke.touch) { if (u.ios) return !0; if (u.android) return !ke.browser.chrome || !(ke.browser.version < 32) && !(e("meta[name=viewport]").attr("content") || "").match(/user-scalable=no/i) } return !1 }, ke.mouseAndTouchPresent = ke.touch && !(ke.mobileOS.ios || ke.mobileOS.android), ke.detectBrowser = function (e) { var t, n = !1, r = [], o = { edge: /(edge)[ \/]([\w.]+)/i, webkit: /(chrome)[ \/]([\w.]+)/i, safari: /(webkit)[ \/]([\w.]+)/i, opera: /(opera)(?:.*version|)[ \/]([\w.]+)/i, msie: /(msie\s|trident.*? rv:)([\w.]+)/i, mozilla: /(mozilla)(?:.*? rv:([\w.]+)|)/i }; for (t in o) if (o.hasOwnProperty(t) && (r = e.match(o[t]))) { n = {}, n[t] = !0, n[r[1].toLowerCase().split(" ")[0].split("/")[0]] = !0, n.version = parseInt(document.documentMode || r[2], 10); break } return n }, ke.browser = ke.detectBrowser(navigator.userAgent), ke.detectClipboardAccess = function () { var e = { copy: !!document.queryCommandSupported && document.queryCommandSupported("copy"), cut: !!document.queryCommandSupported && document.queryCommandSupported("cut"), paste: !!document.queryCommandSupported && document.queryCommandSupported("paste") }; return ke.browser.chrome && (e.paste = !1, ke.browser.version >= 43 && (e.copy = !0, e.cut = !0)), e }, ke.clipboard = ke.detectClipboardAccess(), ke.zoomLevel = function () { var e, n, r; try { return e = ke.browser, n = 0, r = document.documentElement, e.msie && 11 == e.version && r.scrollHeight > r.clientHeight && !ke.touch && (n = ke.scrollbar()), ke.touch ? r.clientWidth / t.innerWidth : e.msie && e.version >= 10 ? ((top || t).document.documentElement.offsetWidth + n) / (top || t).innerWidth : 1 } catch (o) { return 1 } }, ke.cssBorderSpacing = n !== o.borderSpacing && !(ke.browser.msie && ke.browser.version < 8), function (t) { var n = "", r = e(document.documentElement), o = parseInt(t.version, 10); t.msie ? n = "ie" : t.mozilla ? n = "ff" : t.safari ? n = "safari" : t.webkit ? n = "webkit" : t.opera ? n = "opera" : t.edge && (n = "edge"), n && (n = "k-" + n + " k-" + n + o), ke.mobileOS && (n += " k-mobile"), ke.cssFlexbox || (n += " k-no-flexbox"), r.addClass(n) }(ke.browser), ke.eventCapture = document.documentElement.addEventListener, l = document.createElement("input"), ke.placeholder = "placeholder" in l, ke.propertyChangeEvent = "onpropertychange" in l, ke.input = function () { for (var e, t = ["number", "date", "time", "month", "week", "datetime", "datetime-local"], n = t.length, r = "test", o = {}, i = 0; i < n; i++)e = t[i], l.setAttribute("type", e), l.value = r, o[e.replace("-", "")] = "text" !== l.type && l.value !== r; return o }(), l.style.cssText = "float:left;", ke.cssFloat = !!l.style.cssFloat, l = null, ke.stableSort = function () { var e, t = 513, n = [{ index: 0, field: "b" }]; for (e = 1; e < t; e++)n.push({ index: e, field: "a" }); return n.sort(function (e, t) { return e.field > t.field ? 1 : e.field < t.field ? -1 : 0 }), 1 === n[0].index }(), ke.matchesSelector = s.webkitMatchesSelector || s.mozMatchesSelector || s.msMatchesSelector || s.oMatchesSelector || s.matchesSelector || s.matches || function (t) { for (var n = document.querySelectorAll ? (this.parentNode || document).querySelectorAll(t) || [] : e(t), r = n.length; r--;)if (n[r] == this) return !0; return !1 }, ke.pushState = t.history && t.history.pushState, d = document.documentMode, ke.hashChange = "onhashchange" in t && !(ke.browser.msie && (!d || d <= 8)), ke.customElements = "registerElement" in t.document, f = ke.browser.chrome, p = ke.browser.mozilla, ke.msPointers = !f && t.MSPointerEvent, ke.pointers = !f && !p && t.PointerEvent, ke.kineticScrollNeeded = u && (ke.touch || ke.msPointers || ke.pointers) }(), j = { left: { reverse: "right" }, right: { reverse: "left" }, down: { reverse: "up" }, up: { reverse: "down" }, top: { reverse: "bottom" }, bottom: { reverse: "top" }, "in": { reverse: "out" }, out: { reverse: "in" } }, B = {}, e.extend(B, { enabled: !0, Element: function (t) { this.element = e(t) }, promise: function (e, t) { e.is(":visible") || e.css({ display: e.data("olddisplay") || "block" }).css("display"), t.hide && e.data("olddisplay", e.css("display")).hide(), t.init && t.init(), t.completeCallback && t.completeCallback(e), e.dequeue() }, disable: function () { this.enabled = !1, this.promise = this.promiseShim }, enable: function () { this.enabled = !0, this.promise = this.animatedPromise } }), B.promiseShim = B.promise, "kendoAnimate" in e.fn || ve(e.fn, { kendoStop: function (e, t) { return this.stop(e, t) }, kendoAnimate: function (e, t, n, r) { return M(this, e, t, n, r) }, kendoAddClass: function (e, t) { return ye.toggleClass(this, e, t, !0) }, kendoRemoveClass: function (e, t) { return ye.toggleClass(this, e, t, !1) }, kendoToggleClass: function (e, t, n) { return ye.toggleClass(this, e, t, n) } }), Y = /&/g, q = /</g, J = /"/g, V = /'/g, G = />/g, K = function (e) { return e.target }, ke.touch && (K = function (e) { var t = "originalEvent" in e ? e.originalEvent.changedTouches : "changedTouches" in e ? e.changedTouches : null; return t ? document.elementFromPoint(t[0].clientX, t[0].clientY) : e.target }, be(["swipe", "swipeLeft", "swipeRight", "swipeUp", "swipeDown", "doubleTap", "tap"], function (t, n) { e.fn[n] = function (e) { return this.bind(n, e) } })), ke.touch ? ke.mobileOS ? (ke.mousedown = "touchstart", ke.mouseup = "touchend", ke.mousemove = "touchmove", ke.mousecancel = "touchcancel", ke.click = "touchend", ke.resize = "orientationchange") : (ke.mousedown = "mousedown touchstart", ke.mouseup = "mouseup touchend", ke.mousemove = "mousemove touchmove", ke.mousecancel = "mouseleave touchcancel", ke.click = "click", ke.resize = "resize") : ke.pointers ? (ke.mousemove = "pointermove", ke.mousedown = "pointerdown", ke.mouseup = "pointerup", ke.mousecancel = "pointercancel", ke.click = "pointerup", ke.resize = "orientationchange resize") : ke.msPointers ? (ke.mousemove = "MSPointerMove", ke.mousedown = "MSPointerDown", ke.mouseup = "MSPointerUp", ke.mousecancel = "MSPointerCancel", ke.click = "MSPointerUp", ke.resize = "orientationchange resize") : (ke.mousemove = "mousemove", ke.mousedown = "mousedown", ke.mouseup = "mouseup", ke.mousecancel = "mouseleave", ke.click = "click", ke.resize = "resize"), Q = function (e, t) { var n, r, o, i, a = t || "d", s = 1; for (r = 0, o = e.length; r < o; r++)i = e[r], "" !== i && (n = i.indexOf("["), 0 !== n && (n == -1 ? i = "." + i : (s++ , i = "." + i.substring(0, n) + " || {})" + i.substring(n))), s++ , a += i + (r < o - 1 ? " || {})" : ")")); return Array(s).join("(") + a }, Z = /^([a-z]+:)?\/\//i, ve(ye, {
            widgets: [], _widgetRegisteredCallbacks: [], ui: ye.ui || {}, fx: ye.fx || b, effects: ye.effects || B, mobile: ye.mobile || {}, data: ye.data || {}, dataviz: ye.dataviz || {}, drawing: ye.drawing || {}, spreadsheet: { messages: {} }, keys: { INSERT: 45, DELETE: 46, BACKSPACE: 8, TAB: 9, ENTER: 13, ESC: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, END: 35, HOME: 36, SPACEBAR: 32, PAGEUP: 33, PAGEDOWN: 34, F2: 113, F10: 121, F12: 123, NUMPAD_PLUS: 107, NUMPAD_MINUS: 109, NUMPAD_DOT: 110 }, support: ye.support || ke, animate: ye.animate || M, ns: "", attr: function (e) { return "data-" + ye.ns + e }, getShadows: a, wrap: s, deepExtend: u, getComputedStyles: p, webComponents: ye.webComponents || [], isScrollable: m, scrollLeft: h, size: g, toCamelCase: f, toHyphens: d, getOffset: ye.getOffset || y, parseEffects: ye.parseEffects || v, toggleClass: ye.toggleClass || S, directions: ye.directions || j, Observable: P, Class: r, Template: H, template: Me(H.compile, H), render: Me(H.render, H), stringify: Me(xe.stringify, xe), eventTarget: K, htmlEncode: T, isLocalUrl: function (e) { return e && !Z.test(e) }, expr: function (e, t, n) { return e = e || "", typeof t == He && (n = t, t = !1), n = n || "d", e && "[" !== e.charAt(0) && (e = "." + e), t ? (e = e.replace(/"([^.]*)\.([^"]*)"/g, '"$1_$DOT$_$2"'), e = e.replace(/'([^.]*)\.([^']*)'/g, "'$1_$DOT$_$2'"), e = Q(e.split("."), n), e = e.replace(/_\$DOT\$_/g, ".")) : e = n + e, e }, getter: function (e, t) { var n = e + t; return Re[n] = Re[n] || Function("d", "return " + ye.expr(e, t)) }, setter: function (e) { return Ue[e] = Ue[e] || Function("d,value", ye.expr(e) + "=value") }, accessor: function (e) { return { get: ye.getter(e), set: ye.setter(e) } }, guid: function () { var e, t, n = ""; for (e = 0; e < 32; e++)t = 16 * Te.random() | 0, 8 != e && 12 != e && 16 != e && 20 != e || (n += "-"), n += (12 == e ? 4 : 16 == e ? 3 & t | 8 : t).toString(16); return n }, roleSelector: function (e) { return e.replace(/(\S+)/g, "[" + ye.attr("role") + "=$1],").slice(0, -1) }, directiveSelector: function (e) { var t, n = e.split(" "); if (n) for (t = 0; t < n.length; t++)"view" != n[t] && (n[t] = n[t].replace(/(\w*)(view|bar|strip|over)$/, "$1-$2")); return n.join(" ").replace(/(\S+)/g, "kendo-mobile-$1,").slice(0, -1) }, triggeredByInput: function (e) { return /^(label|input|textarea|select)$/i.test(e.target.tagName) }, onWidgetRegistered: function (e) {
                for (var t = 0, n = ye.widgets.length; t < n; t++)e(ye.widgets[t]); ye._widgetRegisteredCallbacks.push(e)
            }, logToConsole: function (e, r) { var o = t.console; !ye.suppressLog && n !== o && o.log && o[r || "log"](e) }
        }), X = P.extend({ init: function (e, t) { var n, r = this; r.element = ye.jQuery(e).handler(r), r.angular("init", t), P.fn.init.call(r), n = t ? t.dataSource : null, n && (t = ve({}, t, { dataSource: {} })), t = r.options = ve(!0, {}, r.options, t), n && (t.dataSource = n), r.element.attr(ye.attr("role")) || r.element.attr(ye.attr("role"), (t.name || "").toLowerCase()), r.element.data("kendo" + t.prefix + t.name, r), r.bind(r.events, t) }, events: [], options: { prefix: "" }, _hasBindingTarget: function () { return !!this.element[0].kendoBindingTarget }, _tabindex: function (e) { e = e || this.wrapper; var t = this.element, n = "tabindex", r = e.attr(n) || t.attr(n); t.removeAttr(n), e.attr(n, isNaN(r) ? 0 : r) }, setOptions: function (t) { this._setEvents(t), e.extend(this.options, t) }, _setEvents: function (e) { for (var t, n = this, r = 0, o = n.events.length; r < o; r++)t = n.events[r], n.options[t] && e[t] && n.unbind(t, n.options[t]); n.bind(n.events, e) }, resize: function (e) { var t = this.getSize(), n = this._size; (e || (t.width > 0 || t.height > 0) && (!n || t.width !== n.width || t.height !== n.height)) && (this._size = t, this._resize(t, e), this.trigger("resize", t)) }, getSize: function () { return ye.dimensions(this.element) }, size: function (e) { return e ? (this.setSize(e), n) : this.getSize() }, setSize: e.noop, _resize: e.noop, destroy: function () { var e = this; e.element.removeData("kendo" + e.options.prefix + e.options.name), e.element.removeData("handler"), e.unbind() }, _destroy: function () { this.destroy() }, angular: function () { }, _muteAngularRebind: function (e) { this._muteRebind = !0, e.call(this), this._muteRebind = !1 } }), ee = X.extend({ dataItems: function () { return this.dataSource.flatView() }, _angularItems: function (t) { var n = this; n.angular(t, function () { return { elements: n.items(), data: e.map(n.dataItems(), function (e) { return { dataItem: e } }) } }) } }), ye.dimensions = function (e, t) { var n = e[0]; return t && e.css(t), { width: n.offsetWidth, height: n.offsetHeight } }, ye.notify = Se, te = /template$/i, ne = /^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/, re = /^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/, oe = /([A-Z])/g, ye.initWidget = function (r, o, i) { var a, s, u, l, c, d, f, p, m, h, g, y, v; if (i ? i.roles && (i = i.roles) : i = ye.ui.roles, r = r.nodeType ? r : r[0], d = r.getAttribute("data-" + ye.ns + "role")) { m = d.indexOf(".") === -1, u = m ? i[d] : ye.getter(d)(t), g = e(r).data(), y = u ? "kendo" + u.fn.options.prefix + u.fn.options.name : "", h = m ? RegExp("^kendo.*" + d + "$", "i") : RegExp("^" + y + "$", "i"); for (v in g) if (v.match(h)) { if (v !== y) return g[v]; a = g[v] } if (u) { for (p = x(r, "dataSource"), o = e.extend({}, k(r, u.fn.options), o), p && (o.dataSource = typeof p === He ? ye.getter(p)(t) : p), l = 0, c = u.fn.events.length; l < c; l++)s = u.fn.events[l], f = x(r, s), f !== n && (o[s] = ye.getter(f)(t)); return a ? e.isEmptyObject(o) || a.setOptions(o) : a = new u(r, o), a } } }, ye.rolesFromNamespaces = function (e) { var t, n, r = []; for (e[0] || (e = [ye.ui, ye.dataviz.ui]), t = 0, n = e.length; t < n; t++)r[t] = e[t].roles; return ve.apply(null, [{}].concat(r.reverse())) }, ye.init = function (t) { var n = ye.rolesFromNamespaces(Ie.call(arguments, 1)); e(t).find("[data-" + ye.ns + "role]").addBack().each(function () { ye.initWidget(this, {}, n) }) }, ye.destroy = function (t) { e(t).find("[data-" + ye.ns + "role]").addBack().each(function () { var t, n = e(this).data(); for (t in n) 0 === t.indexOf("kendo") && typeof n[t].destroy === Ee && n[t].destroy() }) }, ye.resize = function (t, n) { var r, o = e(t).find("[data-" + ye.ns + "role]").addBack().filter(D); o.length && (r = e.makeArray(o), r.sort(O), e.each(r, function () { var t = ye.widgetInstance(e(this)); t && t.resize(n) })) }, ye.parseOptions = k, ve(ye.ui, { Widget: X, DataBoundWidget: ee, roles: {}, progress: function (t, n, r) { var o, i, a, s, u, l = t.find(".k-loading-mask"), c = ye.support, d = c.browser; r = e.extend({}, { width: "100%", height: "100%", top: t.scrollTop(), opacity: !1 }, r), u = r.opacity ? "k-loading-mask k-opaque" : "k-loading-mask", n ? l.length || (o = c.isRtl(t), i = o ? "right" : "left", s = t.scrollLeft(), a = d.webkit && o ? t[0].scrollWidth - t.width() - 2 * s : 0, l = e(ye.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>", u, ye.ui.progress.messages.loading)).width(r.width).height(r.height).css("top", r.top).css(i, Math.abs(s) + a).prependTo(t)) : l && l.remove() }, plugin: function (t, r, o) { var i, a, s, u, l = t.fn.options.name; for (r = r || ye.ui, o = o || "", r[l] = t, r.roles[l.toLowerCase()] = t, i = "getKendo" + o + l, l = "kendo" + o + l, a = { name: l, widget: t, prefix: o || "" }, ye.widgets.push(a), s = 0, u = ye._widgetRegisteredCallbacks.length; s < u; s++)ye._widgetRegisteredCallbacks[s](a); e.fn[l] = function (r) { var o, i = this; return typeof r === He ? (o = Ie.call(arguments, 1), this.each(function () { var t, a, s = e.data(this, l); if (!s) throw Error(ye.format("Cannot call method '{0}' of {1} before it is initialized", r, l)); if (t = s[r], typeof t !== Ee) throw Error(ye.format("Cannot find method '{0}' of {1}", r, l)); if (a = t.apply(s, o), a !== n) return i = a, !1 })) : this.each(function () { return new t(this, r) }), i }, e.fn[l].widget = t, e.fn[i] = function () { return this.data(l) } } }), ye.ui.progress.messages = { loading: "Loading..." }, ie = { bind: function () { return this }, nullObject: !0, options: {} }, ae = X.extend({ init: function (e, t) { X.fn.init.call(this, e, t), this.element.autoApplyNS(), this.wrapper = this.element, this.element.addClass("km-widget") }, destroy: function () { X.fn.destroy.call(this), this.element.kendoDestroy() }, options: { prefix: "Mobile" }, events: [], view: function () { var e = this.element.closest(ye.roleSelector("view splitview modalview drawer")); return ye.widgetInstance(e, ye.mobile.ui) || ie }, viewHasNativeScrolling: function () { var e = this.view(); return e && e.options.useNativeScrolling }, container: function () { var e = this.element.closest(ye.roleSelector("view layout modalview drawer splitview")); return ye.widgetInstance(e.eq(0), ye.mobile.ui) || ie } }), ve(ye.mobile, { init: function (e) { ye.init(e, ye.mobile.ui, ye.ui, ye.dataviz.ui) }, appLevelNativeScrolling: function () { return ye.mobile.application && ye.mobile.application.options && ye.mobile.application.options.useNativeScrolling }, roles: {}, ui: { Widget: ae, DataBoundWidget: ee.extend(ae.prototype), roles: {}, plugin: function (e) { ye.ui.plugin(e, ye.mobile.ui, "Mobile") } } }), u(ye.dataviz, { init: function (e) { ye.init(e, ye.dataviz.ui) }, ui: { roles: {}, themes: {}, views: [], plugin: function (e) { ye.ui.plugin(e, ye.dataviz.ui) } }, roles: {} }), ye.touchScroller = function (t, n) { return n || (n = {}), n.useNative = !0, e(t).map(function (t, r) { return r = e(r), !(!ke.kineticScrollNeeded || !ye.mobile.ui.Scroller || r.data("kendoMobileScroller")) && (r.kendoMobileScroller(n), r.data("kendoMobileScroller")) })[0] }, ye.preventDefault = function (e) { e.preventDefault() }, ye.widgetInstance = function (e, n) { var r, o, i, a, s = e.data(ye.ns + "role"), u = []; if (s) { if ("content" === s && (s = "scroller"), n) if (n[0]) for (r = 0, o = n.length; r < o; r++)u.push(n[r].roles[s]); else u.push(n.roles[s]); else u = [ye.ui.roles[s], ye.dataviz.ui.roles[s], ye.mobile.ui.roles[s]]; for (s.indexOf(".") >= 0 && (u = [ye.getter(s)(t)]), r = 0, o = u.length; r < o; r++)if (i = u[r], i && (a = e.data("kendo" + i.fn.options.prefix + i.fn.options.name))) return a } }, ye.onResize = function (n) { var r = n; return ke.mobileOS.android && (r = function () { setTimeout(n, 600) }), e(t).on(ke.resize, r), r }, ye.unbindResize = function (n) { e(t).off(ke.resize, n) }, ye.attrValue = function (e, t) { return e.data(ye.ns + t) }, ye.days = { Sunday: 0, Monday: 1, Tuesday: 2, Wednesday: 3, Thursday: 4, Friday: 5, Saturday: 6 }, e.extend(e.expr[":"], { kendoFocusable: function (t) { var n = e.attr(t, "tabindex"); return z(t, !isNaN(n) && n > -1) } }), se = ["mousedown", "mousemove", "mouseenter", "mouseleave", "mouseover", "mouseout", "mouseup", "click"], ue = "label, input, [data-rel=external]", le = { setupMouseMute: function () { var t, n = 0, r = se.length, o = document.documentElement; if (!le.mouseTrap && ke.eventCapture) for (le.mouseTrap = !0, le.bustClick = !1, le.captureMouse = !1, t = function (t) { le.captureMouse && ("click" === t.type ? le.bustClick && !e(t.target).is(ue) && (t.preventDefault(), t.stopPropagation()) : t.stopPropagation()) }; n < r; n++)o.addEventListener(se[n], t, !0) }, muteMouse: function (e) { le.captureMouse = !0, e.data.bustClick && (le.bustClick = !0), clearTimeout(le.mouseTrapTimeoutID) }, unMuteMouse: function () { clearTimeout(le.mouseTrapTimeoutID), le.mouseTrapTimeoutID = setTimeout(function () { le.captureMouse = !1, le.bustClick = !1 }, 400) } }, ce = { down: "touchstart mousedown", move: "mousemove touchmove", up: "mouseup touchend touchcancel", cancel: "mouseleave touchcancel" }, ke.touch && (ke.mobileOS.ios || ke.mobileOS.android) ? ce = { down: "touchstart", move: "touchmove", up: "touchend touchcancel", cancel: "touchcancel" } : ke.pointers ? ce = { down: "pointerdown", move: "pointermove", up: "pointerup", cancel: "pointercancel pointerleave" } : ke.msPointers && (ce = { down: "MSPointerDown", move: "MSPointerMove", up: "MSPointerUp", cancel: "MSPointerCancel MSPointerLeave" }), !ke.msPointers || "onmspointerenter" in t || e.each({ MSPointerEnter: "MSPointerOver", MSPointerLeave: "MSPointerOut" }, function (t, n) { e.event.special[t] = { delegateType: n, bindType: n, handle: function (t) { var r, o = this, i = t.relatedTarget, a = t.handleObj; return i && (i === o || e.contains(o, i)) || (t.type = a.origType, r = a.handler.apply(this, arguments), t.type = n), r } } }), de = function (e) { return ce[e] || e }, fe = /([^ ]+)/g, ye.applyEventMap = function (e, t) { return e = e.replace(fe, de), t && (e = e.replace(fe, "$1." + t)), e }, pe = e.fn.on, ve(!0, E, e), E.fn = E.prototype = new e, E.fn.constructor = E, E.fn.init = function (t, n) { return n && n instanceof e && !(n instanceof E) && (n = E(n)), e.fn.init.call(this, t, n, me) }, E.fn.init.prototype = E.fn, me = E(document), ve(E.fn, { handler: function (e) { return this.data("handler", e), this }, autoApplyNS: function (e) { return this.data("kendoNS", e || ye.guid()), this }, on: function () { var e, t, n, r, o, i, a = this, s = a.data("kendoNS"); return 1 === arguments.length ? pe.call(a, arguments[0]) : (e = a, t = Ie.call(arguments), typeof t[t.length - 1] === Fe && t.pop(), n = t[t.length - 1], r = ye.applyEventMap(t[0], s), ke.mouseAndTouchPresent && r.search(/mouse|click/) > -1 && this[0] !== document.documentElement && (le.setupMouseMute(), o = 2 === t.length ? null : t[1], i = r.indexOf("click") > -1 && r.indexOf("touchend") > -1, pe.call(this, { touchstart: le.muteMouse, touchend: le.unMuteMouse }, o, { bustClick: i })), typeof n === He && (e = a.data("handler"), n = e[n], t[t.length - 1] = function (t) { n.call(e, t) }), t[0] = r, pe.apply(a, t), a) }, kendoDestroy: function (e) { return e = e || this.data("kendoNS"), e && this.off("." + e), this } }), ye.jQuery = E, ye.eventMap = ce, ye.timezone = function () { function e(e, t) { var n, r, o, i = t[3], a = t[4], s = t[5], u = t[8]; return u || (t[8] = u = {}), u[e] ? u[e] : (isNaN(a) ? 0 === a.indexOf("last") ? (n = new Date(Date.UTC(e, c[i] + 1, 1, s[0] - 24, s[1], s[2], 0)), r = d[a.substr(4, 3)], o = n.getUTCDay(), n.setUTCDate(n.getUTCDate() + r - o - (r > o ? 7 : 0))) : a.indexOf(">=") >= 0 && (n = new Date(Date.UTC(e, c[i], a.substr(5), s[0], s[1], s[2], 0)), r = d[a.substr(0, 3)], o = n.getUTCDay(), n.setUTCDate(n.getUTCDate() + r - o + (r < o ? 7 : 0))) : n = new Date(Date.UTC(e, c[i], a, s[0], s[1], s[2], 0)), u[e] = n) } function t(t, n, r) { var o, i, a, s; return (n = n[r]) ? (a = new Date(t).getUTCFullYear(), n = jQuery.grep(n, function (e) { var t = e[0], n = e[1]; return t <= a && (n >= a || t == a && "only" == n || "max" == n) }), n.push(t), n.sort(function (t, n) { return "number" != typeof t && (t = +e(a, t)), "number" != typeof n && (n = +e(a, n)), t - n }), s = n[jQuery.inArray(t, n) - 1] || n[n.length - 1], isNaN(s) ? s : null) : (o = r.split(":"), i = 0, o.length > 1 && (i = 60 * o[0] + +o[1]), [-1e6, "max", "-", "Jan", 1, [0, 0, 0], i, "-"]) } function n(e, t, n) { var r, o, i, a = t[n]; if ("string" == typeof a && (a = t[a]), !a) throw Error('Timezone "' + n + '" is either incorrect, or kendo.timezones.min.js is not included.'); for (r = a.length - 1; r >= 0 && (o = a[r][3], !(o && e > o)); r--); if (i = a[r + 1], !i) throw Error('Timezone "' + n + '" not found on ' + e + "."); return i } function r(e, r, o, i) { typeof e != _e && (e = Date.UTC(e.getFullYear(), e.getMonth(), e.getDate(), e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds())); var a = n(e, r, i); return { zone: a, rule: t(e, o, a[1]) } } function o(e, t) { var n, o, i; return "Etc/UTC" == t || "Etc/GMT" == t ? 0 : (n = r(e, this.zones, this.rules, t), o = n.zone, i = n.rule, ye.parseFloat(i ? o[0] - i[6] : o[0])) } function i(e, t) { var n = r(e, this.zones, this.rules, t), o = n.zone, i = n.rule, a = o[2]; return a.indexOf("/") >= 0 ? a.split("/")[i && +i[6] ? 1 : 0] : a.indexOf("%s") >= 0 ? a.replace("%s", i && "-" != i[7] ? i[7] : "") : a } function a(e, t, n) { var r, o, i, a = n; return typeof t == He && (t = this.offset(e, t)), typeof n == He && (n = this.offset(e, n)), o = e.getTimezoneOffset(), e = new Date(e.getTime() + 6e4 * (t - n)), i = e.getTimezoneOffset(), typeof a == He && (a = this.offset(e, a)), r = i - o + (n - a), new Date(e.getTime() + 6e4 * r) } function s(e, t) { return this.convert(e, e.getTimezoneOffset(), t) } function u(e, t) { return this.convert(e, t, e.getTimezoneOffset()) } function l(e) { return this.apply(new Date(e), "Etc/UTC") } var c = { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 }, d = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 }; return { zones: {}, rules: {}, offset: o, convert: a, apply: s, remove: u, abbr: i, toLocalDate: l } }(), ye.date = function () { function e(e, t) { return 0 === t && 23 === e.getHours() && (e.setHours(e.getHours() + 2), !0) } function t(t, n, r) { var o = t.getHours(); r = r || 1, n = (n - t.getDay() + 7 * r) % 7, t.setDate(t.getDate() + n), e(t, o) } function r(e, n, r) { return e = new Date(e), t(e, n, r), e } function o(e) { return new Date(e.getFullYear(), e.getMonth(), 1) } function i(e) { var t = new Date(e.getFullYear(), e.getMonth() + 1, 0), n = o(e), r = Math.abs(t.getTimezoneOffset() - n.getTimezoneOffset()); return r && t.setHours(n.getHours() + r / 60), t } function a(e, t) { return 1 !== t ? m(r(e, t, -1), 4) : m(e, 4 - (e.getDay() || 7)) } function s(e, t) { var n = new Date(e.getFullYear(), 0, 1, (-6)), r = a(e, t), o = r.getTime() - n.getTime(), i = Math.floor(o / M); return 1 + Math.floor(i / 7) } function u(e, t) { var r, o, i; return t === n && (t = ye.culture().calendar.firstDay), r = m(e, -7), o = m(e, 7), i = s(e, t), 0 === i ? s(r, t) + 1 : 53 === i && s(o, t) > 1 ? 1 : i } function l(t) { return t = new Date(t.getFullYear(), t.getMonth(), t.getDate(), 0, 0, 0), e(t, 0), t } function c(e) { return Date.UTC(e.getFullYear(), e.getMonth(), e.getDate(), e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()) } function d(e) { return b(e).getTime() - l(b(e)) } function f(e, t, n) { var r, o = d(t), i = d(n); return !e || o == i || (t >= n && (n += M), r = d(e), o > r && (r += M), i < o && (i += M), r >= o && r <= i) } function p(e, t, n) { var r, o = t.getTime(), i = n.getTime(); return o >= i && (i += M), r = e.getTime(), r >= o && r <= i } function m(t, n) { var r = t.getHours(); return t = new Date(t), h(t, n * M), e(t, r), t } function h(e, t, n) { var r, o = e.getTimezoneOffset(); e.setTime(e.getTime() + t), n || (r = e.getTimezoneOffset() - o, e.setTime(e.getTime() + r * w)) } function g(t, n) { return t = new Date(ye.date.getDate(t).getTime() + ye.date.getMilliseconds(n)), e(t, n.getHours()), t } function y() { return l(new Date) } function v(e) { return l(e).getTime() == y().getTime() } function b(e) { var t = new Date(1980, 1, 1, 0, 0, 0); return e && t.setHours(e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()), t } var w = 6e4, M = 864e5; return { adjustDST: e, dayOfWeek: r, setDayOfWeek: t, getDate: l, isInDateRange: p, isInTimeRange: f, isToday: v, nextDay: function (e) { return m(e, 1) }, previousDay: function (e) { return m(e, -1) }, toUtcTime: c, MS_PER_DAY: M, MS_PER_HOUR: 60 * w, MS_PER_MINUTE: w, setTime: h, setHours: g, addDays: m, today: y, toInvariantTime: b, firstDayOfMonth: o, lastDayOfMonth: i, weekInYear: u, getMilliseconds: d } }(), ye.stripWhitespace = function (e) { var t, n, r; if (document.createNodeIterator) for (t = document.createNodeIterator(e, NodeFilter.SHOW_TEXT, function (t) { return t.parentNode == e ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT }, !1); t.nextNode();)t.referenceNode && !t.referenceNode.textContent.trim() && t.referenceNode.parentNode.removeChild(t.referenceNode); else for (n = 0; n < e.childNodes.length; n++)r = e.childNodes[n], 3 != r.nodeType || /\S/.test(r.nodeValue) || (e.removeChild(r), n--), 1 == r.nodeType && ye.stripWhitespace(r) }, he = t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.oRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) }, ye.animationFrame = function (e) { he.call(t, e) }, ge = [], ye.queueAnimation = function (e) { ge[ge.length] = e, 1 === ge.length && ye.runNextAnimation() }, ye.runNextAnimation = function () { ye.animationFrame(function () { ge[0] && (ge.shift()(), ge[0] && ye.runNextAnimation()) }) }, ye.parseQueryStringParams = function (e) { for (var t = e.split("?")[1] || "", n = {}, r = t.split(/&|=/), o = r.length, i = 0; i < o; i += 2)"" !== r[i] && (n[decodeURIComponent(r[i])] = decodeURIComponent(r[i + 1])); return n }, ye.elementUnderCursor = function (e) { if (n !== e.x.client) return document.elementFromPoint(e.x.client, e.y.client) }, ye.wheelDeltaY = function (e) { var t, r = e.originalEvent, o = r.wheelDeltaY; return r.wheelDelta ? (o === n || o) && (t = r.wheelDelta) : r.detail && r.axis === r.VERTICAL_AXIS && (t = 10 * -r.detail), t }, ye.throttle = function (e, t) { var r, o, i = 0; return !t || t <= 0 ? e : (o = function () { function o() { e.apply(a, u), i = +new Date } var a = this, s = +new Date - i, u = arguments; return i ? (r && clearTimeout(r), s > t ? o() : r = setTimeout(o, t - s), n) : o() }, o.cancel = function () { clearTimeout(r) }, o) }, ye.caret = function (t, r, o) { var i, a, s, u, l, c = r !== n; if (o === n && (o = r), t[0] && (t = t[0]), !c || !t.disabled) { try { t.selectionStart !== n ? c ? (t.focus(), a = ke.mobileOS, a.wp || a.android ? setTimeout(function () { t.setSelectionRange(r, o) }, 0) : t.setSelectionRange(r, o)) : r = [t.selectionStart, t.selectionEnd] : document.selection && (e(t).is(":visible") && t.focus(), i = t.createTextRange(), c ? (i.collapse(!0), i.moveStart("character", r), i.moveEnd("character", o - r), i.select()) : (s = i.duplicate(), i.moveToBookmark(document.selection.createRange().getBookmark()), s.setEndPoint("EndToStart", i), u = s.text.length, l = u + i.text.length, r = [u, l])) } catch (d) { r = [] } return r } }, ye.compileMobileDirective = function (e, n) { var r = t.angular; return e.attr("data-" + ye.ns + "role", e[0].tagName.toLowerCase().replace("kendo-mobile-", "").replace("-", "")), r.element(e).injector().invoke(["$compile", function (t) { t(e)(n), /^\$(digest|apply)$/.test(n.$$phase) || n.$digest() }]), ye.widgetInstance(e, ye.mobile.ui) }, ye.antiForgeryTokens = function () { var t = {}, r = e("meta[name=csrf-token],meta[name=_csrf]").attr("content"), o = e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content"); return e("input[name^='__RequestVerificationToken']").each(function () { t[this.name] = this.value }), o !== n && r !== n && (t[o] = r), t }, ye.cycleForm = function (e) { function t(e) { var t = ye.widgetInstance(e); t && t.focus ? t.focus() : e.focus() } var n = e.find("input, .k-widget").first(), r = e.find("button, .k-button").last(); r.on("keydown", function (e) { e.keyCode != ye.keys.TAB || e.shiftKey || (e.preventDefault(), t(n)) }), n.on("keydown", function (e) { e.keyCode == ye.keys.TAB && e.shiftKey && (e.preventDefault(), t(r)) }) }, ye.focusElement = function (n) { var r = [], o = n.parentsUntil("body").filter(function (e, t) { var n = ye.getComputedStyles(t, ["overflow"]); return "visible" !== n.overflow }).add(t); o.each(function (t, n) { r[t] = e(n).scrollTop() }); try { n[0].setActive() } catch (i) { n[0].focus() } o.each(function (t, n) { e(n).scrollTop(r[t]) }) }, function () { function n(t, n, r, o) { var i, a, s = e("<form>").attr({ action: r, method: "POST", target: o }), u = ye.antiForgeryTokens(); u.fileName = n, i = t.split(";base64,"), u.contentType = i[0].replace("data:", ""), u.base64 = i[1]; for (a in u) u.hasOwnProperty(a) && e("<input>").attr({ value: u[a], name: a, type: "hidden" }).appendTo(s); s.appendTo("body").submit().remove() } function r(e, t) { var n, r, o, i, a, s = e; if ("string" == typeof e) { for (n = e.split(";base64,"), r = n[0], o = atob(n[1]), i = new Uint8Array(o.length), a = 0; a < o.length; a++)i[a] = o.charCodeAt(a); s = new Blob([i.buffer], { type: r }) } navigator.msSaveBlob(s, t) } function o(e, n) { t.Blob && e instanceof Blob && (e = URL.createObjectURL(e)), i.download = n, i.href = e; var r = document.createEvent("MouseEvents"); r.initMouseEvent("click", !0, !1, t, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), i.dispatchEvent(r), setTimeout(function () { URL.revokeObjectURL(e) }) } var i = document.createElement("a"), a = "download" in i && !ye.support.browser.edge; ye.saveAs = function (e) { var t = n; e.forceProxy || (a ? t = o : navigator.msSaveBlob && (t = r)), t(e.dataURI, e.fileName, e.proxyURL, e.proxyTarget) } }(), ye.proxyModelSetters = function (e) { var t = {}; return Object.keys(e || {}).forEach(function (n) { Object.defineProperty(t, n, { get: function () { return e[n] }, set: function (t) { e[n] = t, e.dirty = !0 } }) }), t }
    }(jQuery, window), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (t, define) { define("kendo.data.odata.min", ["kendo.core.min"], t) }(function () { return function (t, e) { function n(a, o) { var r, s, d, i, p, c, u, l, f = [], y = a.logic || "and", g = a.filters; for (r = 0, s = g.length; r < s; r++)a = g[r], d = a.field, u = a.value, c = a.operator, a.filters ? a = n(a, o) : (l = a.ignoreCase, d = d.replace(/\./g, "/"), a = v[c], o && (a = b[c]), "isnull" === c || "isnotnull" === c ? a = h.format("{0} {1} null", d, a) : "isempty" === c || "isnotempty" === c ? a = h.format("{0} {1} ''", d, a) : a && u !== e && (i = t.type(u), "string" === i ? (p = "'{1}'", u = u.replace(/'/g, "''"), l === !0 && (d = "tolower(" + d + ")")) : "date" === i ? o ? (p = "{1:yyyy-MM-ddTHH:mm:ss+00:00}", u = h.timezone.apply(u, "Etc/UTC")) : p = "datetime'{1:yyyy-MM-ddTHH:mm:ss}'" : p = "{1}", a.length > 3 ? "substringof" !== a ? p = "{0}({2}," + p + ")" : (p = "{0}(" + p + ",{2})", "doesnotcontain" === c && (o ? (p = "{0}({2},'{1}') eq -1", a = "indexof") : p += " eq false")) : p = "{2} {0} " + p, a = h.format(p, a, u, d))), f.push(a); return a = f.join(" " + y + " "), f.length > 1 && (a = "(" + a + ")"), a } function a(t) { for (var e in t) 0 === e.indexOf("@odata") && delete t[e] } function o() { return Math.floor(65536 * (1 + Math.random())).toString(16).substr(1) } function r(t) { return t + o() + "-" + o() + "-" + o() } function s(t, e) { var n = m + "--" + t; return e && (n += "--"), n } function d(t, e, n, a) { var o = t.options[a].url, r = h.format("{0} ", n); return j(o) ? r + o(e) : r + o } function i(t, e) { var n = ""; return n += s(t, !1), n += m + "Content-Type: application/http", n += m + "Content-Transfer-Encoding: binary", n += m + "Content-ID: " + e } function p(t) { var e = ""; return e += m + "Content-Type: application/json;odata=minimalmetadata", e += m + "Prefer: return=representation", e += T + h.stringify(t) } function c(t, e, n, a, o, r) { var s, c = ""; for (s = 0; s < t.length; s++)c += i(e, n), c += T + d(o, t[s], o.options[a].type, a) + " HTTP/1.1", r || (c += p(t[s])), c += m, n++; return c } function u(t, e, n, a, o, r, d) { var i = ""; return i += l(e, n), i += c(t, n, a, r, o, d), i += s(n, !0), i += m } function l(t, e) { var n = ""; return n += "--" + t + m, n += "Content-Type: multipart/mixed; boundary=" + e + m } function f(t, e) { var n = {}, a = r("sf_batch_"), o = "", d = 0, i = t.options.batch.url, p = r("sf_changeset_"); return n.type = t.options.batch.type, n.url = j(i) ? i() : i, n.headers = { "Content-Type": "multipart/mixed; boundary=" + a }, e.updated.length && (o += u(e.updated, a, p, d, t, "update", !1), d += e.updated.length, p = r("sf_changeset_")), e.destroyed.length && (o += u(e.destroyed, a, p, d, t, "destroy", !0), d += e.destroyed.length, p = r("sf_changeset_")), e.created.length && (o += u(e.created, a, p, d, t, "create", !1)), o += s(a, !0), n.data = o, n } function y(t) { var e, n, a, o, r, s, d = t.match(/--changesetresponse_[a-z0-9-]+$/gm), i = 0, p = []; for (p.push({ models: [], passed: !0 }), s = 0; s < d.length; s++)o = d[s], o.lastIndexOf("--", o.length - 1) ? s < d.length - 1 && p.push({ models: [], passed: !0 }) : (i = i ? t.indexOf(o, i + o.length) : t.indexOf(o), e = t.substring(i, t.indexOf("--", i + 1)), n = e.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop(), a = h.parseFloat(n.match(/\d{3}/g).pop()), a >= 200 && a <= 299 ? (r = e.match(/\{.*\}/gm), r && p[p.length - 1].models.push(JSON.parse(r[0]))) : p[p.length - 1].passed = !1); return p } var h = window.kendo, g = t.extend, m = "\r\n", T = "\r\n\r\n", j = h.isFunction, v = { eq: "eq", neq: "ne", gt: "gt", gte: "ge", lt: "lt", lte: "le", contains: "substringof", doesnotcontain: "substringof", endswith: "endswith", startswith: "startswith", isnull: "eq", isnotnull: "ne", isempty: "eq", isnotempty: "ne" }, b = g({}, v, { contains: "contains" }), E = { pageSize: t.noop, page: t.noop, filter: function (t, e, a) { e && (e = n(e, a), e && (t.$filter = e)) }, sort: function (e, n) { var a = t.map(n, function (t) { var e = t.field.replace(/\./g, "/"); return "desc" === t.dir && (e += " desc"), e }).join(","); a && (e.$orderby = a) }, skip: function (t, e) { e && (t.$skip = e) }, take: function (t, e) { e && (t.$top = e) } }, w = { read: { dataType: "jsonp" } }; g(!0, h.data, { schemas: { odata: { type: "json", data: function (t) { return t.d.results || [t.d] }, total: "d.__count" } }, transports: { odata: { read: { cache: !0, dataType: "jsonp", jsonp: "$callback" }, update: { cache: !0, dataType: "json", contentType: "application/json", type: "PUT" }, create: { cache: !0, dataType: "json", contentType: "application/json", type: "POST" }, destroy: { cache: !0, dataType: "json", type: "DELETE" }, parameterMap: function (t, e, n) { var a, o, r, s; if (t = t || {}, e = e || "read", s = (this.options || w)[e], s = s ? s.dataType : "json", "read" === e) { a = { $inlinecount: "allpages" }, "json" != s && (a.$format = "json"); for (r in t) E[r] ? E[r](a, t[r], n) : a[r] = t[r] } else { if ("json" !== s) throw Error("Only json dataType can be used for " + e + " operation."); if ("destroy" !== e) { for (r in t) o = t[r], "number" == typeof o && (t[r] = o + ""); a = h.stringify(t) } } return a } } } }), g(!0, h.data, { schemas: { "odata-v4": { type: "json", data: function (e) { if (t.isArray(e)) { for (var n = 0; n < e.length; n++)a(e[n]); return e } return e = t.extend({}, e), a(e), e.value ? e.value : [e] }, total: function (t) { return t["@odata.count"] } } }, transports: { "odata-v4": { batch: { type: "POST" }, read: { cache: !0, dataType: "json" }, update: { cache: !0, dataType: "json", contentType: "application/json;IEEE754Compatible=true", type: "PUT" }, create: { cache: !0, dataType: "json", contentType: "application/json;IEEE754Compatible=true", type: "POST" }, destroy: { cache: !0, dataType: "json", type: "DELETE" }, parameterMap: function (t, e) { var n = h.data.transports.odata.parameterMap(t, e, !0); return "read" == e && (n.$count = !0, delete n.$inlinecount), n }, submit: function (e) { var n = this, a = f(n, e.data), o = e.data; (o.updated.length || o.destroyed.length || o.created.length) && t.ajax(g(!0, {}, { success: function (t) { var n, a = y(t), r = 0; o.updated.length && (n = a[r], n.passed && e.success(n.models.length ? n.models : [], "update"), r++), o.destroyed.length && (n = a[r], n.passed && e.success([], "destroy"), r++), o.created.length && (n = a[r], n.passed && e.success(n.models, "create")) }, error: function (t, n, a) { e.error(t, n, a) } }, a)) } } } }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.data.xml.min", ["kendo.core.min"], e) }(function () { return function (e, t) { var n = window.kendo, r = e.isArray, i = e.isPlainObject, o = e.map, a = e.each, f = e.extend, d = n.getter, l = n.Class, u = l.extend({ init: function (t) { var d, l, u, s, c = this, p = t.total, m = t.model, h = t.parse, x = t.errors, g = t.serialize, y = t.data; m && (i(m) && (d = t.modelBase || n.data.Model, m.fields && a(m.fields, function (t, n) { i(n) && n.field ? e.isFunction(n.field) || (n = f(n, { field: c.getter(n.field) })) : n = { field: c.getter(n) }, m.fields[t] = n }), l = m.id, l && (u = {}, u[c.xpathToMember(l, !0)] = { field: c.getter(l) }, m.fields = f(u, m.fields), m.id = c.xpathToMember(l)), m = d.define(m)), c.model = m), p && ("string" == typeof p ? (p = c.getter(p), c.total = function (e) { return parseInt(p(e), 10) }) : "function" == typeof p && (c.total = p)), x && ("string" == typeof x ? (x = c.getter(x), c.errors = function (e) { return x(e) || null }) : "function" == typeof x && (c.errors = x)), y && ("string" == typeof y ? (y = c.xpathToMember(y), c.data = function (e) { var t, n = c.evaluate(e, y); return n = r(n) ? n : [n], c.model && m.fields ? (t = new c.model, o(n, function (e) { if (e) { var n, r = {}; for (n in m.fields) r[n] = t._parse(n, m.fields[n].field(e)); return r } })) : n }) : "function" == typeof y && (c.data = y)), "function" == typeof h && (s = c.parse, c.parse = function (e) { var t = h.call(c, e); return s.call(c, t) }), "function" == typeof g && (c.serialize = g) }, total: function (e) { return this.data(e).length }, errors: function (e) { return e ? e.errors : null }, serialize: function (e) { return e }, parseDOM: function (e) { var n, i, o, a, f, d, l, u = {}, s = e.attributes, c = s.length; for (l = 0; l < c; l++)d = s[l], u["@" + d.nodeName] = d.nodeValue; for (i = e.firstChild; i; i = i.nextSibling)o = i.nodeType, 3 === o || 4 === o ? u["#text"] = i.nodeValue : 1 === o && (n = this.parseDOM(i), a = i.nodeName, f = u[a], r(f) ? f.push(n) : f = f !== t ? [f, n] : n, u[a] = f); return u }, evaluate: function (e, t) { for (var n, i, o, a, f, d = t.split("."); n = d.shift();)if (e = e[n], r(e)) { for (i = [], t = d.join("."), f = 0, o = e.length; f < o; f++)a = this.evaluate(e[f], t), a = r(a) ? a : [a], i.push.apply(i, a); return i } return e }, parse: function (t) { var n, r, i = {}; return n = t.documentElement || e.parseXML(t).documentElement, r = this.parseDOM(n), i[n.nodeName] = r, i }, xpathToMember: function (e, t) { return e ? (e = e.replace(/^\//, "").replace(/\//g, "."), e.indexOf("@") >= 0 ? e.replace(/\.?(@.*)/, t ? "$1" : '["$1"]') : e.indexOf("text()") >= 0 ? e.replace(/(\.?text\(\))/, t ? "#text" : '["#text"]') : e) : "" }, getter: function (e) { return d(this.xpathToMember(e), !0) } }); e.extend(!0, n.data, { XmlDataReader: u, readers: { xml: u } }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.data.min", ["kendo.core.min", "kendo.data.odata.min", "kendo.data.xml.min"], e) }(function () {
    return function (e, t) {
        function r(e, t, r, i) { return function (n) { var a, s = {}; for (a in n) s[a] = n[a]; s.field = i ? r + "." + n.field : r, t == Oe && e._notifyChange && e._notifyChange(s), e.trigger(t, s) } } function i(t, r) { if (t === r) return !0; var n, a = e.type(t), s = e.type(r); if (a !== s) return !1; if ("date" === a) return t.getTime() === r.getTime(); if ("object" !== a && "array" !== a) return !1; for (n in t) if (!i(t[n], r[n])) return !1; return !0 } function n(e, t) { var r, i; for (i in e) { if (r = e[i], ce(r) && r.field && r.field === t) return r; if (r === t) return r } return null } function a(e) { this.data = e || [] } function s(e, r) { if (e) { var i = typeof e === xe ? { field: e, dir: r } : e, n = pe(i) ? i : i !== t ? [i] : []; return _e(n, function (e) { return !!e.dir }) } } function o(e) { var t, r, i, n, a = e.filters; if (a) for (t = 0, r = a.length; t < r; t++)i = a[t], n = i.operator, n && typeof n === xe && (i.operator = Z[n.toLowerCase()] || n), o(i) } function u(e) { if (e && !ge(e)) return !pe(e) && e.filters || (e = { logic: "and", filters: pe(e) ? e : [e] }), o(e), e } function l(e, t) { return !e.logic && !t.logic && (e.field === t.field && e.value === t.value && e.operator === t.operator) } function h(e) { return e = e || {}, ge(e) ? { logic: "and", filters: [] } : u(e) } function d(e, t) { return t.logic || e.field > t.field ? 1 : e.field < t.field ? -1 : 0 } function f(e, t) { var r, i, n, a, s; if (e = h(e), t = h(t), e.logic !== t.logic) return !1; if (n = (e.filters || []).slice(), a = (t.filters || []).slice(), n.length !== a.length) return !1; for (n = n.sort(d), a = a.sort(d), s = 0; s < n.length; s++)if (r = n[s], i = a[s], r.logic && i.logic) { if (!f(r, i)) return !1 } else if (!l(r, i)) return !1; return !0 } function c(e) { return pe(e) ? e : [e] } function g(e, r) { var i = typeof e === xe ? { field: e, dir: r } : e, n = pe(i) ? i : i !== t ? [i] : []; return U(n, function (e) { return { field: e.field, dir: e.dir || "asc", aggregates: e.aggregates } }) } function p(e, t) { return e && e.getTime && t && t.getTime ? e.getTime() === t.getTime() : e === t } function _(e, t, r, i, n, a) { var s, o, u, l, h; for (t = t || [], l = t.length, s = 0; s < l; s++)o = t[s], u = o.aggregate, h = o.field, e[h] = e[h] || {}, a[h] = a[h] || {}, a[h][u] = a[h][u] || {}, e[h][u] = ee[u.toLowerCase()](e[h][u], r, Se.accessor(h), i, n, a[h][u]) } function v(e) { return "number" == typeof e && !isNaN(e) } function m(e) { return e && e.getTime } function y(e) { var t, r = e.length, i = Array(r); for (t = 0; t < r; t++)i[t] = e[t].toJSON(); return i } function S(e, t, r, i, n) { var a, s, o, u, l, h = {}; for (u = 0, l = e.length; u < l; u++) { a = e[u]; for (s in t) o = n[s], o && o !== s && (h[o] || (h[o] = Se.setter(o)), h[o](a, t[s](a)), delete a[s]) } } function b(e, t, r, i, n) { var a, s, o, u, l; for (u = 0, l = e.length; u < l; u++) { a = e[u]; for (s in t) a[s] = r._parse(s, t[s](a)), o = n[s], o && o !== s && delete a[o] } } function w(e, t, r, i, n) { var a, s, o, u; for (s = 0, u = e.length; s < u; s++)a = e[s], o = i[a.field], o && o != a.field && (a.field = o), a.value = r._parse(a.field, a.value), a.hasSubgroups ? w(a.items, t, r, i, n) : b(a.items, t, r, i, n) } function k(e, t, r, i, n, a) { return function (s) { return s = e(s), x(t, r, i, n, a)(s) } } function x(e, t, r, i, n) { return function (a) { return a && !ge(r) && ("[object Array]" === $e.call(a) || a instanceof Ye || (a = [a]), t(a, r, new e, i, n)), a || [] } } function q(e, t) { var r, i, n; if (t.items && t.items.length) for (n = 0; n < t.items.length; n++)r = e.items[n], i = t.items[n], r && i ? r.hasSubgroups ? q(r, i) : r.field && r.value == i.value ? r.items.push.apply(r.items, i.items) : e.items.push.apply(e.items, [i]) : i && e.items.push.apply(e.items, [i]) } function R(e, t, r, i) { for (var n, a, s, o = 0; t.length && i && (n = t[o], a = n.items, s = a.length, e && e.field === n.field && e.value === n.value ? (e.hasSubgroups && e.items.length ? R(e.items[e.items.length - 1], n.items, r, i) : (a = a.slice(r, r + i), e.items = e.items.concat(a)), t.splice(o--, 1)) : n.hasSubgroups && a.length ? (R(n, a, r, i), n.items.length || t.splice(o--, 1)) : (a = a.slice(r, r + i), n.items = a, n.items.length || t.splice(o--, 1)), 0 === a.length ? r -= s : (r = 0, i -= a.length), !(++o >= t.length));); o < t.length && t.splice(o, t.length - o) } function F(e) { var t, r, i, n, a, s = []; for (t = 0, r = e.length; t < r; t++)if (a = e.at(t), a.hasSubgroups) s = s.concat(F(a.items)); else for (i = a.items, n = 0; n < i.length; n++)s.push(i.at(n)); return s } function D(e, t) { var r, i, n; if (t) for (r = 0, i = e.length; r < i; r++)n = e.at(r), n.hasSubgroups ? D(n.items, t) : n.items = new J(n.items, t) } function z(e, t) { for (var r = 0, i = e.length; r < i; r++)if (e[r].hasSubgroups) { if (z(e[r].items, t)) return !0 } else if (t(e[r].items, e[r])) return !0 } function O(e, t, r, i) { for (var n = 0; n < e.length && e[n].data !== t && !C(e[n].data, r, i); n++); } function C(e, t, r) { for (var i = 0, n = e.length; i < n; i++) { if (e[i] && e[i].hasSubgroups) return C(e[i].items, t, r); if (e[i] === t || e[i] === r) return e[i] = r, !0 } } function P(e, r, i, n, a) { var s, o, u, l; for (s = 0, o = e.length; s < o; s++)if (u = e[s], u && !(u instanceof n)) if (u.hasSubgroups === t || a) { for (l = 0; l < r.length; l++)if (r[l] === u) { e[s] = r.at(l), O(i, r, u, e[s]); break } } else P(u.items, r, i, n, a) } function T(e, t) { var r, i, n = e.length; for (i = 0; i < n; i++)if (r = e[i], r.uid && r.uid == t.uid) return e.splice(i, 1), r } function A(e, t) { return t ? N(e, function (e) { return e.uid && e.uid == t.uid || e[t.idField] === t.id && t.id !== t._defaultId }) : -1 } function I(e, t) { return t ? N(e, function (e) { return e.uid == t.uid }) : -1 } function N(e, t) { var r, i; for (r = 0, i = e.length; r < i; r++)if (t(e[r])) return r; return -1 } function M(e, t) { var r, i; return e && !ge(e) ? (r = e[t], i = ce(r) ? r.from || r.field || t : e[t] || t, be(i) ? t : i) : t } function G(e, t) { var r, i, n, a = {}; for (n in e) "filters" !== n && (a[n] = e[n]); if (e.filters) for (a.filters = [], r = 0, i = e.filters.length; r < i; r++)a.filters[r] = G(e.filters[r], t); else a.field = M(t.fields, a.field); return a } function j(e, t) { var r, i, n, a, s, o = []; for (r = 0, i = e.length; r < i; r++) { n = {}, a = e[r]; for (s in a) n[s] = a[s]; n.field = M(t.fields, n.field), n.aggregates && pe(n.aggregates) && (n.aggregates = j(n.aggregates, t)), o.push(n) } return o } function B(t, r) { var i, n, a, s, o, u, l, h, d, f; for (t = e(t)[0], i = t.options, n = r[0], a = r[1], s = [], o = 0, u = i.length; o < u; o++)d = {}, h = i[o], l = h.parentNode, l === t && (l = null), h.disabled || l && l.disabled || (l && (d.optgroup = l.label), d[n.field] = h.text, f = h.attributes.value, f = f && f.specified ? h.value : h.text, d[a.field] = f, s.push(d)); return s } function E(t, r) { var i, n, a, s, o, u, l, h = e(t)[0].tBodies[0], d = h ? h.rows : [], f = r.length, c = []; for (i = 0, n = d.length; i < n; i++) { for (o = {}, l = !0, s = d[i].cells, a = 0; a < f; a++)u = s[a], "th" !== u.nodeName.toLowerCase() && (l = !1, o[r[a].field] = u.innerHTML); l || c.push(o) } return c } function L(e) { return function () { var t = this._data, r = ae.fn[e].apply(this, We.call(arguments)); return this._data != t && this._attachBubbleHandlers(), r } } function H(t, r) { function i(e, t) { return e.filter(t).add(e.find(t)) } var n, a, s, o, u, l, h, d, f = e(t).children(), c = [], g = r[0].field, p = r[1] && r[1].field, _ = r[2] && r[2].field, v = r[3] && r[3].field; for (n = 0, a = f.length; n < a; n++)s = { _loaded: !0 }, o = f.eq(n), l = o[0].firstChild, d = o.children(), t = d.filter("ul"), d = d.filter(":not(ul)"), u = o.attr("data-id"), u && (s.id = u), l && (s[g] = 3 == l.nodeType ? l.nodeValue : d.text()), p && (s[p] = i(d, "a").attr("href")), v && (s[v] = i(d, "img").attr("src")), _ && (h = i(d, ".k-sprite").prop("className"), s[_] = h && e.trim(h.replace("k-sprite", ""))), t.length && (s.items = H(t.eq(0), r)), "true" == o.attr("data-hasChildren") && (s.hasChildren = !0), c.push(s); return c } var U, J, V, W, Q, $, K, X, Y, Z, ee, te, re, ie, ne, ae, se, oe, ue, le, he, de = e.extend, fe = e.proxy, ce = e.isPlainObject, ge = e.isEmptyObject, pe = e.isArray, _e = e.grep, ve = e.ajax, me = e.each, ye = e.noop, Se = window.kendo, be = Se.isFunction, we = Se.Observable, ke = Se.Class, xe = "string", qe = "function", Re = "create", Fe = "read", De = "update", ze = "destroy", Oe = "change", Ce = "sync", Pe = "get", Te = "error", Ae = "requestStart", Ie = "progress", Ne = "requestEnd", Me = [Re, Fe, De, ze], Ge = function (e) { return e }, je = Se.getter, Be = Se.stringify, Ee = Math, Le = [].push, He = [].join, Ue = [].pop, Je = [].splice, Ve = [].shift, We = [].slice, Qe = [].unshift, $e = {}.toString, Ke = Se.support.stableSort, Xe = /^\/Date\((.*?)\)\/$/, Ye = we.extend({ init: function (e, t) { var r = this; r.type = t || V, we.fn.init.call(r), r.length = e.length, r.wrapAll(e, r) }, at: function (e) { return this[e] }, toJSON: function () { var e, t, r = this.length, i = Array(r); for (e = 0; e < r; e++)t = this[e], t instanceof V && (t = t.toJSON()), i[e] = t; return i }, parent: ye, wrapAll: function (e, t) { var r, i, n = this, a = function () { return n }; for (t = t || [], r = 0, i = e.length; r < i; r++)t[r] = n.wrap(e[r], a); return t }, wrap: function (e, t) { var r, i = this; return null !== e && "[object Object]" === $e.call(e) && (r = e instanceof i.type || e instanceof $, r || (e = e instanceof V ? e.toJSON() : e, e = new i.type(e)), e.parent = t, e.bind(Oe, function (e) { i.trigger(Oe, { field: e.field, node: e.node, index: e.index, items: e.items || [this], action: e.node ? e.action || "itemloaded" : "itemchange" }) })), e }, push: function () { var e, t = this.length, r = this.wrapAll(arguments); return e = Le.apply(this, r), this.trigger(Oe, { action: "add", index: t, items: r }), e }, slice: We, sort: [].sort, join: He, pop: function () { var e = this.length, t = Ue.apply(this); return e && this.trigger(Oe, { action: "remove", index: e - 1, items: [t] }), t }, splice: function (e, t, r) { var i, n, a, s = this.wrapAll(We.call(arguments, 2)); if (i = Je.apply(this, [e, t].concat(s)), i.length) for (this.trigger(Oe, { action: "remove", index: e, items: i }), n = 0, a = i.length; n < a; n++)i[n] && i[n].children && i[n].unbind(Oe); return r && this.trigger(Oe, { action: "add", index: e, items: s }), i }, shift: function () { var e = this.length, t = Ve.apply(this); return e && this.trigger(Oe, { action: "remove", index: 0, items: [t] }), t }, unshift: function () { var e, t = this.wrapAll(arguments); return e = Qe.apply(this, t), this.trigger(Oe, { action: "add", index: 0, items: t }), e }, indexOf: function (e) { var t, r, i = this; for (t = 0, r = i.length; t < r; t++)if (i[t] === e) return t; return -1 }, forEach: function (e, t) { for (var r = 0, i = this.length, n = t || window; r < i; r++)e.call(n, this[r], r, this) }, map: function (e, t) { for (var r = 0, i = [], n = this.length, a = t || window; r < n; r++)i[r] = e.call(a, this[r], r, this); return i }, reduce: function (e) { var t, r = 0, i = this.length; for (2 == arguments.length ? t = arguments[1] : r < i && (t = this[r++]); r < i; r++)t = e(t, this[r], r, this); return t }, reduceRight: function (e) { var t, r = this.length - 1; for (2 == arguments.length ? t = arguments[1] : r > 0 && (t = this[r--]); r >= 0; r--)t = e(t, this[r], r, this); return t }, filter: function (e, t) { for (var r, i = 0, n = [], a = this.length, s = t || window; i < a; i++)r = this[i], e.call(s, r, i, this) && (n[n.length] = r); return n }, find: function (e, t) { for (var r, i = 0, n = this.length, a = t || window; i < n; i++)if (r = this[i], e.call(a, r, i, this)) return r }, every: function (e, t) { for (var r, i = 0, n = this.length, a = t || window; i < n; i++)if (r = this[i], !e.call(a, r, i, this)) return !1; return !0 }, some: function (e, t) { for (var r, i = 0, n = this.length, a = t || window; i < n; i++)if (r = this[i], e.call(a, r, i, this)) return !0; return !1 }, remove: function (e) { var t = this.indexOf(e); t !== -1 && this.splice(t, 1) }, empty: function () { this.splice(0, this.length) } }); "undefined" != typeof Symbol && Symbol.iterator && !Ye.prototype[Symbol.iterator] && (Ye.prototype[Symbol.iterator] = [][Symbol.iterator]), J = Ye.extend({ init: function (e, t) { we.fn.init.call(this), this.type = t || V; for (var r = 0; r < e.length; r++)this[r] = e[r]; this.length = r, this._parent = fe(function () { return this }, this) }, at: function (e) { var t = this[e]; return t instanceof this.type ? t.parent = this._parent : t = this[e] = this.wrap(t, this._parent), t } }), V = we.extend({ init: function (e) { var t, r, i = this, n = function () { return i }; we.fn.init.call(this), this._handlers = {}; for (r in e) t = e[r], "object" == typeof t && t && !t.getTime && "_" != r.charAt(0) && (t = i.wrap(t, r, n)), i[r] = t; i.uid = Se.guid() }, shouldSerialize: function (e) { return this.hasOwnProperty(e) && "_handlers" !== e && "_events" !== e && typeof this[e] !== qe && "uid" !== e }, forEach: function (e) { for (var t in this) this.shouldSerialize(t) && e(this[t], t) }, toJSON: function () { var e, t, r = {}; for (t in this) this.shouldSerialize(t) && (e = this[t], (e instanceof V || e instanceof Ye) && (e = e.toJSON()), r[t] = e); return r }, get: function (e) { var t, r = this; return r.trigger(Pe, { field: e }), t = "this" === e ? r : Se.getter(e, !0)(r) }, _set: function (e, t) { var r, i, n, a = this, s = e.indexOf(".") >= 0; if (s) for (r = e.split("."), i = ""; r.length > 1;) { if (i += r.shift(), n = Se.getter(i, !0)(a), n instanceof V) return n.set(r.join("."), t), s; i += "." } return Se.setter(e)(a, t), s }, set: function (e, t) { var r = this, i = !1, n = e.indexOf(".") >= 0, a = Se.getter(e, !0)(r); return a !== t && (a instanceof we && this._handlers[e] && (this._handlers[e].get && a.unbind(Pe, this._handlers[e].get), a.unbind(Oe, this._handlers[e].change)), i = r.trigger("set", { field: e, value: t }), i || (n || (t = r.wrap(t, e, function () { return r })), (!r._set(e, t) || e.indexOf("(") >= 0 || e.indexOf("[") >= 0) && r.trigger(Oe, { field: e }))), i }, parent: ye, wrap: function (e, t, i) { var n, a, s, o, u = this, l = $e.call(e); return null == e || "[object Object]" !== l && "[object Array]" !== l || (s = e instanceof Ye, o = e instanceof ae, "[object Object]" !== l || o || s ? ("[object Array]" === l || s || o) && (s || o || (e = new Ye(e)), a = r(u, Oe, t, !1), e.bind(Oe, a), u._handlers[t] = { change: a }) : (e instanceof V || (e = new V(e)), n = r(u, Pe, t, !0), e.bind(Pe, n), a = r(u, Oe, t, !0), e.bind(Oe, a), u._handlers[t] = { get: n, change: a }), e.parent = i), e } }), W = { number: function (e) { return typeof e === xe && "null" === e.toLowerCase() ? null : Se.parseFloat(e) }, date: function (e) { return typeof e === xe && "null" === e.toLowerCase() ? null : Se.parseDate(e) }, "boolean": function (e) { return typeof e === xe ? "null" === e.toLowerCase() ? null : "true" === e.toLowerCase() : null != e ? !!e : e }, string: function (e) { return typeof e === xe && "null" === e.toLowerCase() ? null : null != e ? e + "" : e }, "default": function (e) { return e } }, Q = { string: "", number: 0, date: new Date, "boolean": !1, "default": "" }, $ = V.extend({ init: function (r) { var i, n, a = this; if ((!r || e.isEmptyObject(r)) && (r = e.extend({}, a.defaults, r), a._initializers)) for (i = 0; i < a._initializers.length; i++)n = a._initializers[i], r[n] = a.defaults[n](); V.fn.init.call(a, r), a.dirty = !1, a.dirtyFields = {}, a.idField && (a.id = a.get(a.idField), a.id === t && (a.id = a._defaultId)) }, shouldSerialize: function (e) { return V.fn.shouldSerialize.call(this, e) && "uid" !== e && !("id" !== this.idField && "id" === e) && "dirty" !== e && "dirtyFields" !== e && "_accessors" !== e }, _parse: function (e, t) { var r, i = this, a = e, s = i.fields || {}; return e = s[e], e || (e = n(s, a)), e && (r = e.parse, !r && e.type && (r = W[e.type.toLowerCase()])), r ? r(t) : t }, _notifyChange: function (e) { var t = e.action; "add" != t && "remove" != t || (this.dirty = !0, this.dirtyFields[e.field] = !0) }, editable: function (e) { return e = (this.fields || {})[e], !e || e.editable !== !1 }, set: function (e, t, r) { var n = this, a = n.dirty; n.editable(e) && (t = n._parse(e, t), i(t, n.get(e)) ? n.trigger("equalSet", { field: e, value: t }) : (n.dirty = !0, n.dirtyFields[e] = !0, V.fn.set.call(n, e, t, r) && !a && (n.dirty = a, n.dirty || (n.dirtyFields[e] = !1)))) }, accept: function (e) { var t, r, i = this, n = function () { return i }; for (t in e) r = e[t], "_" != t.charAt(0) && (r = i.wrap(e[t], t, n)), i._set(t, r); i.idField && (i.id = i.get(i.idField)), i.dirty = !1, i.dirtyFields = {} }, isNew: function () { return this.id === this._defaultId } }), $.define = function (e, r) { r === t && (r = e, e = $); var i, n, a, s, o, u, l, h, d = de({ defaults: {} }, r), f = {}, c = d.id, g = []; if (c && (d.idField = c), d.id && delete d.id, c && (d.defaults[c] = d._defaultId = ""), "[object Array]" === $e.call(d.fields)) { for (u = 0, l = d.fields.length; u < l; u++)a = d.fields[u], typeof a === xe ? f[a] = {} : a.field && (f[a.field] = a); d.fields = f } for (n in d.fields) a = d.fields[n], s = a.type || "default", o = null, h = n, n = typeof a.field === xe ? a.field : n, a.nullable || (o = d.defaults[h !== n ? h : n] = a.defaultValue !== t ? a.defaultValue : Q[s.toLowerCase()], "function" == typeof o && g.push(n)), r.id === n && (d._defaultId = o), d.defaults[h !== n ? h : n] = o, a.parse = a.parse || W[s]; return g.length > 0 && (d._initializers = g), i = e.extend(d), i.define = function (e) { return $.define(i, e) }, d.fields && (i.fields = d.fields, i.idField = d.idField), i }, K = { selector: function (e) { return be(e) ? e : je(e) }, compare: function (e) { var t = this.selector(e); return function (e, r) { return e = t(e), r = t(r), null == e && null == r ? 0 : null == e ? -1 : null == r ? 1 : e.localeCompare ? e.localeCompare(r) : e > r ? 1 : e < r ? -1 : 0 } }, create: function (e) { var t = e.compare || this.compare(e.field); return "desc" == e.dir ? function (e, r) { return t(r, e, !0) } : t }, combine: function (e) { return function (t, r) { var i, n, a = e[0](t, r); for (i = 1, n = e.length; i < n; i++)a = a || e[i](t, r); return a } } }, X = de({}, K, { asc: function (e) { var t = this.selector(e); return function (e, r) { var i = t(e), n = t(r); return i && i.getTime && n && n.getTime && (i = i.getTime(), n = n.getTime()), i === n ? e.__position - r.__position : null == i ? -1 : null == n ? 1 : i.localeCompare ? i.localeCompare(n) : i > n ? 1 : -1 } }, desc: function (e) { var t = this.selector(e); return function (e, r) { var i = t(e), n = t(r); return i && i.getTime && n && n.getTime && (i = i.getTime(), n = n.getTime()), i === n ? e.__position - r.__position : null == i ? 1 : null == n ? -1 : n.localeCompare ? n.localeCompare(i) : i < n ? 1 : -1 } }, create: function (e) { return this[e.dir](e.field) } }), U = function (e, t) { var r, i = e.length, n = Array(i); for (r = 0; r < i; r++)n[r] = t(e[r], r, e); return n }, Y = function () { function e(e) { return "string" == typeof e && (e = e.replace(/[\r\n]+/g, "")), JSON.stringify(e) } function t(t) { return function (r, i, n) { return i += "", n && (r = "(" + r + " || '').toLowerCase()", i = i.toLowerCase()), t(r, e(i), n) } } function r(t, r, i, n) { if (null != i) { if (typeof i === xe) { var a = Xe.exec(i); a ? i = new Date((+a[1])) : n ? (i = e(i.toLowerCase()), r = "((" + r + " || '')+'').toLowerCase()") : i = e(i) } i.getTime && (r = "(" + r + "&&" + r + ".getTime?" + r + ".getTime():" + r + ")", i = i.getTime()) } return r + " " + t + " " + i } function i(e) { var t, r, i, n; for (t = "/^", r = !1, i = 0; i < e.length; ++i) { if (n = e.charAt(i), r) t += "\\" + n; else { if ("~" == n) { r = !0; continue } t += "*" == n ? ".*" : "?" == n ? "." : ".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(n) >= 0 ? "\\" + n : n } r = !1 } return t + "$/" } return { quote: function (t) { return t && t.getTime ? "new Date(" + t.getTime() + ")" : e(t) }, eq: function (e, t, i) { return r("==", e, t, i) }, neq: function (e, t, i) { return r("!=", e, t, i) }, gt: function (e, t, i) { return r(">", e, t, i) }, gte: function (e, t, i) { return r(">=", e, t, i) }, lt: function (e, t, i) { return r("<", e, t, i) }, lte: function (e, t, i) { return r("<=", e, t, i) }, startswith: t(function (e, t) { return e + ".lastIndexOf(" + t + ", 0) == 0" }), doesnotstartwith: t(function (e, t) { return e + ".lastIndexOf(" + t + ", 0) == -1" }), endswith: t(function (e, t) { var r = t ? t.length - 2 : 0; return e + ".indexOf(" + t + ", " + e + ".length - " + r + ") >= 0" }), doesnotendwith: t(function (e, t) { var r = t ? t.length - 2 : 0; return e + ".indexOf(" + t + ", " + e + ".length - " + r + ") < 0" }), contains: t(function (e, t) { return e + ".indexOf(" + t + ") >= 0" }), doesnotcontain: t(function (e, t) { return e + ".indexOf(" + t + ") == -1" }), matches: t(function (e, t) { return t = t.substring(1, t.length - 1), i(t) + ".test(" + e + ")" }), doesnotmatch: t(function (e, t) { return t = t.substring(1, t.length - 1), "!" + i(t) + ".test(" + e + ")" }), isempty: function (e) { return e + " === ''" }, isnotempty: function (e) { return e + " !== ''" }, isnull: function (e) { return "(" + e + " == null)" }, isnotnull: function (e) { return "(" + e + " != null)" }, isnullorempty: function (e) { return "(" + e + " === null) || (" + e + " === '')" }, isnotnullorempty: function (e) { return "(" + e + " !== null) && (" + e + " !== '')" } } }(), a.filterExpr = function (e) { var r, i, n, s, o, u, l = [], h = { and: " && ", or: " || " }, d = [], f = [], c = e.filters; for (r = 0, i = c.length; r < i; r++)n = c[r], o = n.field, u = n.operator, n.filters ? (s = a.filterExpr(n), n = s.expression.replace(/__o\[(\d+)\]/g, function (e, t) { return t = +t, "__o[" + (f.length + t) + "]" }).replace(/__f\[(\d+)\]/g, function (e, t) { return t = +t, "__f[" + (d.length + t) + "]" }), f.push.apply(f, s.operators), d.push.apply(d, s.fields)) : (typeof o === qe ? (s = "__f[" + d.length + "](d)", d.push(o)) : s = Se.expr(o), typeof u === qe ? (n = "__o[" + f.length + "](" + s + ", " + Y.quote(n.value) + ")", f.push(u)) : n = Y[(u || "eq").toLowerCase()](s, n.value, n.ignoreCase === t || n.ignoreCase)), l.push(n); return { expression: "(" + l.join(h[e.logic]) + ")", fields: d, operators: f } }, Z = { "==": "eq", equals: "eq", isequalto: "eq", equalto: "eq", equal: "eq", "!=": "neq", ne: "neq", notequals: "neq", isnotequalto: "neq", notequalto: "neq", notequal: "neq", "<": "lt", islessthan: "lt", lessthan: "lt", less: "lt", "<=": "lte", le: "lte", islessthanorequalto: "lte", lessthanequal: "lte", ">": "gt", isgreaterthan: "gt", greaterthan: "gt", greater: "gt", ">=": "gte", isgreaterthanorequalto: "gte", greaterthanequal: "gte", ge: "gte", notsubstringof: "doesnotcontain", isnull: "isnull", isempty: "isempty", isnotempty: "isnotempty" }, a.normalizeFilter = u, a.compareFilters = f, a.prototype = { toArray: function () { return this.data }, range: function (e, t) { return new a(this.data.slice(e, e + t)) }, skip: function (e) { return new a(this.data.slice(e)) }, take: function (e) { return new a(this.data.slice(0, e)) }, select: function (e) { return new a(U(this.data, e)) }, order: function (e, t, r) { var i = { dir: t }; return e && (e.compare ? i.compare = e.compare : i.field = e), new a(r ? this.data.sort(K.create(i)) : this.data.slice(0).sort(K.create(i))) }, orderBy: function (e, t) { return this.order(e, "asc", t) }, orderByDescending: function (e, t) { return this.order(e, "desc", t) }, sort: function (e, t, r, i) { var n, a, o = s(e, t), u = []; if (r = r || K, o.length) { for (n = 0, a = o.length; n < a; n++)u.push(r.create(o[n])); return this.orderBy({ compare: r.combine(u) }, i) } return this }, filter: function (e) { var t, r, i, n, s, o, l, h, d = this.data, f = []; if (e = u(e), !e || 0 === e.filters.length) return this; for (n = a.filterExpr(e), o = n.fields, l = n.operators, s = h = Function("d, __f, __o", "return " + n.expression), (o.length || l.length) && (h = function (e) { return s(e, o, l) }), t = 0, i = d.length; t < i; t++)r = d[t], h(r) && f.push(r); return new a(f) }, group: function (e, t) { e = g(e || []), t = t || this.data; var r, i = this, n = new a(i.data); return e.length > 0 && (r = e[0], n = n.groupBy(r).select(function (i) { var n = new a(t).filter([{ field: i.field, operator: "eq", value: i.value, ignoreCase: !1 }]); return { field: i.field, value: i.value, items: e.length > 1 ? new a(i.items).group(e.slice(1), n.toArray()).toArray() : i.items, hasSubgroups: e.length > 1, aggregates: n.aggregate(r.aggregates) } })), n }, groupBy: function (e) { if (ge(e) || !this.data.length) return new a([]); var t, r, i, n, s = e.field, o = this._sortForGrouping(s, e.dir || "asc"), u = Se.accessor(s), l = u.get(o[0], s), h = { field: s, value: l, items: [] }, d = [h]; for (i = 0, n = o.length; i < n; i++)t = o[i], r = u.get(t, s), p(l, r) || (l = r, h = { field: s, value: l, items: [] }, d.push(h)), h.items.push(t); return new a(d) }, _sortForGrouping: function (e, t) { var r, i, n = this.data; if (!Ke) { for (r = 0, i = n.length; r < i; r++)n[r].__position = r; for (n = new a(n).sort(e, t, X).toArray(), r = 0, i = n.length; r < i; r++)delete n[r].__position; return n } return this.sort(e, t).toArray() }, aggregate: function (e) { var t, r, i = {}, n = {}; if (e && e.length) for (t = 0, r = this.data.length; t < r; t++)_(i, e, this.data[t], t, r, n); return i } }, ee = { sum: function (e, t, r) { var i = r.get(t); return v(e) ? v(i) && (e += i) : e = i, e }, count: function (e) { return (e || 0) + 1 }, average: function (e, r, i, n, a, s) { var o = i.get(r); return s.count === t && (s.count = 0), v(e) ? v(o) && (e += o) : e = o, v(o) && s.count++ , n == a - 1 && v(e) && (e /= s.count), e }, max: function (e, t, r) { var i = r.get(t); return v(e) || m(e) || (e = i), e < i && (v(i) || m(i)) && (e = i), e }, min: function (e, t, r) { var i = r.get(t); return v(e) || m(e) || (e = i), e > i && (v(i) || m(i)) && (e = i), e } }, a.process = function (e, r, i) { r = r || {}; var n, o = new a(e), u = r.group, l = g(u || []).concat(s(r.sort || [])), h = r.filterCallback, d = r.filter, f = r.skip, c = r.take; return l && i && (o = o.sort(l, t, t, i)), d && (o = o.filter(d), h && (o = h(o)), n = o.toArray().length), l && !i && (o = o.sort(l), u && (e = o.toArray())), f !== t && c !== t && (o = o.range(f, c)), u && (o = o.group(u, e)), { total: n, data: o.toArray() } }, te = ke.extend({ init: function (e) { this.data = e.data }, read: function (e) { e.success(this.data) }, update: function (e) { e.success(e.data) }, create: function (e) { e.success(e.data) }, destroy: function (e) { e.success(e.data) } }), re = ke.extend({ init: function (e) { var t, r = this; e = r.options = de({}, r.options, e), me(Me, function (t, r) { typeof e[r] === xe && (e[r] = { url: e[r] }) }), r.cache = e.cache ? ie.create(e.cache) : { find: ye, add: ye }, t = e.parameterMap, e.submit && (r.submit = e.submit), be(e.push) && (r.push = e.push), r.push || (r.push = Ge), r.parameterMap = be(t) ? t : function (e) { var r = {}; return me(e, function (e, i) { e in t && (e = t[e], ce(e) && (i = e.value(i), e = e.key)), r[e] = i }), r } }, options: { parameterMap: Ge }, create: function (e) { return ve(this.setup(e, Re)) }, read: function (r) { var i, n, a, s = this, o = s.cache; r = s.setup(r, Fe), i = r.success || ye, n = r.error || ye, a = o.find(r.data), a !== t ? i(a) : (r.success = function (e) { o.add(r.data, e), i(e) }, e.ajax(r)) }, update: function (e) { return ve(this.setup(e, De)) }, destroy: function (e) { return ve(this.setup(e, ze)) }, setup: function (e, t) { e = e || {}; var r, i = this, n = i.options[t], a = be(n.data) ? n.data(e.data) : n.data; return e = de(!0, {}, n, e), r = de(!0, {}, a, e.data), e.data = i.parameterMap(r, t), be(e.url) && (e.url = e.url(r)), e } }), ie = ke.extend({ init: function () { this._store = {} }, add: function (e, r) { e !== t && (this._store[Be(e)] = r) }, find: function (e) { return this._store[Be(e)] }, clear: function () { this._store = {} }, remove: function (e) { delete this._store[Be(e)] } }), ie.create = function (e) { var t = { inmemory: function () { return new ie } }; return ce(e) && be(e.find) ? e : e === !0 ? new ie : t[e]() }, ne = ke.extend({ init: function (e) { var t, r, i, n, a, s, o, u, l, h, d, f, c, g = this; e = e || {}; for (t in e) r = e[t], g[t] = typeof r === xe ? je(r) : r; n = e.modelBase || $, ce(g.model) && (g.model = i = n.define(g.model)), a = fe(g.data, g), g._dataAccessFunction = a, g.model && (s = fe(g.groups, g), o = fe(g.serialize, g), u = {}, l = {}, h = {}, d = {}, f = !1, i = g.model, i.fields && (me(i.fields, function (e, t) { var r; c = e, ce(t) && t.field ? c = t.field : typeof t === xe && (c = t), ce(t) && t.from && (r = t.from), f = f || r && r !== e || c !== e, l[e] = je(r || c), h[e] = je(e), u[r || c] = e, d[e] = r || c }), !e.serialize && f && (g.serialize = k(o, i, S, h, u, d))), g._dataAccessFunction = a, g._wrapDataAccessBase = x(i, b, l, u, d), g.data = k(a, i, b, l, u, d), g.groups = k(s, i, w, l, u, d)) }, errors: function (e) { return e ? e.errors : null }, parse: Ge, data: Ge, total: function (e) { return e.length }, groups: Ge, aggregates: function () { return {} }, serialize: function (e) { return e } }), ae = we.extend({
            init: function (e) { var r, i, n, a = this; e && (i = e.data), e = a.options = de({}, a.options, e), a._map = {}, a._prefetch = {}, a._data = [], a._pristineData = [], a._ranges = [], a._view = [], a._pristineTotal = 0, a._destroyed = [], a._pageSize = e.pageSize, a._page = e.page || (e.pageSize ? 1 : t), a._sort = s(e.sort), a._filter = u(e.filter), a._group = g(e.group), a._aggregate = e.aggregate, a._total = e.total, a._shouldDetachObservableParents = !0, we.fn.init.call(a), a.transport = se.create(e, i, a), be(a.transport.push) && a.transport.push({ pushCreate: fe(a._pushCreate, a), pushUpdate: fe(a._pushUpdate, a), pushDestroy: fe(a._pushDestroy, a) }), null != e.offlineStorage && ("string" == typeof e.offlineStorage ? (n = e.offlineStorage, a._storage = { getItem: function () { return JSON.parse(localStorage.getItem(n)) }, setItem: function (e) { localStorage.setItem(n, Be(a.reader.serialize(e))) } }) : a._storage = e.offlineStorage), a.reader = new Se.data.readers[e.schema.type || "json"](e.schema), r = a.reader.model || {}, a._detachObservableParents(), a._data = a._observe(a._data), a._online = !0, a.bind(["push", Te, Oe, Ae, Ce, Ne, Ie], e) }, options: { data: null, schema: { modelBase: $ }, offlineStorage: null, serverSorting: !1, serverPaging: !1, serverFiltering: !1, serverGrouping: !1, serverAggregates: !1, batch: !1, inPlaceSort: !1 }, clone: function () { return this }, online: function (r) { return r !== t ? this._online != r && (this._online = r, r) ? this.sync() : e.Deferred().resolve().promise() : this._online }, offlineData: function (e) { return null == this.options.offlineStorage ? null : e !== t ? this._storage.setItem(e) : this._storage.getItem() || [] }, _isServerGrouped: function () { var e = this.group() || []; return this.options.serverGrouping && e.length }, _pushCreate: function (e) { this._push(e, "pushCreate") }, _pushUpdate: function (e) { this._push(e, "pushUpdate") }, _pushDestroy: function (e) { this._push(e, "pushDestroy") }, _push: function (e, t) { var r = this._readData(e); r || (r = e), this[t](r) }, _flatData: function (e, t) { if (e) { if (this._isServerGrouped()) return F(e); if (!t) for (var r = 0; r < e.length; r++)e.at(r) } return e }, parent: ye, get: function (e) { var t, r, i = this._flatData(this._data, this.options.useRanges); for (t = 0, r = i.length; t < r; t++)if (i[t].id == e) return i[t] }, getByUid: function (e) { return this._getByUid(e, this._data) }, _getByUid: function (e, t) { var r, i, n = this._flatData(t, this.options.useRanges); if (n) for (r = 0, i = n.length; r < i; r++)if (n[r].uid == e) return n[r] }, indexOf: function (e) { return I(this._data, e) }, at: function (e) { return this._data.at(e) }, data: function (e) { var r, i = this; if (e === t) { if (i._data) for (r = 0; r < i._data.length; r++)i._data.at(r); return i._data } i._detachObservableParents(), i._data = this._observe(e), i._pristineData = e.slice(0), i._storeData(), i._ranges = [], i.trigger("reset"), i._addRange(i._data), i._total = i._data.length, i._pristineTotal = i._total, i._process(i._data) }, view: function (e) { return e === t ? this._view : (this._view = this._observeView(e), t) }, _observeView: function (e) { var t, r = this; return P(e, r._data, r._ranges, r.reader.model || V, r._isServerGrouped()), t = new J(e, r.reader.model), t.parent = function () { return r.parent() }, t }, flatView: function () { var e = this.group() || []; return e.length ? F(this._view) : this._view }, add: function (e) { return this.insert(this._data.length, e) }, _createNewModel: function (e) { return this.reader.model ? new this.reader.model(e) : e instanceof V ? e : new V(e) }, insert: function (e, t) { return t || (t = e, e = 0), t instanceof $ || (t = this._createNewModel(t)), this._isServerGrouped() ? this._data.splice(e, 0, this._wrapInEmptyGroup(t)) : this._data.splice(e, 0, t), this._insertModelInRange(e, t), t }, pushInsert: function (t, r) { var i, n, a, s, o, u, l = this, h = l._getCurrentRangeSpan(); r || (r = t, t = 0), pe(r) || (r = [r]), i = [], n = this.options.autoSync, this.options.autoSync = !1; try { for (a = 0; a < r.length; a++)s = r[a], o = this.insert(t, s), i.push(o), u = o.toJSON(), this._isServerGrouped() && (u = this._wrapInEmptyGroup(u)), this._pristineData.push(u), h && h.length && e(h).last()[0].pristineData.push(u), t++ } finally { this.options.autoSync = n } i.length && this.trigger("push", { type: "create", items: i }) }, pushCreate: function (e) { this.pushInsert(this._data.length, e) }, pushUpdate: function (e) { var t, r, i, n, a; for (pe(e) || (e = [e]), t = [], r = 0; r < e.length; r++)i = e[r], n = this._createNewModel(i), a = this.get(n.id), a ? (t.push(a), a.accept(i), a.trigger(Oe), this._updatePristineForModel(a, i)) : this.pushCreate(i); t.length && this.trigger("push", { type: "update", items: t }) }, pushDestroy: function (e) { var t = this._removeItems(e); t.length && this.trigger("push", { type: "destroy", items: t }) }, _removeItems: function (e) { var t, r, i, n, a, s; pe(e) || (e = [e]), t = [], r = this.options.autoSync, this.options.autoSync = !1; try { for (i = 0; i < e.length; i++)n = e[i], a = this._createNewModel(n), s = !1, this._eachItem(this._data, function (e) { var r, i; for (r = 0; r < e.length; r++)if (i = e.at(r), i.id === a.id) { t.push(i), e.splice(r, 1), s = !0; break } }), s && (this._removePristineForModel(a), this._destroyed.pop()) } finally { this.options.autoSync = r } return t }, remove: function (e) { var t, r = this, i = r._isServerGrouped(); return this._eachItem(r._data, function (n) { if (t = T(n, e), t && i) return t.isNew && t.isNew() || r._destroyed.push(t), !0 }), this._removeModelFromRanges(e), e }, destroyed: function () { return this._destroyed }, created: function () { var e, t, r = [], i = this._flatData(this._data, this.options.useRanges); for (e = 0, t = i.length; e < t; e++)i[e].isNew && i[e].isNew() && r.push(i[e]); return r }, updated: function () { var e, t, r = [], i = this._flatData(this._data, this.options.useRanges); for (e = 0, t = i.length; e < t; e++)i[e].isNew && !i[e].isNew() && i[e].dirty && r.push(i[e]); return r }, sync: function () { var t, r = this, i = [], n = [], a = r._destroyed, s = e.Deferred().resolve().promise(); if (r.online()) { if (!r.reader.model) return s; i = r.created(), n = r.updated(), t = [], r.options.batch && r.transport.submit ? t = r._sendSubmit(i, n, a) : (t.push.apply(t, r._send("create", i)), t.push.apply(t, r._send("update", n)), t.push.apply(t, r._send("destroy", a))), s = e.when.apply(null, t).then(function () { var e, t; for (e = 0, t = arguments.length; e < t; e++)arguments[e] && r._accept(arguments[e]); r._storeData(!0), r._change({ action: "sync" }), r.trigger(Ce) }) } else r._storeData(!0), r._change({ action: "sync" }); return s }, cancelChanges: function (e) { var t = this; e instanceof Se.data.Model ? t._cancelModel(e) : (t._destroyed = [], t._detachObservableParents(), t._data = t._observe(t._pristineData), t.options.serverPaging && (t._total = t._pristineTotal), t._ranges = [], t._addRange(t._data, 0), t._change(), t._markOfflineUpdatesAsDirty()) }, _markOfflineUpdatesAsDirty: function () { var e = this; null != e.options.offlineStorage && e._eachItem(e._data, function (e) { var t, r; for (t = 0; t < e.length; t++)r = e.at(t), "update" != r.__state__ && "create" != r.__state__ || (r.dirty = !0) }) }, hasChanges: function () { var e, t, r = this._flatData(this._data, this.options.useRanges); if (this._destroyed.length) return !0; for (e = 0, t = r.length; e < t; e++)if (r[e].isNew && r[e].isNew() || r[e].dirty) return !0; return !1 }, _accept: function (t) { var r, i = this, n = t.models, a = t.response, s = 0, o = i._isServerGrouped(), u = i._pristineData, l = t.type; if (i.trigger(Ne, { response: a, type: l }), a && !ge(a)) { if (a = i.reader.parse(a), i._handleCustomErrors(a)) return; a = i.reader.data(a), pe(a) || (a = [a]) } else a = e.map(n, function (e) { return e.toJSON() }); for ("destroy" === l && (i._destroyed = []), s = 0, r = n.length; s < r; s++)"destroy" !== l ? (n[s].accept(a[s]), "create" === l ? u.push(o ? i._wrapInEmptyGroup(n[s]) : a[s]) : "update" === l && i._updatePristineForModel(n[s], a[s])) : i._removePristineForModel(n[s]) }, _updatePristineForModel: function (e, t) { this._executeOnPristineForModel(e, function (e, r) { Se.deepExtend(r[e], t) }) }, _executeOnPristineForModel: function (e, t) { this._eachPristineItem(function (r) { var i = A(r, e); if (i > -1) return t(i, r), !0 }) }, _removePristineForModel: function (e) { this._executeOnPristineForModel(e, function (e, t) { t.splice(e, 1) }) }, _readData: function (e) { var t = this._isServerGrouped() ? this.reader.groups : this.reader.data; return t.call(this.reader, e) }, _eachPristineItem: function (e) { var t = this, r = t.options, i = t._getCurrentRangeSpan(); t._eachItem(t._pristineData, e), r.serverPaging && r.useRanges && me(i, function (r, i) { t._eachItem(i.pristineData, e) }) }, _eachItem: function (e, t) {
            e && e.length && (this._isServerGrouped() ? z(e, t) : t(e));
            }, _pristineForModel: function (e) { var t, r, i = function (i) { if (r = A(i, e), r > -1) return t = i[r], !0 }; return this._eachPristineItem(i), t }, _cancelModel: function (e) { var t = this, r = this._pristineForModel(e); this._eachItem(this._data, function (i) { var n = I(i, e); n >= 0 && (!r || e.isNew() && !r.__state__ ? (i.splice(n, 1), t._removeModelFromRanges(e)) : (i[n].accept(r), "update" == r.__state__ && (i[n].dirty = !0))) }) }, _submit: function (t, r) { var i = this; i.trigger(Ae, { type: "submit" }), i.trigger(Ie), i.transport.submit(de({ success: function (r, i) { var n = e.grep(t, function (e) { return e.type == i })[0]; n && n.resolve({ response: r, models: n.models, type: i }) }, error: function (e, r, n) { for (var a = 0; a < t.length; a++)t[a].reject(e); i.error(e, r, n) } }, r)) }, _sendSubmit: function (t, r, i) { var n = this, a = []; return n.options.batch && (t.length && a.push(e.Deferred(function (e) { e.type = "create", e.models = t })), r.length && a.push(e.Deferred(function (e) { e.type = "update", e.models = r })), i.length && a.push(e.Deferred(function (e) { e.type = "destroy", e.models = i })), n._submit(a, { data: { created: n.reader.serialize(y(t)), updated: n.reader.serialize(y(r)), destroyed: n.reader.serialize(y(i)) } })), a }, _promise: function (t, r, i) { var n = this; return e.Deferred(function (e) { n.trigger(Ae, { type: i }), n.trigger(Ie), n.transport[i].call(n.transport, de({ success: function (t) { e.resolve({ response: t, models: r, type: i }) }, error: function (t, r, i) { e.reject(t), n.error(t, r, i) } }, t)) }).promise() }, _send: function (e, t) { var r, i, n = this, a = [], s = n.reader.serialize(y(t)); if (n.options.batch) t.length && a.push(n._promise({ data: { models: s } }, t, e)); else for (r = 0, i = t.length; r < i; r++)a.push(n._promise({ data: s[r] }, [t[r]], e)); return a }, read: function (t) { var r = this, i = r._params(t), n = e.Deferred(); return r._queueRequest(i, function () { var e = r.trigger(Ae, { type: "read" }); e ? (r._dequeueRequest(), n.resolve(e)) : (r.trigger(Ie), r._ranges = [], r.trigger("reset"), r.online() ? r.transport.read({ data: i, success: function (e) { r._ranges = [], r.success(e, i), n.resolve() }, error: function () { var e = We.call(arguments); r.error.apply(r, e), n.reject.apply(n, e) } }) : null != r.options.offlineStorage && (r.success(r.offlineData(), i), n.resolve())) }), n.promise() }, _readAggregates: function (e) { return this.reader.aggregates(e) }, success: function (e) { var r, i, n, a, s, o, u, l, h, d = this, f = d.options; if (d.trigger(Ne, { response: e, type: "read" }), d.online()) { if (e = d.reader.parse(e), d._handleCustomErrors(e)) return d._dequeueRequest(), t; d._total = d.reader.total(e), d._pageSize > d._total && (d._pageSize = d._total, d.options.pageSize && d.options.pageSize > d._pageSize && (d._pageSize = d.options.pageSize)), d._aggregate && f.serverAggregates && (d._aggregateResult = d._readAggregates(e)), e = d._readData(e), d._destroyed = [] } else { for (e = d._readData(e), r = [], i = {}, n = d.reader.model, a = n ? n.idField : "id", s = 0; s < this._destroyed.length; s++)o = this._destroyed[s][a], i[o] = o; for (s = 0; s < e.length; s++)u = e[s], l = u.__state__, "destroy" == l ? i[u[a]] || this._destroyed.push(this._createNewModel(u)) : r.push(u); e = r, d._total = e.length } if (d._pristineTotal = d._total, d._pristineData = e.slice(0), d._detachObservableParents(), d.options.endless) { for (d._data.unbind(Oe, d._changeHandler), d._isServerGrouped() && d._data[d._data.length - 1].value === e[0].value && (q(d._data[d._data.length - 1], e[0]), e.shift()), e = d._observe(e), h = 0; h < e.length; h++)d._data.push(e[h]); d._data.bind(Oe, d._changeHandler) } else d._data = d._observe(e); d._markOfflineUpdatesAsDirty(), d._storeData(), d._addRange(d._data), d._process(d._data), d._dequeueRequest() }, _detachObservableParents: function () { if (this._data && this._shouldDetachObservableParents) for (var e = 0; e < this._data.length; e++)this._data[e].parent && (this._data[e].parent = ye) }, _storeData: function (e) { function t(e) { var r, i, n, a = []; for (r = 0; r < e.length; r++)i = e.at(r), n = i.toJSON(), s && i.items ? n.items = t(i.items) : (n.uid = i.uid, o && (i.isNew() ? n.__state__ = "create" : i.dirty && (n.__state__ = "update"))), a.push(n); return a } var r, i, n, a, s = this._isServerGrouped(), o = this.reader.model; if (null != this.options.offlineStorage) { for (r = t(this._data), i = [], n = 0; n < this._destroyed.length; n++)a = this._destroyed[n].toJSON(), a.__state__ = "destroy", i.push(a); this.offlineData(r.concat(i)), e && (this._pristineData = this.reader._wrapDataAccessBase(r)) } }, _addRange: function (e, r) { var i = this, n = t !== r ? r : i._skip || 0, a = n + i._flatData(e, !0).length; i._ranges.push({ start: n, end: a, data: e, pristineData: e.toJSON(), timestamp: i._timeStamp() }), i._sortRanges() }, _sortRanges: function () { this._ranges.sort(function (e, t) { return e.start - t.start }) }, error: function (e, t, r) { this._dequeueRequest(), this.trigger(Ne, {}), this.trigger(Te, { xhr: e, status: t, errorThrown: r }) }, _params: function (e) { var t = this, r = de({ take: t.take(), skip: t.skip(), page: t.page(), pageSize: t.pageSize(), sort: t._sort, filter: t._filter, group: t._group, aggregate: t._aggregate }, e); return t.options.serverPaging || (delete r.take, delete r.skip, delete r.page, delete r.pageSize), t.options.serverGrouping ? t.reader.model && r.group && (r.group = j(r.group, t.reader.model)) : delete r.group, t.options.serverFiltering ? t.reader.model && r.filter && (r.filter = G(r.filter, t.reader.model)) : delete r.filter, t.options.serverSorting ? t.reader.model && r.sort && (r.sort = j(r.sort, t.reader.model)) : delete r.sort, t.options.serverAggregates ? t.reader.model && r.aggregate && (r.aggregate = j(r.aggregate, t.reader.model)) : delete r.aggregate, r }, _queueRequest: function (e, r) { var i = this; i._requestInProgress ? i._pending = { callback: fe(r, i), options: e } : (i._requestInProgress = !0, i._pending = t, r()) }, _dequeueRequest: function () { var e = this; e._requestInProgress = !1, e._pending && e._queueRequest(e._pending.options, e._pending.callback) }, _handleCustomErrors: function (e) { if (this.reader.errors) { var t = this.reader.errors(e); if (t) return this.trigger(Te, { xhr: null, status: "customerror", errorThrown: "custom error", errors: t }), !0 } return !1 }, _shouldWrap: function (e) { var t = this.reader.model; return !(!t || !e.length) && !(e[0] instanceof t) }, _observe: function (e) { var t, r = this, i = r.reader.model; return r._shouldDetachObservableParents = !0, e instanceof Ye ? (r._shouldDetachObservableParents = !1, r._shouldWrap(e) && (e.type = r.reader.model, e.wrapAll(e, e))) : (t = r.pageSize() && !r.options.serverPaging ? J : Ye, e = new t(e, r.reader.model), e.parent = function () { return r.parent() }), r._isServerGrouped() && D(e, i), r._changeHandler && r._data && r._data instanceof Ye ? r._data.unbind(Oe, r._changeHandler) : r._changeHandler = fe(r._change, r), e.bind(Oe, r._changeHandler) }, _updateTotalForAction: function (e, t) { var r = this, i = parseInt(r._total, 10); v(r._total) || (i = parseInt(r._pristineTotal, 10)), "add" === e ? i += t.length : "remove" === e ? i -= t.length : "itemchange" === e || "sync" === e || r.options.serverPaging ? "sync" === e && (i = r._pristineTotal = parseInt(r._total, 10)) : i = r._pristineTotal, r._total = i }, _change: function (e) { var t, r, i, n = this, a = e ? e.action : ""; if ("remove" === a) for (t = 0, r = e.items.length; t < r; t++)e.items[t].isNew && e.items[t].isNew() || n._destroyed.push(e.items[t]); !n.options.autoSync || "add" !== a && "remove" !== a && "itemchange" !== a ? (n._updateTotalForAction(a, e ? e.items : []), n._process(n._data, e)) : (i = function (t) { "sync" === t.action && (n.unbind("change", i), n._updateTotalForAction(a, e.items)) }, n.first("change", i), n.sync()) }, _calculateAggregates: function (e, t) { t = t || {}; var r = new a(e), i = t.aggregate, n = t.filter; return n && (r = r.filter(n)), r.aggregate(i) }, _process: function (e, r) { var i, n = this, a = {}; n.options.serverPaging !== !0 && (a.skip = n._skip, a.take = n._take || n._pageSize, a.skip === t && n._page !== t && n._pageSize !== t && (a.skip = (n._page - 1) * n._pageSize)), n.options.serverSorting !== !0 && (a.sort = n._sort), n.options.serverFiltering !== !0 && (a.filter = n._filter), n.options.serverGrouping !== !0 && (a.group = n._group), n.options.serverAggregates !== !0 && (a.aggregate = n._aggregate, n._aggregateResult = n._calculateAggregates(e, a)), i = n._queryProcess(e, a), n.view(i.data), i.total === t || n.options.serverFiltering || (n._total = i.total), r = r || {}, r.items = r.items || n._view, n.trigger(Oe, r) }, _queryProcess: function (e, t) { return this.options.inPlaceSort ? a.process(e, t, this.options.inPlaceSort) : a.process(e, t) }, _mergeState: function (e) { var r = this; return e !== t && (r._pageSize = e.pageSize, r._page = e.page, r._sort = e.sort, r._filter = e.filter, r._group = e.group, r._aggregate = e.aggregate, r._skip = r._currentRangeStart = e.skip, r._take = e.take, r._skip === t && (r._skip = r._currentRangeStart = r.skip(), e.skip = r.skip()), r._take === t && r._pageSize !== t && (r._take = r._pageSize, e.take = r._take), e.sort && (r._sort = e.sort = s(e.sort)), e.filter && (r._filter = e.filter = u(e.filter)), e.group && (r._group = e.group = g(e.group)), e.aggregate && (r._aggregate = e.aggregate = c(e.aggregate))), e }, query: function (r) { var i, n, a, s = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates; return s || (this._data === t || 0 === this._data.length) && !this._destroyed.length ? (this.options.endless && (n = r.pageSize - this.pageSize(), n > 0 ? (n = this.pageSize(), r.page = r.pageSize / n, r.pageSize = n) : (r.page = 1, this.options.endless = !1)), this.read(this._mergeState(r))) : (a = this.trigger(Ae, { type: "read" }), a || (this.trigger(Ie), i = this._queryProcess(this._data, this._mergeState(r)), this.options.serverFiltering || (this._total = i.total !== t ? i.total : this._data.length), this._aggregateResult = this._calculateAggregates(this._data, r), this.view(i.data), this.trigger(Ne, { type: "read" }), this.trigger(Oe, { items: i.data })), e.Deferred().resolve(a).promise()) }, fetch: function (e) { var t = this, r = function (r) { r !== !0 && be(e) && e.call(t) }; return this._query().then(r) }, _query: function (e) { var t = this; return t.query(de({}, { page: t.page(), pageSize: t.pageSize(), sort: t.sort(), filter: t.filter(), group: t.group(), aggregate: t.aggregate() }, e)) }, next: function (e) { var t = this, r = t.page(), i = t.total(); if (e = e || {}, r && !(i && r + 1 > t.totalPages())) return t._skip = t._currentRangeStart = r * t.take(), r += 1, e.page = r, t._query(e), r }, prev: function (e) { var t = this, r = t.page(); if (e = e || {}, r && 1 !== r) return t._skip = t._currentRangeStart = t._skip - t.take(), r -= 1, e.page = r, t._query(e), r }, page: function (e) { var r, i = this; return e !== t ? (e = Ee.max(Ee.min(Ee.max(e, 1), i.totalPages()), 1), i._query({ page: e }), t) : (r = i.skip(), r !== t ? Ee.round((r || 0) / (i.take() || 1)) + 1 : t) }, pageSize: function (e) { var r = this; return e !== t ? (r._query({ pageSize: e, page: 1 }), t) : r.take() }, sort: function (e) { var r = this; return e !== t ? (r._query({ sort: e }), t) : r._sort }, filter: function (e) { var r = this; return e === t ? r._filter : (r.trigger("reset"), r._query({ filter: e, page: 1 }), t) }, group: function (e) { var r = this; return e !== t ? (r._query({ group: e }), t) : r._group }, total: function () { return parseInt(this._total || 0, 10) }, aggregate: function (e) { var r = this; return e !== t ? (r._query({ aggregate: e }), t) : r._aggregate }, aggregates: function () { var e = this._aggregateResult; return ge(e) && (e = this._emptyAggregates(this.aggregate())), e }, _emptyAggregates: function (e) { var t, r, i = {}; if (!ge(e)) for (t = {}, pe(e) || (e = [e]), r = 0; r < e.length; r++)t[e[r].aggregate] = 0, i[e[r].field] = t; return i }, _wrapInEmptyGroup: function (e) { var t, r, i, n, a = this.group(); for (i = a.length - 1, n = 0; i >= n; i--)r = a[i], t = { value: e.get(r.field), field: r.field, items: t ? [t] : [e], hasSubgroups: !!t, aggregates: this._emptyAggregates(r.aggregates) }; return t }, totalPages: function () { var e = this, t = e.pageSize() || e.total(); return Ee.ceil((e.total() || 0) / t) }, inRange: function (e, t) { var r = this, i = Ee.min(e + t, r.total()); return !r.options.serverPaging && r._data.length > 0 || r._findRange(e, i).length > 0 }, lastRange: function () { var e = this._ranges; return e[e.length - 1] || { start: 0, end: 0, data: [] } }, firstItemUid: function () { var e = this._ranges; return e.length && e[0].data.length && e[0].data[0].uid }, enableRequestsInProgress: function () { this._skipRequestsInProgress = !1 }, _timeStamp: function () { return (new Date).getTime() }, range: function (e, r, i) { this._currentRequestTimeStamp = this._timeStamp(), this._skipRequestsInProgress = !0, e = Ee.min(e || 0, this.total()), i = be(i) ? i : ye; var n, a = this, s = Ee.max(Ee.floor(e / r), 0) * r, o = Ee.min(s + r, a.total()); return n = a._findRange(e, Ee.min(e + r, a.total())), n.length || 0 === a.total() ? (a._processRangeData(n, e, r, s, o), i(), t) : (r !== t && (a._rangeExists(s, o) ? s < e && a.prefetch(o, r, function () { a.range(e, r, i) }) : a.prefetch(s, r, function () { e > s && o < a.total() && !a._rangeExists(o, Ee.min(o + r, a.total())) ? a.prefetch(o, r, function () { a.range(e, r, i) }) : a.range(e, r, i) })), t) }, _findRange: function (e, r) { var i, n, a, o, u, l, h, d, f, c, p, _, v = this, m = v._ranges, y = [], S = v.options, b = S.serverSorting || S.serverPaging || S.serverFiltering || S.serverGrouping || S.serverAggregates; for (n = 0, p = m.length; n < p; n++)if (i = m[n], e >= i.start && e <= i.end) { for (c = 0, a = n; a < p; a++)if (i = m[a], f = v._flatData(i.data, !0), f.length && e + c >= i.start && (l = i.data, h = i.end, b || (S.inPlaceSort ? d = v._queryProcess(i.data, { filter: v.filter() }) : (_ = g(v.group() || []).concat(s(v.sort() || [])), d = v._queryProcess(i.data, { sort: _, filter: v.filter() })), f = l = d.data, d.total !== t && (h = d.total)), o = 0, e + c > i.start && (o = e + c - i.start), u = f.length, h > r && (u -= h - r), c += u - o, y = v._mergeGroups(y, l, o, u), r <= i.end && c == r - e)) return y; break } return [] }, _mergeGroups: function (e, t, r, i) { if (this._isServerGrouped()) { var n, a = t.toJSON(); return e.length && (n = e[e.length - 1]), R(n, a, r, i), e.concat(a) } return e.concat(t.slice(r, i)) }, _processRangeData: function (e, r, i, n, a) { var s, o, u, l, h = this; h._pending = t, h._skip = r > h.skip() ? Ee.min(a, (h.totalPages() - 1) * h.take()) : n, h._currentRangeStart = r, h._take = i, s = h.options.serverPaging, o = h.options.serverSorting, u = h.options.serverFiltering, l = h.options.serverAggregates; try { h.options.serverPaging = !0, h._isServerGrouped() || h.group() && h.group().length || (h.options.serverSorting = !0), h.options.serverFiltering = !0, h.options.serverPaging = !0, h.options.serverAggregates = !0, s && (h._detachObservableParents(), h._data = e = h._observe(e)), h._process(e) } finally { h.options.serverPaging = s, h.options.serverSorting = o, h.options.serverFiltering = u, h.options.serverAggregates = l } }, skip: function () { var e = this; return e._skip === t ? e._page !== t ? (e._page - 1) * (e.take() || 1) : t : e._skip }, currentRangeStart: function () { return this._currentRangeStart || 0 }, take: function () { return this._take || this._pageSize }, _prefetchSuccessHandler: function (e, t, r, i) { var n = this, a = n._timeStamp(); return function (s) { var o, u, l, h = !1, d = { start: e, end: t, data: [], timestamp: n._timeStamp() }; if (n._dequeueRequest(), n.trigger(Ne, { response: s, type: "read" }), s = n.reader.parse(s), l = n._readData(s), l.length) { for (o = 0, u = n._ranges.length; o < u; o++)if (n._ranges[o].start === e) { h = !0, d = n._ranges[o], d.pristineData = l, d.data = n._observe(l), d.end = d.start + n._flatData(d.data, !0).length, n._sortRanges(); break } h || n._addRange(n._observe(l), e) } n._total = n.reader.total(s), (i || a >= n._currentRequestTimeStamp || !n._skipRequestsInProgress) && (r && l.length ? r() : n.trigger(Oe, {})) } }, prefetch: function (e, t, r) { var i = this, n = Ee.min(e + t, i.total()), a = { take: t, skip: e, page: e / t + 1, pageSize: t, sort: i._sort, filter: i._filter, group: i._group, aggregate: i._aggregate }; i._rangeExists(e, n) ? r && r() : (clearTimeout(i._timeout), i._timeout = setTimeout(function () { i._queueRequest(a, function () { i.trigger(Ae, { type: "read" }) ? i._dequeueRequest() : i.transport.read({ data: i._params(a), success: i._prefetchSuccessHandler(e, n, r), error: function () { var e = We.call(arguments); i.error.apply(i, e) } }) }) }, 100)) }, _multiplePrefetch: function (e, t, r) { var i = this, n = Ee.min(e + t, i.total()), a = { take: t, skip: e, page: e / t + 1, pageSize: t, sort: i._sort, filter: i._filter, group: i._group, aggregate: i._aggregate }; i._rangeExists(e, n) ? r && r() : i.trigger(Ae, { type: "read" }) || i.transport.read({ data: i._params(a), success: i._prefetchSuccessHandler(e, n, r, !0) }) }, _rangeExists: function (e, t) { var r, i, n = this, a = n._ranges; for (r = 0, i = a.length; r < i; r++)if (a[r].start <= e && a[r].end >= t) return !0; return !1 }, _getCurrentRangeSpan: function () { var e, t, r = this, i = r._ranges, n = r.currentRangeStart(), a = n + (r.take() || 0), s = [], o = i.length; for (t = 0; t < o; t++)e = i[t], (e.start <= n && e.end >= n || e.start >= n && e.start <= a) && s.push(e); return s }, _removeModelFromRanges: function (e) { var t, r, i, n, a = this; for (i = 0, n = this._ranges.length; i < n && (r = this._ranges[i], this._eachItem(r.data, function (r) { t = T(r, e) }), !t); i++); a._updateRangesLength() }, _insertModelInRange: function (e, t) { var r, i, n = this, a = n._ranges || [], s = a.length; for (i = 0; i < s; i++)if (r = a[i], r.start <= e && r.end >= e) { n._getByUid(t.uid, r.data) || (n._isServerGrouped() ? r.data.splice(e, 0, n._wrapInEmptyGroup(t)) : r.data.splice(e, 0, t)); break } n._updateRangesLength() }, _updateRangesLength: function () { var e, t, r = this, i = r._ranges || [], n = i.length, a = !1, s = 0, o = 0; for (t = 0; t < n; t++)e = i[t], o = r._flatData(e.data, !0).length - Ee.abs(e.end - e.start), a || 0 === o ? a && (e.start += s, e.end += s) : (a = !0, s = o, e.end += s) }
        }), se = {}, se.create = function (t, r, i) { var n, a = t.transport ? e.extend({}, t.transport) : null; return a ? (a.read = typeof a.read === xe ? { url: a.read } : a.read, "jsdo" === t.type && (a.dataSource = i), t.type && (Se.data.transports = Se.data.transports || {}, Se.data.schemas = Se.data.schemas || {}, Se.data.transports[t.type] ? ce(Se.data.transports[t.type]) ? a = de(!0, {}, Se.data.transports[t.type], a) : n = new Se.data.transports[t.type](de(a, { data: r })) : Se.logToConsole("Unknown DataSource transport type '" + t.type + "'.\nVerify that registration scripts for this type are included after Kendo UI on the page.", "warn"), t.schema = de(!0, {}, Se.data.schemas[t.type], t.schema)), n || (n = be(a.read) ? a : new re(a))) : n = new te({ data: t.data || [] }), n }, ae.create = function (e) { (pe(e) || e instanceof Ye) && (e = { data: e }); var r, i, n, a = e || {}, s = a.data, o = a.fields, u = a.table, l = a.select, h = {}; if (s || !o || a.transport || (u ? s = E(u, o) : l && (s = B(l, o), a.group === t && s[0] && s[0].optgroup !== t && (a.group = "optgroup"))), Se.data.Model && o && (!a.schema || !a.schema.model)) { for (r = 0, i = o.length; r < i; r++)n = o[r], n.type && (h[n.field] = n); ge(h) || (a.schema = de(!0, a.schema, { model: { fields: h } })) } return a.data = s, l = null, a.select = null, u = null, a.table = null, a instanceof ae ? a : new ae(a) }, oe = $.define({ idField: "id", init: function (e) { var t, r = this, i = r.hasChildren || e && e.hasChildren, n = "items", a = {}; Se.data.Model.fn.init.call(r, e), typeof r.children === xe && (n = r.children), a = { schema: { data: n, model: { hasChildren: i, id: r.idField, fields: r.fields } } }, typeof r.children !== xe && de(a, r.children), a.data = e, i || (i = a.schema.data), typeof i === xe && (i = Se.getter(i)), be(i) && (t = i.call(r, r), r.hasChildren = (!t || 0 !== t.length) && !!t), r._childrenOptions = a, r.hasChildren && r._initChildren(), r._loaded = !(!e || !e._loaded) }, _initChildren: function () { var e, t, r, i = this; i.children instanceof ue || (e = i.children = new ue(i._childrenOptions), t = e.transport, r = t.parameterMap, t.parameterMap = function (e, t) { return e[i.idField || "id"] = i.id, r && (e = r(e, t)), e }, e.parent = function () { return i }, e.bind(Oe, function (e) { e.node = e.node || i, i.trigger(Oe, e) }), e.bind(Te, function (e) { var t = i.parent(); t && (e.node = e.node || i, t.trigger(Te, e)) }), i._updateChildrenField()) }, append: function (e) { this._initChildren(), this.loaded(!0), this.children.add(e) }, hasChildren: !1, level: function () { for (var e = this.parentNode(), t = 0; e && e.parentNode;)t++ , e = e.parentNode ? e.parentNode() : null; return t }, _updateChildrenField: function () { var e = this._childrenOptions.schema.data; this[e || "items"] = this.children.data() }, _childrenLoaded: function () { this._loaded = !0, this._updateChildrenField() }, load: function () { var r, i, n = {}, a = "_query"; return this.hasChildren ? (this._initChildren(), r = this.children, n[this.idField || "id"] = this.id, this._loaded || (r._data = t, a = "read"), r.one(Oe, fe(this._childrenLoaded, this)), this._matchFilter && (n.filter = { field: "_matchFilter", operator: "eq", value: !0 }), i = r[a](n)) : this.loaded(!0), i || e.Deferred().resolve().promise() }, parentNode: function () { var e = this.parent(); return e.parent() }, loaded: function (e) { return e === t ? this._loaded : (this._loaded = e, t) }, shouldSerialize: function (e) { return $.fn.shouldSerialize.call(this, e) && "children" !== e && "_loaded" !== e && "hasChildren" !== e && "_childrenOptions" !== e } }), ue = ae.extend({ init: function (e) { var t = oe.define({ children: e }); e.filter && !e.serverFiltering && (this._hierarchicalFilter = e.filter, e.filter = null), ae.fn.init.call(this, de(!0, {}, { schema: { modelBase: t, model: t } }, e)), this._attachBubbleHandlers() }, _attachBubbleHandlers: function () { var e = this; e._data.bind(Te, function (t) { e.trigger(Te, t) }) }, read: function (e) { var t = ae.fn.read.call(this, e); return this._hierarchicalFilter && (this._data && this._data.length > 0 ? this.filter(this._hierarchicalFilter) : (this.options.filter = this._hierarchicalFilter, this._filter = u(this.options.filter), this._hierarchicalFilter = null)), t }, remove: function (e) { var t, r = e.parentNode(), i = this; return r && r._initChildren && (i = r.children), t = ae.fn.remove.call(i, e), r && !i.data().length && (r.hasChildren = !1), t }, success: L("success"), data: L("data"), insert: function (e, t) { var r = this.parent(); return r && r._initChildren && (r.hasChildren = !0, r._initChildren()), ae.fn.insert.call(this, e, t) }, filter: function (e) { return e === t ? this._filter : (!this.options.serverFiltering && this._markHierarchicalQuery(e) && (e = { logic: "or", filters: [e, { field: "_matchFilter", operator: "equals", value: !0 }] }), this.trigger("reset"), this._query({ filter: e, page: 1 }), t) }, _markHierarchicalQuery: function (e) { var t, r, i, n, s; return e = u(e), e && 0 !== e.filters.length ? (t = a.filterExpr(e), i = t.fields, n = t.operators, r = s = Function("d, __f, __o", "return " + t.expression), (i.length || n.length) && (s = function (e) { return r(e, i, n) }), this._updateHierarchicalFilter(s), !0) : (this._updateHierarchicalFilter(function () { return !0 }), !1) }, _updateHierarchicalFilter: function (e) { var t, r, i = this._data, n = !1; for (r = 0; r < i.length; r++)t = i[r], t.hasChildren ? (t._matchFilter = t.children._updateHierarchicalFilter(e), t._matchFilter || (t._matchFilter = e(t))) : t._matchFilter = e(t), t._matchFilter && (n = !0); return n }, _find: function (e, t) { var r, i, n, a, s = this._data; if (s) { if (n = ae.fn[e].call(this, t)) return n; for (s = this._flatData(this._data), r = 0, i = s.length; r < i; r++)if (a = s[r].children, a instanceof ue && (n = a[e](t))) return n } }, get: function (e) { return this._find("get", e) }, getByUid: function (e) { return this._find("getByUid", e) } }), ue.create = function (e) { e = e && e.push ? { data: e } : e; var t = e || {}, r = t.data, i = t.fields, n = t.list; return r && r._dataSource ? r._dataSource : (r || !i || t.transport || n && (r = H(n, i)), t.data = r, t instanceof ue ? t : new ue(t)) }, le = Se.Observable.extend({ init: function (e, t, r) { Se.Observable.fn.init.call(this), this._prefetching = !1, this.dataSource = e, this.prefetch = !r; var i = this; e.bind("change", function () { i._change() }), e.bind("reset", function () { i._reset() }), this._syncWithDataSource(), this.setViewSize(t) }, setViewSize: function (e) { this.viewSize = e, this._recalculate() }, at: function (e) { var r = this.pageSize, i = !0; return e >= this.total() ? (this.trigger("endreached", { index: e }), null) : this.useRanges ? this.useRanges ? ((e < this.dataOffset || e >= this.skip + r) && (i = this.range(Math.floor(e / r) * r)), e === this.prefetchThreshold && this._prefetch(), e === this.midPageThreshold ? this.range(this.nextMidRange, !0) : e === this.nextPageThreshold ? this.range(this.nextFullRange) : e === this.pullBackThreshold && this.range(this.offset === this.skip ? this.previousMidRange : this.previousFullRange), i ? this.dataSource.at(e - this.dataOffset) : (this.trigger("endreached", { index: e }), null)) : t : this.dataSource.view()[e] }, indexOf: function (e) { return this.dataSource.data().indexOf(e) + this.dataOffset }, total: function () { return parseInt(this.dataSource.total(), 10) }, next: function () { var e = this, t = e.pageSize, r = e.skip - e.viewSize + t, i = Ee.max(Ee.floor(r / t), 0) * t; this.offset = r, this.dataSource.prefetch(i, t, function () { e._goToRange(r, !0) }) }, range: function (e, t) { if (this.offset === e) return !0; var r = this, i = this.pageSize, n = Ee.max(Ee.floor(e / i), 0) * i, a = this.dataSource; return t && (n += i), a.inRange(e, i) ? (this.offset = e, this._recalculate(), this._goToRange(e), !0) : !this.prefetch || (a.prefetch(n, i, function () { r.offset = e, r._recalculate(), r._goToRange(e, !0) }), !1) }, syncDataSource: function () { var e = this.offset; this.offset = null, this.range(e) }, destroy: function () { this.unbind() }, _prefetch: function () { var e = this, t = this.pageSize, r = this.skip + t, i = this.dataSource; i.inRange(r, t) || this._prefetching || !this.prefetch || (this._prefetching = !0, this.trigger("prefetching", { skip: r, take: t }), i.prefetch(r, t, function () { e._prefetching = !1, e.trigger("prefetched", { skip: r, take: t }) })) }, _goToRange: function (e, t) { this.offset === e && (this.dataOffset = e, this._expanding = t, this.dataSource.range(e, this.pageSize), this.dataSource.enableRequestsInProgress()) }, _reset: function () { this._syncPending = !0 }, _change: function () { var e = this.dataSource; this.length = this.useRanges ? e.lastRange().end : e.view().length, this._syncPending && (this._syncWithDataSource(), this._recalculate(), this._syncPending = !1, this.trigger("reset", { offset: this.offset })), this.trigger("resize"), this._expanding && this.trigger("expand"), delete this._expanding }, _syncWithDataSource: function () { var e = this.dataSource; this._firstItemUid = e.firstItemUid(), this.dataOffset = this.offset = e.skip() || 0, this.pageSize = e.pageSize(), this.useRanges = e.options.serverPaging }, _recalculate: function () { var e = this.pageSize, t = this.offset, r = this.viewSize, i = Math.ceil(t / e) * e; this.skip = i, this.midPageThreshold = i + e - 1, this.nextPageThreshold = i + r - 1, this.prefetchThreshold = i + Math.floor(e / 3 * 2), this.pullBackThreshold = this.offset - 1, this.nextMidRange = i + e - r, this.nextFullRange = i, this.previousMidRange = t - r, this.previousFullRange = i - e } }), he = Se.Observable.extend({ init: function (e, t) { var r = this; Se.Observable.fn.init.call(r), this.dataSource = e, this.batchSize = t, this._total = 0, this.buffer = new le(e, 3 * t), this.buffer.bind({ endreached: function (e) { r.trigger("endreached", { index: e.index }) }, prefetching: function (e) { r.trigger("prefetching", { skip: e.skip, take: e.take }) }, prefetched: function (e) { r.trigger("prefetched", { skip: e.skip, take: e.take }) }, reset: function () { r._total = 0, r.trigger("reset") }, resize: function () { r._total = Math.ceil(this.length / r.batchSize), r.trigger("resize", { total: r.total(), offset: this.offset }) } }) }, syncDataSource: function () { this.buffer.syncDataSource() }, at: function (e) { var t, r, i = this.buffer, n = e * this.batchSize, a = this.batchSize, s = []; for (i.offset > n && i.at(i.offset - 1), r = 0; r < a && (t = i.at(n + r), null !== t); r++)s.push(t); return s }, total: function () { return this._total }, destroy: function () { this.buffer.destroy(), this.unbind() } }), de(!0, Se.data, { readers: { json: ne }, Query: a, DataSource: ae, HierarchicalDataSource: ue, Node: oe, ObservableObject: V, ObservableArray: Ye, LazyObservableArray: J, LocalTransport: te, RemoteTransport: re, Cache: ie, DataReader: ne, Model: $, Buffer: le, BatchBuffer: he })
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, r) { (r || t)() });; !function (e, define) { define("kendo.userevents.min", ["kendo.core.min"], e) }(function () { return function (e, t) { function n(e, t) { var n = e.x.location, i = e.y.location, o = t.x.location, r = t.y.location, s = n - o, a = i - r; return { center: { x: (n + o) / 2, y: (i + r) / 2 }, distance: Math.sqrt(s * s + a * a) } } function i(e) { var t, n, i, o = [], r = e.originalEvent, a = e.currentTarget, c = 0; if (e.api) o.push({ id: 2, event: e, target: e.target, currentTarget: e.target, location: e, type: "api" }); else if (e.type.match(/touch/)) for (n = r ? r.changedTouches : [], t = n.length; c < t; c++)i = n[c], o.push({ location: i, event: e, target: i.target, currentTarget: a, id: i.identifier, type: "touch" }); else o.push(s.pointers || s.msPointers ? { location: r, event: e, target: e.target, currentTarget: a, id: r.pointerId, type: "pointer" } : { id: 1, event: e, target: e.target, currentTarget: a, location: e, type: "mouse" }); return o } function o(e) { for (var t = r.eventMap.up.split(" "), n = 0, i = t.length; n < i; n++)e(t[n]) } var r = window.kendo, s = r.support, a = r.Class, c = r.Observable, u = e.now, h = e.extend, l = s.mobileOS, p = l && l.android, d = 800, f = s.browser.msie ? 5 : 0, v = "press", g = "hold", m = "select", _ = "start", T = "move", y = "end", x = "cancel", M = "tap", w = "release", E = "gesturestart", k = "gesturechange", D = "gestureend", A = "gesturetap", C = { api: 0, touch: 0, mouse: 9, pointer: 9 }, b = !s.touch || s.mouseAndTouchPresent, I = a.extend({ init: function (e, t) { var n = this; n.axis = e, n._updateLocationData(t), n.startLocation = n.location, n.velocity = n.delta = 0, n.timeStamp = u() }, move: function (e) { var t = this, n = e["page" + t.axis], i = u(), o = i - t.timeStamp || 1; !n && p || (t.delta = n - t.location, t._updateLocationData(e), t.initialDelta = n - t.startLocation, t.velocity = t.delta / o, t.timeStamp = i) }, _updateLocationData: function (e) { var t = this, n = t.axis; t.location = e["page" + n], t.client = e["client" + n], t.screen = e["screen" + n] } }), S = a.extend({ init: function (e, t, n) { h(this, { x: new I("X", n.location), y: new I("Y", n.location), type: n.type, useClickAsTap: e.useClickAsTap, threshold: e.threshold || C[n.type], userEvents: e, target: t, currentTarget: n.currentTarget, initialTouch: n.target, id: n.id, pressEvent: n, _moved: !1, _finished: !1 }) }, press: function () { this._holdTimeout = setTimeout(e.proxy(this, "_hold"), this.userEvents.minHold), this._trigger(v, this.pressEvent) }, _hold: function () { this._trigger(g, this.pressEvent) }, move: function (e) { var t = this; if (!t._finished) { if (t.x.move(e.location), t.y.move(e.location), !t._moved) { if (t._withinIgnoreThreshold()) return; if (P.current && P.current !== t.userEvents) return t.dispose(); t._start(e) } t._finished || t._trigger(T, e) } }, end: function (e) { this.endTime = u(), this._finished || (this._finished = !0, this._trigger(w, e), this._moved ? this._trigger(y, e) : this.useClickAsTap || this._trigger(M, e), clearTimeout(this._holdTimeout), this.dispose()) }, dispose: function () { var t = this.userEvents, n = t.touches; this._finished = !0, this.pressEvent = null, clearTimeout(this._holdTimeout), n.splice(e.inArray(this, n), 1) }, skip: function () { this.dispose() }, cancel: function () { this.dispose() }, isMoved: function () { return this._moved }, _start: function (e) { clearTimeout(this._holdTimeout), this.startTime = u(), this._moved = !0, this._trigger(_, e) }, _trigger: function (e, t) { var n = this, i = t.event, o = { touch: n, x: n.x, y: n.y, target: n.target, event: i }; n.userEvents.notify(e, o) && i.preventDefault() }, _withinIgnoreThreshold: function () { var e = this.x.initialDelta, t = this.y.initialDelta; return Math.sqrt(e * e + t * t) <= this.threshold } }), P = c.extend({ init: function (t, n) { var i, a, u, l, p = this, C = r.guid(); n = n || {}, i = p.filter = n.filter, p.threshold = n.threshold || f, p.minHold = n.minHold || d, p.touches = [], p._maxTouches = n.multiTouch ? 2 : 1, p.allowSelection = n.allowSelection, p.captureUpIfMoved = n.captureUpIfMoved, p.useClickAsTap = !n.fastTap && !s.delayedClick(), p.eventNS = C, t = e(t).handler(p), c.fn.init.call(p), h(p, { element: t, surface: e(n.global && b ? t[0].ownerDocument.documentElement : n.surface || t), stopPropagation: n.stopPropagation, pressed: !1 }), p.surface.handler(p).on(r.applyEventMap("move", C), "_move").on(r.applyEventMap("up cancel", C), "_end"), t.on(r.applyEventMap("down", C), i, "_start"), p.useClickAsTap && t.on(r.applyEventMap("click", C), i, "_click"), (s.pointers || s.msPointers) && (s.browser.version < 11 ? (a = "pinch-zoom double-tap-zoom", t.css("-ms-touch-action", n.touchAction && "none" != n.touchAction ? a + " " + n.touchAction : a)) : t.css("touch-action", n.touchAction || "none")), n.preventDragEvent && t.on(r.applyEventMap("dragstart", C), r.preventDefault), t.on(r.applyEventMap("mousedown", C), i, { root: t }, "_select"), p.captureUpIfMoved && s.eventCapture && (u = p.surface[0], l = e.proxy(p.preventIfMoving, p), o(function (e) { u.addEventListener(e, l, !0) })), p.bind([v, g, M, _, T, y, w, x, E, k, D, A, m], n) }, preventIfMoving: function (e) { this._isMoved() && e.preventDefault() }, destroy: function () { var e, t = this; t._destroyed || (t._destroyed = !0, t.captureUpIfMoved && s.eventCapture && (e = t.surface[0], o(function (n) { e.removeEventListener(n, t.preventIfMoving) })), t.element.kendoDestroy(t.eventNS), t.surface.kendoDestroy(t.eventNS), t.element.removeData("handler"), t.surface.removeData("handler"), t._disposeAll(), t.unbind(), delete t.surface, delete t.element, delete t.currentTarget) }, capture: function () { P.current = this }, cancel: function () { this._disposeAll(), this.trigger(x) }, notify: function (e, t) { var i = this, o = i.touches; if (this._isMultiTouch()) { switch (e) { case T: e = k; break; case y: e = D; break; case M: e = A }h(t, { touches: o }, n(o[0], o[1])) } return this.trigger(e, h(t, { type: e })) }, press: function (e, t, n) { this._apiCall("_start", e, t, n) }, move: function (e, t) { this._apiCall("_move", e, t) }, end: function (e, t) { this._apiCall("_end", e, t) }, _isMultiTouch: function () { return this.touches.length > 1 }, _maxTouchesReached: function () { return this.touches.length >= this._maxTouches }, _disposeAll: function () { for (var e = this.touches; e.length > 0;)e.pop().dispose() }, _isMoved: function () { return e.grep(this.touches, function (e) { return e.isMoved() }).length }, _select: function (e) { this.allowSelection && !this.trigger(m, { event: e }) || e.preventDefault() }, _start: function (t) { var n, o, r = this, s = 0, a = r.filter, c = i(t), u = c.length, h = t.which; if (!(h && h > 1 || r._maxTouchesReached())) for (P.current = null, r.currentTarget = t.currentTarget, r.stopPropagation && t.stopPropagation(); s < u && !r._maxTouchesReached(); s++)o = c[s], n = a ? e(o.currentTarget) : r.element, n.length && (o = new S(r, n, o), r.touches.push(o), o.press(), r._isMultiTouch() && r.notify("gesturestart", {})) }, _move: function (e) { this._eachTouch("move", e) }, _end: function (e) { this._eachTouch("end", e) }, _click: function (t) { var n = { touch: { initialTouch: t.target, target: e(t.currentTarget), endTime: u(), x: { location: t.pageX, client: t.clientX }, y: { location: t.pageY, client: t.clientY } }, x: t.pageX, y: t.pageY, target: e(t.currentTarget), event: t, type: "tap" }; this.trigger("tap", n) && t.preventDefault() }, _eachTouch: function (e, t) { var n, o, r, s, a = this, c = {}, u = i(t), h = a.touches; for (n = 0; n < h.length; n++)o = h[n], c[o.id] = o; for (n = 0; n < u.length; n++)r = u[n], s = c[r.id], s && s[e](r) }, _apiCall: function (t, n, i, o) { this[t]({ api: !0, pageX: n, pageY: i, clientX: n, clientY: i, target: e(o || this.element)[0], stopPropagation: e.noop, preventDefault: e.noop }) } }); P.defaultThreshold = function (e) { f = e }, P.minHold = function (e) { d = e }, r.getTouches = i, r.touchDelta = n, r.UserEvents = P }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (t, define) { define("kendo.draganddrop.min", ["kendo.core.min", "kendo.userevents.min"], t) }(function () { return function (t, e) { function n(e, n) { try { return t.contains(e, n) || e == n } catch (r) { return !1 } } function r(t, e) { return parseInt(t.css(e), 10) || 0 } function i(t, e) { return Math.min(Math.max(t, e.min), e.max) } function o(t, e) { var n = D(t), i = _._outerWidth, o = _._outerHeight, a = n.left + r(t, "borderLeftWidth") + r(t, "paddingLeft"), s = n.top + r(t, "borderTopWidth") + r(t, "paddingTop"), l = a + t.width() - i(e, !0), c = s + t.height() - o(e, !0); return { x: { min: a, max: l }, y: { min: s, max: c } } } function a(n, r, i) { for (var o, a, s = 0, l = r && r.length, c = i && i.length; n && n.parentNode;) { for (s = 0; s < l; s++)if (o = r[s], o.element[0] === n) return { target: o, targetElement: n }; for (s = 0; s < c; s++)if (a = i[s], t.contains(a.element[0], n) && x.matchesSelector.call(n, a.options.filter)) return { target: a, targetElement: n }; n = n.parentNode } return e } function s(t, e) { var n, r = e.options.group, i = t[r]; if (T.fn.destroy.call(e), i.length > 1) { for (n = 0; n < i.length; n++)if (i[n] == e) { i.splice(n, 1); break } } else i.length = 0, delete t[r] } function l(t) { var e, n, r, i = c()[0]; return t[0] === i ? (n = i.scrollTop, r = i.scrollLeft, { top: n, left: r, bottom: n + b.height(), right: r + b.width() }) : (e = t.offset(), e.bottom = e.top + t.height(), e.right = e.left + t.width(), e) } function c() { return t(_.support.browser.edge || _.support.browser.safari ? y.body : y.documentElement) } function u(e) { var n, r = c(); if (!e || e === y.body || e === y.documentElement) return r; for (n = t(e)[0]; n && !_.isScrollable(n) && n !== y.body;)n = n.parentNode; return n === y.body ? r : t(n) } function h(t, e, n) { var r = { x: 0, y: 0 }, i = 50; return t - n.left < i ? r.x = -(i - (t - n.left)) : n.right - t < i && (r.x = i - (n.right - t)), e - n.top < i ? r.y = -(i - (e - n.top)) : n.bottom - e < i && (r.y = i - (n.bottom - e)), r } var d, f, p, g, v, m, _ = window.kendo, x = _.support, y = window.document, b = t(window), E = _.Class, T = _.ui.Widget, S = _.Observable, w = _.UserEvents, M = t.proxy, C = t.extend, D = _.getOffset, O = {}, k = {}, I = {}, H = _.elementUnderCursor, W = "keyup", z = "change", P = "dragstart", U = "hold", L = "drag", A = "dragend", N = "dragcancel", V = "hintDestroyed", B = "dragenter", $ = "dragleave", F = "drop", j = S.extend({ init: function (e, n) { var r = this, i = e[0]; r.capture = !1, i.addEventListener ? (t.each(_.eventMap.down.split(" "), function () { i.addEventListener(this, M(r._press, r), !0) }), t.each(_.eventMap.up.split(" "), function () { i.addEventListener(this, M(r._release, r), !0) })) : (t.each(_.eventMap.down.split(" "), function () { i.attachEvent(this, M(r._press, r)) }), t.each(_.eventMap.up.split(" "), function () { i.attachEvent(this, M(r._release, r)) })), S.fn.init.call(r), r.bind(["press", "release"], n || {}) }, captureNext: function () { this.capture = !0 }, cancelCapture: function () { this.capture = !1 }, _press: function (t) { var e = this; e.trigger("press"), e.capture && t.preventDefault() }, _release: function (t) { var e = this; e.trigger("release"), e.capture && (t.preventDefault(), e.cancelCapture()) } }), G = S.extend({ init: function (e) { var n = this; S.fn.init.call(n), n.forcedEnabled = !1, t.extend(n, e), n.scale = 1, n.horizontal ? (n.measure = "offsetWidth", n.scrollSize = "scrollWidth", n.axis = "x") : (n.measure = "offsetHeight", n.scrollSize = "scrollHeight", n.axis = "y") }, makeVirtual: function () { t.extend(this, { virtual: !0, forcedEnabled: !0, _virtualMin: 0, _virtualMax: 0 }) }, virtualSize: function (t, e) { this._virtualMin === t && this._virtualMax === e || (this._virtualMin = t, this._virtualMax = e, this.update()) }, outOfBounds: function (t) { return t > this.max || t < this.min }, forceEnabled: function () { this.forcedEnabled = !0 }, getSize: function () { return this.container[0][this.measure] }, getTotal: function () { return this.element[0][this.scrollSize] }, rescale: function (t) { this.scale = t }, update: function (t) { var e = this, n = e.virtual ? e._virtualMax : e.getTotal(), r = n * e.scale, i = e.getSize(); (0 !== n || e.forcedEnabled) && (e.max = e.virtual ? -e._virtualMin : 0, e.size = i, e.total = r, e.min = Math.min(e.max, i - r), e.minScale = i / n, e.centerOffset = (r - i) / 2, e.enabled = e.forcedEnabled || r > i, t || e.trigger(z, e)) } }), Q = S.extend({ init: function (t) { var e = this; S.fn.init.call(e), e.x = new G(C({ horizontal: !0 }, t)), e.y = new G(C({ horizontal: !1 }, t)), e.container = t.container, e.forcedMinScale = t.minScale, e.maxScale = t.maxScale || 100, e.bind(z, t) }, rescale: function (t) { this.x.rescale(t), this.y.rescale(t), this.refresh() }, centerCoordinates: function () { return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) } }, refresh: function () { var t = this; t.x.update(), t.y.update(), t.enabled = t.x.enabled || t.y.enabled, t.minScale = t.forcedMinScale || Math.min(t.x.minScale, t.y.minScale), t.fitScale = Math.max(t.x.minScale, t.y.minScale), t.trigger(z) } }), q = S.extend({ init: function (t) { var e = this; C(e, t), S.fn.init.call(e) }, outOfBounds: function () { return this.dimension.outOfBounds(this.movable[this.axis]) }, dragMove: function (t) { var e = this, n = e.dimension, r = e.axis, i = e.movable, o = i[r] + t; n.enabled && ((o < n.min && t < 0 || o > n.max && t > 0) && (t *= e.resistance), i.translateAxis(r, t), e.trigger(z, e)) } }), J = E.extend({ init: function (e) { var n, r, i, o, a = this; C(a, { elastic: !0 }, e), i = a.elastic ? .5 : 0, o = a.movable, a.x = n = new q({ axis: "x", dimension: a.dimensions.x, resistance: i, movable: o }), a.y = r = new q({ axis: "y", dimension: a.dimensions.y, resistance: i, movable: o }), a.userEvents.bind(["press", "move", "end", "gesturestart", "gesturechange"], { gesturestart: function (t) { a.gesture = t, a.offset = a.dimensions.container.offset() }, press: function (e) { t(e.event.target).closest("a").is("[data-navigate-on-press=true]") && e.sender.cancel() }, gesturechange: function (t) { var e, i, s, l = a.gesture, c = l.center, u = t.center, h = t.distance / l.distance, d = a.dimensions.minScale, f = a.dimensions.maxScale; o.scale <= d && h < 1 && (h += .8 * (1 - h)), o.scale * h >= f && (h = f / o.scale), i = o.x + a.offset.left, s = o.y + a.offset.top, e = { x: (i - c.x) * h + u.x - i, y: (s - c.y) * h + u.y - s }, o.scaleWith(h), n.dragMove(e.x), r.dragMove(e.y), a.dimensions.rescale(o.scale), a.gesture = t, t.preventDefault() }, move: function (t) { t.event.target.tagName.match(/textarea|input/i) || (n.dimension.enabled || r.dimension.enabled ? (n.dragMove(t.x.delta), r.dragMove(t.y.delta), t.preventDefault()) : t.touch.skip()) }, end: function (t) { t.preventDefault() } }) } }), K = x.transitions.prefix + "Transform"; f = x.hasHW3D ? function (t, e, n) { return "translate3d(" + t + "px," + e + "px,0) scale(" + n + ")" } : function (t, e, n) { return "translate(" + t + "px," + e + "px) scale(" + n + ")" }, p = S.extend({ init: function (e) { var n = this; S.fn.init.call(n), n.element = t(e), n.element[0].style.webkitTransformOrigin = "left top", n.x = 0, n.y = 0, n.scale = 1, n._saveCoordinates(f(n.x, n.y, n.scale)) }, translateAxis: function (t, e) { this[t] += e, this.refresh() }, scaleTo: function (t) { this.scale = t, this.refresh() }, scaleWith: function (t) { this.scale *= t, this.refresh() }, translate: function (t) { this.x += t.x, this.y += t.y, this.refresh() }, moveAxis: function (t, e) { this[t] = e, this.refresh() }, moveTo: function (t) { C(this, t), this.refresh() }, refresh: function () { var t, e = this, n = e.x, r = e.y; e.round && (n = Math.round(n), r = Math.round(r)), t = f(n, r, e.scale), t != e.coordinates && (_.support.browser.msie && _.support.browser.version < 10 ? (e.element[0].style.position = "absolute", e.element[0].style.left = e.x + "px", e.element[0].style.top = e.y + "px") : e.element[0].style[K] = t, e._saveCoordinates(t), e.trigger(z)) }, _saveCoordinates: function (t) { this.coordinates = t } }), g = T.extend({ init: function (t, e) { var n, r = this; T.fn.init.call(r, t, e), n = r.options.group, n in k ? k[n].push(r) : k[n] = [r] }, events: [B, $, F], options: { name: "DropTarget", group: "default" }, destroy: function () { s(k, this) }, _trigger: function (t, e) { var n = this, r = O[n.options.group]; if (r) return n.trigger(t, C({}, e.event, { draggable: r, dropTarget: e.dropTarget })) }, _over: function (t) { this._trigger(B, t) }, _out: function (t) { this._trigger($, t) }, _drop: function (t) { var e = this, n = O[e.options.group]; n && (n.dropped = !e._trigger(F, t)) } }), g.destroyGroup = function (t) { var e, n = k[t] || I[t]; if (n) { for (e = 0; e < n.length; e++)T.fn.destroy.call(n[e]); n.length = 0, delete k[t], delete I[t] } }, g._cache = k, v = g.extend({ init: function (t, e) { var n, r = this; T.fn.init.call(r, t, e), n = r.options.group, n in I ? I[n].push(r) : I[n] = [r] }, destroy: function () { s(I, this) }, options: { name: "DropTargetArea", group: "default", filter: null } }), m = T.extend({ init: function (t, e) { var n = this; T.fn.init.call(n, t, e), n._activated = !1, n.userEvents = new w(n.element, { global: !0, allowSelection: !0, filter: n.options.filter, threshold: n.options.distance, start: M(n._start, n), hold: M(n._hold, n), move: M(n._drag, n), end: M(n._end, n), cancel: M(n._cancel, n), select: M(n._select, n) }), n._afterEndHandler = M(n._afterEnd, n), n._captureEscape = M(n._captureEscape, n) }, events: [U, P, L, A, N, V], options: { name: "Draggable", distance: _.support.touch ? 0 : 5, group: "default", cursorOffset: null, axis: null, container: null, filter: null, ignore: null, holdToDrag: !1, autoScroll: !1, dropped: !1 }, cancelHold: function () { this._activated = !1 }, _captureEscape: function (t) { var e = this; t.keyCode === _.keys.ESC && (e._trigger(N, { event: t }), e.userEvents.cancel()) }, _updateHint: function (e) { var n, r = this, o = r.options, a = r.boundaries, s = o.axis, l = r.options.cursorOffset; l ? n = { left: e.x.location + l.left, top: e.y.location + l.top } : (r.hintOffset.left += e.x.delta, r.hintOffset.top += e.y.delta, n = t.extend({}, r.hintOffset)), a && (n.top = i(n.top, a.y), n.left = i(n.left, a.x)), "x" === s ? delete n.top : "y" === s && delete n.left, r.hint.css(n) }, _shouldIgnoreTarget: function (e) { var n = this.options.ignore; return n && t(e).is(n) }, _select: function (t) { this._shouldIgnoreTarget(t.event.target) || t.preventDefault() }, _start: function (n) { var r, i = this, a = i.options, s = a.container ? t(a.container) : null, l = a.hint; return this._shouldIgnoreTarget(n.touch.initialTouch) || a.holdToDrag && !i._activated ? (i.userEvents.cancel(), e) : (i.currentTarget = n.target, i.currentTargetOffset = D(i.currentTarget), l && (i.hint && i.hint.stop(!0, !0).remove(), i.hint = _.isFunction(l) ? t(l.call(i, i.currentTarget)) : l, r = D(i.currentTarget), i.hintOffset = r, i.hint.css({ position: "absolute", zIndex: 2e4, left: r.left, top: r.top }).appendTo(y.body), i.angular("compile", function () { i.hint.removeAttr("ng-repeat"); for (var e = t(n.target); !e.data("$$kendoScope") && e.length;)e = e.parent(); return { elements: i.hint.get(), scopeFrom: e.data("$$kendoScope") } })), O[a.group] = i, i.dropped = !1, s && (i.boundaries = o(s, i.hint)), t(y).on(W, i._captureEscape), i._trigger(P, n) && (i.userEvents.cancel(), i._afterEnd()), i.userEvents.capture(), e) }, _hold: function (t) { this.currentTarget = t.target, this._trigger(U, t) ? this.userEvents.cancel() : this._activated = !0 }, _drag: function (e) { var n, r; e.preventDefault(), n = this._elementUnderCursor(e), this.options.autoScroll && this._cursorElement !== n && (this._scrollableParent = u(n), this._cursorElement = n), this._lastEvent = e, this._processMovement(e, n), this.options.autoScroll && this._scrollableParent[0] && (r = h(e.x.location, e.y.location, l(this._scrollableParent)), this._scrollCompenstation = t.extend({}, this.hintOffset), this._scrollVelocity = r, 0 === r.y && 0 === r.x ? (clearInterval(this._scrollInterval), this._scrollInterval = null) : this._scrollInterval || (this._scrollInterval = setInterval(t.proxy(this, "_autoScroll"), 50))), this.hint && this._updateHint(e) }, _processMovement: function (n, r) { this._withDropTarget(r, function (r, i) { if (!r) return d && (d._trigger($, C(n, { dropTarget: t(d.targetElement) })), d = null), e; if (d) { if (i === d.targetElement) return; d._trigger($, C(n, { dropTarget: t(d.targetElement) })) } r._trigger(B, C(n, { dropTarget: t(i) })), d = C(r, { targetElement: i }) }), this._trigger(L, C(n, { dropTarget: d, elementUnderCursor: r })) }, _autoScroll: function () { var t, e, n, r, i, o, a, s, l = this._scrollableParent[0], u = this._scrollVelocity, h = this._scrollCompenstation; l && (t = this._elementUnderCursor(this._lastEvent), this._processMovement(this._lastEvent, t), r = l === c()[0], r ? (e = y.body.scrollHeight > b.height(), n = y.body.scrollWidth > b.width()) : (e = l.offsetHeight <= l.scrollHeight, n = l.offsetWidth <= l.scrollWidth), i = l.scrollTop + u.y, o = e && i > 0 && i < l.scrollHeight, a = l.scrollLeft + u.x, s = n && a > 0 && a < l.scrollWidth, o && (l.scrollTop += u.y), s && (l.scrollLeft += u.x), this.hint && r && (s || o) && (o && (h.top += u.y), s && (h.left += u.x), this.hint.css(h))) }, _end: function (e) { this._withDropTarget(this._elementUnderCursor(e), function (n, r) { n && (n._drop(C({}, e, { dropTarget: t(r) })), d = null) }), this._cancel(this._trigger(A, e)) }, _cancel: function (t) { var e = this; e._scrollableParent = null, this._cursorElement = null, clearInterval(this._scrollInterval), e._activated = !1, e.hint && !e.dropped ? setTimeout(function () { e.hint.stop(!0, !0), t ? e._afterEndHandler() : e.hint.animate(e.currentTargetOffset, "fast", e._afterEndHandler) }, 0) : e._afterEnd() }, _trigger: function (t, e) { var n = this; return n.trigger(t, C({}, e.event, { x: e.x, y: e.y, currentTarget: n.currentTarget, initialTarget: e.touch ? e.touch.initialTouch : null, dropTarget: e.dropTarget, elementUnderCursor: e.elementUnderCursor })) }, _elementUnderCursor: function (t) { var e = H(t), r = this.hint; return r && n(r[0], e) && (r.hide(), e = H(t), e || (e = H(t)), r.show()), e }, _withDropTarget: function (t, e) { var n, r = this.options.group, i = k[r], o = I[r]; (i && i.length || o && o.length) && (n = a(t, i, o), n ? e(n.target, n.targetElement) : e()) }, destroy: function () { var t = this; T.fn.destroy.call(t), t._afterEnd(), t.userEvents.destroy(), this._scrollableParent = null, this._cursorElement = null, clearInterval(this._scrollInterval), t.currentTarget = null }, _afterEnd: function () { var e = this; e.hint && e.hint.remove(), delete O[e.options.group], e.trigger("destroy"), e.trigger(V), t(y).off(W, e._captureEscape) } }), _.ui.plugin(g), _.ui.plugin(v), _.ui.plugin(m), _.TapCapture = j, _.containerBoundaries = o, C(_.ui, { Pane: J, PaneDimensions: Q, Movable: p }), _.ui.Draggable.utils = { autoScrollVelocity: h, scrollableViewPort: l, findScrollableParent: u } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.color.min", ["kendo.core.min"], e) }(function () { function e(e, t, r) { void 0 === r && (r = "0"); for (var n = e.toString(16); t > n.length;)n = r + n; return n } function t(e, t, r) { var n = r; return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e } function r(e, t) { var n, a, s; if (null == e || "none" === e) return null; if (e instanceof o) return e; if (s = e.toLowerCase(), n = f(s)) return s = "transparent" === n[1] ? new l(1, 1, 1, 0) : r(i[n[1]], t), s.match = [n[1]], s; if ((n = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s)) ? a = new u(parseInt(n[1], 16), parseInt(n[2], 16), parseInt(n[3], 16), 1) : (n = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s)) ? a = new u(parseInt(n[1] + n[1], 16), parseInt(n[2] + n[2], 16), parseInt(n[3] + n[3], 16), 1) : (n = /^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s)) ? a = new u(parseInt(n[1], 10), parseInt(n[2], 10), parseInt(n[3], 10), 1) : (n = /^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s)) ? a = new u(parseInt(n[1], 10), parseInt(n[2], 10), parseInt(n[3], 10), parseFloat(n[4])) : (n = /^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s)) ? a = new l(parseFloat(n[1]) / 100, parseFloat(n[2]) / 100, parseFloat(n[3]) / 100, 1) : (n = /^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s)) && (a = new l(parseFloat(n[1]) / 100, parseFloat(n[2]) / 100, parseFloat(n[3]) / 100, parseFloat(n[4]))), a) a.match = n; else if (!t) throw Error("Cannot parse color: " + s); return a } var n, a, i, s, f, o, l, u, d, h, c; window.kendo = window.kendo || {}, n = kendo.Class, a = kendo.support, i = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgrey: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", grey: "808080", green: "008000", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "778899", lightslategrey: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }, s = a.browser, f = function (e) { var t, r = Object.keys(i); return r.push("transparent"), t = RegExp("^(" + r.join("|") + ")(\\W|$)", "i"), f = function (e) { return t.exec(e) }, t.exec(e) }, o = n.extend({ init: function () { }, toHSV: function () { return this }, toRGB: function () { return this }, toHex: function () { return this.toBytes().toHex() }, toBytes: function () { return this }, toCss: function () { return "#" + this.toHex() }, toCssRgba: function () { var e = this.toBytes(); return "rgba(" + e.r + ", " + e.g + ", " + e.b + ", " + parseFloat((+this.a).toFixed(3)) + ")" }, toDisplay: function () { return s.msie && s.version < 9 ? this.toCss() : this.toCssRgba() }, equals: function (e) { return e === this || null !== e && this.toCssRgba() === r(e).toCssRgba() }, diff: function (e) { var t, r; return null === e ? NaN : (t = this.toBytes(), r = e.toBytes(), Math.sqrt(Math.pow(.3 * (t.r - r.r), 2) + Math.pow(.59 * (t.g - r.g), 2) + Math.pow(.11 * (t.b - r.b), 2))) }, clone: function () { var e = this.toBytes(); return e === this && (e = new u(e.r, e.g, e.b, e.a)), e } }), l = o.extend({ init: function (e, t, r, n) { o.fn.init.call(this), this.r = e, this.g = t, this.b = r, this.a = n }, toHSV: function () { var e, t, r = this, n = r.r, a = r.g, i = r.b, s = Math.min(n, a, i), f = Math.max(n, a, i), o = f - s, l = f; return 0 === o ? new d(0, 0, l, this.a) : (0 !== f ? (t = o / f, e = n === f ? (a - i) / o : a === f ? 2 + (i - n) / o : 4 + (n - a) / o, e *= 60, e < 0 && (e += 360)) : (t = 0, e = -1), new d(e, t, l, this.a)) }, toHSL: function () { var e, t, r, n = this, a = n.r, i = n.g, s = n.b, f = Math.max(a, i, s), o = Math.min(a, i, s), l = (f + o) / 2; if (f === o) e = t = 0; else { switch (r = f - o, t = l > .5 ? r / (2 - f - o) : r / (f + o), f) { case a: e = (i - s) / r + (i < s ? 6 : 0); break; case i: e = (s - a) / r + 2; break; case s: e = (a - i) / r + 4 }e *= 60, t *= 100, l *= 100 } return new h(e, t, l, this.a) }, toBytes: function () { return new u(255 * this.r, 255 * this.g, 255 * this.b, this.a) } }), u = l.extend({ init: function (e, t, r, n) { l.fn.init.call(this, Math.round(e), Math.round(t), Math.round(r), n) }, toRGB: function () { return new l(this.r / 255, this.g / 255, this.b / 255, this.a) }, toHSV: function () { return this.toRGB().toHSV() }, toHSL: function () { return this.toRGB().toHSL() }, toHex: function () { return e(this.r, 2) + e(this.g, 2) + e(this.b, 2) }, toBytes: function () { return this } }), d = o.extend({ init: function (e, t, r, n) { o.fn.init.call(this), this.h = e, this.s = t, this.v = r, this.a = n }, toRGB: function () { var e, t, r, n, a, i, s, f, o = this, u = o.h, d = o.s, h = o.v; if (0 === d) e = t = r = h; else switch (u /= 60, n = Math.floor(u), a = u - n, i = h * (1 - d), s = h * (1 - d * a), f = h * (1 - d * (1 - a)), n) { case 0: e = h, t = f, r = i; break; case 1: e = s, t = h, r = i; break; case 2: e = i, t = h, r = f; break; case 3: e = i, t = s, r = h; break; case 4: e = f, t = i, r = h; break; default: e = h, t = i, r = s }return new l(e, t, r, this.a) }, toHSL: function () { return this.toRGB().toHSL() }, toBytes: function () { return this.toRGB().toBytes() } }), h = o.extend({ init: function (e, t, r, n) { o.fn.init.call(this), this.h = e, this.s = t, this.l = r, this.a = n }, toRGB: function () { var e, r, n, a, i, s = this, f = s.h, o = s.s, u = s.l; return 0 === o ? e = r = n = u : (f /= 360, o /= 100, u /= 100, a = u < .5 ? u * (1 + o) : u + o - u * o, i = 2 * u - a, e = t(i, a, f + 1 / 3), r = t(i, a, f), n = t(i, a, f - 1 / 3)), new l(e, r, n, this.a) }, toHSV: function () { return this.toRGB().toHSV() }, toBytes: function () { return this.toRGB().toBytes() } }), c = n.extend({ init: function (e) { var t, r, n, a, i, s, f, o = this; if (1 === arguments.length) for (t = c.formats, r = this.resolveColor(e), n = 0; n < t.length; n++)a = t[n].re, i = t[n].process, s = a.exec(r), s && (f = i(s), o.r = f[0], o.g = f[1], o.b = f[2]); else this.r = arguments[0], this.g = arguments[1], this.b = arguments[2]; this.r = this.normalizeByte(this.r), this.g = this.normalizeByte(this.g), this.b = this.normalizeByte(this.b) }, toHex: function () { var e = this.padDigit, t = this.r.toString(16), r = this.g.toString(16), n = this.b.toString(16); return "#" + e(t) + e(r) + e(n) }, resolveColor: function (e) { var t = e || "black"; return "#" === t.charAt(0) && (t = t.substr(1, 6)), t = t.replace(/ /g, ""), t = t.toLowerCase(), t = c.namedColors[t] || t }, normalizeByte: function (e) { return e < 0 || isNaN(e) ? 0 : e > 255 ? 255 : e }, padDigit: function (e) { return 1 === e.length ? "0" + e : e }, brightness: function (e) { var t = Math.round; return this.r = t(this.normalizeByte(this.r * e)), this.g = t(this.normalizeByte(this.g * e)), this.b = t(this.normalizeByte(this.b * e)), this }, percBrightness: function () { return Math.sqrt(.241 * this.r * this.r + .691 * this.g * this.g + .068 * this.b * this.b) } }), c.fromBytes = function (e, t, r, n) { return new u(e, t, r, null != n ? n : 1) }, c.fromRGB = function (e, t, r, n) { return new l(e, t, r, null != n ? n : 1) }, c.fromHSV = function (e, t, r, n) { return new d(e, t, r, null != n ? n : 1) }, c.fromHSL = function (e, t, r, n) { return new h(e, t, r, null != n ? n : 1) }, c.formats = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, process: function (e) { return [parseInt(e[1], 10), parseInt(e[2], 10), parseInt(e[3], 10)] } }, { re: /^(\w{2})(\w{2})(\w{2})$/, process: function (e) { return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)] } }, { re: /^(\w{1})(\w{1})(\w{1})$/, process: function (e) { return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)] } }], c.namedColors = i, kendo.deepExtend(kendo, { parseColor: r, Color: c }) }, "function" == typeof define && define.amd ? define : function (e, t, r) { (r || t)() });; !function (e, define) { define("kendo.popup.min", ["kendo.core.min"], e) }(function () { return function (e, t) { function o(t, o) { return !(!t || !o) && (t === o || e.contains(t, o)) } var n, i, s, r, a = window.kendo, l = a.ui, d = l.Widget, p = a.Class, c = a.support, f = a.getOffset, u = a._outerWidth, h = a._outerHeight, m = "open", g = "close", w = "deactivate", v = "activate", _ = "center", b = "left", y = "right", k = "top", x = "bottom", T = "absolute", z = "hidden", C = "body", S = "location", E = "position", I = "visible", P = "effects", R = "k-state-active", A = "k-state-border", D = /k-state-border-(\w+)/, O = ".k-picker-wrap, .k-dropdown-wrap, .k-link", F = "down", H = e(document.documentElement), N = e.proxy, W = e(window), L = "scroll", j = c.transitions.css, M = j + "transform", K = e.extend, U = ".kendoPopup", Y = ["font-size", "font-family", "font-stretch", "font-style", "font-weight", "line-height"], Q = d.extend({ init: function (t, o) { var n, i = this; o = o || {}, o.isRtl && (o.origin = o.origin || x + " " + y, o.position = o.position || k + " " + y), d.fn.init.call(i, t, o), t = i.element, o = i.options, i.collisions = o.collision ? o.collision.split(" ") : [], i.downEvent = a.applyEventMap(F, a.guid()), 1 === i.collisions.length && i.collisions.push(i.collisions[0]), n = e(i.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"), o.appendTo = e(e(o.appendTo)[0] || n[0] || document.body), i.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl", !!o.isRtl).css({ position: T }).appendTo(o.appendTo).attr("aria-hidden", !0).on("mouseenter" + U, function () { i._hovered = !0 }).on("wheel" + U, function (t) { var o = e(t.target).find(".k-list"), n = o.parent(); o.length && o.is(":visible") && (0 === n.scrollTop() && t.originalEvent.deltaY < 0 || n.scrollTop() === n.prop("scrollHeight") - n.prop("offsetHeight") && t.originalEvent.deltaY > 0) && t.preventDefault() }).on("mouseleave" + U, function () { i._hovered = !1 }), i.wrapper = e(), o.animation === !1 && (o.animation = { open: { effects: {} }, close: { hide: !0, effects: {} } }), K(o.animation.open, { complete: function () { i.wrapper.css({ overflow: I }), i._activated = !0, i._trigger(v) } }), K(o.animation.close, { complete: function () { i._animationClose() } }), i._mousedownProxy = function (e) { i._mousedown(e) }, i._resizeProxy = c.mobileOS.android ? function (e) { setTimeout(function () { i._resize(e) }, 600) } : function (e) { i._resize(e) }, o.toggleTarget && e(o.toggleTarget).on(o.toggleEvent + U, e.proxy(i.toggle, i)) }, events: [m, v, g, w], options: { name: "Popup", toggleEvent: "click", origin: x + " " + b, position: k + " " + b, anchor: C, appendTo: null, collision: "flip fit", viewport: window, copyAnchorStyles: !0, autosize: !1, modal: !1, adjustSize: { width: 0, height: 0 }, animation: { open: { effects: "slideIn:down", transition: !0, duration: 200 }, close: { duration: 100, hide: !0 } } }, _animationClose: function () { var e = this, t = e.wrapper.data(S); e.wrapper.hide(), t && e.wrapper.css(t), e.options.anchor != C && e._hideDirClass(), e._closing = !1, e._trigger(w) }, destroy: function () { var t, o = this, n = o.options, i = o.element.off(U); d.fn.destroy.call(o), n.toggleTarget && e(n.toggleTarget).off(U), n.modal || (H.unbind(o.downEvent, o._mousedownProxy), o._toggleResize(!1)), a.destroy(o.element.children()), i.removeData(), n.appendTo[0] === document.body && (t = i.parent(".k-animation-container"), t[0] ? t.remove() : i.remove()) }, open: function (t, o) { var n, i, s = this, r = { isFixed: !isNaN(parseInt(o, 10)), x: t, y: o }, l = s.element, d = s.options, p = e(d.anchor), f = l[0] && l.hasClass("km-widget"); if (!s.visible()) { if (d.copyAnchorStyles && (f && "font-size" == Y[0] && Y.shift(), l.css(a.getComputedStyles(p[0], Y))), l.data("animating") || s._trigger(m)) return; s._activated = !1, d.modal || (H.unbind(s.downEvent, s._mousedownProxy).bind(s.downEvent, s._mousedownProxy), s._toggleResize(!1), s._toggleResize(!0)), s.wrapper = i = a.wrap(l, d.autosize).css({ overflow: z, display: "block", position: T }).attr("aria-hidden", !1), c.mobileOS.android && i.css(M, "translatez(0)"), i.css(E), e(d.appendTo)[0] == document.body && i.css(k, "-10000px"), s.flipped = s._position(r), n = s._openAnimation(), d.anchor != C && s._showDirClass(n), l.data(P, n.effects).kendoStop(!0).kendoAnimate(n).attr("aria-hidden", !1) } }, _location: function (t) { var o, n, i = this, s = i.element, r = i.options, l = e(r.anchor), d = s[0] && s.hasClass("km-widget"); return r.copyAnchorStyles && (d && "font-size" == Y[0] && Y.shift(), s.css(a.getComputedStyles(l[0], Y))), i.wrapper = o = a.wrap(s, r.autosize).css({ overflow: z, display: "block", position: T }), c.mobileOS.android && o.css(M, "translatez(0)"), o.css(E), e(r.appendTo)[0] == document.body && o.css(k, "-10000px"), i._position(t || {}), n = o.offset(), { width: a._outerWidth(o), height: a._outerHeight(o), left: n.left, top: n.top } }, _openAnimation: function () { var e = K(!0, {}, this.options.animation.open); return e.effects = a.parseEffects(e.effects, this.flipped), e }, _hideDirClass: function () { var t = e(this.options.anchor), o = ((t.attr("class") || "").match(D) || ["", "down"])[1], n = A + "-" + o; t.removeClass(n).children(O).removeClass(R).removeClass(n), this.element.removeClass(A + "-" + a.directions[o].reverse) }, _showDirClass: function (t) { var o = t.effects.slideIn ? t.effects.slideIn.direction : "down", n = A + "-" + o; e(this.options.anchor).addClass(n).children(O).addClass(R).addClass(n), this.element.addClass(A + "-" + a.directions[o].reverse) }, position: function () { this.visible() && (this.flipped = this._position()) }, toggle: function () { var e = this; e[e.visible() ? g : m]() }, visible: function () { return this.element.is(":" + I) }, close: function (o) { var n, i, s, r, l = this, d = l.options; if (l.visible()) { if (n = l.wrapper[0] ? l.wrapper : a.wrap(l.element).hide(), l._toggleResize(!1), l._closing || l._trigger(g)) return l._toggleResize(!0), t; l.element.find(".k-popup").each(function () { var t = e(this), n = t.data("kendoPopup"); n && n.close(o) }), H.unbind(l.downEvent, l._mousedownProxy), o ? i = { hide: !0, effects: {} } : (i = K(!0, {}, d.animation.close), s = l.element.data(P), r = i.effects, !r && !a.size(r) && s && a.size(s) && (i.effects = s, i.reverse = !0), l._closing = !0), l.element.kendoStop(!0).attr("aria-hidden", !0), n.css({ overflow: z }).attr("aria-hidden", !0), l.element.kendoAnimate(i), o && l._animationClose() } }, _trigger: function (e) { return this.trigger(e, { type: e }) }, _resize: function (e) { var t = this; c.resize.indexOf(e.type) !== -1 ? (clearTimeout(t._resizeTimeout), t._resizeTimeout = setTimeout(function () { t._position(), t._resizeTimeout = null }, 50)) : (!t._hovered || t._activated && t.element.hasClass("k-list-container")) && t.close() }, _toggleResize: function (e) { var t = e ? "on" : "off", o = c.resize; c.mobileOS.ios || c.mobileOS.android || (o += " " + L), this._scrollableParents()[t](L, this._resizeProxy), W[t](o, this._resizeProxy) }, _mousedown: function (t) { var n = this, i = n.element[0], s = n.options, r = e(s.anchor)[0], l = s.toggleTarget, d = a.eventTarget(t), p = e(d).closest(".k-popup"), c = p.parent().parent(".km-shim").length; p = p[0], !c && p && p !== n.element[0] || "popover" !== e(t.target).closest("a").data("rel") && (o(i, d) || o(r, d) || l && o(e(l)[0], d) || n.close()) }, _fit: function (e, t, o) { var n = 0; return e + t > o && (n = o - (e + t)), e < 0 && (n = -e), n }, _flip: function (e, t, o, n, i, s, r) { var a = 0; return r = r || t, s !== i && s !== _ && i !== _ && (e + r > n && (a += -(o + t)), e + a < 0 && (a += o + t)), a }, _scrollableParents: function () { return e(this.options.anchor).parentsUntil("body").filter(function (e, t) { return a.isScrollable(t) }) }, _position: function (t) { var o, n, i, s, r, l, d, p, m, g, w, v, _, b, y, k, x, z = this, C = z.element, I = z.wrapper, P = z.options, R = e(P.viewport), A = c.zoomLevel(), D = !!(R[0] == window && window.innerWidth && A <= 1.02), O = e(P.anchor), F = P.origin.toLowerCase().split(" "), H = P.position.toLowerCase().split(" "), N = z.collisions, W = 10002, L = 0, j = document.documentElement; if (r = P.viewport === window ? { top: window.pageYOffset || document.documentElement.scrollTop || 0, left: window.pageXOffset || document.documentElement.scrollLeft || 0 } : R.offset(), D ? (l = window.innerWidth, d = window.innerHeight) : (l = R.width(), d = R.height()), D && j.scrollHeight - j.clientHeight > 0 && (p = P.isRtl ? -1 : 1, l -= p * a.support.scrollbar()), o = O.parents().filter(I.siblings()), o[0]) if (i = Math.max(+o.css("zIndex"), 0)) W = i + 10; else for (n = O.parentsUntil(o), s = n.length; L < s; L++)i = +e(n[L]).css("zIndex"), i && W < i && (W = i + 10); return I.css("zIndex", W), I.css(t && t.isFixed ? { left: t.x, top: t.y } : z._align(F, H)), m = f(I, E, O[0] === I.offsetParent()[0]), g = f(I), w = O.offsetParent().parent(".k-animation-container,.k-popup,.k-group"), w.length && (m = f(I, E, !0), g = f(I)), g.top -= r.top, g.left -= r.left, z.wrapper.data(S) || I.data(S, K({}, m)), v = K({}, g), _ = K({}, m), b = P.adjustSize, "fit" === N[0] && (_.top += z._fit(v.top, h(I) + b.height, d / A)), "fit" === N[1] && (_.left += z._fit(v.left, u(I) + b.width, l / A)), y = K({}, _), k = h(C), x = h(I), !I.height() && k && (x += k), "flip" === N[0] && (_.top += z._flip(v.top, k, h(O), d / A, F[0], H[0], x)), "flip" === N[1] && (_.left += z._flip(v.left, u(C), u(O), l / A, F[1], H[1], u(I))), C.css(E, T), I.css(_), _.left != y.left || _.top != y.top }, _align: function (t, o) { var n, i = this, s = i.wrapper, r = e(i.options.anchor), a = t[0], l = t[1], d = o[0], p = o[1], c = f(r), m = e(i.options.appendTo), g = u(s), w = h(s) || h(s.children().first()), v = u(r), b = h(r), k = c.top, T = c.left, z = Math.round; return m[0] != document.body && (n = f(m), k -= n.top, T -= n.left), a === x && (k += b), a === _ && (k += z(b / 2)), d === x && (k -= w), d === _ && (k -= z(w / 2)), l === y && (T += v), l === _ && (T += z(v / 2)), p === y && (T -= g), p === _ && (T -= z(g / 2)), { top: k, left: T } } }); l.plugin(Q), n = a.support.stableSort, i = "kendoTabKeyTrap", s = "a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]", r = p.extend({ init: function (t) { this.element = e(t), this.element.autoApplyNS(i) }, trap: function () { this.element.on("keydown", N(this._keepInTrap, this)) }, removeTrap: function () { this.element.kendoDestroy(i) }, destroy: function () { this.element.kendoDestroy(i), this.element = t }, shouldTrap: function () { return !0 }, _keepInTrap: function (e) { var t, o, n; 9 === e.which && this.shouldTrap() && !e.isDefaultPrevented() && (t = this._focusableElements(), o = this._sortFocusableElements(t), n = this._nextFocusable(e, o), this._focus(n), e.preventDefault()) }, _focusableElements: function () { var t = this.element.find(s).filter(function (t, o) { return o.tabIndex >= 0 && e(o).is(":visible") && !e(o).is("[disabled]") }); return this.element.is("[tabindex]") && t.push(this.element[0]), t }, _sortFocusableElements: function (e) { var t, o; return n ? t = e.sort(function (e, t) { return e.tabIndex - t.tabIndex }) : (o = "__k_index", e.each(function (e, t) { t.setAttribute(o, e) }), t = e.sort(function (e, t) { return e.tabIndex === t.tabIndex ? parseInt(e.getAttribute(o), 10) - parseInt(t.getAttribute(o), 10) : e.tabIndex - t.tabIndex }), e.removeAttr(o)), t }, _nextFocusable: function (e, t) { var o = t.length, n = t.index(e.target); return t.get((n + (e.shiftKey ? -1 : 1)) % o) }, _focus: function (e) { return "IFRAME" == e.nodeName ? (e.contentWindow.document.body.focus(), t) : (e.focus(), "INPUT" == e.nodeName && e.setSelectionRange && this._haveSelectionRange(e) && e.setSelectionRange(0, e.value.length), t) }, _haveSelectionRange: function (e) { var t = e.type.toLowerCase(); return "text" === t || "search" === t || "url" === t || "tel" === t || "password" === t } }), l.Popup.TabKeyTrap = r }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, o) { (o || t)() });; !function (t, define) { define("drawing/util.min", ["kendo.core.min"], t) }(function () { return function (t) { function e() { return t.Deferred() } function n(e) { return t.when.apply(t, e) } kendo.drawing.util = kendo.drawing.util || {}, kendo.deepExtend(kendo.drawing.util, { createPromise: e, promiseAll: n }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(a, h) } function n(t) { var e, n = []; for (e in t) n.push(e + t[e]); return n.sort().join("") } function i(t) { var e, n = 2166136261; for (e = 0; e < t.length; ++e)n += (n << 1) + (n << 4) + (n << 7) + (n << 8) + (n << 24), n ^= t.charCodeAt(e); return n >>> 0 } function r() { return { width: 0, height: 0, baseline: 0 } } function o(t, e, n) { return u.current.measure(t, e, n) } var s, a, h, l, c, u; window.kendo.util = window.kendo.util || {}, s = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var n = this._map, i = { key: t, value: e }; n[t] = i, this._head ? (this._tail.newer = i, i.older = this._tail, this._tail = i) : this._head = this._tail = i, this._length >= this._size ? (n[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), a = /\r?\n|\r|\t/g, h = " ", l = { baselineMarkerSize: 1 }, "undefined" != typeof document && (c = document.createElement("div"), c.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), u = kendo.Class.extend({ init: function (e) { this._cache = new s(1e3), this.options = t.extend({}, l, e) }, measure: function (t, o, s) { var a, h, l, u, d, f, p, g, m; if (void 0 === s && (s = {}), !t) return r(); if (a = n(o), h = i(t + a), l = this._cache.get(h)) return l; u = r(), d = s.box || c, f = this._baselineMarker().cloneNode(!1); for (p in o) g = o[p], void 0 !== g && (d.style[p] = g); return m = s.normalizeText !== !1 ? e(t) : t + "", d.textContent = m, d.appendChild(f), document.body.appendChild(d), m.length && (u.width = d.offsetWidth - this.options.baselineMarkerSize, u.height = d.offsetHeight, u.baseline = f.offsetTop + this.options.baselineMarkerSize), u.width > 0 && u.height > 0 && this._cache.put(h, u), d.parentNode.removeChild(d), u }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), u.current = new u, kendo.deepExtend(kendo.util, { LRUCache: s, TextMetrics: u, measureText: o, objectKey: n, hashKey: i, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("drawing/kendo-drawing.min", ["drawing/util.min", "kendo.color.min", "util/text-metrics.min"], t) }(function () {
    !function (t) {
        function e(t, e) { return t.push.apply(t, e), t } function n(t) { for (var e = [1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], n = ""; t > 0;)t < e[0] ? e.shift() : (n += Qe[e[0]], t -= e[0]); return n } function i(t) { return typeof t !== Ze } function r() { return "kdef" + Je++ } function o(t) { return t / Ke } function s(t) { var e, n, i = ""; for (e = 0; e < t.length; e++)n = t.charCodeAt(e), n < 128 ? i += rn(n) : n < 2048 ? (i += rn(192 | n >>> 6), i += rn(128 | 63 & n)) : n < 65536 && (i += rn(224 | n >>> 12), i += rn(128 | n >>> 6 & 63), i += rn(128 | 63 & n)); return i } function a(t) { for (var e, n, i, r, o, a, h, l = "", c = 0, u = s(t); c < u.length;)e = u.charCodeAt(c++), n = u.charCodeAt(c++), i = u.charCodeAt(c++), r = e >> 2, o = (3 & e) << 4 | n >> 4, a = (15 & n) << 2 | i >> 6, h = 63 & i, isNaN(n) ? a = h = 64 : isNaN(i) && (h = 64), l = l + nn.charAt(r) + nn.charAt(o) + nn.charAt(a) + nn.charAt(h); return l } function h(t) { return i((t.x || {}).location) ? { x: t.x.location, y: t.y.location } : { x: t.pageX || t.clientX || 0, y: t.pageY || t.clientY || 0 } } function l(t) { return void 0 === t && (t = {}), t.touch ? t.touch.initialTouch : t.target } function c(t) { return "" === t || null === t || "none" === t || "transparent" === t || !i(t) } function u(t) { if (t) return t[t.length - 1] } function d(t, e, n) { return Math.max(Math.min(t, n), e) } function f(t, e) { function n(t, n) { for (var i = [], r = 0, o = 0, s = 0; r < t.length && o < n.length;)e(t[r], n[o]) <= 0 ? i[s++] = t[r++] : i[s++] = n[o++]; return r < t.length && i.push.apply(i, t.slice(r)), o < n.length && i.push.apply(i, n.slice(o)), i } return t.length < 2 ? t.slice() : function i(t) { var e, r, o; return t.length <= 1 ? t : (e = Math.floor(t.length / 2), r = t.slice(0, e), o = t.slice(e), r = i(r), o = i(o), n(r, o)) }(t) } function p(t) { return t * Ke } function g(t) { return t ? Math.pow(10, t) : 1 } function m(t, e) { var n = g(e); return Math.round(t * n) / n } function v(t, e) { return i(t) ? t : e } function x(t, e) { var n, i, r; for (n in e) for (i = n.trim().split(" "), r = 0; r < i.length; r++)t.addEventListener(i[r], e[n], !1) } function y(t) { var e = t.getBoundingClientRect(), n = document.documentElement; return { top: e.top + (window.pageYOffset || n.scrollTop) - (n.clientTop || 0), left: e.left + (window.pageXOffset || n.scrollLeft) - (n.clientLeft || 0) } } function w(t, e) { var n, i, r = {}, o = window.getComputedStyle(t), s = Array.isArray(e) ? e : [e]; for (n = 0; n < s.length; n++)i = s[n], r[i] = o[i]; return r } function _(t) { return isNaN(t) ? t : t + "px" } function b(t, e) { var n, r, o; return e ? (n = e.width, r = e.height, i(n) && (t.style.width = _(n)), i(r) && (t.style.height = _(r)), void 0) : (o = w(t, ["width", "height"]), { width: parseInt(o.width, 10), height: parseInt(o.height, 10) }) } function C(t, e) { var n, i, r; void 0 === e && (e = {}); for (n in e) for (i = n.trim().split(" "), r = 0; r < i.length; r++)t.removeEventListener(i[r], e[n], !1) } function k(t) { return function (e) { return this[t] !== e && (this[t] = e, this.geometryChange()), this } } function T(t) { return function () { return this[t] } } function M(t, e) { var n, i, r; for (n = 0; n < e.length; n++)i = e[n], r = i.charAt(0).toUpperCase() + i.substring(1, i.length), t["set" + r] = k(i), t["get" + r] = T(i) } function S(t) { return t && "function" == typeof t.matrix ? t.matrix() : t } function E(t) { return null === t ? null : t instanceof dn ? t : new dn(t) } function A(t, e, n, i) { var r = 0, o = 0; return i && (r = Math.atan2(i.c * n, i.a * e), 0 !== i.b && (o = Math.atan2(i.d * n, i.b * e))), { x: r, y: o } } function P(t) { var e = "_" + t; return function (t) { return i(t) ? (this._observerField(e, t), this.geometryChange(), this) : this[e] } } function O(t, e) { for (var n = 0; n < e.length; n++)t[e[n]] = P(e[n]) } function z(t, e, n) { return void 0 === n && (n = bn), 0 === m(Math.abs(t - e), n) } function N(t, e, n) { return t < e || z(t, e, n) } function R(t, e, n, i) { var r = e.x - t.x, o = i.x - n.x, s = e.y - t.y, a = i.y - n.y, h = t.x - n.x, l = t.y - n.y, c = r * a - o * s, u = (r * l - s * h) / c, d = (o * l - a * h) / c; if (u >= 0 && u <= 1 && d >= 0 && d <= 1) return new ln(t.x + d * r, t.y + d * s) } function B(t, e, n, i, r, s) { var a = m((r - t) / n, 3), h = m((s - e) / i, 3); return m(o(Math.atan2(h, a))) } function F(t) { var e, n, i, r, s, a, h, l, c, u, d, f, g, v, x, y, w, _, b, C, k, T, M, S, E, A = t.x1, P = t.y1, O = t.x2, z = t.y2, N = t.rx, R = t.ry, B = t.largeArc, F = t.swipe, L = t.rotation; return void 0 === L && (L = 0), e = p(L), n = Math.cos(e), i = Math.sin(e), r = n * (A - O) / 2 + i * (P - z) / 2, s = -i * (A - O) / 2 + n * (P - z) / 2, a = B !== F ? 1 : -1, h = Math.pow(r, 2), l = Math.pow(s, 2), c = Math.pow(N, 2), u = Math.pow(R, 2), d = h / c + l / u, d > 1 && (d = Math.sqrt(h / c + l / u), N = d * N, c = Math.pow(N, 2), R = d * R, u = Math.pow(R, 2)), f = a * Math.sqrt((c * u - c * l - u * h) / (c * l + u * h)), isNaN(f) && (f = 0), g = f * (N * s) / R, v = -f * (R * r) / N, x = n * g - i * v + (A + O) / 2, y = i * g + n * v + (P + z) / 2, w = (r - g) / N, _ = (s - v) / R, b = -(r + g) / N, C = -(s + v) / R, k = (_ >= 0 ? 1 : -1) * o(Math.acos(w / Math.sqrt(w * w + _ * _))), T = m((w * b + _ * C) / (Math.sqrt(w * w + _ * _) * Math.sqrt(b * b + C * C)), 10), M = (w * C - _ * b >= 0 ? 1 : -1) * o(Math.acos(T)), !F && M > 0 && (M -= 360), F && M < 0 && (M += 360), S = k + M, E = S >= 0 ? 1 : -1, S = Math.abs(S) % 360 * E, { center: new ln(x, y), startAngle: k, endAngle: S, radiusX: N, radiusY: R, xRotation: L } } function L(t, e) { for (var n = t; n < e;)n += 90; return n } function I(t) { var e = "_" + t; return function (t) { return i(t) ? (this._observerField(e, ln.create(t)), this.geometryChange(), this) : this[e] } } function D(t, e) { for (var n = 0; n < e.length; n++)t[e[n]] = I(e[n]) } function H(t, e, n) { var i = o(Math.atan2(e.y - t.y, e.x - t.x)), r = n.transformCopy(E().rotate(-i, t)); return r.x < t.x } function j(t, e, n) { var i = 1 - t; return Math.pow(i, 3) * n[0][e] + 3 * Math.pow(i, 2) * t * n[1][e] + 3 * Math.pow(t, 2) * i * n[2][e] + Math.pow(t, 3) * n[3][e] } function q(t, e) { return [-t[0][e] + 3 * t[1][e] - 3 * t[2][e] + t[3][e], 3 * (t[0][e] - 2 * t[1][e] + t[2][e]), 3 * (-t[0][e] + t[1][e]), t[0][e]] } function G(t) { return t < 0 ? -1 : 1 } function $(t, e, n) { var i = Math.sqrt(Math.pow(e, 2) - 4 * t * n); return [(-e + i) / (2 * t), (-e - i) / (2 * t)] } function V(t, e, n, i) { var r, o, s, a, h, l, c, u, d, f, p, g, v; return 0 === t ? $(e, n, i) : (r = (3 * t * n - Math.pow(e, 2)) / (3 * Math.pow(t, 2)), o = (2 * Math.pow(e, 3) - 9 * t * e * n + 27 * Math.pow(t, 2) * i) / (27 * Math.pow(t, 3)), s = Math.pow(r / 3, 3) + Math.pow(o / 2, 2), a = new Rn(0, 1), h = -e / (3 * t), s < 0 ? (l = new Rn(-o / 2, Math.sqrt(-s)).nthRoot(3), c = new Rn(-o / 2, (-Math.sqrt(-s))).nthRoot(3)) : (l = -o / 2 + Math.sqrt(s), l = new Rn(G(l) * Math.pow(Math.abs(l), 1 / 3)), c = -o / 2 - Math.sqrt(s), c = new Rn(G(c) * Math.pow(Math.abs(c), 1 / 3))), u = l.add(c), p = l.add(c).multiplyConstant(-.5), g = l.add(c.negate()).multiplyConstant(Math.sqrt(3) / 2), d = p.add(a.multiply(g)), f = p.add(a.negate().multiply(g)), v = [], u.isReal() && v.push(m(u.real + h, bn)), d.isReal() && v.push(m(d.real + h, bn)), f.isReal() && v.push(m(f.real + h, bn)), v) } function U(t, e, n, i, r) { var o, s, a = q(t, i), h = V(a[0], a[1], a[2], a[3] - e[i]); for (s = 0; s < h.length; s++)if (0 <= h[s] && h[s] <= 1 && (o = j(h[s], n, t), Math.abs(o - e[n]) <= r)) return !0 } function X(t, e, n) { var i, r, o, s = q(t, "x"), a = V(s[0], s[1], s[2], s[3] - e.x), h = 0; for (o = 0; o < a.length; o++)i = j(a[o], "y", t), r = z(i, e.y) || i > e.y, r && ((0 === a[o] || 1 === a[o]) && n.bottomRight().x > e.x || 0 < a[o] && a[o] < 1) && h++; return h } function Y(t, e, n) { var i, r, o, s, a, h; return t.x !== e.x && (r = Math.min(t.x, e.x), o = Math.max(t.x, e.x), s = Math.min(t.y, e.y), a = Math.max(t.y, e.y), h = r <= n.x && n.x < o, i = s === a ? n.y <= s && h : h && (a - s) * ((t.x - e.x) * (t.y - e.y) > 0 ? n.x - r : o - n.x) / (o - r) + s - n.y >= 0), i ? 1 : 0 } function W(t) { var e, n = t.length, i = tn, r = en; for (e = 0; e < n; e++)r = Math.max(r, t[e]), i = Math.min(i, t[e]); return { min: i, max: r } } function Q(t, e, n) { var i, r, o, s; for (r = 0; r < t.length; r++)o = t[r], o.visible() && (s = e ? o.bbox(n) : o.rawBBox(), s && (i = i ? un.union(i, s) : s)); return i } function Z(t, e) { var n, i, r, o; for (i = 0; i < t.length; i++)r = t[i], r.visible() && (o = r.clippedBBox(e), o && (n = n ? un.union(n, o) : o)); return n } function J(t, e, n) { var i = n.transform() || E(), r = i.matrix(); r.e += t.x - e.origin.x, r.f += t.y - e.origin.y, i.matrix(r), n.transform(i) } function K(t, e, n, i, r) { var o; return o = "start" === n ? e.origin[i] : "end" === n ? e.origin[i] + e.size[r] - t : e.origin[i] + (e.size[r] - t) / 2 } function tt(t, e, n, i, r) { var o; return o = "start" === n ? e.origin[i] + e.size[r] - t : "end" === n ? e.origin[i] : e.origin[i] + (e.size[r] - t) / 2 } function et(t, e, n, i, r) { var o, s, a; for (o = 0; o < t.length; o++)s = t[o].clippedBBox(), s && (a = s.origin.clone(), a[i] = K(s.size[r], e, n || "start", i, r), J(a, s, t[o])) } function nt(t, e, n) { et(t, e, n, "x", "width") } function it(t, e, n) { et(t, e, n, "y", "height") } function rt(t, e, n, i) { var r, o, s, a, h; if (t.length > 1) for (r = new ln, o = t[0].bbox, s = 1; s < t.length; s++)a = t[s].element, h = t[s].bbox, r[e] = o.origin[e] + o.size[i], r[n] = h.origin[n], J(r, h, a), h.origin[e] = r[e], o = h } function ot(t) { var e, n, i, r = []; for (e = 0; e < t.length; e++)n = t[e], i = n.clippedBBox(), i && r.push({ element: n, bbox: i }); return r } function st(t) { rt(ot(t), "x", "y", "width") } function at(t) { rt(ot(t), "y", "x", "height") } function ht(t, e, n) { var i, r, o, s, a = e.size[n], h = [], l = [], c = 0, u = function () { l.push({ element: i, bbox: r }) }; for (o = 0; o < t.length; o++)i = t[o], r = i.clippedBBox(), r && (s = r.size[n], c + s > a ? l.length ? (h.push(l), l = [], u(), c = s) : (u(), h.push(l), l = [], c = 0) : (u(), c += s)); return l.length && h.push(l), h } function lt(t, e, n, i, r) { var o, s, a, h, l = ht(t, e, r), c = e.origin.clone(), u = []; for (o = 0; o < l.length; o++)for (s = l[o], a = s[0], c[i] = a.bbox.origin[i], J(c, a.bbox, a.element), a.bbox.origin[n] = c[n], rt(s, n, i, r), u.push([]), h = 0; h < s.length; h++)u[o].push(s[h].element); return u } function ct(t, e) { return lt(t, e, "x", "y", "width") } function ut(t, e) { return lt(t, e, "y", "x", "height") } function dt(t, e) { var n, i, r, o, s = t.clippedBBox(); s && (n = s.size, i = e.size, (i.width < n.width || i.height < n.height) && (r = Math.min(i.width / n.width, i.height / n.height), o = t.transform() || E(), o.scale(r, r), t.transform(o))) } function ft(t) { return function (e) { return i(e) ? (this.options.set(t, e), this) : this.options.get(t) } } function pt(t, e) { for (var n = 0; n < e.length; n++)t[e[n]] = ft(e[n]) } function gt(t) { return .5 - Math.cos(t * Math.PI) / 2 } function mt(t) { return t } function vt(t, e, n, i) { var r = 1.70158, o = 0, s = i; return 0 === t ? n : 1 === t ? n + i : (o || (o = .5), s < Math.abs(i) ? (s = i, r = o / 4) : r = o / (2 * Math.PI) * Math.asin(i / s), s * Math.pow(2, -10 * t) * Math.sin((+t - r) * (1.1 * Math.PI) / o) + i + n) } function xt(t, e, n) { var i, r = e ? 0 : 1; for (i = 0; i < t.length; i += 2)t.splice(i + r, 0, n) } function yt(t, e) { if (t && e) return e.scaleCopy(2).translate(-t.x, -t.y) } function wt(t, e, n) { var i = e.clone().scale(2 / 3); return { controlOut: i.clone().translateWith(t.scaleCopy(ai)), controlIn: i.translateWith(n.scaleCopy(ai)) } } function _t(t) { var e = []; return t.replace(li, function (t, n) { e.push(parseFloat(n)) }), e } function bt(t, e) { return i(e) && null !== e ? " " + t + '="' + e + '" ' : "" } function Ct(t) { var e, n = ""; for (e = 0; e < t.length; e++)n += bt(t[e][0], t[e][1]); return n } function kt(t) { var e, n, r = ""; for (e = 0; e < t.length; e++)n = t[e][1], i(n) && (r += t[e][0] + ":" + n + ";"); if ("" !== r) return r } function Tt(t, e) { return "clip" === t || "fill" === t && (!e || "Gradient" === e.nodeType) } function Mt() { var t, e = document.getElementsByTagName("base")[0], n = document.location.href, i = ""; return e && !Ue.msie && (t = n.indexOf("#"), t !== -1 && (n = n.substring(0, t)), i = n), i } function St(t) { var e, n, i, r; try { e = t.getScreenCTM ? t.getScreenCTM() : null } catch (o) { } e && (n = -e.e % 1, i = -e.f % 1, r = t.style, 0 === n && 0 === i || (r.left = n + "px", r.top = i + "px")) } function Et(t) { if (!t || "string" != typeof t || !Yi.test(t)) return t; var e = Et._element; return Yi.lastIndex = 0, t.replace(Yi, function (t) { return e.innerHTML = t, e.textContent || e.innerText }) } function At(t) { var e, n, i, r = new Ri({ skipBaseHref: !0 }), o = t.clippedBBox(), s = t; return o && (e = o.getOrigin(), n = new Vn, n.transform(E().translate(-e.x, -e.y)), n.children.push(t), s = n), r.load([s]), i = "<?xml version='1.0' ?><svg xmlns='" + xi + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + r.render() + "</svg>", r.destroy(), i } function Pt(t, e) { var n, i, r, o, s, a, h = e.segments; if (0 !== h.length) { for (n = h[0], i = n.anchor(), t.moveTo(i.x, i.y), r = 1; r < h.length; r++)n = h[r], i = n.anchor(), o = h[r - 1], s = o.controlOut(), a = n.controlIn(), s && a ? t.bezierCurveTo(s.x, s.y, a.x, a.y, i.x, i.y) : t.lineTo(i.x, i.y); e.options.closed && t.closePath() } } function Ot(t, e) { return t._zIndex < e._zIndex ? 1 : t._zIndex > e._zIndex ? -1 : 0 } function zt(t, e) { var n, i, r; for (n = 0; n < e.length; n++)i = e[n], r = kendo.parseColor(i.color()), r.a *= i.opacity(), t.addColorStop(i.offset(), r.toCssRgba()) } function Nt(e, n) { var i, r, o, s, a, h, l, c, u = { width: "800px", height: "600px", cors: "Anonymous" }, d = e, f = e.clippedBBox(); return f && (i = f.getOrigin(), d = new Vn, d.transform(E().translate(-i.x, -i.y)), d.children.push(e), r = f.getSize(), u.width = r.width + "px", u.height = r.height + "px"), o = t.extend(u, n), s = document.createElement("div"), a = s.style, a.display = "none", a.width = o.width, a.height = o.height, document.body.appendChild(s), h = new ur(s, o), h.suspendTracking(), h.draw(d), l = h.image(), c = function () { h.destroy(), document.body.removeChild(s) }, l.then(c, c), l } function Rt(t, e) { var n = At(t); return e && e.raw || (n = "data:image/svg+xml;base64," + a(n)), Xe().resolve(n) } function Bt(t) { return Array.prototype.slice.call(t) } function Ft(t, e) { t.classList ? t.classList.add(e) : t.className += " " + e } function Lt(t, e) { t.classList ? t.classList.remove(e) : t.className = t.className.split(/\s+/).reduce(function (t, n) { return n != e && t.push(n), t }, []).join(" ") } function It(t, e) { Object.keys(e).forEach(function (n) { t.style[n] = e[n] }) } function Dt(t, e) { if (t.closest) return t.closest(e); for (; t && !/^\[object (?:HTML)?Document\]$/.test(t + "");) { if (1 == t.nodeType && Sr(t, e)) return t; t = t.parentNode } } function Ht(t) { return "number" == typeof t ? { x: t, y: t } : Array.isArray(t) ? { x: t[0], y: t[1] } : { x: t.x, y: t.y } } function jt(t, e) { function n(t) { var n = new Vn, i = t.getBoundingClientRect(); return me(n, [s.x, 0, 0, s.y, -i.left * s.x, -i.top * s.y]), Cr._clipbox = !1, Cr._matrix = hn.unit(), Cr._stackingContext = { element: t, group: n }, Cr._avoidLinks = e.avoidLinks === !0 ? "a" : e.avoidLinks, Ft(t, "k-pdf-export"), De(t, n), Lt(t, "k-pdf-export"), n } function i(t) { if (null != t) return "string" == typeof t && (t = kendo.template(t.replace(/^\s+|\s+$/g, ""))), "function" == typeof t ? function (e) { var n, i = t(e); return i && "string" == typeof i && (n = document.createElement("div"), n.innerHTML = i, i = n.firstElementChild), i } : function () { return t.cloneNode(!0) } } function r(t, e, n, r, o, s, a) { function h() { ("-" != n || o) && c(w); var e = f(); w.parentNode.insertBefore(e, w), e.appendChild(w), v && y.forEach(function (t, e) { var n = v({ element: t, pageNum: e + 1, totalPages: y.length }); n && t.appendChild(n) }), Jt(y, function () { Zt(y, function () { t({ pages: y, container: _ }) }) }) } function l(t) { if (a.keepTogether && Sr(t, a.keepTogether) && t.offsetHeight <= o - b) return !0; var e = t.tagName; return !(/^h[1-6]$/i.test(e) && t.offsetHeight >= o - b) && (t.getAttribute("data-kendo-chart") || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName)) } function c(t) { var e, i, r, s, a, h, u; if ("TABLE" == t.tagName && It(t, { tableLayout: "fixed" }), !l(t)) { for (e = oe(t), i = parseFloat(se(e, "padding-bottom")), r = parseFloat(se(e, "border-bottom-width")), s = b, b += i + r, a = !0, h = t.firstChild; h; h = h.nextSibling)if (1 == h.nodeType) { if (a = !1, Sr(h, n)) { d(h); continue } if (!o) { c(h); continue } if (!/^(?:static|relative)$/.test(se(oe(h), "position"))) continue; u = p(h), 1 == u ? d(h) : u && l(h) ? d(h) : c(h) } else 3 == h.nodeType && o && (g(h, a), a = !1); b = s } } function u(t) { var e = t.parentNode, n = e.firstChild; if (t === n) return !0; if (t === e.children[0]) { if (7 == n.nodeType || 8 == n.nodeType) return !0; if (3 == n.nodeType) return !/\S/.test(n.data) } return !1 } function d(t) { var e, n, i, r, o, s, h; return 1 == t.nodeType && t !== w && u(t) ? d(t.parentNode) : (e = Dt(t, "table"), n = e && e.querySelector("colgroup"), a.repeatHeaders && (i = e && e.querySelector("thead"), r = Dt(t, ".k-grid.k-widget"), r && r.querySelector(".k-auto-scrollable") && (o = r.querySelector(".k-grid-header"))), s = f(), h = x.createRange(), h.setStartBefore(w), h.setEndBefore(t), s.appendChild(h.extractContents()), w.parentNode.insertBefore(s, w), m(t.parentNode), e && (e = Dt(t, "table"), a.repeatHeaders && i && e.insertBefore(i.cloneNode(!0), e.firstChild), n && e.insertBefore(n.cloneNode(!0), e.firstChild)), void (a.repeatHeaders && o && (r = Dt(t, ".k-grid.k-widget"), r.insertBefore(o.cloneNode(!0), r.firstChild)))) } function f() { var t = x.createElement("KENDO-PDF-PAGE"); return It(t, { display: "block", boxSizing: "content-box", width: r ? r + "px" : "auto", padding: s.top + "px " + s.right + "px " + s.bottom + "px " + s.left + "px", position: "relative", height: o ? o + "px" : "auto", overflow: o || r ? "hidden" : "visible", clear: "both" }), a && a.pageClassName && (t.className = a.pageClassName), y.push(t), t } function p(t) { var e, n, i = t.getBoundingClientRect(); return 0 === i.width || 0 === i.height ? 0 : (e = w.getBoundingClientRect().top, n = o - b, i.height > n ? 3 : i.top - e > n ? 1 : i.bottom - e > n ? 2 : 0) } function g(t, e) { var n, i, r, o, s; /\S/.test(t.data) && (n = t.data.length, i = x.createRange(), i.selectNodeContents(t), r = p(i), r && (o = t, 1 == r ? d(e ? t.parentNode : t) : (!function a(e, n, r) { return i.setEnd(t, n), e == n || n == r ? n : p(i) ? a(e, e + n >> 1, n) : a(n, n + r >> 1, r) }(0, n >> 1, n), !/\S/.test("" + i) && e ? d(t.parentNode) : (o = t.splitText(i.endOffset), s = f(), i.setStartBefore(w), s.appendChild(i.extractContents()), w.parentNode.insertBefore(s, w), m(o.parentNode))), g(o))) } function m(t) { var e = Dt(t, "li"); e && (e.setAttribute("kendo-no-bullet", "1"), m(e.parentNode)) } var v = i(a.template), x = e.ownerDocument, y = [], w = a._destructive ? e : Er(e), _ = x.createElement("KENDO-PDF-DOCUMENT"), b = 0; Bt(w.querySelectorAll("tfoot")).forEach(function (t) { t.parentNode.appendChild(t) }), Bt(w.querySelectorAll("ol")).forEach(function (t) { Bt(t.children).forEach(function (t, e) { t.setAttribute("kendo-split-index", e) }) }), It(_, { display: "block", position: "absolute", boxSizing: "content-box", left: "-10000px", top: "-10000px" }), r && (It(_, { width: r + "px", paddingLeft: s.left + "px", paddingRight: s.right + "px" }), It(w, { overflow: "hidden" })), e.parentNode.insertBefore(_, e), _.appendChild(w), a.beforePageBreak ? setTimeout(function () { a.beforePageBreak(_, h) }, 15) : setTimeout(h, 15) } var o, s; if (e || (e = {}), o = Xe(), !t) return o.reject("No element to export"); if ("function" != typeof window.getComputedStyle) throw Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+."); return kendo.pdf.defineFont(qt(t.ownerDocument)), s = Ht(e.scale || 1), Jt(t, function () { var i, a = e && e.forcePageBreak, h = e && e.paperSize && "auto" != e.paperSize, l = kendo.pdf.getPaperOptions(function (t, n) { return "paperSize" == t ? h ? e[t] : "A4" : t in e ? e[t] : n }), c = h && l.paperSize[0], u = h && l.paperSize[1], d = e.margin && l.margin, f = !!d; a || u ? (d || (d = { left: 0, top: 0, right: 0, bottom: 0 }), c && (c /= s.x), u && (u /= s.y), d.left /= s.x, d.right /= s.x, d.top /= s.y, d.bottom /= s.y, i = new Vn({ pdf: { multiPage: !0, paperSize: h ? l.paperSize : "auto", _ignoreMargin: f } }), r(function (t) { if (e.progress) { var r = !1, s = 0; !function a() { if (s < t.pages.length) { var h = n(t.pages[s]); i.append(h), e.progress({ page: h, pageNum: ++s, totalPages: t.pages.length, cancel: function () { r = !0 } }), r ? t.container.parentNode.removeChild(t.container) : setTimeout(a) } else t.container.parentNode.removeChild(t.container), o.resolve(i) }() } else t.pages.forEach(function (t) { i.append(n(t)) }), t.container.parentNode.removeChild(t.container), o.resolve(i) }, t, a, c ? c - d.left - d.right : null, u ? u - d.top - d.bottom : null, d, e)) : o.resolve(n(t)) }), o } function qt(t) { function e(t) { if (t) { var e = null; try { e = t.cssRules } catch (n) { } e && i(t, e) } } function n(t) { var e, n = se(t.style, "src"); return n ? Pr(n).reduce(function (t, e) { var n = Or(e); return n && t.push(n), t }, []) : (e = Or(t.cssText), e ? [e] : []) } function i(t, i) { var o, s, a, h, l, c, u; for (o = 0; o < i.length; ++o)switch (s = i[o], s.type) { case 3: e(s.styleSheet); break; case 5: a = s.style, h = Pr(se(a, "font-family")), l = /^([56789]00|bold)$/i.test(se(a, "font-weight")), c = "italic" == se(a, "font-style"), u = n(s), u.length > 0 && r(t, h, l, c, u[0]) } } function r(t, e, n, i, r) { /^data:/i.test(r) || /^[^\/:]+:\/\//.test(r) || /^\//.test(r) || (r = (t.href + "").replace(/[^\/]*$/, "") + r), e.forEach(function (t) { t = t.replace(/^(['"]?)(.*?)\1$/, "$2"), n && (t += "|bold"), i && (t += "|italic"), o[t] = r }) } var o, s; for (null == t && (t = document), o = {}, s = 0; s < t.styleSheets.length; ++s)e(t.styleSheets[s]); return o } function Gt(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function $t(t) { return t = "_counter_" + t, Cr[t] } function Vt(t) { var e = [], n = Cr; for (t = "_counter_" + t; n;)Gt(n, t) && e.push(n[t]), n = Object.getPrototypeOf(n); return e.reverse() } function Ut(t, e) { var n = Cr; for (t = "_counter_" + t; n && !Gt(n, t);)n = Object.getPrototypeOf(n); n || (n = Cr._root), n[t] = (n[t] || 0) + (null == e ? 1 : e) } function Xt(t, e) { t = "_counter_" + t, Cr[t] = null == e ? 0 : e } function Yt(t, e, n) { var i, r, o; for (i = 0; i < t.length;)r = t[i++], o = parseFloat(t[i]), isNaN(o) ? e(r, n) : (e(r, o), ++i) } function Wt(t) { var e, n = se(t, "counter-reset"); n && Yt(Pr(n, /^\s+/), Xt, 0), e = se(t, "counter-increment"), e && Yt(Pr(e, /^\s+/), Ut, 1) } function Qt(t, e) { var n = kendo.parseColor(t, !0); return n && (n = n.toRGB(), e ? n = n.toCssRgba() : 0 === n.a && (n = null)), n } function Zt(t, e) { function n() { --i <= 0 && e() } var i = 0; t.forEach(function (t) { var e, r, o = t.querySelectorAll("img"); for (e = 0; e < o.length; ++e)r = o[e], r.complete || (i++ , r.onload = r.onerror = n) }), i || n() } function Jt(t, e) { function n(t) { br[t] || (br[t] = !0, s.push(t)) } function i(t) { /^img$/i.test(t.tagName) && n(t.src), Ar(se(oe(t), "background-image")).forEach(function (t) { "url" == t.type && n(t.url) }), t.children && Bt(t.children).forEach(i) } function r() { --o <= 0 && e() } var o, s = []; Array.isArray(t) ? t.forEach(i) : i(t), o = s.length, 0 === o && r(), s.forEach(function (t) { var e = br[t] = new window.Image; /^data:/i.test(t) || (e.crossOrigin = "Anonymous"), e.src = t, e.complete ? r() : (e.onload = r, e.onerror = function () { br[t] = null, r() }) }) } function Kt(t) { var e, n = ""; do e = t % 26, n = String.fromCharCode(97 + e) + n, t = Math.floor(t / 26); while (t > 0); return n } function te(t, e, n) { var i, r; Cr = Object.create(Cr), Cr[t.tagName.toLowerCase()] = { element: t, style: e }, i = se(e, "text-decoration"), i && "none" != i && (r = se(e, "color"), i.split(/\s+/g).forEach(function (t) { Cr[t] || (Cr[t] = r) })), re(e) && (Cr._stackingContext = { element: t, group: n }) } function ee() { Cr = Object.getPrototypeOf(Cr) } function ne(t) { if (null != Cr._clipbox) { var e = t.bbox(Cr._matrix); Cr._clipbox = Cr._clipbox ? un.intersect(Cr._clipbox, e) : e } } function ie() { var t = Cr._clipbox; return null == t || (t ? 0 === t.width() || 0 === t.height() : void 0) } function re(t) { function e(e) { return se(t, e) } if ("none" != e("transform") || "static" != e("position") || "auto" != e("z-index") || e("opacity") < 1) return !0 } function oe(t, e) { return window.getComputedStyle(t, e || null) } function se(t, e, n) { var i = t.getPropertyValue(e); return null != i && "" !== i || (wr.webkit ? i = t.getPropertyValue("-webkit-" + e) : wr.mozilla ? i = t.getPropertyValue("-moz-" + e) : wr.opera ? i = t.getPropertyValue("-o-" + e) : Tr && (i = t.getPropertyValue("-ms-" + e))), arguments.length > 2 && (null == i || "" === i) ? n : i } function ae(t, e, n, i) { t.setProperty(e, n, i), wr.webkit ? t.setProperty("-webkit-" + e, n, i) : wr.mozilla ? t.setProperty("-moz-" + e, n, i) : wr.opera ? t.setProperty("-o-" + e, n, i) : Tr && (t.setProperty("-ms-" + e, n, i), e = "ms" + e.replace(/(^|-)([a-z])/g, function (t, e, n) { return e + n.toUpperCase() }), t[e] = n) } function he(t, e) { return e = "border-" + e, { width: parseFloat(se(t, e + "-width")), style: se(t, e + "-style"), color: Qt(se(t, e + "-color"), !0) } } function le(t, e) { var n = t.style.cssText, i = e(); return t.style.cssText = n, i } function ce(t, e) { var n = se(t, "border-" + e + "-radius").split(/\s+/g).map(parseFloat); return 1 == n.length && n.push(n[0]), ye({ x: n[0], y: n[1] }) } function ue(t) { var e = t.getBoundingClientRect(); return e = de(e, "border-*-width", t), e = de(e, "padding-*", t) } function de(t, e, n) { var i, r, o, s, a; return "string" == typeof e ? (i = oe(n), r = parseFloat(se(i, e.replace("*", "top"))), o = parseFloat(se(i, e.replace("*", "right"))), s = parseFloat(se(i, e.replace("*", "bottom"))), a = parseFloat(se(i, e.replace("*", "left")))) : "number" == typeof e && (r = o = s = a = e), { top: t.top + r, right: t.right - o, bottom: t.bottom - s, left: t.left + a, width: t.right - t.left - o - a, height: t.bottom - t.top - s - r } } function fe(t) { var e, n, i = se(t, "transform"); return "none" == i ? null : (e = /^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(i), e ? (n = se(t, "transform-origin"), e = e[1].split(/\s*,\s*/g).map(parseFloat), n = n.split(/\s+/g).map(parseFloat), { matrix: e, origin: n }) : void 0) } function pe(t) { return 180 * t / Math.PI % 360 } function ge(t) { var e = parseFloat(t); return /grad$/.test(t) ? Math.PI * e / 200 : /rad$/.test(t) ? e : /turn$/.test(t) ? Math.PI * e * 2 : /deg$/.test(t) ? Math.PI * e / 180 : void 0 } function me(t, e) { return e = new hn(e[0], e[1], e[2], e[3], e[4], e[5]), t.transform(e), e } function ve(t, e) { t.clip(e) } function xe(t, e, n, i) { for (var r = new Tn([e, n], i).curvePoints(), o = 1; o < r.length;)t.curveTo(r[o++], r[o++], r[o++]) } function ye(t) { return (t.x <= 0 || t.y <= 0) && (t.x = t.y = 0), t } function we(t, e, n, i, r) { var o = Math.max(0, e.x), s = Math.max(0, e.y), a = Math.max(0, n.x), h = Math.max(0, n.y), l = Math.max(0, i.x), c = Math.max(0, i.y), u = Math.max(0, r.x), d = Math.max(0, r.y), f = Math.min(t.width / (o + a), t.height / (h + c), t.width / (l + u), t.height / (d + s)); return f < 1 && (o *= f, s *= f, a *= f, h *= f, l *= f, c *= f, u *= f, d *= f), { tl: { x: o, y: s }, tr: { x: a, y: h }, br: { x: l, y: c }, bl: { x: u, y: d } } } function _e(t, e, n) { var i, r, o, s, a, h, l, c, u = oe(t), d = ce(u, "top-left"), f = ce(u, "top-right"), p = ce(u, "bottom-left"), g = ce(u, "bottom-right"); return "padding" != n && "content" != n || (i = he(u, "top"), r = he(u, "right"), o = he(u, "bottom"), s = he(u, "left"), d.x -= s.width, d.y -= i.width, f.x -= r.width, f.y -= i.width, g.x -= r.width, g.y -= o.width, p.x -= s.width, p.y -= o.width, "content" == n && (a = parseFloat(se(u, "padding-top")), h = parseFloat(se(u, "padding-right")), l = parseFloat(se(u, "padding-bottom")), c = parseFloat(se(u, "padding-left")), d.x -= c, d.y -= a, f.x -= h, f.y -= a, g.x -= h, g.y -= l, p.x -= c, p.y -= l)), "number" == typeof n && (d.x -= n, d.y -= n, f.x -= n, f.y -= n, g.x -= n, g.y -= n, p.x -= n, p.y -= n), be(e, d, f, g, p) } function be(t, e, n, i, r) { var o = we(t, e, n, i, r), s = o.tl, a = o.tr, h = o.br, l = o.bl, c = new Fn({ fill: null, stroke: null }); return c.moveTo(t.left, t.top + s.y), s.x && xe(c, t.left + s.x, t.top + s.y, { startAngle: -180, endAngle: -90, radiusX: s.x, radiusY: s.y }), c.lineTo(t.right - a.x, t.top), a.x && xe(c, t.right - a.x, t.top + a.y, { startAngle: -90, endAngle: 0, radiusX: a.x, radiusY: a.y }), c.lineTo(t.right, t.bottom - h.y), h.x && xe(c, t.right - h.x, t.bottom - h.y, { startAngle: 0, endAngle: 90, radiusX: h.x, radiusY: h.y }), c.lineTo(t.left + l.x, t.bottom), l.x && xe(c, t.left + l.x, t.bottom - l.y, { startAngle: 90, endAngle: 180, radiusX: l.x, radiusY: l.y }), c.close() } function Ce(t, e) { var i = parseFloat(t) + ""; switch (e) { case "decimal-leading-zero": return i.length < 2 && (i = "0" + i), i; case "lower-roman": return n(t).toLowerCase(); case "upper-roman": return n(t).toUpperCase(); case "lower-latin": case "lower-alpha": return Kt(t - 1); case "upper-latin": case "upper-alpha": return Kt(t - 1).toUpperCase(); default: return i } } function ke(t, e) { function n(t, e, n) { return n ? (n = n.replace(/^\s*(["'])(.*)\1\s*$/, "$2"), Vt(t).map(function (t) { return Ce(t, e) }).join(n)) : Ce($t(t) || 0, e) } var i, r = Pr(e, /^\s+/), o = []; return r.forEach(function (e) { var r; (i = /^\s*(["'])(.*)\1\s*$/.exec(e)) ? o.push(i[2].replace(/\\([0-9a-f]{4})/gi, function (t, e) { return String.fromCharCode(parseInt(e, 16)) })) : (i = /^\s*counter\((.*?)\)\s*$/.exec(e)) ? (r = Pr(i[1]), o.push(n(r[0], r[1]))) : (i = /^\s*counters\((.*?)\)\s*$/.exec(e)) ? (r = Pr(i[1]), o.push(n(r[0], r[2], r[1]))) : o.push((i = /^\s*attr\((.*?)\)\s*$/.exec(e)) ? t.getAttribute(i[1]) || "" : e) }), o.join("") } function Te(t) { var e, n; if (t.cssText) return t.cssText; for (e = [], n = 0; n < t.length; ++n)e.push(t[n] + ": " + se(t, t[n])); return e.join(";\n") } function Me(t, e) { function n(e, n) { var r, o = oe(t, e), s = o.content; Wt(o), s && "normal" != s && "none" != s && "0px" != o.width && (r = t.ownerDocument.createElement(_r), r.style.cssText = Te(o), r.textContent = ke(t, s), t.insertBefore(r, n), i.push(r)) } var i, r; return t.tagName == _r ? void Se(t, e) : (i = [], n(":before", t.firstChild), n(":after", null), void (i.length > 0 ? (r = t.className, t.className += " kendo-pdf-hide-pseudo-elements", Se(t, e), t.className = r, i.forEach(function (e) { t.removeChild(e) })) : Se(t, e))) } function Se(t, e) {
            function i(e) { var n, i, r, o, s, a; if (/^td$/i.test(t.tagName) && (n = Cr.table, n && "collapse" == se(n.style, "border-collapse"))) { if (i = he(n.style, "left").width, r = he(n.style, "top").width, 0 === i && 0 === r) return e; if (o = n.element.getBoundingClientRect(), s = n.element.rows[0].cells[0], a = s.getBoundingClientRect(), a.top == o.top || a.left == o.left) return Bt(e).map(function (t) { return { left: t.left + i, top: t.top + r, right: t.right + i, bottom: t.bottom + r, height: t.height, width: t.width } }) } return e } function r(t, n, i, r, o, s, a, h) { function l(e, n, r) { var o = Math.PI / 2 * e / (e + i), s = { x: n.x - e, y: n.y - i }, a = new Fn({ fill: { color: t }, stroke: null }).moveTo(0, 0); me(a, r), xe(a, 0, n.y, { startAngle: -90, endAngle: -pe(o), radiusX: n.x, radiusY: n.y }), s.x > 0 && s.y > 0 ? (a.lineTo(s.x * Math.cos(o), n.y - s.y * Math.sin(o)), xe(a, 0, n.y, { startAngle: -pe(o), endAngle: -90, radiusX: s.x, radiusY: s.y, anticlockwise: !0 })) : s.x > 0 ? a.lineTo(s.x, i).lineTo(0, i) : a.lineTo(s.x, i).lineTo(s.x, 0), u.append(a.close()) } if (!(i <= 0)) { var c, u = new Vn; me(u, h), e.append(u), ye(s), ye(a), c = new Fn({ fill: { color: t }, stroke: null }), u.append(c), c.moveTo(s.x ? Math.max(s.x, r) : 0, 0).lineTo(n - (a.x ? Math.max(a.x, o) : 0), 0).lineTo(n - Math.max(a.x, o), i).lineTo(Math.max(s.x, r), i).close(), s.x && l(r, s, [-1, 0, 0, 1, s.x, 0]), a.x && l(o, a, [1, 0, 0, 1, n - a.x, 0]) } } function o(t) { var n, i, r = new Vn; for (ve(r, be(t, T, M, E, S)), e.append(r), P && (n = new Fn({ fill: { color: P.toCssRgba() }, stroke: null }), n.moveTo(t.left, t.top).lineTo(t.right, t.top).lineTo(t.right, t.bottom).lineTo(t.left, t.bottom).close(), r.append(n)), i = l.length; --i >= 0;)s(r, t, l[i], c[i % c.length], u[i % u.length], d[i % d.length], f[i % f.length]) } function s(e, n, i, r, o, s, a) {
                function h(e, n, i, h, l) { function c() { for (; m.origin.x > n.left;)m.origin.x -= i } function u() { for (; m.origin.y > n.top;)m.origin.y -= h } function d() { for (; m.origin.x < n.right;)l(e, m.clone()), m.origin.x += i } var f, p, g, m, v, x = i / h, y = n; switch ("content-box" == s ? (y = de(y, "border-*-width", t), y = de(y, "padding-*", t)) : "padding-box" == s && (y = de(y, "border-*-width", t)), /^\s*auto(\s+auto)?\s*$/.test(a) || ("contain" == a ? (f = Math.min(y.width / i, y.height / h), i *= f, h *= f) : "cover" == a ? (f = Math.max(y.width / i, y.height / h), i *= f, h *= f) : (p = a.split(/\s+/g), i = /%$/.test(p[0]) ? y.width * parseFloat(p[0]) / 100 : parseFloat(p[0]), h = 1 == p.length || "auto" == p[1] ? i / x : /%$/.test(p[1]) ? y.height * parseFloat(p[1]) / 100 : parseFloat(p[1]))), g = o + "") { case "bottom": g = "50% 100%"; break; case "top": g = "50% 0"; break; case "left": g = "0 50%"; break; case "right": g = "100% 50%"; break; case "center": g = "50% 50%" }if (g = g.split(/\s+/), 1 == g.length && (g[1] = "50%"), g[0] = /%$/.test(g[0]) ? parseFloat(g[0]) / 100 * (y.width - i) : parseFloat(g[0]), g[1] = /%$/.test(g[1]) ? parseFloat(g[1]) / 100 * (y.height - h) : parseFloat(g[1]), m = new un([y.left + g[0], y.top + g[1]], [i, h]), "no-repeat" == r) l(e, m); else if ("repeat-x" == r) c(), d(); else if ("repeat-y" == r) for (u(); m.origin.y < n.bottom;)l(e, m.clone()), m.origin.y += h; else if ("repeat" == r) for (c(), u(), v = m.origin.clone(); m.origin.y < n.bottom;)m.origin.x = v.x, d(), m.origin.y += h } if (i && "none" != i) if ("url" == i.type) {
                    if (/^url\(\"data:image\/svg/i.test(i.url)) return;
                    var l = br[i.url]; l && l.width > 0 && l.height > 0 && h(e, n, l.width, l.height, function (t, e) { t.append(new Gn(i.url, e)) })
                } else { if ("linear" != i.type) return; h(e, n, n.width, n.height, Ee(i)) }
            } function a() { function i(n) { le(t, function () { t.style.position = "relative"; var i = t.ownerDocument.createElement(_r); i.style.position = "absolute", i.style.boxSizing = "border-box", "outside" == o ? (i.style.width = "6em", i.style.left = "-6.8em", i.style.textAlign = "right") : i.style.left = "0px", n(i), t.insertBefore(i, t.firstChild), De(i, e), t.removeChild(i) }) } function r(e) { var n, i = t.parentNode.children, r = t.getAttribute("kendo-split-index"); if (null != r) return e(0 | r, i.length); for (n = 0; n < i.length; ++n)if (i[n] === t) return e(n, i.length) } var o, s = se(w, "list-style-type"); if ("none" != s) switch (o = se(w, "list-style-position"), s) { case "circle": case "disc": case "square": i(function (t) { t.style.fontSize = "60%", t.style.lineHeight = "200%", t.style.paddingRight = "0.5em", t.style.fontFamily = "DejaVu Serif", t.innerHTML = { disc: "●", circle: "◯", square: "■" }[s] }); break; case "decimal": case "decimal-leading-zero": i(function (t) { r(function (e) { ++e, "decimal-leading-zero" == s && e < 10 && (e = "0" + e), t.innerHTML = e + "." }) }); break; case "lower-roman": case "upper-roman": i(function (t) { r(function (e) { e = n(e + 1), "upper-roman" == s && (e = e.toUpperCase()), t.innerHTML = e + "." }) }); break; case "lower-latin": case "lower-alpha": case "upper-latin": case "upper-alpha": i(function (t) { r(function (e) { e = Kt(e), /^upper/i.test(s) && (e = e.toUpperCase()), t.innerHTML = e + "." }) }) } } function h(n, i, s) { function a(t) { return { x: t.y, y: t.x } } var h, l, c, u, d, f, p, g; if (0 !== n.width && 0 !== n.height && (o(n), h = k.width > 0 && (i && "ltr" == A || s && "rtl" == A), l = b.width > 0 && (s && "ltr" == A || i && "rtl" == A), 0 !== _.width || 0 !== k.width || 0 !== b.width || 0 !== C.width)) { if (_.color == b.color && _.color == C.color && _.color == k.color && _.width == b.width && _.width == C.width && _.width == k.width && h && l) return n = de(n, _.width / 2), c = _e(t, n, _.width / 2), c.options.stroke = { color: _.color, width: _.width }, void e.append(c); if (0 === T.x && 0 === M.x && 0 === E.x && 0 === S.x && _.width < 2 && k.width < 2 && b.width < 2 && C.width < 2) return _.width > 0 && e.append(new Fn({ stroke: { width: _.width, color: _.color } }).moveTo(n.left, n.top + _.width / 2).lineTo(n.right, n.top + _.width / 2)), C.width > 0 && e.append(new Fn({ stroke: { width: C.width, color: C.color } }).moveTo(n.left, n.bottom - C.width / 2).lineTo(n.right, n.bottom - C.width / 2)), h && e.append(new Fn({ stroke: { width: k.width, color: k.color } }).moveTo(n.left + k.width / 2, n.top).lineTo(n.left + k.width / 2, n.bottom)), void (l && e.append(new Fn({ stroke: { width: b.width, color: b.color } }).moveTo(n.right - b.width / 2, n.top).lineTo(n.right - b.width / 2, n.bottom))); u = we(n, T, M, E, S), d = u.tl, f = u.tr, p = u.br, g = u.bl, r(_.color, n.width, _.width, k.width, b.width, d, f, [1, 0, 0, 1, n.left, n.top]), r(C.color, n.width, C.width, b.width, k.width, p, g, [-1, 0, 0, -1, n.right, n.bottom]), r(k.color, n.height, k.width, C.width, _.width, a(g), a(d), [0, -1, 1, 0, n.left, n.bottom]), r(b.color, n.height, b.width, _.width, C.width, a(f), a(p), [0, 1, -1, 0, n.right, n.top]) } } var l, c, u, d, f, p, g, m, v, x, y, w = oe(t), _ = he(w, "top"), b = he(w, "right"), C = he(w, "bottom"), k = he(w, "left"), T = ce(w, "top-left"), M = ce(w, "top-right"), S = ce(w, "bottom-left"), E = ce(w, "bottom-right"), A = se(w, "direction"), P = se(w, "background-color"); if (P = Qt(P), l = Ar(se(w, "background-image")), c = Pr(se(w, "background-repeat")), u = Pr(se(w, "background-position")), d = Pr(se(w, "background-origin")), f = Pr(se(w, "background-size")), wr.msie && wr.version < 10 && (u = Pr(t.currentStyle.backgroundPosition)), p = de(t.getBoundingClientRect(), "border-*-width", t), function () { var t, n, i, r, o, s, a, h = se(w, "clip"), l = /^\s*rect\((.*)\)\s*$/.exec(h); l && (t = l[1].split(/[ ,]+/g), n = "auto" == t[0] ? p.top : parseFloat(t[0]) + p.top, i = "auto" == t[1] ? p.right : parseFloat(t[1]) + p.left, r = "auto" == t[2] ? p.bottom : parseFloat(t[2]) + p.top, o = "auto" == t[3] ? p.left : parseFloat(t[3]) + p.left, s = new Vn, a = (new Fn).moveTo(o, n).lineTo(i, n).lineTo(i, r).lineTo(o, r).close(), ve(s, a), e.append(s), e = s, ne(a)) }(), x = se(w, "display"), "table-row" == x) for (g = [], m = 0, v = t.children; m < v.length; ++m)g.push(v[m].getBoundingClientRect()); else g = t.getClientRects(), 1 == g.length && (g = [t.getBoundingClientRect()]); for (g = i(g), m = 0; m < g.length; ++m)h(g[m], 0 === m, m == g.length - 1); return "A" == t.tagName && t.href && !/^#?$/.test(t.getAttribute("href")) && (Cr._avoidLinks && Sr(t, Cr._avoidLinks) || (y = document.createRange(), y.selectNodeContents(t), Bt(y.getClientRects()).forEach(function (n) { var i = new Vn; i._pdfLink = { url: t.href, top: n.top, right: n.right, bottom: n.bottom, left: n.left }, e.append(i) }))), g.length > 0 && "list-item" == x && !t.getAttribute("kendo-no-bullet") && a(g[0]), function () { function n() { var n = _e(t, p, "padding"), i = new Vn; ve(i, n), e.append(i), e = i, ne(n) } ze(t) ? n() : /^(hidden|auto|scroll)/.test(se(w, "overflow")) ? n() : /^(hidden|auto|scroll)/.test(se(w, "overflow-x")) ? n() : /^(hidden|auto|scroll)/.test(se(w, "overflow-y")) && n() }(), Ae(t, e) || Fe(t, e), e
        } function Ee(t) { return function (e, n) { var i, r, o, s, a, h, l, c, u, d, f, p, g, m = n.width(), v = n.height(); switch (t.type) { case "linear": switch (i = null != t.angle ? t.angle : Math.PI, t.to) { case "top": i = 0; break; case "left": i = -Math.PI / 2; break; case "bottom": i = Math.PI; break; case "right": i = Math.PI / 2; break; case "top left": case "left top": i = -Math.atan2(v, m); break; case "top right": case "right top": i = Math.atan2(v, m); break; case "bottom left": case "left bottom": i = Math.PI + Math.atan2(v, m); break; case "bottom right": case "right bottom": i = Math.PI - Math.atan2(v, m) }t.reverse && (i -= Math.PI), i %= 2 * Math.PI, i < 0 && (i += 2 * Math.PI), r = Math.abs(m * Math.sin(i)) + Math.abs(v * Math.cos(i)), o = Math.atan(m * Math.tan(i) / v), s = Math.sin(o), a = Math.cos(o), h = Math.abs(s) + Math.abs(a), l = h / 2 * s, c = h / 2 * a, i > Math.PI / 2 && i <= 3 * Math.PI / 2 && (l = -l, c = -c), u = [], d = 0, f = t.stops.map(function (e, n) { var i, o = e.percent; return o ? o = parseFloat(o) / 100 : e.length ? o = parseFloat(e.length) / r : 0 === n ? o = 0 : n == t.stops.length - 1 && (o = 1), i = { color: e.color.toCssRgba(), offset: o }, null != o ? (d = o, u.forEach(function (t, e) { var n = t.stop; n.offset = t.left + (d - t.left) * (e + 1) / (u.length + 1) }), u = []) : u.push({ left: d, stop: i }), i }), p = [.5 - l, .5 + c], g = [.5 + l, .5 - c], e.append(Fn.fromRect(n).stroke(null).fill(new ti({ start: p, end: g, stops: f, userSpace: !1 }))); break; case "radial": window.console && window.console.log && window.console.log("Radial gradients are not yet supported in HTML renderer") } } } function Ae(t, e) { var n, i, r, o; return t._kendoExportVisual ? n = t._kendoExportVisual() : window.kendo && window.kendo.jQuery && t.getAttribute(window.kendo.attr("role")) && (i = window.kendo.widgetInstance(window.kendo.jQuery(t)), i && (i.exportDOMVisual || i.exportVisual) && (n = i.exportDOMVisual ? i.exportDOMVisual() : i.exportVisual())), !!n && (r = new Vn, r.children.push(n), o = t.getBoundingClientRect(), r.transform(E().translate(o.left, o.top)), e.append(r), !0) } function Pe(t, e, n) { var i = ue(t), r = new un([i.left, i.top], [i.width, i.height]), o = new Gn(e, r); ve(o, _e(t, i, "content")), n.append(o) } function Oe(t, e) { var n = oe(t), i = oe(e), r = parseFloat(se(n, "z-index")), o = parseFloat(se(i, "z-index")), s = se(n, "position"), a = se(i, "position"); return isNaN(r) && isNaN(o) ? /static|absolute/.test(s) && /static|absolute/.test(a) ? 0 : "static" == s ? -1 : "static" == a ? 1 : 0 : isNaN(r) ? 0 === o ? 0 : o > 0 ? -1 : 1 : isNaN(o) ? 0 === r ? 0 : r > 0 ? 1 : -1 : parseFloat(r) - parseFloat(o) } function ze(t) { return /^(?:textarea|select|input)$/i.test(t.tagName) } function Ne(t) { return t.selectedOptions && t.selectedOptions.length > 0 ? t.selectedOptions[0] : t.options[t.selectedIndex] } function Re(t, e) { var n = oe(t), i = se(n, "color"), r = t.getBoundingClientRect(); "checkbox" == t.type ? (e.append(Fn.fromRect(new un([r.left + 1, r.top + 1], [r.width - 2, r.height - 2])).stroke(i, 1)), t.checked && e.append((new Fn).stroke(i, 1.2).moveTo(r.left + .22 * r.width, r.top + .55 * r.height).lineTo(r.left + .45 * r.width, r.top + .75 * r.height).lineTo(r.left + .78 * r.width, r.top + .22 * r.width))) : (e.append(new _n(new gn([(r.left + r.right) / 2, (r.top + r.bottom) / 2], Math.min(r.width - 2, r.height - 2) / 2)).stroke(i, 1)), t.checked && e.append(new _n(new gn([(r.left + r.right) / 2, (r.top + r.bottom) / 2], Math.min(r.width - 8, r.height - 8) / 2)).fill(i).stroke(null))) } function Be(t, e) { var n, i, r, o, s, a = t.tagName.toLowerCase(); if ("input" == a && ("checkbox" == t.type || "radio" == t.type)) return Re(t, e); if (n = t.parentNode, i = t.ownerDocument, r = i.createElement(_r), r.style.cssText = Te(oe(t)), "input" == a && (r.style.whiteSpace = "pre"), "select" != a && "textarea" != a || (r.style.overflow = "auto"), "select" == a) if (t.multiple) for (s = 0; s < t.options.length; ++s)o = i.createElement(_r), o.style.cssText = Te(oe(t.options[s])), o.style.display = "block", o.textContent = t.options[s].textContent, r.appendChild(o); else o = Ne(t), o && (r.textContent = o.textContent); else r.textContent = t.value; n.insertBefore(r, t), r.scrollLeft = t.scrollLeft, r.scrollTop = t.scrollTop, t.style.display = "none", Fe(r, e), t.style.display = "", n.removeChild(r) } function Fe(t, e) { var n, i, r, o, s, a, h; switch (Cr._stackingContext.element === t && (Cr._stackingContext.group = e), t.tagName.toLowerCase()) { case "img": Pe(t, t.src, e); break; case "canvas": try { Pe(t, t.toDataURL("image/png"), e) } catch (l) { } break; case "textarea": case "input": case "select": Be(t, e); break; default: for (n = [], i = [], r = [], o = t.firstChild; o; o = o.nextSibling)switch (o.nodeType) { case 3: /\S/.test(o.data) && Le(t, o, e); break; case 1: s = oe(o), a = se(s, "float"), h = se(s, "position"), "static" != h ? r.push(o) : "none" != a ? i.push(o) : n.push(o) }f(n, Oe).forEach(function (t) { De(t, e) }), f(i, Oe).forEach(function (t) { De(t, e) }), f(r, Oe).forEach(function (t) { De(t, e) }) } } function Le(t, e, n) { function i(t) { var e, n, i, r, o; if (Tr || wr.chrome) { for (e = t.getClientRects(), n = { top: 1 / 0, right: -(1 / 0), bottom: -(1 / 0), left: 1 / 0 }, i = !1, r = 0; r < e.length; ++r)o = e[r], o.width <= 1 || o.bottom === k || (n.left = Math.min(o.left, n.left), n.top = Math.min(o.top, n.top), n.right = Math.max(o.right, n.right), n.bottom = Math.max(o.bottom, n.bottom), i = !0); return i ? (n.width = n.right - n.left, n.height = n.bottom - n.top, n) : t.getBoundingClientRect() } return t.getBoundingClientRect() } function r() { var t, n, r, s, a, u, d, f = l, p = h.substr(l).search(/\S/); if (l += p, p < 0 || l >= c) return !0; if (g.setStart(e, l), g.setEnd(e, l + 1), t = i(g), n = !1, (v || x > 1) && (p = h.substr(l).search(/\s/), p >= 0 && (g.setEnd(e, l + p), r = i(g), r.bottom == t.bottom && (t = r, n = !0, l += p))), !n) { if (p = function m(n, r, o) { g.setEnd(e, r); var s = i(g); return s.bottom != t.bottom && n < r ? m(n, n + r >> 1, r) : s.right != t.right ? (t = s, r < o ? m(r, r + o >> 1, o) : r) : r }(l, Math.min(c, l + C), c), p == l) return !0; if (l = p, p = ("" + g).search(/\s+$/), 0 === p) return !1; p > 0 && (g.setEnd(e, g.startOffset + p), t = i(g)) } if (Tr && (t = g.getClientRects()[0]), s = "" + g, /^(?:pre|pre-wrap)$/i.test(y)) { if (/\t/.test(s)) { for (a = 0, p = f; p < g.startOffset; ++p)u = h.charCodeAt(p), 9 == u ? a += 8 - a % 8 : 10 == u || 13 == u ? a = 0 : a++; for (; (p = s.search("\t")) >= 0;)d = "        ".substr(0, 8 - (a + p) % 8), s = s.substr(0, p) + d + s.substr(p + 1) } } else s = s.replace(/\s+/g, " "); n || (k = t.bottom), o(s, t) } function o(t, e) { var i, r, o; switch (Tr && !isNaN(d) && (i = zr(f), r = (e.top + e.bottom - i) / 2, e = { top: r, right: e.right, bottom: r + i, left: e.left, height: i, width: e.right - e.left }), w) { case "uppercase": t = t.toUpperCase(); break; case "lowercase": t = t.toLowerCase(); break; case "capitalize": t = t.replace(/(?:^|\s)\S/g, function (t) { return t.toUpperCase() }) }o = new Mr(t, new un([e.left, e.top], [e.width, e.height]), { font: f, fill: { color: p } }), n.append(o) } function s(t) { function e(e, i) { var r, o; e && (r = u / 12, o = new Fn({ stroke: { width: r, color: e } }), i -= r, o.moveTo(t.left, i).lineTo(t.right, i), n.append(o)) } e(T, t.bottom), e(M, t.bottom - t.height / 2.7), e(S, t.top) } var a, h, l, c, u, d, f, p, g, m, v, x, y, w, _, b, C, k, T, M, S, E; if (!ie() && (a = oe(t), !(parseFloat(se(a, "text-indent")) < -500) && (h = e.data, l = 0, c = h.search(/\S\s*$/) + 1, c && (u = se(a, "font-size"), d = se(a, "line-height"), f = [se(a, "font-style"), se(a, "font-variant"), se(a, "font-weight"), u, se(a, "font-family")].join(" "), u = parseFloat(u), d = parseFloat(d), 0 !== u)))) { for (p = se(a, "color"), g = t.ownerDocument.createRange(), m = se(a, "text-align"), v = "justify" == m, x = se(a, "column-count", 1), y = se(a, "white-space"), w = se(a, "text-transform"), Tr && (_ = a.textOverflow, "ellipsis" == _ && (b = t.style.textOverflow, t.style.textOverflow = "clip")), C = t.getBoundingClientRect().width / u * 5, 0 === C && (C = 500), k = null, T = Cr.underline, M = Cr["line-through"], S = Cr.overline, E = T || M || S; !r();); Tr && "ellipsis" == _ && (t.style.textOverflow = b), E && (g.selectNode(e), Bt(g.getClientRects()).forEach(s)) } } function Ie(t, e, n) { var i, r, o, s, a, h; for ("auto" != n ? (i = Cr._stackingContext.group, n = parseFloat(n)) : (i = e, n = 0), r = i.children, o = 0; o < r.length && !(null != r[o]._dom_zIndex && r[o]._dom_zIndex > n); ++o); return s = new Vn, i.insert(o, s), s._dom_zIndex = n, i !== e && Cr._clipbox && (a = Cr._matrix.invert(), h = Cr._clipbox.transformCopy(a), ve(s, Fn.fromRect(h))), s } function De(t, e) { var n, i, r, o, s, a, h = oe(t); Wt(h), /^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(t.tagName) || null != Cr._clipbox && (n = parseFloat(se(h, "opacity")), i = se(h, "visibility"), r = se(h, "display"), 0 !== n && "hidden" != i && "none" != r && (o = fe(h), a = se(h, "z-index"), (o || n < 1) && "auto" == a && (a = 0), s = Ie(t, e, a), n < 1 && s.opacity(n * s.opacity()), te(t, h, s), o ? le(t, function () { var e, n, i, r; ae(t.style, "transform", "none", "important"), ae(t.style, "transition", "none", "important"), "static" == se(h, "position") && ae(t.style, "position", "relative", "important"), e = t.getBoundingClientRect(), n = e.left + o.origin[0], i = e.top + o.origin[1], r = [1, 0, 0, 1, -n, -i], r = He(r, o.matrix), r = He(r, [1, 0, 0, 1, n, i]), r = me(s, r), Cr._matrix = Cr._matrix.multiplyCopy(r), Me(t, s) }) : Me(t, s), ee())) } function He(t, e) { var n = t[0], i = t[1], r = t[2], o = t[3], s = t[4], a = t[5], h = e[0], l = e[1], c = e[2], u = e[3], d = e[4], f = e[5]; return [n * h + i * c, n * l + i * u, r * h + o * c, r * l + o * u, s * h + a * c + d, s * l + a * u + f] } var je, qe, Ge, $e, Ve, Ue, Xe, Ye, We, Qe, Ze, Je, Ke, tn, en, nn, rn, on, sn, an, hn, ln, cn, un, dn, fn, pn, gn, mn, vn, xn, yn, wn, _n, bn, Cn, kn, Tn, Mn, Sn, En, An, Pn, On, zn, Nn, Rn, Bn, Fn, Ln, In, Dn, Hn, jn, qn, Gn, $n, Vn, Un, Xn, Yn, Wn, Qn, Zn, Jn, Kn, ti, ei, ni, ii, ri, oi, si, ai, hi, li, ci, ui, di, fi, pi, gi, mi, vi, xi, yi, wi, _i, bi, Ci, ki, Ti, Mi, Si, Ei, Ai, Pi, Oi, zi, Ni, Ri, Bi, Fi, Li, Ii, Di, Hi, ji, qi, Gi, $i, Vi, Ui, Xi, Yi, Wi, Qi, Zi, Ji, Ki, tr, er, nr, ir, rr, or, sr, ar, hr, lr, cr, ur, dr, fr, pr, gr, mr, vr, xr, yr, wr, _r, br, Cr, kr, Tr, Mr, Sr, Er, Ar, Pr, Or, zr, Nr; window.kendo = window.kendo || {}, je = kendo.drawing, qe = je.util, Ge = kendo.Class, $e = kendo.util, Ve = kendo.support, Ue = Ve.browser, Xe = qe.createPromise, Ye = qe.promiseAll, We = { extend: function (t) { var e, n = this; for (e in this) "extend" !== e && (t[e] = n[e]) }, observers: function () { return this._observers = this._observers || [] }, addObserver: function (t) { return this._observers ? this._observers.push(t) : this._observers = [t], this }, removeObserver: function (t) { var e = this.observers(), n = e.indexOf(t); return n !== -1 && e.splice(n, 1), this }, trigger: function (t, e) { var n, i, r = this._observers; if (r && !this._suspended) for (n = 0; n < r.length; n++)i = r[n], i[t] && i[t](e); return this }, optionsChange: function (t) { void 0 === t && (t = {}), t.element = this, this.trigger("optionsChange", t) }, geometryChange: function () { this.trigger("geometryChange", { element: this }) }, suspend: function () { return this._suspended = (this._suspended || 0) + 1, this }, resume: function () { return this._suspended = Math.max((this._suspended || 0) - 1, 0), this }, _observerField: function (t, e) { this[t] && this[t].removeObserver(this), this[t] = e, e.addObserver(this) } }, Qe = { 1: "i", 10: "x", 100: "c", 2: "ii", 20: "xx", 200: "cc", 3: "iii", 30: "xxx", 300: "ccc", 4: "iv", 40: "xl", 400: "cd", 5: "v", 50: "l", 500: "d", 6: "vi", 60: "lx", 600: "dc", 7: "vii", 70: "lxx", 700: "dcc", 8: "viii", 80: "lxxx", 800: "dccc", 9: "ix", 90: "xc", 900: "cm", 1e3: "m" }, Ze = "undefined", Je = 1, Ke = Math.PI / 180, tn = Number.MAX_VALUE, en = -Number.MAX_VALUE, nn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", rn = String.fromCharCode, on = { append: e, arabicToRoman: n, createPromise: Xe, defined: i, definitionId: r, deg: o, encodeBase64: a, eventCoordinates: h, eventElement: l, isTransparent: c, last: u, limitValue: d, mergeSort: f, promiseAll: Ye, rad: p, round: m, valueOrDefault: v, bindEvents: x, elementOffset: y, elementSize: b, elementStyles: w, unbindEvents: C, DEG_TO_RAD: Ke, MAX_NUM: tn, MIN_NUM: en }, sn = {}.toString, an = Ge.extend({ init: function (t, e) { var n, i, r = this; void 0 === e && (e = ""), this.prefix = e; for (n in t) i = t[n], i = r._wrap(i, n), r[n] = i }, get: function (t) { for (var e, n = t.split("."), i = this; n.length && i;)e = n.shift(), i = i[e]; return i }, set: function (t, e) { var n = this.get(t); n !== e && (this._set(t, this._wrap(e, t)), this.optionsChange({ field: this.prefix + t, value: e })) }, _set: function (t, e) { var n, i, r, o = this, s = t.indexOf(".") >= 0, a = this, h = t; if (s) { for (n = h.split("."), i = this.prefix; n.length > 1;)h = n.shift(), i += h + ".", r = a[h], r || (r = new an({}, i), r.addObserver(o), a[h] = r), a = r; h = n[0] } a._clear(h), a[h] = e }, _clear: function (t) { var e = this[t]; e && e.removeObserver && e.removeObserver(this) }, _wrap: function (t, e) { var n = sn.call(t), r = t; return null !== r && i(r) && "[object Object]" === n && (t instanceof an || t instanceof Ge || (r = new an(r, this.prefix + e + ".")), r.addObserver(this)), r } }), We.extend(an.prototype), hn = Ge.extend({ init: function (t, e, n, i, r, o) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === i && (i = 0), void 0 === r && (r = 0), void 0 === o && (o = 0), this.a = t, this.b = e, this.c = n, this.d = i, this.e = r, this.f = o }, multiplyCopy: function (t) { return new hn(this.a * t.a + this.c * t.b, this.b * t.a + this.d * t.b, this.a * t.c + this.c * t.d, this.b * t.c + this.d * t.d, this.a * t.e + this.c * t.f + this.e, this.b * t.e + this.d * t.f + this.f) }, invert: function () { var t = this, e = t.a, n = t.b, i = t.c, r = t.d, o = t.e, s = t.f, a = e * r - n * i; return 0 === a ? null : new hn(r / a, -n / a, -i / a, e / a, (i * s - r * o) / a, (n * o - e * s) / a) }, clone: function () { return new hn(this.a, this.b, this.c, this.d, this.e, this.f) }, equals: function (t) { return !!t && (this.a === t.a && this.b === t.b && this.c === t.c && this.d === t.d && this.e === t.e && this.f === t.f) }, round: function (t) { return this.a = m(this.a, t), this.b = m(this.b, t), this.c = m(this.c, t), this.d = m(this.d, t), this.e = m(this.e, t), this.f = m(this.f, t), this }, toArray: function (t) { var e, n = [this.a, this.b, this.c, this.d, this.e, this.f]; if (i(t)) for (e = 0; e < n.length; e++)n[e] = m(n[e], t); return n }, toString: function (t, e) { return void 0 === e && (e = ","), this.toArray(t).join(e) } }), hn.translate = function (t, e) { return new hn(1, 0, 0, 1, t, e) }, hn.unit = function () { return new hn(1, 0, 0, 1, 0, 0) }, hn.rotate = function (t, e, n) { var i = new hn; return i.a = Math.cos(p(t)), i.b = Math.sin(p(t)), i.c = -i.b, i.d = i.a, i.e = e - e * i.a + n * i.b || 0, i.f = n - n * i.a - e * i.b || 0, i }, hn.scale = function (t, e) { return new hn(t, 0, 0, e, 0, 0) }, hn.IDENTITY = hn.unit(), ln = Ge.extend({ init: function (t, e) { this.x = t || 0, this.y = e || 0 }, equals: function (t) { return t && t.x === this.x && t.y === this.y }, clone: function () { return new ln(this.x, this.y) }, rotate: function (t, e) { var n = ln.create(e) || ln.ZERO; return this.transform(hn.rotate(t, n.x, n.y)) }, translate: function (t, e) { return this.x += t, this.y += e, this.geometryChange(), this }, translateWith: function (t) { return this.translate(t.x, t.y) }, move: function (t, e) { return this.x = this.y = 0, this.translate(t, e) }, scale: function (t, e) { return void 0 === e && (e = t), this.x *= t, this.y *= e, this.geometryChange(), this }, scaleCopy: function (t, e) { return this.clone().scale(t, e) }, transform: function (t) { var e = S(t), n = this, i = n.x, r = n.y; return this.x = e.a * i + e.c * r + e.e, this.y = e.b * i + e.d * r + e.f, this.geometryChange(), this }, transformCopy: function (t) { var e = this.clone(); return t && e.transform(t), e }, distanceTo: function (t) { var e = this.x - t.x, n = this.y - t.y; return Math.sqrt(e * e + n * n) }, round: function (t) { return this.x = m(this.x, t), this.y = m(this.y, t), this.geometryChange(), this }, toArray: function (t) { var e = i(t), n = e ? m(this.x, t) : this.x, r = e ? m(this.y, t) : this.y; return [n, r] }, toString: function (t, e) { var n, r, o; return void 0 === e && (e = " "), n = this, r = n.x, o = n.y, i(t) && (r = m(r, t), o = m(o, t)), r + e + o } }), ln.create = function (t, e) { if (i(t)) return t instanceof ln ? t : 1 === arguments.length && 2 === t.length ? new ln(t[0], t[1]) : new ln(t, e) }, ln.min = function () { var t, e, n = arguments, i = tn, r = tn; for (t = 0; t < arguments.length; t++)e = n[t], i = Math.min(e.x, i), r = Math.min(e.y, r); return new ln(i, r) }, ln.max = function () { var t, e, n = arguments, i = en, r = en; for (t = 0; t < arguments.length; t++)e = n[t], i = Math.max(e.x, i), r = Math.max(e.y, r); return new ln(i, r) }, ln.minPoint = function () { return new ln(en, en) }, ln.maxPoint = function () { return new ln(tn, tn) }, Object.defineProperties && Object.defineProperties(ln, { ZERO: { get: function () { return new ln(0, 0) } } }), M(ln.prototype, ["x", "y"]), We.extend(ln.prototype), cn = Ge.extend({ init: function (t, e) { this.width = t || 0, this.height = e || 0 }, equals: function (t) { return t && t.width === this.width && t.height === this.height }, clone: function () { return new cn(this.width, this.height) }, toArray: function (t) { var e = i(t), n = e ? m(this.width, t) : this.width, r = e ? m(this.height, t) : this.height; return [n, r] } }), cn.create = function (t, e) { if (i(t)) return t instanceof cn ? t : 1 === arguments.length && 2 === t.length ? new cn(t[0], t[1]) : new cn(t, e) }, Object.defineProperties && Object.defineProperties(cn, { ZERO: { get: function () { return new cn(0, 0) } } }), M(cn.prototype, ["width", "height"]), We.extend(cn.prototype), un = Ge.extend({ init: function (t, e) { void 0 === t && (t = new ln), void 0 === e && (e = new cn), this.setOrigin(t), this.setSize(e) }, clone: function () { return new un(this.origin.clone(), this.size.clone()) }, equals: function (t) { return t && t.origin.equals(this.origin) && t.size.equals(this.size) }, setOrigin: function (t) { return this._observerField("origin", ln.create(t)), this.geometryChange(), this }, getOrigin: function () { return this.origin }, setSize: function (t) { return this._observerField("size", cn.create(t)), this.geometryChange(), this }, getSize: function () { return this.size }, width: function () { return this.size.width }, height: function () { return this.size.height }, topLeft: function () { return this.origin.clone() }, bottomRight: function () { return this.origin.clone().translate(this.width(), this.height()) }, topRight: function () { return this.origin.clone().translate(this.width(), 0) }, bottomLeft: function () { return this.origin.clone().translate(0, this.height()) }, center: function () { return this.origin.clone().translate(this.width() / 2, this.height() / 2) }, bbox: function (t) { var e = this.topLeft().transformCopy(t), n = this.topRight().transformCopy(t), i = this.bottomRight().transformCopy(t), r = this.bottomLeft().transformCopy(t); return un.fromPoints(e, n, i, r) }, transformCopy: function (t) { return un.fromPoints(this.topLeft().transform(t), this.bottomRight().transform(t)) }, expand: function (t, e) { return void 0 === e && (e = t), this.size.width += 2 * t, this.size.height += 2 * e, this.origin.translate(-t, -e), this }, expandCopy: function (t, e) { return this.clone().expand(t, e) }, containsPoint: function (t) { var e = this.origin, n = this.bottomRight(); return !(t.x < e.x || t.y < e.y || n.x < t.x || n.y < t.y) }, _isOnPath: function (t, e) { var n = this.expandCopy(e, e), i = this.expandCopy(-e, -e); return n.containsPoint(t) && !i.containsPoint(t) } }), un.fromPoints = function () { var t = ln.min.apply(null, arguments), e = ln.max.apply(null, arguments), n = new cn(e.x - t.x, e.y - t.y); return new un(t, n) }, un.union = function (t, e) { return un.fromPoints(ln.min(t.topLeft(), e.topLeft()), ln.max(t.bottomRight(), e.bottomRight())) }, un.intersect = function (t, e) { var n = { left: t.topLeft().x, top: t.topLeft().y, right: t.bottomRight().x, bottom: t.bottomRight().y }, i = { left: e.topLeft().x, top: e.topLeft().y, right: e.bottomRight().x, bottom: e.bottomRight().y }; if (n.left <= i.right && i.left <= n.right && n.top <= i.bottom && i.top <= n.bottom) return un.fromPoints(new ln(Math.max(n.left, i.left), Math.max(n.top, i.top)), new ln(Math.min(n.right, i.right), Math.min(n.bottom, i.bottom))) }, We.extend(un.prototype), dn = Ge.extend({ init: function (t) { void 0 === t && (t = hn.unit()), this._matrix = t }, clone: function () { return new dn(this._matrix.clone()) }, equals: function (t) { return t && t._matrix.equals(this._matrix) }, translate: function (t, e) { return this._matrix = this._matrix.multiplyCopy(hn.translate(t, e)), this._optionsChange(), this }, scale: function (t, e, n) { void 0 === e && (e = t), void 0 === n && (n = null); var i = n; return i && (i = ln.create(i), this._matrix = this._matrix.multiplyCopy(hn.translate(i.x, i.y))), this._matrix = this._matrix.multiplyCopy(hn.scale(t, e)), i && (this._matrix = this._matrix.multiplyCopy(hn.translate(-i.x, -i.y))), this._optionsChange(), this }, rotate: function (t, e) { var n = ln.create(e) || ln.ZERO; return this._matrix = this._matrix.multiplyCopy(hn.rotate(t, n.x, n.y)), this._optionsChange(), this }, multiply: function (t) { var e = S(t); return this._matrix = this._matrix.multiplyCopy(e), this._optionsChange(), this }, matrix: function (t) { return t ? (this._matrix = t, this._optionsChange(), this) : this._matrix }, _optionsChange: function () { this.optionsChange({ field: "transform", value: this }) } }), We.extend(dn.prototype), fn = Ge.extend({ init: function (t) { this._initOptions(t) }, _initOptions: function (t) { var e, n; void 0 === t && (t = {}), e = t.clip, n = t.transform, n && (t.transform = E(n)), e && !e.id && (e.id = r()), this.options = new an(t), this.options.addObserver(this) }, transform: function (t) { return i(t) ? void this.options.set("transform", E(t)) : this.options.get("transform") }, parentTransform: function () { for (var t, e, n = this; n.parent;)n = n.parent, e = n.transform(), e && (t = e.matrix().multiplyCopy(t || hn.unit())); if (t) return E(t) }, currentTransform: function (t) { var e, n, i, r; if (void 0 === t && (t = this.parentTransform()), e = this.transform(), n = S(e), i = S(t), r = n && i ? i.multiplyCopy(n) : n || i) return E(r) }, visible: function (t) { return i(t) ? (this.options.set("visible", t), this) : this.options.get("visible") !== !1 }, clip: function (t) { var e = this.options; return i(t) ? (t && !t.id && (t.id = r()), e.set("clip", t), this) : e.get("clip") }, opacity: function (t) { return i(t) ? (this.options.set("opacity", t), this) : v(this.options.get("opacity"), 1) }, clippedBBox: function (t) { var e, n = this._clippedBBox(t); if (n) return e = this.clip(), e ? un.intersect(n, e.bbox(t)) : n }, containsPoint: function (t, e) { var n, i; return !!this.visible() && (n = this.currentTransform(e), i = t, n && (i = t.transformCopy(n.matrix().invert())), this._hasFill() && this._containsPoint(i) || this._isOnPath && this._hasStroke() && this._isOnPath(i)) }, _hasFill: function () { var t = this.options.fill; return t && !c(t.color) }, _hasStroke: function () { var t = this.options.stroke; return t && t.width > 0 && !c(t.color) }, _clippedBBox: function (t) { return this.bbox(t) } }), fn.prototype.nodeType = "Element", We.extend(fn.prototype), pn = Math.PI / 2, gn = Ge.extend({ init: function (t, e) { void 0 === t && (t = new ln), void 0 === e && (e = 0), this.setCenter(t), this.setRadius(e) }, setCenter: function (t) { return this._observerField("center", ln.create(t)), this.geometryChange(), this }, getCenter: function () { return this.center }, equals: function (t) { return t && t.center.equals(this.center) && t.radius === this.radius }, clone: function () { return new gn(this.center.clone(), this.radius) }, pointAt: function (t) { return this._pointAt(p(t)) }, bbox: function (t) { var e, n, i, r, o = this, s = A(this.center, this.radius, this.radius, t), a = ln.maxPoint(), h = ln.minPoint(); for (e = 0; e < 4; e++)n = o._pointAt(s.x + e * pn).transformCopy(t), i = o._pointAt(s.y + e * pn).transformCopy(t), r = new ln(n.x, i.y), a = ln.min(a, r), h = ln.max(h, r); return un.fromPoints(a, h) }, _pointAt: function (t) { var e = this, n = e.center, i = e.radius; return new ln(n.x + i * Math.cos(t), n.y + i * Math.sin(t)) }, containsPoint: function (t) { var e = this, n = e.center, i = e.radius, r = Math.pow(t.x - n.x, 2) + Math.pow(t.y - n.y, 2) <= Math.pow(i, 2); return r }, _isOnPath: function (t, e) { var n = this, i = n.center, r = n.radius, o = i.distanceTo(t); return r - e <= o && o <= r + e } }), M(gn.prototype, ["radius"]), We.extend(gn.prototype), mn = "Gradient", vn = { extend: function (t) { t.fill = this.fill, t.stroke = this.stroke }, fill: function (t, e) { var n, r = this.options; return i(t) ? (t && t.nodeType !== mn ? (n = { color: t }, i(e) && (n.opacity = e), r.set("fill", n)) : r.set("fill", t), this) : r.get("fill") }, stroke: function (t, e, n) { return i(t) ? (this.options.set("stroke.color", t), i(e) && this.options.set("stroke.width", e), i(n) && this.options.set("stroke.opacity", n), this) : this.options.get("stroke") } }, xn = "" + hn.IDENTITY, yn = { extend: function (t) { t.bbox = this.bbox, t.geometryChange = this.geometryChange }, bbox: function (t) { var e, n, i = S(this.currentTransform(t)), r = i ? "" + i : xn; return this._bboxCache && this._matrixHash === r ? e = this._bboxCache.clone() : (e = this._bbox(i), this._bboxCache = e ? e.clone() : null, this._matrixHash = r), n = this.options.get("stroke.width"), n && e && e.expand(n / 2), e }, geometryChange: function () { delete this._bboxCache, this.trigger("geometryChange", { element: this }) } }, wn = "#000", _n = fn.extend({ init: function (t, e) { void 0 === t && (t = new gn), void 0 === e && (e = {}), fn.fn.init.call(this, e), this.geometry(t), i(this.options.stroke) || this.stroke(wn) }, rawBBox: function () { return this._geometry.bbox() }, _bbox: function (t) { return this._geometry.bbox(t) }, _containsPoint: function (t) { return this.geometry().containsPoint(t) }, _isOnPath: function (t) { return this.geometry()._isOnPath(t, this.options.stroke.width / 2) } }), _n.prototype.nodeType = "Circle", vn.extend(_n.prototype), yn.extend(_n.prototype), O(_n.prototype, ["geometry"]), bn = 10, Cn = 45, kn = Math.pow, Tn = Ge.extend({ init: function (t, e) { void 0 === t && (t = new ln), void 0 === e && (e = {}), this.setCenter(t), this.radiusX = e.radiusX, this.radiusY = e.radiusY || e.radiusX, this.startAngle = e.startAngle, this.endAngle = e.endAngle, this.anticlockwise = e.anticlockwise || !1, this.xRotation = e.xRotation }, clone: function () { return new Tn(this.center, { radiusX: this.radiusX, radiusY: this.radiusY, startAngle: this.startAngle, endAngle: this.endAngle, anticlockwise: this.anticlockwise }) }, setCenter: function (t) { return this._observerField("center", ln.create(t)), this.geometryChange(), this }, getCenter: function () { return this.center }, pointAt: function (t) { var e = this.center, n = p(t); return new ln(e.x + this.radiusX * Math.cos(n), e.y + this.radiusY * Math.sin(n)) }, curvePoints: function () { var t, e, n, i, r = this, o = this.startAngle, s = this.anticlockwise ? -1 : 1, a = [this.pointAt(o)], h = this._arcInterval(), l = h.endAngle - h.startAngle, c = Math.ceil(l / Cn), u = l / c, d = o; for (this.xRotation && (t = E().rotate(this.xRotation, this.center)), e = 1; e <= c; e++)n = d + s * u, i = r._intervalCurvePoints(d, n, t), a.push(i.cp1, i.cp2, i.p2), d = n; return a }, bbox: function (t) { for (var e, n, i = this, r = this._arcInterval(), s = r.startAngle, a = r.endAngle, h = A(this.center, this.radiusX, this.radiusY, t), l = o(h.x), c = o(h.y), u = this.pointAt(a).transformCopy(t), d = L(l, s), f = L(c, s), p = this.pointAt(s).transformCopy(t), g = ln.min(p, u), m = ln.max(p, u); d < a || f < a;)e = void 0, d < a && (e = i.pointAt(d).transformCopy(t), d += 90), n = void 0, f < a && (n = i.pointAt(f).transformCopy(t), f += 90), p = new ln(e.x, n.y), g = ln.min(g, p), m = ln.max(m, p); return un.fromPoints(g, m) }, _arcInterval: function () { var t, e = this, n = e.startAngle, i = e.endAngle, r = e.anticlockwise; return r && (t = n, n = i, i = t), (n > i || r && n === i) && (i += 360), { startAngle: n, endAngle: i } }, _intervalCurvePoints: function (t, e, n) { var i = this.pointAt(t), r = this.pointAt(e), o = this._derivativeAt(t), s = this._derivativeAt(e), a = (p(e) - p(t)) / 3, h = new ln(i.x + a * o.x, i.y + a * o.y), l = new ln(r.x - a * s.x, r.y - a * s.y); return n && (i.transform(n), r.transform(n), h.transform(n), l.transform(n)), { p1: i, cp1: h, cp2: l, p2: r } }, _derivativeAt: function (t) { var e = p(t); return new ln(-this.radiusX * Math.sin(e), this.radiusY * Math.cos(e)) }, containsPoint: function (t) { var e, n, i, r = this._arcInterval(), o = r.endAngle - r.startAngle, s = this, a = s.center, h = s.radiusX, l = s.radiusY, c = a.distanceTo(t), u = Math.atan2(t.y - a.y, t.x - a.x), d = h * l / Math.sqrt(kn(h, 2) * kn(Math.sin(u), 2) + kn(l, 2) * kn(Math.cos(u), 2)), f = this.pointAt(this.startAngle).round(bn), p = this.pointAt(this.endAngle).round(bn), g = R(a, t.round(bn), f, p); return o < 180 ? e = g && N(a.distanceTo(g), c) && N(c, d) : (n = B(a.x, a.y, h, l, t.x, t.y), 360 !== n && (n = (360 + n) % 360), i = r.startAngle <= n && n <= r.endAngle, e = i && N(c, d) || !i && (!g || g.equals(t))), e }, _isOnPath: function (t, e) { var n, i = this._arcInterval(), r = this.center, o = B(r.x, r.y, this.radiusX, this.radiusY, t.x, t.y); return 360 !== o && (o = (360 + o) % 360), n = i.startAngle <= o && o <= i.endAngle, n && this.pointAt(o).distanceTo(t) <= e } }), Tn.fromPoints = function (t, e, n, i, r, o, s) { var a = F({ x1: t.x, y1: t.y, x2: e.x, y2: e.y, rx: n, ry: i, largeArc: r, swipe: o, rotation: s }); return new Tn(a.center, { startAngle: a.startAngle, endAngle: a.endAngle, radiusX: a.radiusX, radiusY: a.radiusY, xRotation: a.xRotation, anticlockwise: 0 === o }) }, M(Tn.prototype, ["radiusX", "radiusY", "startAngle", "endAngle", "anticlockwise"]), We.extend(Tn.prototype), Mn = [].push, Sn = [].pop, En = [].splice, An = [].shift, Pn = [].slice, On = [].unshift, zn = Ge.extend({ init: function (t) { void 0 === t && (t = []), this.length = 0, this._splice(0, t.length, t) }, elements: function (t) { return t ? (this._splice(0, this.length, t), this._change(), this) : this.slice(0) }, push: function () { var t = arguments, e = Mn.apply(this, t); return this._add(t), e }, slice: function () { return Pn.call(this) }, pop: function () { var t = this.length, e = Sn.apply(this); return t && this._remove([e]), e }, splice: function (t, e) { var n = Pn.call(arguments, 2), i = this._splice(t, e, n); return this._change(), i }, shift: function () { var t = this.length, e = An.apply(this); return t && this._remove([e]), e }, unshift: function () { var t = arguments, e = On.apply(this, t); return this._add(t), e }, indexOf: function (t) { var e, n = this, i = this.length; for (e = 0; e < i; e++)if (n[e] === t) return e; return -1 }, _splice: function (t, e, n) { var i = En.apply(this, [t, e].concat(n)); return this._clearObserver(i), this._setObserver(n), i }, _add: function (t) { this._setObserver(t), this._change() }, _remove: function (t) { this._clearObserver(t), this._change() }, _setObserver: function (t) { var e, n = this; for (e = 0; e < t.length; e++)t[e].addObserver(n) }, _clearObserver: function (t) { var e, n = this; for (e = 0; e < t.length; e++)t[e].removeObserver(n) }, _change: function () { } }), We.extend(zn.prototype), Nn = zn.extend({ _change: function () { this.geometryChange() } }), Rn = Ge.extend({
            init: function (t, e) { void 0 === t && (t = 0), void 0 === e && (e = 0), this.real = t, this.img = e }, add: function (t) {
                return new Rn(m(this.real + t.real, bn), m(this.img + t.img, bn))
            }, addConstant: function (t) { return new Rn(this.real + t, this.img) }, negate: function () { return new Rn((-this.real), (-this.img)) }, multiply: function (t) { return new Rn(this.real * t.real - this.img * t.img, this.real * t.img + this.img * t.real) }, multiplyConstant: function (t) { return new Rn(this.real * t, this.img * t) }, nthRoot: function (t) { var e = Math.atan2(this.img, this.real), n = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2)), i = Math.pow(n, 1 / t); return new Rn(i * Math.cos(e / t), i * Math.sin(e / t)) }, equals: function (t) { return this.real === t.real && this.img === t.img }, isReal: function () { return 0 === this.img }
        }), Bn = Ge.extend({ init: function (t, e, n) { this.anchor(t || new ln), this.controlIn(e), this.controlOut(n) }, bboxTo: function (t, e) { var n, i = this.anchor().transformCopy(e), r = t.anchor().transformCopy(e); return n = this.controlOut() && t.controlIn() ? this._curveBoundingBox(i, this.controlOut().transformCopy(e), t.controlIn().transformCopy(e), r) : this._lineBoundingBox(i, r) }, _lineBoundingBox: function (t, e) { return un.fromPoints(t, e) }, _curveBoundingBox: function (t, e, n, i) { var r = [t, e, n, i], o = this._curveExtremesFor(r, "x"), s = this._curveExtremesFor(r, "y"), a = W([o.min, o.max, t.x, i.x]), h = W([s.min, s.max, t.y, i.y]); return un.fromPoints(new ln(a.min, h.min), new ln(a.max, h.max)) }, _curveExtremesFor: function (t, e) { var n = this._curveExtremes(t[0][e], t[1][e], t[2][e], t[3][e]); return { min: j(n.min, e, t), max: j(n.max, e, t) } }, _curveExtremes: function (t, e, n, i) { var r, o, s = t - 3 * e + 3 * n - i, a = -2 * (t - 2 * e + n), h = t - e, l = Math.sqrt(a * a - 4 * s * h), c = 0, u = 1; return 0 === s ? 0 !== a && (c = u = -h / a) : isNaN(l) || (c = (-a + l) / (2 * s), u = (-a - l) / (2 * s)), r = Math.max(Math.min(c, u), 0), (r < 0 || r > 1) && (r = 0), o = Math.min(Math.max(c, u), 1), (o > 1 || o < 0) && (o = 1), { min: r, max: o } }, _intersectionsTo: function (t, e) { var n; return n = this.controlOut() && t.controlIn() ? X([this.anchor(), this.controlOut(), t.controlIn(), t.anchor()], e, this.bboxTo(t)) : Y(this.anchor(), t.anchor(), e) }, _isOnCurveTo: function (t, e, n, i) { var r, o, s, a, h, l, c, u = this.bboxTo(t).expand(n, n); if (u.containsPoint(e)) return r = this.anchor(), o = this.controlOut(), s = t.controlIn(), a = t.anchor(), "start" === i && r.distanceTo(e) <= n ? !H(r, o, e) : "end" === i && a.distanceTo(e) <= n ? !H(a, s, e) : (h = [r, o, s, a], !(!U(h, e, "x", "y", n) && !U(h, e, "y", "x", n)) || (l = E().rotate(45, e), c = [r.transformCopy(l), o.transformCopy(l), s.transformCopy(l), a.transformCopy(l)], U(c, e, "x", "y", n) || U(c, e, "y", "x", n))) }, _isOnLineTo: function (t, e, n) { var i = this.anchor(), r = t.anchor(), s = o(Math.atan2(r.y - i.y, r.x - i.x)), a = new un([i.x, i.y - n / 2], [i.distanceTo(r), n]); return a.containsPoint(e.transformCopy(E().rotate(-s, i))) }, _isOnPathTo: function (t, e, n, i) { var r; return r = this.controlOut() && t.controlIn() ? this._isOnCurveTo(t, e, n / 2, i) : this._isOnLineTo(t, e, n) } }), D(Bn.prototype, ["anchor", "controlIn", "controlOut"]), We.extend(Bn.prototype), Fn = fn.extend({ init: function (t) { fn.fn.init.call(this, t), this.segments = new Nn, this.segments.addObserver(this), i(this.options.stroke) || (this.stroke("#000"), i(this.options.stroke.lineJoin) || this.options.set("stroke.lineJoin", "miter")) }, moveTo: function (t, e) { return this.suspend(), this.segments.elements([]), this.resume(), this.lineTo(t, e), this }, lineTo: function (t, e) { var n = i(e) ? new ln(t, e) : t, r = new Bn(n); return this.segments.push(r), this }, curveTo: function (t, e, n) { var i, r; return this.segments.length > 0 && (i = u(this.segments), r = new Bn(n, e), this.suspend(), i.controlOut(t), this.resume(), this.segments.push(r)), this }, arc: function (t, e, n, i, r) { var o, s, a, h, l; return this.segments.length > 0 && (o = u(this.segments), s = o.anchor(), a = p(t), h = new ln(s.x - n * Math.cos(a), s.y - i * Math.sin(a)), l = new Tn(h, { startAngle: t, endAngle: e, radiusX: n, radiusY: i, anticlockwise: r }), this._addArcSegments(l)), this }, arcTo: function (t, e, n, i, r, o) { var s, a, h; return this.segments.length > 0 && (s = u(this.segments), a = s.anchor(), h = Tn.fromPoints(a, t, e, n, i, r, o), this._addArcSegments(h)), this }, _addArcSegments: function (t) { var e, n, i = this; for (this.suspend(), e = t.curvePoints(), n = 1; n < e.length; n += 3)i.curveTo(e[n], e[n + 1], e[n + 2]); this.resume(), this.geometryChange() }, close: function () { return this.options.closed = !0, this.geometryChange(), this }, rawBBox: function () { return this._bbox() }, _containsPoint: function (t) { var e, n, i, r = this.segments, o = r.length, s = 0; for (i = 1; i < o; i++)e = r[i - 1], n = r[i], s += e._intersectionsTo(n, t); return !this.options.closed && r[0].anchor().equals(r[o - 1].anchor()) || (s += Y(r[0].anchor(), r[o - 1].anchor(), t)), s % 2 !== 0 }, _isOnPath: function (t, e) { var n, i = this.segments, r = i.length, o = e || this.options.stroke.width; if (r > 1) { if (i[0]._isOnPathTo(i[1], t, o, "start")) return !0; for (n = 2; n <= r - 2; n++)if (i[n - 1]._isOnPathTo(i[n], t, o)) return !0; if (i[r - 2]._isOnPathTo(i[r - 1], t, o, "end")) return !0 } return !1 }, _bbox: function (t) { var e, n, i, r, o = this.segments, s = o.length; if (1 === s) n = o[0].anchor().transformCopy(t), e = new un(n, cn.ZERO); else if (s > 0) for (i = 1; i < s; i++)r = o[i - 1].bboxTo(o[i], t), e = e ? un.union(e, r) : r; return e } }), Fn.fromRect = function (t, e) { return new Fn(e).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close() }, Fn.fromPoints = function (t, e) { var n, i, r; if (t) { for (n = new Fn(e), i = 0; i < t.length; i++)r = ln.create(t[i]), r && (0 === i ? n.moveTo(r) : n.lineTo(r)); return n } }, Fn.fromArc = function (t, e) { var n = new Fn(e), i = t.startAngle, r = t.pointAt(i); return n.moveTo(r.x, r.y), n.arc(i, t.endAngle, t.radiusX, t.radiusY, t.anticlockwise), n }, Fn.prototype.nodeType = "Path", vn.extend(Fn.prototype), yn.extend(Fn.prototype), Ln = "#000", In = fn.extend({ init: function (t, e) { void 0 === t && (t = new Tn), void 0 === e && (e = {}), fn.fn.init.call(this, e), this.geometry(t), i(this.options.stroke) || this.stroke(Ln) }, _bbox: function (t) { return this._geometry.bbox(t) }, rawBBox: function () { return this.geometry().bbox() }, toPath: function () { var t, e = new Fn, n = this.geometry().curvePoints(); if (n.length > 0) for (e.moveTo(n[0].x, n[0].y), t = 1; t < n.length; t += 3)e.curveTo(n[t], n[t + 1], n[t + 2]); return e }, _containsPoint: function (t) { return this.geometry().containsPoint(t) }, _isOnPath: function (t) { return this.geometry()._isOnPath(t, this.options.stroke.width / 2) } }), In.prototype.nodeType = "Arc", vn.extend(In.prototype), yn.extend(In.prototype), O(In.prototype, ["geometry"]), Dn = fn.extend({ init: function (t) { fn.fn.init.call(this, t), this.paths = new Nn, this.paths.addObserver(this), i(this.options.stroke) || this.stroke("#000") }, moveTo: function (t, e) { var n = new Fn; return n.moveTo(t, e), this.paths.push(n), this }, lineTo: function (t, e) { return this.paths.length > 0 && u(this.paths).lineTo(t, e), this }, curveTo: function (t, e, n) { return this.paths.length > 0 && u(this.paths).curveTo(t, e, n), this }, arc: function (t, e, n, i, r) { return this.paths.length > 0 && u(this.paths).arc(t, e, n, i, r), this }, arcTo: function (t, e, n, i, r, o) { return this.paths.length > 0 && u(this.paths).arcTo(t, e, n, i, r, o), this }, close: function () { return this.paths.length > 0 && u(this.paths).close(), this }, _bbox: function (t) { return Q(this.paths, !0, t) }, rawBBox: function () { return Q(this.paths, !1) }, _containsPoint: function (t) { var e, n = this.paths; for (e = 0; e < n.length; e++)if (n[e]._containsPoint(t)) return !0; return !1 }, _isOnPath: function (t) { var e, n = this.paths, i = this.options.stroke.width; for (e = 0; e < n.length; e++)if (n[e]._isOnPath(t, i)) return !0; return !1 }, _clippedBBox: function (t) { return Z(this.paths, this.currentTransform(t)) } }), Dn.prototype.nodeType = "MultiPath", vn.extend(Dn.prototype), yn.extend(Dn.prototype), Hn = "12px sans-serif", jn = "#000", qn = fn.extend({ init: function (t, e, n) { void 0 === e && (e = new ln), void 0 === n && (n = {}), fn.fn.init.call(this, n), this.content(t), this.position(e), this.options.font || (this.options.font = Hn), i(this.options.fill) || this.fill(jn) }, content: function (t) { return i(t) ? (this.options.set("content", t), this) : this.options.get("content") }, measure: function () { var t = $e.measureText(this.content(), { font: this.options.get("font") }); return t }, rect: function () { var t = this.measure(), e = this.position().clone(); return new un(e, [t.width, t.height]) }, bbox: function (t) { var e = S(this.currentTransform(t)); return this.rect().bbox(e) }, rawBBox: function () { return this.rect().bbox() }, _containsPoint: function (t) { return this.rect().containsPoint(t) } }), qn.prototype.nodeType = "Text", vn.extend(qn.prototype), D(qn.prototype, ["position"]), Gn = fn.extend({ init: function (t, e, n) { void 0 === e && (e = new un), void 0 === n && (n = {}), fn.fn.init.call(this, n), this.src(t), this.rect(e) }, src: function (t) { return i(t) ? (this.options.set("src", t), this) : this.options.get("src") }, bbox: function (t) { var e = S(this.currentTransform(t)); return this._rect.bbox(e) }, rawBBox: function () { return this._rect.bbox() }, _containsPoint: function (t) { return this._rect.containsPoint(t) }, _hasFill: function () { return this.src() } }), Gn.prototype.nodeType = "Image", O(Gn.prototype, ["rect"]), $n = { extend: function (t, e) { t.traverse = function (t) { var n, i, r = this[e]; for (n = 0; n < r.length; n++)i = r[n], i.traverse ? i.traverse(t) : t(i); return this } } }, Vn = fn.extend({ init: function (t) { fn.fn.init.call(this, t), this.children = [] }, childrenChange: function (t, e, n) { this.trigger("childrenChange", { action: t, items: e, index: n }) }, append: function () { return e(this.children, arguments), this._reparent(arguments, this), this.childrenChange("add", arguments), this }, insert: function (t, e) { return this.children.splice(t, 0, e), e.parent = this, this.childrenChange("add", [e], t), this }, insertAt: function (t, e) { return this.insert(e, t) }, remove: function (t) { var e = this.children.indexOf(t); return e >= 0 && (this.children.splice(e, 1), t.parent = null, this.childrenChange("remove", [t], e)), this }, removeAt: function (t) { if (0 <= t && t < this.children.length) { var e = this.children[t]; this.children.splice(t, 1), e.parent = null, this.childrenChange("remove", [e], t) } return this }, clear: function () { var t = this.children; return this.children = [], this._reparent(t, null), this.childrenChange("remove", t, 0), this }, bbox: function (t) { return Q(this.children, !0, this.currentTransform(t)) }, rawBBox: function () { return Q(this.children, !1) }, _clippedBBox: function (t) { return Z(this.children, this.currentTransform(t)) }, currentTransform: function (t) { return fn.prototype.currentTransform.call(this, t) || null }, containsPoint: function (t, e) { var n, i, r; if (this.visible()) for (n = this.children, i = this.currentTransform(e), r = 0; r < n.length; r++)if (n[r].containsPoint(t, i)) return !0; return !1 }, _reparent: function (t, e) { var n, i, r, o = this; for (n = 0; n < t.length; n++)i = t[n], r = i.parent, r && r !== o && r.remove && r.remove(i), i.parent = e } }), Vn.prototype.nodeType = "Group", $n.extend(Vn.prototype, "children"), Un = { alignContent: "start", justifyContent: "start", alignItems: "start", spacing: 0, orientation: "horizontal", lineSpacing: 0, wrap: !0, revers: !1 }, Xn = function (t, e) { t.forEach(e) }, Yn = function (t, e) { var n, i = t.length; for (n = i - 1; n >= 0; n--)e(t[n], n) }, Wn = Vn.extend({ init: function (e, n) { Vn.fn.init.call(this, t.extend({}, Un, n)), this._rect = e, this._fieldMap = {} }, rect: function (t) { return t ? (this._rect = t, this) : this._rect }, _initMap: function () { var t = this.options, e = this._fieldMap; "horizontal" === t.orientation ? (e.sizeField = "width", e.groupsSizeField = "height", e.groupAxis = "x", e.groupsAxis = "y") : (e.sizeField = "height", e.groupsSizeField = "width", e.groupAxis = "y", e.groupsAxis = "x"), t.reverse ? (this.forEach = Yn, this.justifyAlign = tt) : (this.forEach = Xn, this.justifyAlign = K) }, reflow: function () { var t, e, n, i, r, o, s, a, h, l, c, u, d, f, p, g, m, v, x, y, w, _, b, C, k = this; if (this._rect && 0 !== this.children.length) { for (this._initMap(), this.options.transform && this.transform(null), t = this.options, e = this._rect, n = this._initGroups(), i = n.groups, r = n.groupsSize, o = this._fieldMap, s = o.sizeField, a = o.groupsSizeField, h = o.groupAxis, l = o.groupsAxis, c = new ln, u = new ln, d = new cn, f = K(r, e, t.alignContent, l, a), v = function (e, n) { var i = g.elements[n]; u[h] = p, u[l] = K(e.size[a], m, t.alignItems, l, a), J(u, e, i), p += e.size[s] + t.spacing }, x = 0; x < i.length; x++)g = i[x], c[h] = p = k.justifyAlign(g.size, e, t.justifyContent, h, s), c[l] = f, d[s] = g.size, d[a] = g.lineSize, m = new un(c, d), k.forEach(g.bboxes, v), f += g.lineSize + t.lineSpacing; !t.wrap && g.size > e.size[s] && (y = e.size[s] / m.size[s], w = m.topLeft().scale(y, y), _ = m.size[a] * y, b = K(_, e, t.alignContent, l, a), C = E(), "x" === h ? C.translate(e.origin.x - w.x, b - w.y) : C.translate(b - w.x, e.origin.y - w.y), C.scale(y, y), this.transform(C)) } }, _initGroups: function () { var t, e, n, i = this, r = this, o = r.options, s = r.children, a = o.lineSpacing, h = o.wrap, l = o.spacing, c = this._fieldMap.sizeField, u = this._newGroup(), d = [], f = function () { d.push(u), p += u.lineSize + a }, p = -a; for (t = 0; t < s.length; t++)e = s[t], n = s[t].clippedBBox(), e.visible() && n && (h && u.size + n.size[c] + l > i._rect.size[c] ? 0 === u.bboxes.length ? (i._addToGroup(u, n, e), f(), u = i._newGroup()) : (f(), u = i._newGroup(), i._addToGroup(u, n, e)) : i._addToGroup(u, n, e)); return u.bboxes.length && f(), { groups: d, groupsSize: p } }, _addToGroup: function (t, e, n) { t.size += e.size[this._fieldMap.sizeField] + this.options.spacing, t.lineSize = Math.max(e.size[this._fieldMap.groupsSizeField], t.lineSize), t.bboxes.push(e), t.elements.push(n) }, _newGroup: function () { return { lineSize: 0, size: -this.options.spacing, bboxes: [], elements: [] } } }), Qn = fn.extend({ init: function (t, e) { void 0 === t && (t = new un), void 0 === e && (e = {}), fn.fn.init.call(this, e), this.geometry(t), i(this.options.stroke) || this.stroke("#000") }, _bbox: function (t) { return this._geometry.bbox(t) }, rawBBox: function () { return this._geometry.bbox() }, _containsPoint: function (t) { return this._geometry.containsPoint(t) }, _isOnPath: function (t) { return this.geometry()._isOnPath(t, this.options.stroke.width / 2) } }), Qn.prototype.nodeType = "Rect", vn.extend(Qn.prototype), yn.extend(Qn.prototype), O(Qn.prototype, ["geometry"]), Zn = zn.extend({ _change: function () { this.optionsChange({ field: "stops" }) } }), Jn = Ge.extend({ init: function (t, e, n) { this.options = new an({ offset: t, color: e, opacity: i(n) ? n : 1 }), this.options.addObserver(this) } }), Jn.create = function (t) { if (i(t)) { var e; return e = t instanceof Jn ? t : t.length > 1 ? new Jn(t[0], t[1], t[2]) : new Jn(t.offset, t.color, t.opacity) } }, pt(Jn.prototype, ["offset", "color", "opacity"]), We.extend(Jn.prototype), Kn = Ge.extend({ init: function (t) { void 0 === t && (t = {}), this.stops = new Zn(this._createStops(t.stops)), this.stops.addObserver(this), this._userSpace = t.userSpace, this.id = r() }, userSpace: function (t) { return i(t) ? (this._userSpace = t, this.optionsChange(), this) : this._userSpace }, _createStops: function (t) { var e, n; for (void 0 === t && (t = []), e = [], n = 0; n < t.length; n++)e.push(Jn.create(t[n])); return e }, addStop: function (t, e, n) { this.stops.push(new Jn(t, e, n)) }, removeStop: function (t) { var e = this.stops.indexOf(t); e >= 0 && this.stops.splice(e, 1) } }), Kn.prototype.nodeType = "Gradient", We.extend(Kn.prototype), t.extend(Kn.prototype, { optionsChange: function (t) { this.trigger("optionsChange", { field: "gradient" + (t ? "." + t.field : ""), value: this }) }, geometryChange: function () { this.optionsChange() } }), ti = Kn.extend({ init: function (t) { void 0 === t && (t = {}), Kn.fn.init.call(this, t), this.start(t.start || new ln), this.end(t.end || new ln(1, 0)) } }), D(ti.prototype, ["start", "end"]), ei = Kn.extend({ init: function (t) { void 0 === t && (t = {}), Kn.fn.init.call(this, t), this.center(t.center || new ln), this._radius = i(t.radius) ? t.radius : 1, this._fallbackFill = t.fallbackFill }, radius: function (t) { return i(t) ? (this._radius = t, this.geometryChange(), this) : this._radius }, fallbackFill: function (t) { return i(t) ? (this._fallbackFill = t, this.optionsChange(), this) : this._fallbackFill } }), D(ei.prototype, ["center"]), ni = { swing: gt, linear: mt, easeOutElastic: vt }, ii = Date.now || function () { return (new Date).getTime() }, ri = Ge.extend({ init: function (e, n) { this.options = t.extend({}, this.options, n), this.element = e }, setup: function () { }, step: function () { }, play: function () { var t, e, n, i = this, r = this.options, o = r.duration, s = r.delay; void 0 === s && (s = 0), t = ni[r.easing], e = ii() + s, n = e + o, 0 === o ? (this.step(1), this.abort()) : setTimeout(function () { var r = function () { var s, a, h, l; i._stopped || (s = ii(), a = d(s - e, 0, o), h = a / o, l = t(h, a, 0, 1, o), i.step(l), s < n ? kendo.animationFrame(r) : i.abort()) }; r() }, s) }, abort: function () { this._stopped = !0 }, destroy: function () { this.abort() } }), ri.prototype.options = { duration: 500, easing: "swing" }, oi = Ge.extend({ init: function () { this._items = [] }, register: function (t, e) { this._items.push({ name: t, type: e }) }, create: function (t, e) { var n, i, r, o = this._items; if (e && e.type) for (i = e.type.toLowerCase(), r = 0; r < o.length; r++)if (o[r].name.toLowerCase() === i) { n = o[r]; break } if (n) return new n.type(t, e) } }), oi.current = new oi, ri.create = function (t, e, n) { return oi.current.create(t, e, n) }, si = { l: function (t, e) { var n, i, r = e.parameters, o = e.position; for (n = 0; n < r.length; n += 2)i = new ln(r[n], r[n + 1]), e.isRelative && i.translateWith(o), t.lineTo(i.x, i.y), o.x = i.x, o.y = i.y }, c: function (t, e) { var n, i, r, o, s = e.parameters, a = e.position; for (n = 0; n < s.length; n += 6)i = new ln(s[n], s[n + 1]), r = new ln(s[n + 2], s[n + 3]), o = new ln(s[n + 4], s[n + 5]), e.isRelative && (r.translateWith(a), i.translateWith(a), o.translateWith(a)), t.curveTo(i, r, o), a.x = o.x, a.y = o.y }, v: function (t, e) { var n = e.isRelative ? 0 : e.position.x; xt(e.parameters, !0, n), this.l(t, e) }, h: function (t, e) { var n = e.isRelative ? 0 : e.position.y; xt(e.parameters, !1, n), this.l(t, e) }, a: function (t, e) { var n, i, r, o, s, a, h, l = e.parameters, c = e.position; for (n = 0; n < l.length; n += 7)i = l[n], r = l[n + 1], o = l[n + 2], s = l[n + 3], a = l[n + 4], h = new ln(l[n + 5], l[n + 6]), e.isRelative && h.translateWith(c), c.x === h.x && c.y === h.y || (t.arcTo(h, i, r, s, a, o), c.x = h.x, c.y = h.y) }, s: function (t, e) { var n, i, r, o, s, a = e.parameters, h = e.position, l = e.previousCommand; for ("s" !== l && "c" !== l || (n = u(u(t.paths).segments).controlIn()), i = 0; i < a.length; i += 4)r = new ln(a[i], a[i + 1]), o = new ln(a[i + 2], a[i + 3]), s = void 0, e.isRelative && (r.translateWith(h), o.translateWith(h)), s = n ? yt(n, h) : h.clone(), n = r, t.curveTo(s, r, o), h.x = o.x, h.y = o.y }, q: function (t, e) { var n, i, r, o, s = e.parameters, a = e.position; for (n = 0; n < s.length; n += 4)i = new ln(s[n], s[n + 1]), r = new ln(s[n + 2], s[n + 3]), e.isRelative && (i.translateWith(a), r.translateWith(a)), o = wt(a, i, r), t.curveTo(o.controlOut, o.controlIn, r), a.x = r.x, a.y = r.y }, t: function (t, e) { var n, i, r, o, s, a = e.parameters, h = e.position, l = e.previousCommand; for ("q" !== l && "t" !== l || (i = u(u(t.paths).segments), n = i.controlIn().clone().translateWith(h.scaleCopy(-1 / 3)).scale(1.5)), r = 0; r < a.length; r += 2)o = new ln(a[r], a[r + 1]), e.isRelative && o.translateWith(h), n = n ? yt(n, h) : h.clone(), s = wt(h, n, o), t.curveTo(s.controlOut, s.controlIn, o), h.x = o.x, h.y = o.y } }, ai = 1 / 3, hi = /([a-df-z]{1})([^a-df-z]*)(z)?/gi, li = /[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g, ci = "m", ui = "z", di = Ge.extend({ parse: function (t, e) { var n, i = new Dn(e), r = new ln; return t.replace(hi, function (t, e, o, s) { var a = e.toLowerCase(), h = a === e, l = _t(o.trim()); if (a === ci && (h ? (r.x += l[0], r.y += l[1]) : (r.x = l[0], r.y = l[1]), i.moveTo(r.x, r.y), l.length > 2 && (a = "l", l.splice(0, 2))), si[a]) si[a](i, { parameters: l, position: r, isRelative: h, previousCommand: n }), s && s.toLowerCase() === ui && i.close(); else if (a !== ci) throw Error("Error while parsing SVG path. Unsupported command: " + a); n = a }), i } }), di.current = new di, Fn.parse = function (t, e) { return di.current.parse(t, e) }, fi = Ge.extend({ init: function () { this._items = [] }, register: function (t, e, n) { var i = this._items, r = i[0], o = { name: t, type: e, order: n }; !r || n < r.order ? i.unshift(o) : i.push(o) }, create: function (t, e) { var n, i, r = this._items, o = r[0]; if (e && e.type) for (n = e.type.toLowerCase(), i = 0; i < r.length; i++)if (r[i].name === n) { o = r[i]; break } return o ? new o.type(t, e) : void kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: " + navigator.userAgent) } }), fi.current = new fi, pi = ["click", "mouseenter", "mouseleave", "mousemove", "resize"], gi = kendo.Observable.extend({ init: function (e, n) { kendo.Observable.fn.init.call(this), this.options = t.extend({}, n), this.element = e, this.element._kendoExportVisual = this.exportVisual.bind(this), this._click = this._handler("click"), this._mouseenter = this._handler("mouseenter"), this._mouseleave = this._handler("mouseleave"), this._mousemove = this._handler("mousemove"), this._visual = new Vn, b(e, this.options), this.bind(pi, this.options), this._enableTracking() }, draw: function (t) { this._visual.children.push(t) }, clear: function () { this._visual.children = [] }, destroy: function () { this._visual = null, this.element._kendoExportVisual = null, this.unbind() }, eventTarget: function (t) { for (var e, n = this, i = l(t); !e && i && (e = i._kendoNode, i !== n.element);)i = i.parentElement; if (e) return e.srcElement }, exportVisual: function () { return this._visual }, getSize: function () { return b(this.element) }, currentSize: function (t) { return t ? void (this._size = t) : this._size }, setSize: function (t) { b(this.element, t), this.currentSize(t), this._resize() }, resize: function (t) { var e = this.getSize(), n = this.currentSize(); (t || (e.width > 0 || e.height > 0) && (!n || e.width !== n.width || e.height !== n.height)) && (this.currentSize(e), this._resize(e, t), this.trigger("resize", e)) }, size: function (t) { return t ? void this.setSize(t) : this.getSize() }, suspendTracking: function () { this._suspendedTracking = !0 }, resumeTracking: function () { this._suspendedTracking = !1 }, _enableTracking: function () { }, _resize: function () { }, _handler: function (t) { var e = this; return function (n) { var i = e.eventTarget(n); i && !e._suspendedTracking && e.trigger(t, { element: i, originalEvent: n, type: t }) } }, _elementOffset: function () { var t = this.element, e = w(t, ["paddingLeft", "paddingTop"]), n = e.paddingLeft, i = e.paddingTop, r = y(t), o = r.left, s = r.top; return { left: o + parseInt(n, 10), top: s + parseInt(i, 10) } }, _surfacePoint: function (t) { var e = this._elementOffset(), n = h(t), i = n.x - e.left, r = n.y - e.top; return new ln(i, r) } }), gi.create = function (t, e) { return fi.current.create(t, e) }, gi.support = {}, mi = Ge.extend({ init: function (t) { this.childNodes = [], this.parent = null, t && (this.srcElement = t, this.observe()) }, destroy: function () { var t, e, n = this; for (this.srcElement && this.srcElement.removeObserver(this), t = this.childNodes, e = 0; e < t.length; e++)n.childNodes[e].destroy(); this.parent = null }, load: function () { }, observe: function () { this.srcElement && this.srcElement.addObserver(this) }, append: function (t) { this.childNodes.push(t), t.parent = this }, insertAt: function (t, e) { this.childNodes.splice(e, 0, t), t.parent = this }, remove: function (t, e) { var n, i = this, r = t + e; for (n = t; n < r; n++)i.childNodes[n].removeSelf(); this.childNodes.splice(t, e) }, removeSelf: function () { this.clear(), this.destroy() }, clear: function () { this.remove(0, this.childNodes.length) }, invalidate: function () { this.parent && this.parent.invalidate() }, geometryChange: function () { this.invalidate() }, optionsChange: function () { this.invalidate() }, childrenChange: function (t) { "add" === t.action ? this.load(t.items, t.index) : "remove" === t.action && this.remove(t.index, t.items.length), this.invalidate() } }), vi = {}, xi = "http://www.w3.org/2000/svg", yi = "none", wi = function (t, e) { t.innerHTML = e }, "undefined" != typeof document && (_i = "<svg xmlns='" + xi + "'></svg>", bi = document.createElement("div"), Ci = "undefined" != typeof DOMParser, bi.innerHTML = _i, Ci && bi.firstChild.namespaceURI !== xi && (wi = function (t, e) { var n = new DOMParser, i = n.parseFromString(e, "text/xml"), r = document.adoptNode(i.documentElement); t.innerHTML = "", t.appendChild(r) })), ki = wi, Ti = "transform", Mi = { clip: "clip-path", fill: "fill" }, Si = mi.extend({ init: function (t, e) { mi.fn.init.call(this, t), this.definitions = {}, this.options = e }, destroy: function () { this.element && (this.element._kendoNode = null, this.element = null), this.clearDefinitions(), mi.fn.destroy.call(this) }, load: function (t, e) { var n, r, o, s, a, h = this; for (n = 0; n < t.length; n++)r = t[n], o = r.children, s = new vi[r.nodeType](r, h.options), i(e) ? h.insertAt(s, e) : h.append(s), s.createDefinitions(), o && o.length > 0 && s.load(o), a = h.element, a && s.attachTo(a, e) }, root: function () { for (var t = this; t.parent;)t = t.parent; return t }, attachTo: function (t, e) { var n, r = document.createElement("div"); ki(r, "<svg xmlns='" + xi + "' version='1.1'>" + this.render() + "</svg>"), n = r.firstChild.firstChild, n && (i(e) ? t.insertBefore(n, t.childNodes[e] || null) : t.appendChild(n), this.setElement(n)) }, setElement: function (t) { var e, n, i; for (this.element && (this.element._kendoNode = null), this.element = t, this.element._kendoNode = this, e = this.childNodes, n = 0; n < e.length; n++)i = t.childNodes[n], e[n].setElement(i) }, clear: function () { var t, e; for (this.clearDefinitions(), this.element && (this.element.innerHTML = ""), t = this.childNodes, e = 0; e < t.length; e++)t[e].destroy(); this.childNodes = [] }, removeSelf: function () { if (this.element) { var t = this.element.parentNode; t && t.removeChild(this.element), this.element = null } mi.fn.removeSelf.call(this) }, template: function () { return this.renderChildren() }, render: function () { return this.template() }, renderChildren: function () { var t, e = this.childNodes, n = ""; for (t = 0; t < e.length; t++)n += e[t].render(); return n }, optionsChange: function (t) { var e = t.field, n = t.value; "visible" === e ? this.css("display", n ? "" : yi) : Mi[e] && Tt(e, n) ? this.updateDefinition(e, n) : "opacity" === e ? this.attr("opacity", n) : "cursor" === e ? this.css("cursor", n) : "id" === e && (n ? this.attr("id", n) : this.removeAttr("id")), mi.fn.optionsChange.call(this, t) }, attr: function (t, e) { this.element && this.element.setAttribute(t, e) }, allAttr: function (t) { var e, n = this; for (e = 0; e < t.length; e++)n.attr(t[e][0], t[e][1]) }, css: function (t, e) { this.element && (this.element.style[t] = e) }, allCss: function (t) { var e, n = this; for (e = 0; e < t.length; e++)n.css(t[e][0], t[e][1]) }, removeAttr: function (t) { this.element && this.element.removeAttribute(t) }, mapTransform: function (t) { var e = []; return t && e.push([Ti, "matrix(" + t.matrix().toString(6) + ")"]), e }, renderTransform: function () { return Ct(this.mapTransform(this.srcElement.transform())) }, transformChange: function (t) { t ? this.allAttr(this.mapTransform(t)) : this.removeAttr(Ti) }, mapStyle: function () { var t = this.srcElement.options, e = [["cursor", t.cursor]]; return t.visible === !1 && e.push(["display", yi]), e }, renderStyle: function () { return bt("style", kt(this.mapStyle(!0))) }, renderOpacity: function () { return bt("opacity", this.srcElement.options.opacity) }, renderId: function () { return bt("id", this.srcElement.options.id) }, createDefinitions: function () { var t, e, n, i, r = this.srcElement, o = this.definitions; if (r) { t = r.options; for (n in Mi) i = t.get(n), i && Tt(n, i) && (o[n] = i, e = !0); e && this.definitionChange({ action: "add", definitions: o }) } }, definitionChange: function (t) { this.parent && this.parent.definitionChange(t) }, updateDefinition: function (t, e) { var n = this.definitions, i = n[t], r = Mi[t], o = {}; i && (o[t] = i, this.definitionChange({ action: "remove", definitions: o }), delete n[t]), e ? (o[t] = e, this.definitionChange({ action: "add", definitions: o }), n[t] = e, this.attr(r, this.refUrl(e.id))) : i && this.removeAttr(r) }, clearDefinitions: function () { var t = this.definitions; this.definitionChange({ action: "remove", definitions: t }), this.definitions = {} }, renderDefinitions: function () { return Ct(this.mapDefinitions()) }, mapDefinitions: function () { var t, e = this, n = this.definitions, i = []; for (t in n) i.push([Mi[t], e.refUrl(n[t].id)]); return i }, refUrl: function (t) { var e = (this.options || {}).skipBaseHref, n = this.baseUrl().replace(/'/g, "\\'"), i = e ? "" : n; return "url(" + i + "#" + t + ")" }, baseUrl: function () { return Mt() } }), Ei = Si.extend({ template: function () { return "<stop " + this.renderOffset() + " " + this.renderStyle() + " />" }, renderOffset: function () { return bt("offset", this.srcElement.offset()) }, mapStyle: function () { var t = this.srcElement; return [["stop-color", t.color()], ["stop-opacity", t.opacity()]] }, optionsChange: function (t) { "offset" === t.field ? this.attr(t.field, t.value) : "color" !== t.field && "opacity" !== t.field || this.css("stop-" + t.field, t.value) } }), Ai = Si.extend({ init: function (t) { Si.fn.init.call(this, t), this.id = t.id, this.loadStops() }, loadStops: function () { var t, e, n = this, i = this.srcElement.stops, r = this.element; for (t = 0; t < i.length; t++)e = new Ei(i[t]), n.append(e), r && e.attachTo(r) }, optionsChange: function (t) { "gradient.stops" === t.field ? (mi.prototype.clear.call(this), this.loadStops()) : "gradient" === t.field && this.allAttr(this.mapCoordinates()) }, renderCoordinates: function () { return Ct(this.mapCoordinates()) }, mapSpace: function () { return ["gradientUnits", this.srcElement.userSpace() ? "userSpaceOnUse" : "objectBoundingBox"] } }), Pi = Ai.extend({ template: function () { return "<linearGradient id='" + this.id + "' " + this.renderCoordinates() + ">" + this.renderChildren() + "</linearGradient>" }, mapCoordinates: function () { var t = this.srcElement, e = t.start(), n = t.end(), i = [["x1", e.x], ["y1", e.y], ["x2", n.x], ["y2", n.y], this.mapSpace()]; return i } }), Oi = Ai.extend({ template: function () { return "<radialGradient id='" + this.id + "' " + this.renderCoordinates() + ">" + this.renderChildren() + "</radialGradient>" }, mapCoordinates: function () { var t = this.srcElement, e = t.center(), n = t.radius(), i = [["cx", e.x], ["cy", e.y], ["r", n], this.mapSpace()]; return i } }), zi = Si.extend({ init: function (t) { Si.fn.init.call(this), this.srcElement = t, this.id = t.id, this.load([t]) }, template: function () { return "<clipPath id='" + this.id + "'>" + this.renderChildren() + "</clipPath>" } }), Ni = Si.extend({ init: function () { Si.fn.init.call(this), this.definitionMap = {} }, attachTo: function (t) { this.element = t }, template: function () { return "<defs>" + this.renderChildren() + "</defs>" }, definitionChange: function (t) { var e = t.definitions, n = t.action; "add" === n ? this.addDefinitions(e) : "remove" === n && this.removeDefinitions(e) }, createDefinition: function (t, e) { var n; return "clip" === t ? n = zi : "fill" === t && (e instanceof ti ? n = Pi : e instanceof ei && (n = Oi)), new n(e) }, addDefinitions: function (t) { var e, n = this; for (e in t) n.addDefinition(e, t[e]) }, addDefinition: function (t, e) { var n, i = this, r = i.element, o = i.definitionMap, s = e.id, a = o[s]; a ? a.count++ : (n = this.createDefinition(t, e), o[s] = { element: n, count: 1 }, this.append(n), r && n.attachTo(this.element)) }, removeDefinitions: function (t) { var e, n = this; for (e in t) n.removeDefinition(t[e]) }, removeDefinition: function (t) { var e = this.definitionMap, n = t.id, i = e[n]; i && (i.count-- , 0 === i.count && (this.remove(this.childNodes.indexOf(i.element), 1), delete e[n])) } }), Ri = Si.extend({ init: function (t) { Si.fn.init.call(this), this.options = t, this.defs = new Ni }, attachTo: function (t) { this.element = t, this.defs.attachTo(t.firstElementChild) }, clear: function () { mi.prototype.clear.call(this) }, template: function () { return this.defs.render() + this.renderChildren() }, definitionChange: function (t) { this.defs.definitionChange(t) } }), Bi = "rtl", Fi = gi.extend({ init: function (e, n) { gi.fn.init.call(this, e, n), this._root = new Ri(t.extend({ rtl: w(e, "direction").direction === Bi }, this.options)), ki(this.element, this._template()), this._rootElement = this.element.firstElementChild, St(this._rootElement), this._root.attachTo(this._rootElement), x(this.element, { click: this._click, mouseover: this._mouseenter, mouseout: this._mouseleave, mousemove: this._mousemove }), this.resize() }, destroy: function () { this._root && (this._root.destroy(), this._root = null, this._rootElement = null, C(this.element, { click: this._click, mouseover: this._mouseenter, mouseout: this._mouseleave, mousemove: this._mousemove })), gi.fn.destroy.call(this) }, translate: function (t) { var e = Math.round(t.x) + " " + Math.round(t.y) + " " + this._size.width + " " + this._size.height; this._offset = t, this._rootElement.setAttribute("viewBox", e) }, draw: function (t) { gi.fn.draw.call(this, t), this._root.load([t]) }, clear: function () { gi.fn.clear.call(this), this._root.clear() }, svg: function () { return "<?xml version='1.0' ?>" + this._template() }, exportVisual: function () { var t, e = this, n = e._visual, i = e._offset; return i && (t = new Vn, t.children.push(n), t.transform(E().translate(-i.x, -i.y)), n = t), n }, _resize: function () { this._offset && this.translate(this._offset) }, _template: function () { return "<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='" + xi + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + this._root.render() + "</svg>" } }), Fi.prototype.type = "svg", "undefined" != typeof document && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && (gi.support.svg = !0, fi.current.register("svg", Fi, 10)), Li = Si.extend({ template: function () { return "<g" + (this.renderId() + this.renderTransform() + this.renderStyle() + this.renderOpacity() + this.renderDefinitions()) + ">" + this.renderChildren() + "</g>" }, optionsChange: function (t) { "transform" === t.field && this.transformChange(t.value), Si.fn.optionsChange.call(this, t) } }), vi.Group = Li, Ii = { dot: [1.5, 3.5], dash: [4, 3.5], longdash: [8, 3.5], dashdot: [3.5, 3.5, 1.5, 3.5], longdashdot: [8, 3.5, 1.5, 3.5], longdashdotdot: [8, 3.5, 1.5, 3.5, 1.5, 3.5] }, Di = "solid", Hi = "butt", ji = { "fill.opacity": "fill-opacity", "stroke.color": "stroke", "stroke.width": "stroke-width", "stroke.opacity": "stroke-opacity" }, qi = " ", Gi = Si.extend({
            geometryChange: function () { this.attr("d", this.renderData()), this.invalidate() }, optionsChange: function (t) { switch (t.field) { case "fill": t.value ? this.allAttr(this.mapFill(t.value)) : this.removeAttr("fill"); break; case "fill.color": this.allAttr(this.mapFill({ color: t.value })); break; case "stroke": t.value ? this.allAttr(this.mapStroke(t.value)) : this.removeAttr("stroke"); break; case "transform": this.transformChange(t.value); break; default: var e = ji[t.field]; e && this.attr(e, t.value) }Si.fn.optionsChange.call(this, t) }, content: function () { this.element && (this.element.textContent = this.srcElement.content()) }, renderData: function () { return this.printPath(this.srcElement) }, printPath: function (t) {
                var e, n, i, r, o, s = this, a = t.segments, h = a.length; if (h > 0) {
                    for (e = [], r = 1; r < h; r++)o = s.segmentType(a[r - 1], a[r]), o !== i && (i = o, e.push(o)), e.push("L" === o ? s.printPoints(a[r].anchor()) : s.printPoints(a[r - 1].controlOut(), a[r].controlIn(), a[r].anchor()));
                    return n = "M" + this.printPoints(a[0].anchor()) + qi + e.join(qi), t.options.closed && (n += "Z"), n
                }
            }, printPoints: function () { var t, e = arguments, n = e.length, i = []; for (t = 0; t < n; t++)i.push(e[t].toString(3)); return i.join(" ") }, segmentType: function (t, e) { return t.controlOut() && e.controlIn() ? "C" : "L" }, mapStroke: function (t) { var e = []; return t && !c(t.color) ? (e.push(["stroke", t.color]), e.push(["stroke-width", t.width]), e.push(["stroke-linecap", this.renderLinecap(t)]), e.push(["stroke-linejoin", t.lineJoin]), i(t.opacity) && e.push(["stroke-opacity", t.opacity]), i(t.dashType) && e.push(["stroke-dasharray", this.renderDashType(t)])) : e.push(["stroke", yi]), e }, renderStroke: function () { return Ct(this.mapStroke(this.srcElement.options.stroke)) }, renderDashType: function (t) { var e, n, i, r = t.dashType, o = t.width; if (void 0 === o && (o = 1), r && r !== Di) { for (e = Ii[r.toLowerCase()], n = [], i = 0; i < e.length; i++)n.push(e[i] * o); return n.join(" ") } }, renderLinecap: function (t) { var e = t.dashType, n = t.lineCap; return e && "solid" !== e ? Hi : n }, mapFill: function (t) { var e = []; return t && "Gradient" === t.nodeType || (t && !c(t.color) ? (e.push(["fill", t.color]), i(t.opacity) && e.push(["fill-opacity", t.opacity])) : e.push(["fill", yi])), e }, renderFill: function () { return Ct(this.mapFill(this.srcElement.options.fill)) }, template: function () { return "<path " + this.renderId() + " " + this.renderStyle() + " " + this.renderOpacity() + " " + bt("d", this.renderData()) + this.renderStroke() + this.renderFill() + this.renderDefinitions() + this.renderTransform() + "></path>" }
        }), vi.Path = Gi, $i = Gi.extend({ renderData: function () { return this.printPath(this.srcElement.toPath()) } }), vi.Arc = $i, Vi = Gi.extend({ geometryChange: function () { var t = this.center(); this.attr("cx", t.x), this.attr("cy", t.y), this.attr("r", this.radius()), this.invalidate() }, center: function () { return this.srcElement.geometry().center }, radius: function () { return this.srcElement.geometry().radius }, template: function () { return "<circle " + this.renderId() + " " + this.renderStyle() + " " + this.renderOpacity() + "cx='" + this.center().x + "' cy='" + this.center().y + "' r='" + this.radius() + "'" + this.renderStroke() + " " + this.renderFill() + " " + this.renderDefinitions() + this.renderTransform() + " ></circle>" } }), vi.Circle = Vi, Ui = Gi.extend({ geometryChange: function () { var t = this.srcElement.geometry(); this.attr("x", t.origin.x), this.attr("y", t.origin.y), this.attr("width", t.size.width), this.attr("height", t.size.height), this.invalidate() }, size: function () { return this.srcElement.geometry().size }, origin: function () { return this.srcElement.geometry().origin }, template: function () { return "<rect " + this.renderId() + " " + this.renderStyle() + " " + this.renderOpacity() + " x='" + this.origin().x + "' y='" + this.origin().y + "' width='" + this.size().width + "' height='" + this.size().height + "' " + this.renderStroke() + " " + this.renderFill() + " " + this.renderDefinitions() + " " + this.renderTransform() + " />" } }), vi.Rect = Ui, Xi = Gi.extend({ geometryChange: function () { this.allAttr(this.mapPosition()), this.invalidate() }, optionsChange: function (t) { "src" === t.field && this.allAttr(this.mapSource()), Gi.fn.optionsChange.call(this, t) }, mapPosition: function () { var t = this.srcElement.rect(), e = t.topLeft(); return [["x", e.x], ["y", e.y], ["width", t.width() + "px"], ["height", t.height() + "px"]] }, renderPosition: function () { return Ct(this.mapPosition()) }, mapSource: function (t) { var e = this.srcElement.src(); return t && (e = kendo.htmlEncode(e)), [["xlink:href", e]] }, renderSource: function () { return Ct(this.mapSource(!0)) }, template: function () { return "<image preserveAspectRatio='none' " + this.renderId() + " " + this.renderStyle() + " " + this.renderTransform() + " " + this.renderOpacity() + this.renderPosition() + " " + this.renderSource() + " " + this.renderDefinitions() + "></image>" } }), vi.Image = Xi, Yi = /&(?:[a-zA-Z]+|#\d+);/g, "undefined" != typeof document && (Et._element = document.createElement("span")), Wi = Gi.extend({ geometryChange: function () { var t = this.pos(); this.attr("x", t.x), this.attr("y", t.y), this.invalidate() }, optionsChange: function (t) { "font" === t.field ? (this.attr("style", kt(this.mapStyle())), this.geometryChange()) : "content" === t.field && Gi.fn.content.call(this, this.srcElement.content()), Gi.fn.optionsChange.call(this, t) }, mapStyle: function (t) { var e = Gi.fn.mapStyle.call(this, t), n = this.srcElement.options.font; return t && (n = kendo.htmlEncode(n)), e.push(["font", n], ["white-space", "pre"]), e }, pos: function () { var t = this.srcElement.position(), e = this.srcElement.measure(); return t.clone().setY(t.y + e.baseline) }, renderContent: function () { var t = this.srcElement.content(); return t = Et(t), t = kendo.htmlEncode(t), $e.normalizeText(t) }, renderTextAnchor: function () { var t; return !(this.options || {}).rtl || Ue.msie || Ue.edge || (t = "end"), bt("text-anchor", t) }, template: function () { return "<text " + this.renderId() + " " + this.renderTextAnchor() + " " + this.renderStyle() + " " + this.renderOpacity() + "x='" + this.pos().x + "' y='" + this.pos().y + "' " + this.renderStroke() + " " + this.renderTransform() + " " + this.renderDefinitions() + this.renderFill() + ">" + this.renderContent() + "</text>" } }), vi.Text = Wi, Qi = Gi.extend({ renderData: function () { var t, e, n = this, i = this.srcElement.paths; if (i.length > 0) { for (t = [], e = 0; e < i.length; e++)t.push(n.printPath(i[e])); return t.join(" ") } } }), vi.MultiPath = Qi, Zi = { Circle: gn, Arc: Tn, Rect: un, Point: ln, Segment: Bn, Matrix: hn, Size: cn, toMatrix: S, Transformation: dn, transform: E }, Ji = { Surface: Fi, RootNode: Ri, Node: Si, GroupNode: Li, ArcNode: $i, CircleNode: Vi, RectNode: Ui, ImageNode: Xi, TextNode: Wi, PathNode: Gi, MultiPathNode: Qi, DefinitionNode: Ni, ClipNode: zi, GradientStopNode: Ei, LinearGradientNode: Pi, RadialGradientNode: Oi, exportGroup: At }, Ki = {}, tr = mi.extend({ init: function (t) { mi.fn.init.call(this, t), t && this.initClip() }, initClip: function () { var t = this.srcElement.clip(); t && (this.clip = t, t.addObserver(this)) }, clear: function () { this.srcElement && this.srcElement.removeObserver(this), this.clearClip(), mi.fn.clear.call(this) }, clearClip: function () { this.clip && (this.clip.removeObserver(this), delete this.clip) }, setClip: function (t) { this.clip && (t.beginPath(), Pt(t, this.clip), t.clip()) }, optionsChange: function (t) { "clip" === t.field && (this.clearClip(), this.initClip()), mi.fn.optionsChange.call(this, t) }, setTransform: function (t) { if (this.srcElement) { var e = this.srcElement.transform(); e && t.transform.apply(t, e.matrix().toArray(6)) } }, loadElements: function (t, e, n) { var r, o, s, a, h = this; for (r = 0; r < t.length; r++)o = t[r], s = o.children, a = new Ki[o.nodeType](o, n), s && s.length > 0 && a.load(s, e, n), i(e) ? h.insertAt(a, e) : h.append(a) }, load: function (t, e, n) { this.loadElements(t, e, n), this.invalidate() }, setOpacity: function (t) { if (this.srcElement) { var e = this.srcElement.opacity(); i(e) && this.globalAlpha(t, e) } }, globalAlpha: function (t, e) { var n = e; n && t.globalAlpha && (n *= t.globalAlpha), t.globalAlpha = n }, visible: function () { var t = this.srcElement; return !t || t && t.options.visible !== !1 } }), er = tr.extend({ renderTo: function (t) { var e, n, i; if (this.visible()) { for (t.save(), this.setTransform(t), this.setClip(t), this.setOpacity(t), e = this.childNodes, n = 0; n < e.length; n++)i = e[n], i.visible() && i.renderTo(t); t.restore() } } }), $n.extend(er.prototype, "childNodes"), Ki.Group = er, nr = 1e3 / 60, ir = er.extend({ init: function (t) { er.fn.init.call(this), this.canvas = t, this.ctx = t.getContext("2d"); var e = this._invalidate.bind(this); this.invalidate = kendo.throttle(function () { kendo.animationFrame(e) }, nr) }, destroy: function () { er.fn.destroy.call(this), this.canvas = null, this.ctx = null }, load: function (t, e, n) { this.loadElements(t, e, n), this._invalidate() }, _invalidate: function () { this.ctx && (this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.renderTo(this.ctx)) } }), $n.extend(ir.prototype, "childNodes"), rr = Ge.extend({ init: function () { this.shapes = [] }, _add: function (t, e) { this.shapes.push({ bbox: e, shape: t }), t._quadNode = this }, pointShapes: function (t) { var e, n = this.shapes, i = n.length, r = []; for (e = 0; e < i; e++)n[e].bbox.containsPoint(t) && r.push(n[e].shape); return r }, insert: function (t, e) { this._add(t, e) }, remove: function (t) { var e, n = this.shapes, i = n.length; for (e = 0; e < i; e++)if (n[e].shape === t) { n.splice(e, 1); break } } }), or = rr.extend({ init: function (t) { rr.fn.init.call(this), this.children = [], this.rect = t }, inBounds: function (t) { var e = this.rect, n = e.bottomRight(), i = t.bottomRight(), r = e.origin.x <= t.origin.x && e.origin.y <= t.origin.y && i.x <= n.x && i.y <= n.y; return r }, pointShapes: function (t) { var n, i = this.children, r = i.length, o = rr.fn.pointShapes.call(this, t); for (n = 0; n < r; n++)e(o, i[n].pointShapes(t)); return o }, insert: function (t, e) { var n, i = this.children, r = !1; if (this.inBounds(e)) { if (this.shapes.length < 4) this._add(t, e); else { for (i.length || this._initChildren(), n = 0; n < i.length; n++)if (i[n].insert(t, e)) { r = !0; break } r || this._add(t, e) } r = !0 } return r }, _initChildren: function () { var t = this, e = t.rect, n = t.children, i = e.center(), r = e.width() / 2, o = e.height() / 2; n.push(new or(new un([e.origin.x, e.origin.y], [r, o])), new or(new un([i.x, e.origin.y], [r, o])), new or(new un([e.origin.x, i.y], [r, o])), new or(new un([i.x, i.y], [r, o]))) } }), sr = 3e3, ar = 1e4, hr = 75, lr = Ge.extend({ init: function () { this.initRoots() }, initRoots: function () { this.rootMap = {}, this.root = new rr, this.rootElements = [] }, clear: function () { var t, e = this, n = this.rootElements; for (t = 0; t < n.length; t++)e.remove(n[t]); this.initRoots() }, pointShape: function (t) { var e, n = (this.rootMap[Math.floor(t.x / sr)] || {})[Math.floor(t.y / sr)], i = this.root.pointShapes(t); for (n && (i = i.concat(n.pointShapes(t))), this.assignZindex(i), i.sort(Ot), e = 0; e < i.length; e++)if (i[e].containsPoint(t)) return i[e] }, assignZindex: function (t) { var e, n, i, r, o, s = this; for (e = 0; e < t.length; e++) { for (n = t[e], i = 0, r = Math.pow(ar, hr), o = []; n;)o.push(n), n = n.parent; for (; o.length;)n = o.pop(), i += ((n.parent ? n.parent.children : s.rootElements).indexOf(n) + 1) * r, r /= ar; t[e]._zIndex = i } }, optionsChange: function (t) { "transform" !== t.field && "stroke.width" !== t.field || this.bboxChange(t.element) }, geometryChange: function (t) { this.bboxChange(t.element) }, bboxChange: function (t) { var e, n = this; if ("Group" === t.nodeType) for (e = 0; e < t.children.length; e++)n.bboxChange(t.children[e]); else t._quadNode && t._quadNode.remove(t), this._insertShape(t) }, add: function (t) { var n = Array.isArray(t) ? t.slice(0) : [t]; e(this.rootElements, n), this._insert(n) }, childrenChange: function (t) { var e, n = this; if ("remove" === t.action) for (e = 0; e < t.items.length; e++)n.remove(t.items[e]); else this._insert(Array.prototype.slice.call(t.items, 0)) }, _insert: function (t) { for (var n, i = this; t.length > 0;)n = t.pop(), n.addObserver(i), "Group" === n.nodeType ? e(t, n.children) : i._insertShape(n) }, _insertShape: function (t) { var e, n, i, r, o = t.bbox(); o && (e = this.getSectors(o), n = e[0][0], i = e[1][0], this.inRoot(e) ? this.root.insert(t, o) : (r = this.rootMap, r[n] || (r[n] = {}), r[n][i] || (r[n][i] = new or(new un([n * sr, i * sr], [sr, sr]))), r[n][i].insert(t, o))) }, remove: function (t) { var e, n, i = this; if (t.removeObserver(this), "Group" === t.nodeType) for (e = t.children, n = 0; n < e.length; n++)i.remove(e[n]); else t._quadNode && (t._quadNode.remove(t), delete t._quadNode) }, inRoot: function (t) { return t[0].length > 1 || t[1].length > 1 }, getSectors: function (t) { var e, n, i = t.bottomRight(), r = Math.floor(i.x / sr), o = Math.floor(i.y / sr), s = [[], []]; for (e = Math.floor(t.origin.x / sr); e <= r; e++)s[0].push(e); for (n = Math.floor(t.origin.y / sr); n <= o; n++)s[1].push(n); return s } }), cr = Ge.extend({ init: function (t) { t.bind("mouseenter", this._mouseenter.bind(this)), t.bind("mouseleave", this._mouseleave.bind(this)), this.element = t.element }, clear: function () { this._resetCursor() }, destroy: function () { this._resetCursor(), delete this.element }, _mouseenter: function (t) { var e = this._shapeCursor(t); e ? (this._current || (this._defaultCursor = this._getCursor()), this._setCursor(e)) : this._resetCursor() }, _mouseleave: function () { this._resetCursor() }, _shapeCursor: function (t) { for (var e = t.element; e && !i(e.options.cursor);)e = e.parent; if (e) return e.options.cursor }, _getCursor: function () { if (this.element) return this.element.style.cursor }, _setCursor: function (t) { this.element && (this.element.style.cursor = t, this._current = t) }, _resetCursor: function () { this._current && (this._setCursor(this._defaultCursor || ""), delete this._current) } }), ur = gi.extend({ init: function (t, e) { var n, i; gi.fn.init.call(this, t, e), this.element.innerHTML = this._template(this), n = this.element.firstElementChild, i = b(t), n.width = i.width, n.height = i.height, this._rootElement = n, this._root = new ir(n), this._mouseTrackHandler = this._trackMouse.bind(this), x(this.element, { click: this._mouseTrackHandler, mousemove: this._mouseTrackHandler }) }, destroy: function () { gi.fn.destroy.call(this), this._root && (this._root.destroy(), this._root = null), this._searchTree && (this._searchTree.clear(), delete this._searchTree), this._cursor && (this._cursor.destroy(), delete this._cursor), C(this.element, { click: this._mouseTrackHandler, mousemove: this._mouseTrackHandler }) }, draw: function (t) { gi.fn.draw.call(this, t), this._root.load([t], void 0, this.options.cors), this._searchTree && this._searchTree.add([t]) }, clear: function () { gi.fn.clear.call(this), this._root.clear(), this._searchTree && this._searchTree.clear(), this._cursor && this._cursor.clear() }, eventTarget: function (t) { var e, n; if (this._searchTree) return e = this._surfacePoint(t), n = this._searchTree.pointShape(e) }, image: function () { var t, e, n = this, i = n._root, r = n._rootElement, o = []; return i.traverse(function (t) { t.loading && o.push(t.loading) }), t = Xe(), e = function () { i._invalidate(); try { var e = r.toDataURL(); t.resolve(e) } catch (n) { t.reject(n) } }, Ye(o).then(e, e), t }, suspendTracking: function () { gi.fn.suspendTracking.call(this), this._searchTree && (this._searchTree.clear(), delete this._searchTree) }, resumeTracking: function () { var t, e, n; if (gi.fn.resumeTracking.call(this), !this._searchTree) { for (this._searchTree = new lr, t = this._root.childNodes, e = [], n = 0; n < t.length; n++)e.push(t[n].srcElement); this._searchTree.add(e) } }, _resize: function () { this._rootElement.width = this._size.width, this._rootElement.height = this._size.height, this._root.invalidate() }, _template: function () { return "<canvas style='width: 100%; height: 100%;'></canvas>" }, _enableTracking: function () { this._searchTree = new lr, this._cursor = new cr(this), gi.fn._enableTracking.call(this) }, _trackMouse: function (t) { var e, n; this._suspendedTracking || (e = this.eventTarget(t), "click" !== t.type ? (n = this._currentShape, n && n !== e && this.trigger("mouseleave", { element: n, originalEvent: t, type: "mouseleave" }), e && n !== e && this.trigger("mouseenter", { element: e, originalEvent: t, type: "mouseenter" }), this.trigger("mousemove", { element: e, originalEvent: t, type: "mousemove" }), this._currentShape = e) : e && this.trigger("click", { element: e, originalEvent: t, type: "click" })) } }), ur.prototype.type = "canvas", "undefined" != typeof document && document.createElement("canvas").getContext && (gi.support.canvas = !0, fi.current.register("canvas", ur, 20)), dr = tr.extend({ renderTo: function (t) { t.save(), this.setTransform(t), this.setClip(t), this.setOpacity(t), t.beginPath(), this.renderPoints(t, this.srcElement), this.setLineDash(t), this.setLineCap(t), this.setLineJoin(t), this.setFill(t), this.setStroke(t), t.restore() }, setFill: function (t) { var e = this.srcElement.options.fill, n = !1; return e && ("Gradient" === e.nodeType ? (this.setGradientFill(t, e), n = !0) : c(e.color) || (t.fillStyle = e.color, t.save(), this.globalAlpha(t, e.opacity), t.fill(), t.restore(), n = !0)), n }, setGradientFill: function (t, e) { var n, i, r, o, s = this.srcElement.rawBBox(); e instanceof ti ? (i = e.start(), r = e.end(), n = t.createLinearGradient(i.x, i.y, r.x, r.y)) : e instanceof ei && (o = e.center(), n = t.createRadialGradient(o.x, o.y, 0, o.x, o.y, e.radius())), zt(n, e.stops), t.save(), e.userSpace() || t.transform(s.width(), 0, 0, s.height(), s.origin.x, s.origin.y), t.fillStyle = n, t.fill(), t.restore() }, setStroke: function (t) { var e = this.srcElement.options.stroke; if (e && !c(e.color) && e.width > 0) return t.strokeStyle = e.color, t.lineWidth = v(e.width, 1), t.save(), this.globalAlpha(t, e.opacity), t.stroke(), t.restore(), !0 }, dashType: function () { var t = this.srcElement.options.stroke; if (t && t.dashType) return t.dashType.toLowerCase() }, setLineDash: function (t) { var e, n = this.dashType(); n && n !== Di && (e = Ii[n], t.setLineDash ? t.setLineDash(e) : (t.mozDash = e, t.webkitLineDash = e)) }, setLineCap: function (t) { var e = this.dashType(), n = this.srcElement.options.stroke; e && e !== Di ? t.lineCap = Hi : n && n.lineCap && (t.lineCap = n.lineCap) }, setLineJoin: function (t) { var e = this.srcElement.options.stroke; e && e.lineJoin && (t.lineJoin = e.lineJoin) }, renderPoints: function (t, e) { Pt(t, e) } }), Ki.Path = dr, fr = dr.extend({ renderPoints: function (t) { var e = this.srcElement.toPath(); Pt(t, e) } }), Ki.Arc = fr, pr = dr.extend({ renderPoints: function (t) { var e = this.srcElement.geometry(), n = e.center, i = e.radius; t.arc(n.x, n.y, i, 0, 2 * Math.PI) } }), Ki.Circle = pr, gr = dr.extend({ renderPoints: function (t) { var e = this.srcElement.geometry(), n = e.origin, i = e.size; t.rect(n.x, n.y, i.width, i.height) } }), Ki.Rect = gr, mr = dr.extend({ init: function (t, e) { dr.fn.init.call(this, t), this.onLoad = this.onLoad.bind(this), this.onError = this.onError.bind(this), this.loading = Xe(); var n = this.img = new Image; e && !/^data:/i.test(t.src()) && (n.crossOrigin = e), n.src = t.src(), n.complete ? this.onLoad() : (n.onload = this.onLoad, n.onerror = this.onError) }, renderTo: function (t) { "resolved" === this.loading.state() && (t.save(), this.setTransform(t), this.setClip(t), this.drawImage(t), t.restore()) }, optionsChange: function (t) { "src" === t.field ? (this.loading = Xe(), this.img.src = this.srcElement.src()) : dr.fn.optionsChange.call(this, t) }, onLoad: function () { this.loading.resolve(), this.invalidate() }, onError: function () { this.loading.reject(Error("Unable to load image '" + this.img.src + "'. Check for connectivity and verify CORS headers.")) }, drawImage: function (t) { var e = this.srcElement.rect(), n = e.topLeft(); t.drawImage(this.img, n.x, n.y, e.width(), e.height()) } }), Ki.Image = mr, vr = dr.extend({ renderTo: function (t) { var e = this.srcElement, n = e.position(), i = e.measure(); t.save(), this.setTransform(t), this.setClip(t), this.setOpacity(t), t.beginPath(), t.font = e.options.font, t.textAlign = "left", this.setFill(t) && t.fillText(e.content(), n.x, n.y + i.baseline), this.setStroke(t) && (this.setLineDash(t), t.strokeText(e.content(), n.x, n.y + i.baseline)), t.restore() } }), Ki.Text = vr, xr = dr.extend({ renderPoints: function (t) { var e, n = this.srcElement.paths; for (e = 0; e < n.length; e++)Pt(t, n[e]) } }), Ki.MultiPath = xr, yr = { Surface: ur, RootNode: ir, Node: tr, GroupNode: er, ArcNode: fr, CircleNode: pr, RectNode: gr, ImageNode: mr, TextNode: vr, PathNode: dr, MultiPathNode: xr }, wr = Ue, _r = "KENDO-PSEUDO-ELEMENT", br = {}, Cr = {}, Cr._root = Cr, kr = "undefined" != typeof window, Tr = !!kr && (wr.msie || wr.edge), Mr = qn.extend({ init: function (t, e, n) { qn.fn.init.call(this, t, e.getOrigin(), n), this._pdfRect = e }, rect: function () { return this._pdfRect }, rawBBox: function () { return this._pdfRect } }), Sr = "undefined" != typeof Element && Element.prototype && function (t) { return t.matches ? function (t, e) { return t.matches(e) } : t.webkitMatchesSelector ? function (t, e) { return t.webkitMatchesSelector(e) } : t.mozMatchesSelector ? function (t, e) { return t.mozMatchesSelector(e) } : t.msMatchesSelector ? function (t, e) { return t.msMatchesSelector(e) } : function (t) { return [].indexOf.call(document.querySelectorAll(t), this) !== -1 } }(Element.prototype), Er = function (t) { return t ? function e(n) { var i, r, o, s, a = n.cloneNode(!1); if (1 == n.nodeType) { i = t(n), r = t(a), s = i.data(); for (o in s) r.data(o, s[o]); for (/^canvas$/i.test(n.tagName) ? a.getContext("2d").drawImage(n, 0, 0) : /^(?:input|select|textarea|option)$/i.test(n.tagName) && (a.removeAttribute("id"), a.removeAttribute("name"), a.value = n.value, a.checked = n.checked, a.selected = n.selected), o = n.firstChild; o; o = o.nextSibling)a.appendChild(e(o)) } return a } : function (t) { var e, n = function r(t) { var e, n = t.cloneNode(!1); for (t._kendoExportVisual && (n._kendoExportVisual = t._kendoExportVisual), e = t.firstChild; e; e = e.nextSibling)n.appendChild(r(e)); return n }(t), i = t.querySelectorAll("canvas"); return i.length && Bt(n.querySelectorAll("canvas")).forEach(function (t, e) { t.getContext("2d").drawImage(i[e], 0, 0) }), e = t.querySelectorAll("input, select, textarea, option"), Bt(n.querySelectorAll("input, select, textarea, option")).forEach(function (t, n) { t.removeAttribute("id"), t.removeAttribute("name"), t.value = e[n].value, t.checked = e[n].checked, t.selected = e[n].selected }), n } }("undefined" != typeof window && window.kendo && window.kendo.jQuery), jt.getFontFaces = qt, jt.drawText = function (t) { var e = new Vn; return Cr._clipbox = !1, Cr._matrix = hn.unit(), Cr._stackingContext = { element: t, group: e }, te(t, oe(t), e), 3 == t.firstChild.nodeType ? Le(t, t.firstChild, e) : Se(t, e), ee(), e }, Ar = function () { function t(t) { function f() { var e = s.exec(t); e && (t = t.substr(e[1].length)) } function p(e) { f(); var n = e.exec(t); if (n) return t = t.substr(n[1].length), n[1] } function g() { var e, r, o, s = kendo.parseColor(t, !0); if (s) return o = /^#[0-9a-f]+/i.exec(t) || /^rgba?\(.*?\)/i.exec(t) || /^..*?\b/.exec(t), t = t.substr(o[0].length), s = s.toRGB(), (e = p(i)) || (r = p(n)), { color: s, length: e, percent: r } } function m(e) { var i, s, c, u, d, f, m = [], v = !1; if (p(a)) { for (i = p(o), i ? (i = ge(i), p(l)) : (s = p(r), "to" == s ? s = p(r) : s && /^-/.test(e) && (v = !0), c = p(r), p(l)), /-moz-/.test(e) && null == i && null == s && (u = p(n), d = p(n), v = !0, "0%" == u ? s = "left" : "100%" == u && (s = "right"), "0%" == d ? c = "top" : "100%" == d && (c = "bottom"), p(l)); t && !p(h) && (f = g());)m.push(f), p(l); return { type: "linear", angle: i, to: s && c ? s + " " + c : s ? s : c ? c : null, stops: m, reverse: v } } } function v() { if (p(a)) { var t = p(u); return t = t.replace(/^['"]+|["']+$/g, ""), p(h), { type: "url", url: t } } } var x, y = t; return Gt(d, y) ? d[y] : ((x = p(e)) ? x = m(x) : (x = p(c)) && (x = v()), d[y] = x || { type: "none" }) } var e = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/, n = /^([-0-9.]+%)/, i = /^([-0-9.]+px)/, r = /^(left|right|top|bottom|to|center)\W/, o = /^([-0-9.]+(deg|grad|rad|turn))/, s = /^(\s+)/, a = /^(\()/, h = /^(\))/, l = /^(,)/, c = /^(url)\(/, u = /^(.*?)\)/, d = {}, f = {}; return function (e) { return Gt(f, e) ? f[e] : f[e] = Pr(e).map(t) } }(), Pr = function () { var t = {}; return function (e, n) { function i(t) { return u = t.exec(e.substr(h)) } function r(t) { return t.replace(/^\s+|\s+$/g, "") } var o, s, a, h, l, c, u; if (n || (n = /^\s*,\s*/), o = e + n, Gt(t, o)) return t[o]; for (s = [], a = 0, h = 0, l = 0, c = !1; h < e.length;)!c && i(/^[\(\[\{]/) ? (l++ , h++) : !c && i(/^[\)\]\}]/) ? (l-- , h++) : !c && i(/^[\"\']/) ? (c = u[0], h++) : "'" == c && i(/^\\\'/) ? h += 2 : '"' == c && i(/^\\\"/) ? h += 2 : "'" == c && i(/^\'/) ? (c = !1, h++) : '"' == c && i(/^\"/) ? (c = !1, h++) : i(n) ? (!c && !l && h > a && (s.push(r(e.substring(a, h))), a = h + u[0].length), h += u[0].length) : h++; return a < h && s.push(r(e.substring(a, h))), t[o] = s } }(), Or = function (t) { return function (e) { var n, i = t[e]; return i || ((n = /url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e)) ? i = t[e] = n[2] : (n = /url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e)) && (i = t[e] = n[2])), i } }(Object.create ? Object.create(null) : {}), zr = function (t) { return function (e) { var n = t[e]; return null == n && (n = t[e] = $e.measureText("Mapq", { font: e }).height), n } }(Object.create ? Object.create(null) : {}), Nr = { svg: Ji, canvas: yr, util: on, PathParser: di, Surface: gi, BaseNode: mi, SurfaceFactory: fi, OptionsStore: an, exportImage: Nt, exportSVG: Rt, QuadNode: or, ShapesQuadTree: lr, ObserversMixin: We, Element: fn, Circle: _n, Arc: In, Path: Fn, MultiPath: Dn, Text: qn, Image: Gn, Group: Vn, Layout: Wn, Rect: Qn, align: nt, vAlign: it, stack: st, vStack: at, wrap: ct, vWrap: ut, fit: dt, LinearGradient: ti, RadialGradient: ei, GradientStop: Jn, Gradient: Kn, Animation: ri, AnimationFactory: oi, drawDOM: jt }, kendo.deepExtend(kendo, { drawing: Nr, geometry: Zi }), kendo.drawing.Segment = kendo.geometry.Segment, kendo.dataviz.drawing = kendo.drawing, kendo.dataviz.geometry = kendo.geometry, kendo.drawing.util.measureText = kendo.util.measureText, kendo.drawing.util.objectKey = kendo.util.objectKey, kendo.drawing.Color = kendo.Color, kendo.util.encodeBase64 = kendo.drawing.util.encodeBase64
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("drawing/surface-tooltip.min", ["kendo.popup.min", "drawing/kendo-drawing.min"], t) }(function () { !function (t) { var e = ".kendo", n = window.kendo, i = n.deepExtend, r = n.drawing.util, o = r.defined, s = r.limitValue, a = r.eventCoordinates, h = n._outerWidth, l = n._outerHeight, c = t.proxy, u = '<div class="k-tooltip"><div class="k-tooltip-content"></div></div>', d = '<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>', f = n.Class.extend({ init: function (e, n) { this.element = t(u), this.content = this.element.children(".k-tooltip-content"), n = n || {}, this.options = i({}, this.options, this._tooltipOptions(n)), this.popupOptions = { appendTo: n.appendTo, animation: n.animation, copyAnchorStyles: !1, collision: "fit fit" }, this._openPopupHandler = t.proxy(this._openPopup, this), this.surface = e, this._bindEvents() }, options: { position: "top", showOn: "mouseenter", offset: 7, autoHide: !0, hideDelay: 0, showAfter: 100 }, _bindEvents: function () { this._showHandler = c(this._showEvent, this), this._surfaceLeaveHandler = c(this._surfaceLeave, this), this._mouseleaveHandler = c(this._mouseleave, this), this._mousemoveHandler = c(this._mousemove, this), this.surface.bind("click", this._showHandler), this.surface.bind("mouseenter", this._showHandler), this.surface.bind("mouseleave", this._mouseleaveHandler), this.surface.bind("mousemove", this._mousemoveHandler), this.surface.element.on("mouseleave" + e, this._surfaceLeaveHandler), this.element.on("click" + e, ".k-tooltip-button", c(this._hideClick, this)) }, getPopup: function () { return this.popup || (this.popup = new n.ui.Popup(this.element, this.popupOptions)), this.popup }, destroy: function () { var t = this.popup; this.surface.unbind("click", this._showHandler), this.surface.unbind("mouseenter", this._showHandler), this.surface.unbind("mouseleave", this._mouseleaveHandler), this.surface.unbind("mousemove", this._mousemoveHandler), this.surface.element.off("mouseleave" + e, this._surfaceLeaveHandler), this.element.off("click" + e), t && (t.destroy(), delete this.popup), delete this.popupOptions, clearTimeout(this._timeout), delete this.element, delete this.content, delete this.surface }, _tooltipOptions: function (t) { return t = t || {}, { position: t.position, showOn: t.showOn, offset: t.offset, autoHide: t.autoHide, width: t.width, height: t.height, content: t.content, shared: t.shared, hideDelay: t.hideDelay, showAfter: t.showAfter } }, _tooltipShape: function (t) { for (; t && !t.options.tooltip;)t = t.parent; return t }, _updateContent: function (t, e, i) { var r = i.content; if (n.isFunction(r) && (r = r({ element: e, target: t })), r) return this.content.html(r), !0 }, _position: function (t, e, n, i) { var r, o = e.position, h = e.offset || 0, l = this.surface, c = l._instance._elementOffset(), u = l.getSize(), d = l._instance._offset, f = t.bbox(), p = n.width, g = n.height, m = 0, v = 0; return f.origin.translate(c.left, c.top), d && f.origin.translate(-d.x, -d.y), "cursor" == o && i ? (r = a(i), m = r.x - p / 2, v = r.y - g - h) : "left" == o ? (m = f.origin.x - p - h, v = f.center().y - g / 2) : "right" == o ? (m = f.bottomRight().x + h, v = f.center().y - g / 2) : "bottom" == o ? (m = f.center().x - p / 2, v = f.bottomRight().y + h) : (m = f.center().x - p / 2, v = f.origin.y - g - h), { left: s(m, c.left, c.left + u.width), top: s(v, c.top, c.top + u.height) } }, show: function (t, e) { this._show(t, t, i({}, this.options, this._tooltipOptions(t.options.tooltip), e)) }, hide: function () { var t = this.popup, e = this._current; delete this._current, clearTimeout(this._showTimeout), t && t.visible() && e && !this.surface.trigger("tooltipClose", { element: e.shape, target: e.target, popup: t }) && t.close() }, _hideClick: function (t) { t.preventDefault(), this.hide() }, _show: function (t, e, n, i, r) { var o, s, a = this._current; clearTimeout(this._timeout), a && (a.shape === e && n.shared || a.target === t) || (clearTimeout(this._showTimeout), o = this.getPopup(), !this.surface.trigger("tooltipOpen", { element: e, target: t, popup: o }) && this._updateContent(t, e, n) && (this._autoHide(n), s = this._measure(n), o.visible() && o.close(!0), this._current = { options: n, elementSize: s, shape: e, target: t, position: this._position(n.shared ? e : t, n, s, i) }, r ? this._showTimeout = setTimeout(this._openPopupHandler, n.showAfter || 0) : this._openPopup())) }, _openPopup: function () { var t = this._current, e = t.position; this.getPopup().open(e.left, e.top) }, _autoHide: function (e) { e.autoHide && this._closeButton && (this.element.removeClass("k-tooltip-closable"), this._closeButton.remove(), delete this._closeButton), e.autoHide || this._closeButton || (this.element.addClass("k-tooltip-closable"), this._closeButton = t(d).prependTo(this.element)) }, _showEvent: function (t) { var e, n = this._tooltipShape(t.element); n && (e = i({}, this.options, this._tooltipOptions(n.options.tooltip)), e && e.showOn == t.type && this._show(t.element, n, e, t.originalEvent, !0)) }, _measure: function (t) { var e, n, i, r = this.getPopup(); return this.element.css({ width: "auto", height: "auto" }), i = r.visible(), i || r.wrapper.show(), this.element.css({ width: o(t.width) ? t.width : "auto", height: o(t.height) ? t.height : "auto" }), e = h(this.element), n = l(this.element), i || r.wrapper.hide(), { width: e, height: n } }, _mouseleave: function (t) { var e, n; this.popup && !this._popupRelatedTarget(t.originalEvent) && (e = this, n = e._current, n && n.options.autoHide && (e._timeout = setTimeout(function () { clearTimeout(e._showTimeout), e.hide() }, n.options.hideDelay || 0))) }, _mousemove: function (t) { var e, n, i = this._current; i && t.element && (e = i.options, "cursor" == e.position && (n = this._position(t.element, e, i.elementSize, t.originalEvent), i.position = n, this.getPopup().wrapper.css({ left: n.left, top: n.top }))) }, _surfaceLeave: function (t) { this.popup && !this._popupRelatedTarget(t) && (clearTimeout(this._showTimeout), this.hide()) }, _popupRelatedTarget: function (e) { return e.relatedTarget && t(e.relatedTarget).closest(this.popup.wrapper).length } }); n.drawing.SurfaceTooltip = f }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("drawing/surface.min", ["drawing/kendo-drawing.min", "drawing/surface-tooltip.min"], t) }(function () { !function (t) { function e(t) { this._instance.translate(t) } var n, i = window.kendo, r = i.drawing, o = r.Surface, s = i.ui.Widget, a = i.deepExtend, h = t.proxy; i.support.svg = o.support.svg, i.support.canvas = o.support.canvas, n = s.extend({ init: function (t, n) { s.fn.init.call(this, t, {}), this.options = a({}, this.options, n), this._instance = o.create(this.element[0], n), this._instance.translate && (this.translate = e), this._triggerInstanceHandler = h(this._triggerInstanceEvent, this), this._bindHandler("click"), this._bindHandler("mouseenter"), this._bindHandler("mouseleave"), this._bindHandler("mousemove"), this._enableTracking() }, options: { name: "Surface", tooltip: {} }, events: ["click", "mouseenter", "mouseleave", "mousemove", "resize", "tooltipOpen", "tooltipClose"], _triggerInstanceEvent: function (t) { this.trigger(t.type, t) }, _bindHandler: function (t) { this._instance.bind(t, this._triggerInstanceHandler) }, draw: function (t) { this._instance.draw(t) }, clear: function () { this._instance && this._instance.clear(), this.hideTooltip() }, destroy: function () { this._instance && (this._instance.destroy(), delete this._instance), this._tooltip && (this._tooltip.destroy(), delete this._tooltip), s.fn.destroy.call(this) }, exportVisual: function () { return this._instance.exportVisual() }, eventTarget: function (t) { return this._instance.eventTarget(t) }, showTooltip: function (t, e) { this._tooltip && this._tooltip.show(t, e) }, hideTooltip: function () { this._tooltip && this._tooltip.hide() }, suspendTracking: function () { this._instance.suspendTracking(), this.hideTooltip() }, resumeTracking: function () { this._instance.resumeTracking() }, getSize: function () { return { width: this.element.width(), height: this.element.height() } }, setSize: function (t) { this.element.css({ width: t.width, height: t.height }), this._size = t, this._instance.currentSize(t), this._resize() }, _resize: function () { this._instance.currentSize(this._size), this._instance._resize() }, _enableTracking: function () { i.ui.Popup && (this._tooltip = new r.SurfaceTooltip(this, this.options.tooltip || {})) } }), i.ui.plugin(n), n.create = function (t, e) { return new n(t, e) }, i.drawing.Surface = n }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("drawing/html.min", ["drawing/kendo-drawing.min"], t) }(function () { !function (t) { var e = window.kendo, n = e.drawing, i = n.drawDOM; n.drawDOM = function (e, n) { return i(t(e)[0], n) }, n.drawDOM.drawText = i.drawText, n.drawDOM.getFontFaces = i.getFontFaces }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() }), function (t, define) { define("kendo.drawing.min", ["drawing/util.min", "drawing/kendo-drawing.min", "drawing/surface-tooltip.min", "drawing/surface.min", "drawing/html.min"], t) }(function () { }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (t, define) { define("kendo.fx.min", ["kendo.core.min"], t) }(function () { return function (t, e) { function i(t) { return parseInt(t, 10) } function r(t, e) { return i(t.css(e)) } function n(t) { var e, i = []; for (e in t) i.push(e); return i } function s(t) { for (var e in t) L.indexOf(e) != -1 && Q.indexOf(e) == -1 && delete t[e]; return t } function o(t, e) { var i, r, n, s, o = [], a = {}; for (r in e) i = r.toLowerCase(), s = H && L.indexOf(i) != -1, !E.hasHW3D && s && Q.indexOf(i) == -1 ? delete e[r] : (n = e[r], s ? o.push(r + "(" + n + ")") : a[r] = n); return o.length && (a[at] = o.join(" ")), a } function a(t, e) { var r, n, s; return H ? (r = t.css(at), r == J ? "scale" == e ? 1 : 0 : (n = r.match(RegExp(e + "\\s*\\(([\\d\\w\\.]+)")), s = 0, n ? s = i(n[1]) : (n = r.match(S) || [0, 0, 0, 0, 0], e = e.toLowerCase(), V.test(e) ? s = parseFloat(n[3] / n[2]) : "translatey" == e ? s = parseFloat(n[4] / n[2]) : "scale" == e ? s = parseFloat(n[2]) : "rotate" == e && (s = parseFloat(Math.atan2(n[2], n[1])))), s)) : parseFloat(t.css(e)) } function c(t) { return t.charAt(0).toUpperCase() + t.substring(1) } function l(t, e) { var i = h.extend(e), r = i.prototype.directions; T[c(t)] = i, T.Element.prototype[t] = function (t, e, r, n) { return new i(this.element, t, e, r, n) }, N(r, function (e, r) { T.Element.prototype[t + c(r)] = function (t, e, n) { return new i(this.element, r, t, e, n) } }) } function d(t, i, r, n) { l(t, { directions: v, startValue: function (t) { return this._startValue = t, this }, endValue: function (t) { return this._endValue = t, this }, shouldHide: function () { return this._shouldHide }, prepare: function (t, s) { var o, a, c = this, l = "out" === this._direction, d = c.element.data(i), u = !(isNaN(d) || d == r); o = u ? d : e !== this._startValue ? this._startValue : l ? r : n, a = e !== this._endValue ? this._endValue : l ? n : r, this._reverse ? (t[i] = a, s[i] = o) : (t[i] = o, s[i] = a), c._shouldHide = s[i] === n } }) } function u(t, e) { var i = C.directions[e].vertical, r = t[i ? Y : X]() / 2 + "px"; return _[e].replace("$size", r) } var f, p, h, m, v, x, _, g, y, k, b, w, C = window.kendo, T = C.effects, N = t.each, P = t.extend, z = t.proxy, E = C.support, R = E.browser, H = E.transforms, D = E.transitions, O = { scale: 0, scalex: 0, scaley: 0, scale3d: 0 }, F = { translate: 0, translatex: 0, translatey: 0, translate3d: 0 }, I = e !== document.documentElement.style.zoom && !H, S = /matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i, A = /^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i, V = /translatex?$/i, q = /(zoom|fade|expand)(\w+)/, M = /(zoom|fade|expand)/, $ = /[xy]$/i, L = ["perspective", "rotate", "rotatex", "rotatey", "rotatez", "rotate3d", "scale", "scalex", "scaley", "scalez", "scale3d", "skew", "skewx", "skewy", "translate", "translatex", "translatey", "translatez", "translate3d", "matrix", "matrix3d"], Q = ["rotate", "scale", "scalex", "scaley", "skew", "skewx", "skewy", "translate", "translatex", "translatey", "matrix"], W = { rotate: "deg", scale: "", skew: "px", translate: "px" }, j = H.css, B = Math.round, U = "", G = "px", J = "none", K = "auto", X = "width", Y = "height", Z = "hidden", tt = "origin", et = "abortId", it = "overflow", rt = "translate", nt = "position", st = "completeCallback", ot = j + "transition", at = j + "transform", ct = j + "backface-visibility", lt = j + "perspective", dt = "1500px", ut = "perspective(" + dt + ")", ft = { left: { reverse: "right", property: "left", transition: "translatex", vertical: !1, modifier: -1 }, right: { reverse: "left", property: "left", transition: "translatex", vertical: !1, modifier: 1 }, down: { reverse: "up", property: "top", transition: "translatey", vertical: !0, modifier: 1 }, up: { reverse: "down", property: "top", transition: "translatey", vertical: !0, modifier: -1 }, top: { reverse: "bottom" }, bottom: { reverse: "top" }, "in": { reverse: "out", modifier: -1 }, out: { reverse: "in", modifier: 1 }, vertical: { reverse: "vertical" }, horizontal: { reverse: "horizontal" } }; C.directions = ft, P(t.fn, { kendoStop: function (t, e) { return D ? T.stopQueue(this, t || !1, e || !1) : this.stop(t, e) } }), H && !D && (N(Q, function (i, r) { t.fn[r] = function (i) { if (e === i) return a(this, r); var n = t(this)[0], s = r + "(" + i + W[r.replace($, "")] + ")"; return n.style.cssText.indexOf(at) == -1 ? t(this).css(at, s) : n.style.cssText = n.style.cssText.replace(RegExp(r + "\\(.*?\\)", "i"), s), this }, t.fx.step[r] = function (e) { t(e.elem)[r](e.now) } }), f = t.fx.prototype.cur, t.fx.prototype.cur = function () { return Q.indexOf(this.prop) != -1 ? parseFloat(t(this.elem)[this.prop]()) : f.apply(this, arguments) }), C.toggleClass = function (t, e, i, r) { return e && (e = e.split(" "), D && (i = P({ exclusive: "all", duration: 400, ease: "ease-out" }, i), t.css(ot, i.exclusive + " " + i.duration + "ms " + i.ease), setTimeout(function () { t.css(ot, "").css(Y) }, i.duration)), N(e, function (e, i) { t.toggleClass(i, r) })), t }, C.parseEffects = function (t, e) { var i = {}; return "string" == typeof t ? N(t.split(" "), function (t, r) { var n = !M.test(r), s = r.replace(q, function (t, e, i) { return e + ":" + i.toLowerCase() }), o = s.split(":"), a = o[1], c = {}; o.length > 1 && (c.direction = e && n ? ft[a].reverse : a), i[o[0]] = c }) : N(t, function (t) { var r = this.direction; r && e && !M.test(t) && (this.direction = ft[r].reverse), i[t] = this }), i }, D && P(T, { transition: function (e, i, r) { var s, a, c, l, d = 0, u = e.data("keys") || []; r = P({ duration: 200, ease: "ease-out", complete: null, exclusive: "all" }, r), c = !1, l = function () { c || (c = !0, a && (clearTimeout(a), a = null), e.removeData(et).dequeue().css(ot, "").css(ot), r.complete.call(e)) }, r.duration = t.fx ? t.fx.speeds[r.duration] || r.duration : r.duration, s = o(e, i), t.merge(u, n(s)), e.data("keys", t.unique(u)).height(), e.css(ot, r.exclusive + " " + r.duration + "ms " + r.ease).css(ot), e.css(s).css(at), D.event && (e.one(D.event, l), 0 !== r.duration && (d = 500)), a = setTimeout(l, r.duration + d), e.data(et, a), e.data(st, l) }, stopQueue: function (t, e, i) { var r, n = t.data("keys"), s = !i && n, o = t.data(st); return s && (r = C.getComputedStyles(t[0], n)), o && o(), s && t.css(r), t.removeData("keys").stop(e) } }), p = C.Class.extend({ init: function (t, e) { var i = this; i.element = t, i.effects = [], i.options = e, i.restore = [] }, run: function (e) { var i, r, n, a, c, l, d, u = this, f = e.length, p = u.element, h = u.options, m = t.Deferred(), v = {}, x = {}; for (u.effects = e, m.done(t.proxy(u, "complete")), p.data("animating", !0), r = 0; r < f; r++)for (i = e[r], i.setReverse(h.reverse), i.setOptions(h), u.addRestoreProperties(i.restore), i.prepare(v, x), c = i.children(), n = 0, l = c.length; n < l; n++)c[n].duration(h.duration).run(); for (d in h.effects) P(x, h.effects[d].properties); for (p.is(":visible") || P(v, { display: p.data("olddisplay") || "block" }), H && !h.reset && (a = p.data("targetTransform"), a && (v = P(a, v))), v = o(p, v), H && !D && (v = s(v)), p.css(v).css(at), r = 0; r < f; r++)e[r].setup(); return h.init && h.init(), p.data("targetTransform", x), T.animate(p, x, P({}, h, { complete: m.resolve })), m.promise() }, stop: function () { t(this.element).kendoStop(!0, !0) }, addRestoreProperties: function (t) { for (var e, i = this.element, r = 0, n = t.length; r < n; r++)e = t[r], this.restore.push(e), i.data(e) || i.data(e, i.css(e)) }, restoreCallback: function () { var t, e, i, r = this.element; for (t = 0, e = this.restore.length; t < e; t++)i = this.restore[t], r.css(i, r.data(i)) }, complete: function () { var e = this, i = 0, r = e.element, n = e.options, s = e.effects, o = s.length; for (r.removeData("animating").dequeue(), n.hide && r.data("olddisplay", r.css("display")).hide(), this.restoreCallback(), I && !H && setTimeout(t.proxy(this, "restoreCallback"), 0); i < o; i++)s[i].teardown(); n.completeCallback && n.completeCallback(r) } }), T.promise = function (t, e) { var i, r, n, s = [], o = new p(t, e), a = C.parseEffects(e.effects); e.effects = a; for (n in a) i = T[c(n)], i && (r = new i(t, a[n].direction), s.push(r)); s[0] ? o.run(s) : (t.is(":visible") || t.css({ display: t.data("olddisplay") || "block" }).css("display"), e.init && e.init(), t.dequeue(), o.complete()) }, P(T, { animate: function (i, n, o) { var a = o.transition !== !1; delete o.transition, D && "transition" in T && a ? T.transition(i, n, o) : H ? i.animate(s(n), { queue: !1, show: !1, hide: !1, duration: o.duration, complete: o.complete }) : i.each(function () { var i = t(this), s = {}; N(L, function (t, o) { var a, c, l, d, u, f, p, h = n ? n[o] + " " : null; h && (c = n, o in O && n[o] !== e ? (a = h.match(A), H && P(c, { scale: +a[0] })) : o in F && n[o] !== e && (l = i.css(nt), d = "absolute" == l || "fixed" == l, i.data(rt) || (d ? i.data(rt, { top: r(i, "top") || 0, left: r(i, "left") || 0, bottom: r(i, "bottom"), right: r(i, "right") }) : i.data(rt, { top: r(i, "marginTop") || 0, left: r(i, "marginLeft") || 0 })), u = i.data(rt), a = h.match(A), a && (f = o == rt + "y" ? 0 : +a[1], p = o == rt + "y" ? +a[1] : +a[2], d ? (isNaN(u.right) ? isNaN(f) || P(c, { left: u.left + f }) : isNaN(f) || P(c, { right: u.right - f }), isNaN(u.bottom) ? isNaN(p) || P(c, { top: u.top + p }) : isNaN(p) || P(c, { bottom: u.bottom - p })) : (isNaN(f) || P(c, { marginLeft: u.left + f }), isNaN(p) || P(c, { marginTop: u.top + p })))), !H && "scale" != o && o in c && delete c[o], c && P(s, c)) }), R.msie && delete s.scale, i.animate(s, { queue: !1, show: !1, hide: !1, duration: o.duration, complete: o.complete }) }) } }), T.animatedPromise = T.promise, h = C.Class.extend({ init: function (t, e) { var i = this; i.element = t, i._direction = e, i.options = {}, i._additionalEffects = [], i.restore || (i.restore = []) }, reverse: function () { return this._reverse = !0, this.run() }, play: function () { return this._reverse = !1, this.run() }, add: function (t) { return this._additionalEffects.push(t), this }, direction: function (t) { return this._direction = t, this }, duration: function (t) { return this._duration = t, this }, compositeRun: function () { var t = this, e = new p(t.element, { reverse: t._reverse, duration: t._duration }), i = t._additionalEffects.concat([t]); return e.run(i) }, run: function () { if (this._additionalEffects && this._additionalEffects[0]) return this.compositeRun(); var e, i, r = this, n = r.element, a = 0, c = r.restore, l = c.length, d = t.Deferred(), u = {}, f = {}, p = r.children(), h = p.length; for (d.done(t.proxy(r, "_complete")), n.data("animating", !0), a = 0; a < l; a++)e = c[a], n.data(e) || n.data(e, n.css(e)); for (a = 0; a < h; a++)p[a].duration(r._duration).run(); return r.prepare(u, f), n.is(":visible") || P(u, { display: n.data("olddisplay") || "block" }), H && (i = n.data("targetTransform"), i && (u = P(i, u))), u = o(n, u), H && !D && (u = s(u)), n.css(u).css(at), r.setup(), n.data("targetTransform", f), T.animate(n, f, { duration: r._duration, complete: d.resolve }), d.promise() }, stop: function () { var e = 0, i = this.children(), r = i.length; for (e = 0; e < r; e++)i[e].stop(); return t(this.element).kendoStop(!0, !0), this }, restoreCallback: function () { var t, e, i, r = this.element; for (t = 0, e = this.restore.length; t < e; t++)i = this.restore[t], r.css(i, r.data(i)) }, _complete: function () { var e = this, i = e.element; i.removeData("animating").dequeue(), e.restoreCallback(), e.shouldHide() && i.data("olddisplay", i.css("display")).hide(), I && !H && setTimeout(t.proxy(e, "restoreCallback"), 0), e.teardown() }, setOptions: function (t) { P(!0, this.options, t) }, children: function () { return [] }, shouldHide: t.noop, setup: t.noop, prepare: t.noop, teardown: t.noop, directions: [], setReverse: function (t) { return this._reverse = t, this } }), m = ["left", "right", "up", "down"], v = ["in", "out"], l("slideIn", { directions: m, divisor: function (t) { return this.options.divisor = t, this }, prepare: function (t, e) { var i, r = this, n = r.element, s = C._outerWidth, o = C._outerHeight, a = ft[r._direction], c = -a.modifier * (a.vertical ? o(n) : s(n)), l = c / (r.options && r.options.divisor || 1) + G, d = "0px"; r._reverse && (i = t, t = e, e = i), H ? (t[a.transition] = l, e[a.transition] = d) : (t[a.property] = l, e[a.property] = d) } }), l("tile", { directions: m, init: function (t, e, i) { h.prototype.init.call(this, t, e), this.options = { previous: i } }, previousDivisor: function (t) { return this.options.previousDivisor = t, this }, children: function () { var t = this, e = t._reverse, i = t.options.previous, r = t.options.previousDivisor || 1, n = t._direction, s = [C.fx(t.element).slideIn(n).setReverse(e)]; return i && s.push(C.fx(i).slideIn(ft[n].reverse).divisor(r).setReverse(!e)), s } }), d("fade", "opacity", 1, 0), d("zoom", "scale", 1, .01), l("slideMargin", { prepare: function (t, e) { var i, r = this, n = r.element, s = r.options, o = n.data(tt), a = s.offset, c = r._reverse; c || null !== o || n.data(tt, parseFloat(n.css("margin-" + s.axis))), i = n.data(tt) || 0, e["margin-" + s.axis] = c ? i : i + a } }), l("slideTo", { prepare: function (t, e) { var i = this, r = i.element, n = i.options, s = n.offset.split(","), o = i._reverse; H ? (e.translatex = o ? 0 : s[0], e.translatey = o ? 0 : s[1]) : (e.left = o ? 0 : s[0], e.top = o ? 0 : s[1]), r.css("left") } }), l("expand", { directions: ["horizontal", "vertical"], restore: [it], prepare: function (t, i) { var r = this, n = r.element, s = r.options, o = r._reverse, a = "vertical" === r._direction ? Y : X, c = n[0].style[a], l = n.data(a), d = parseFloat(l || c), u = B(n.css(a, K)[a]()); t.overflow = Z, d = s && s.reset ? u || d : d || u, i[a] = (o ? 0 : d) + G, t[a] = (o ? d : 0) + G, l === e && n.data(a, c) }, shouldHide: function () { return this._reverse }, teardown: function () { var t = this, e = t.element, i = "vertical" === t._direction ? Y : X, r = e.data(i); r != K && r !== U || setTimeout(function () { e.css(i, K).css(i) }, 0) } }), x = { position: "absolute", marginLeft: 0, marginTop: 0, scale: 1 }, l("transfer", { init: function (t, e) { this.element = t, this.options = { target: e }, this.restore = [] }, setup: function () { this.element.appendTo(document.body) }, prepare: function (t, e) { var i = this, r = i.element, n = T.box(r), s = T.box(i.options.target), o = a(r, "scale"), c = T.fillScale(s, n), l = T.transformOrigin(s, n); P(t, x), e.scale = 1, r.css(at, "scale(1)").css(at), r.css(at, "scale(" + o + ")"), t.top = n.top, t.left = n.left, t.transformOrigin = l.x + G + " " + l.y + G, i._reverse ? t.scale = c : e.scale = c } }), _ = { top: "rect(auto auto $size auto)", bottom: "rect($size auto auto auto)", left: "rect(auto $size auto auto)", right: "rect(auto auto auto $size)" }, g = { top: { start: "rotatex(0deg)", end: "rotatex(180deg)" }, bottom: { start: "rotatex(-180deg)", end: "rotatex(0deg)" }, left: { start: "rotatey(0deg)", end: "rotatey(-180deg)" }, right: { start: "rotatey(180deg)", end: "rotatey(0deg)" } }, l("turningPage", { directions: m, init: function (t, e, i) { h.prototype.init.call(this, t, e), this._container = i }, prepare: function (t, e) { var i = this, r = i._reverse, n = r ? ft[i._direction].reverse : i._direction, s = g[n]; t.zIndex = 1, i._clipInHalf && (t.clip = u(i._container, C.directions[n].reverse)), t[ct] = Z, e[at] = ut + (r ? s.start : s.end), t[at] = ut + (r ? s.end : s.start) }, setup: function () { this._container.append(this.element) }, face: function (t) { return this._face = t, this }, shouldHide: function () { var t = this, e = t._reverse, i = t._face; return e && !i || !e && i }, clipInHalf: function (t) { return this._clipInHalf = t, this }, temporary: function () { return this.element.addClass("temp-page"), this } }), l("staticPage", { directions: m, init: function (t, e, i) { h.prototype.init.call(this, t, e), this._container = i }, restore: ["clip"], prepare: function (t, e) { var i = this, r = i._reverse ? ft[i._direction].reverse : i._direction; t.clip = u(i._container, r), t.opacity = .999, e.opacity = 1 }, shouldHide: function () { var t = this, e = t._reverse, i = t._face; return e && !i || !e && i }, face: function (t) { return this._face = t, this } }), l("pageturn", { directions: ["horizontal", "vertical"], init: function (t, e, i, r) { h.prototype.init.call(this, t, e), this.options = {}, this.options.face = i, this.options.back = r }, children: function () { var t, e = this, i = e.options, r = "horizontal" === e._direction ? "left" : "top", n = C.directions[r].reverse, s = e._reverse, o = i.face.clone(!0).removeAttr("id"), a = i.back.clone(!0).removeAttr("id"), c = e.element; return s && (t = r, r = n, n = t), [C.fx(i.face).staticPage(r, c).face(!0).setReverse(s), C.fx(i.back).staticPage(n, c).setReverse(s), C.fx(o).turningPage(r, c).face(!0).clipInHalf(!0).temporary().setReverse(s), C.fx(a).turningPage(n, c).clipInHalf(!0).temporary().setReverse(s)] }, prepare: function (t, e) { t[lt] = dt, t.transformStyle = "preserve-3d", t.opacity = .999, e.opacity = 1 }, teardown: function () { this.element.find(".temp-page").remove() } }), l("flip", { directions: ["horizontal", "vertical"], init: function (t, e, i, r) { h.prototype.init.call(this, t, e), this.options = {}, this.options.face = i, this.options.back = r }, children: function () { var t, e = this, i = e.options, r = "horizontal" === e._direction ? "left" : "top", n = C.directions[r].reverse, s = e._reverse, o = e.element; return s && (t = r, r = n, n = t), [C.fx(i.face).turningPage(r, o).face(!0).setReverse(s), C.fx(i.back).turningPage(n, o).setReverse(s)] }, prepare: function (t) { t[lt] = dt, t.transformStyle = "preserve-3d" } }), y = !E.mobileOS.android, k = ".km-touch-scrollbar, .km-actionsheet-wrapper", l("replace", { _before: t.noop, _after: t.noop, init: function (e, i, r) { h.prototype.init.call(this, e), this._previous = t(i), this._transitionClass = r }, duration: function () { throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule") }, beforeTransition: function (t) { return this._before = t, this }, afterTransition: function (t) { return this._after = t, this }, _both: function () { return t().add(this._element).add(this._previous) }, _containerClass: function () { var t = this._direction, e = "k-fx k-fx-start k-fx-" + this._transitionClass; return t && (e += " k-fx-" + t), this._reverse && (e += " k-fx-reverse"), e }, complete: function (e) { if (!(!this.deferred || e && t(e.target).is(k))) { var i = this.container; i.removeClass("k-fx-end").removeClass(this._containerClass()).off(D.event, this.completeProxy), this._previous.hide().removeClass("k-fx-current"), this.element.removeClass("k-fx-next"), y && i.css(it, ""), this.isAbsolute || this._both().css(nt, ""), this.deferred.resolve(), delete this.deferred } }, run: function () { if (this._additionalEffects && this._additionalEffects[0]) return this.compositeRun(); var e, i = this, r = i.element, n = i._previous, s = r.parents().filter(n.parents()).first(), o = i._both(), a = t.Deferred(), c = r.css(nt); return s.length || (s = r.parent()), this.container = s, this.deferred = a, this.isAbsolute = "absolute" == c, this.isAbsolute || o.css(nt, "absolute"), y && (e = s.css(it), s.css(it, "hidden")), D ? (r.addClass("k-fx-hidden"), s.addClass(this._containerClass()), this.completeProxy = t.proxy(this, "complete"), s.on(D.event, this.completeProxy), C.animationFrame(function () { r.removeClass("k-fx-hidden").addClass("k-fx-next"), n.css("display", "").addClass("k-fx-current"), i._before(n, r), C.animationFrame(function () { s.removeClass("k-fx-start").addClass("k-fx-end"), i._after(n, r) }) })) : this.complete(), a.promise() }, stop: function () { this.complete() } }), b = C.Class.extend({ init: function () { var t = this; t._tickProxy = z(t._tick, t), t._started = !1 }, tick: t.noop, done: t.noop, onEnd: t.noop, onCancel: t.noop, start: function () { this.enabled() && (this.done() ? this.onEnd() : (this._started = !0, C.animationFrame(this._tickProxy))) }, enabled: function () { return !0 }, cancel: function () { this._started = !1, this.onCancel() }, _tick: function () { var t = this; t._started && (t.tick(), t.done() ? (t._started = !1, t.onEnd()) : C.animationFrame(t._tickProxy)) } }), w = b.extend({ init: function (t) { var e = this; P(e, t), b.fn.init.call(e) }, done: function () { return this.timePassed() >= this.duration }, timePassed: function () { return Math.min(this.duration, new Date - this.startDate) }, moveTo: function (t) { var e = this, i = e.movable; e.initial = i[e.axis], e.delta = t.location - e.initial, e.duration = "number" == typeof t.duration ? t.duration : 300, e.tick = e._easeProxy(t.ease), e.startDate = new Date, e.start() }, _easeProxy: function (t) { var e = this; return function () { e.movable.moveAxis(e.axis, t(e.timePassed(), e.initial, e.delta, e.duration)) } } }), P(w, { easeOutExpo: function (t, e, i, r) { return t == r ? e + i : i * (-Math.pow(2, -10 * t / r) + 1) + e }, easeOutBack: function (t, e, i, r, n) { return n = 1.70158, i * ((t = t / r - 1) * t * ((n + 1) * t + n) + 1) + e } }), T.Animation = b, T.Transition = w, T.createEffect = l, T.box = function (e) { e = t(e); var i = e.offset(); return i.width = C._outerWidth(e), i.height = C._outerHeight(e), i }, T.transformOrigin = function (t, e) { var i = (t.left - e.left) * e.width / (e.width - t.width), r = (t.top - e.top) * e.height / (e.height - t.height); return { x: isNaN(i) ? 0 : i, y: isNaN(r) ? 0 : r } }, T.fillScale = function (t, e) { return Math.min(t.width / e.width, t.height / e.height) }, T.fitScale = function (t, e) { return Math.max(t.width / e.width, t.height / e.height) } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(s, h) } function r(t) { var e, r = []; for (e in t) r.push(e + t[e]); return r.sort().join("") } function n(t) { var e, r = 2166136261; for (e = 0; e < t.length; ++e)r += (r << 1) + (r << 4) + (r << 7) + (r << 8) + (r << 24), r ^= t.charCodeAt(e); return r >>> 0 } function i() { return { width: 0, height: 0, baseline: 0 } } function o(t, e, r) { return u.current.measure(t, e, r) } var a, s, h, c, f, u; window.kendo.util = window.kendo.util || {}, a = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var r = this._map, n = { key: t, value: e }; r[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (r[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), s = /\r?\n|\r|\t/g, h = " ", c = { baselineMarkerSize: 1 }, "undefined" != typeof document && (f = document.createElement("div"), f.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), u = kendo.Class.extend({ init: function (e) { this._cache = new a(1e3), this.options = t.extend({}, c, e) }, measure: function (t, o, a) { var s, h, c, u, d, l, p, g, m; if (void 0 === a && (a = {}), !t) return i(); if (s = r(o), h = n(t + s), c = this._cache.get(h)) return c; u = i(), d = a.box || f, l = this._baselineMarker().cloneNode(!1); for (p in o) g = o[p], void 0 !== g && (d.style[p] = g); return m = a.normalizeText !== !1 ? e(t) : t + "", d.textContent = m, d.appendChild(l), document.body.appendChild(d), m.length && (u.width = d.offsetWidth - this.options.baselineMarkerSize, u.height = d.offsetHeight, u.baseline = l.offsetTop + this.options.baselineMarkerSize), u.width > 0 && u.height > 0 && this._cache.put(h, u), d.parentNode.removeChild(d), u }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), u.current = new u, kendo.deepExtend(kendo.util, { LRUCache: a, TextMetrics: u, measureText: o, objectKey: r, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() }), function (t, define) { define("pdf/pako.min", ["kendo.core.min"], t) }(function () { return function () { kendo.pdf = kendo.pdf || {}, kendo.pdf.supportsDeflate = function () { return window.pako && "function" == typeof window.pako.deflate }, kendo.pdf.deflate = function (t) { return window.pako.deflate(t) } }(), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() }), function (t, define) { define("pdf/core.min", ["pdf/pako.min", "kendo.core.min", "kendo.color.min", "kendo.drawing.min"], t) }(function () {
    return function (t) {
        function e(t) { function e() { return k >= T } function r() { return k < T ? t[k++] : 0 } function n(e) { x(k), t[k++] = 255 & e, k > T && (T = k) } function i() { return r() << 8 | r() } function o(t) { n(t >> 8), n(t) } function a() { var t = i(); return t >= 32768 ? t - 65536 : t } function s(t) { o(t < 0 ? t + 65536 : t) } function h() { return 65536 * i() + i() } function c(t) { o(t >>> 16 & 65535), o(65535 & t) } function f() { var t = h(); return t >= 2147483648 ? t - 4294967296 : t } function u(t) { c(t < 0 ? t + 4294967296 : t) } function d() { return h() / 65536 } function l(t) { c(Math.round(65536 * t)) } function p() { return f() / 65536 } function g(t) { u(Math.round(65536 * t)) } function m(t) { return y(t, r) } function w(t) { return String.fromCharCode.apply(String, m(t)) } function S(t) { for (var e = 0; e < t.length; ++e)n(t.charCodeAt(e)) } function y(t, e) { for (var r = Array(t), n = 0; n < t; ++n)r[n] = e(); return r } var x, _, b, v, C, k = 0, T = 0; return null == t ? t = Tt ? new Uint8Array(256) : [] : T = t.length, x = Tt ? function (e) { if (e >= t.length) { var r = new Uint8Array(Math.max(e + 256, 2 * t.length)); r.set(t, 0), t = r } } : function () { }, _ = Tt ? function () { return new Uint8Array(t.buffer, 0, T) } : function () { return t }, b = Tt ? function (e) { if ("string" == typeof e) return S(e); var r = e.length; x(k + r), t.set(e, k), k += r, k > T && (T = k) } : function (t) { if ("string" == typeof t) return S(t); for (var e = 0; e < t.length; ++e)n(t[e]) }, v = Tt ? function (e, r) { if (t.buffer.slice) return new Uint8Array(t.buffer.slice(e, e + r)); var n = new Uint8Array(r); return n.set(new Uint8Array(t.buffer, e, r)), n } : function (e, r) { return t.slice(e, e + r) }, C = { eof: e, readByte: r, writeByte: n, readShort: i, writeShort: o, readLong: h, writeLong: c, readFixed: d, writeFixed: l, readShort_: a, writeShort_: s, readLong_: f, writeLong_: u, readFixed_: p, writeFixed_: g, read: m, write: b, readString: w, writeString: S, times: y, get: _, slice: v, offset: function (t) { return null != t ? (k = t, C) : k }, skip: function (t) { k += t }, toString: function () { throw Error("FIX CALLER.  BinaryStream is no longer convertible to string!") }, length: function () { return T }, saveExcursion: function (t) { var e = k; try { return t() } finally { k = e } }, writeBase64: function (t) { window.atob ? S(window.atob(t)) : b(Dt.decode(t)) }, base64: function () { return Dt.encode(_()) } } } function r(t) { for (var e, r, n = [], i = 0, o = t.length; i < o;)e = t.charCodeAt(i++), e >= 55296 && e <= 56319 && i < o ? (r = t.charCodeAt(i++), 56320 == (64512 & r) ? n.push(((1023 & e) << 10) + (1023 & r) + 65536) : (n.push(e), i--)) : n.push(e); return n } function n(t) { return t.map(function (t) { var e = ""; return t > 65535 && (t -= 65536, e += String.fromCharCode(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += String.fromCharCode(t) }).join("") } function i(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function o(t) { return Object.keys(t).sort(function (t, e) { return t - e }).map(parseFloat) } function a(t) { var e, r, n; for (this.raw = t, this.scalerType = t.readLong(), this.tableCount = t.readShort(), this.searchRange = t.readShort(), this.entrySelector = t.readShort(), this.rangeShift = t.readShort(), e = this.tables = {}, r = 0; r < this.tableCount; ++r)n = { tag: t.readString(4), checksum: t.readLong(), offset: t.readLong(), length: t.readLong() }, e[n.tag] = n } function s(t) { function e(t, e) { this.definition = e, this.length = e.length, this.offset = e.offset, this.file = t, this.rawData = t.raw, this.parse(t.raw) } e.prototype.raw = function () { return this.rawData.slice(this.offset, this.length) }; for (var r in t) i(t, r) && (e[r] = e.prototype[r] = t[r]); return e } function h() { var t, e = "", r = Nt + ""; for (t = 0; t < r.length; ++t)e += String.fromCharCode(r.charCodeAt(t) - 48 + 65); return ++Nt, e } function c(t) { this.font = t, this.subset = {}, this.unicodes = {}, this.ogid2ngid = { 0: 0 }, this.ngid2ogid = { 0: 0 }, this.ncid2ogid = {}, this.next = this.firstChar = 1, this.nextGid = 1, this.psName = h() + "+" + this.font.psName } function f(t, r) { var n, i, o, a, s = this, h = s.contents = e(t); if ("ttcf" == h.readString(4)) { if (i = function () { h.offset(n), s.parse() }, !r) throw Error("Must specify a name for TTC files"); for (h.readLong(), o = h.readLong(), a = 0; a < o; ++a)if (n = h.readLong(), h.saveExcursion(i), s.psName == r) return; throw Error("Font " + r + " not found in collection") } h.offset(0), s.parse() } function u() { function t() { var e, r, i, o = arguments; for (e = 0; e < arguments.length; ++e) { if (r = o[e], void 0 === r) throw Error("Cannot output undefined to PDF"); if (r instanceof L) r.beforeRender(t), r.render(t); else if (Zt(r)) C(r, t); else if (v(r)) k(r, t); else if ("number" == typeof r) { if (isNaN(r)) throw Error("Cannot output NaN to PDF"); i = r.toFixed(7), i.indexOf(".") >= 0 && (i = i.replace(/\.?0+$/, "")), "-0" == i && (i = "0"), n.writeString(i) } else /string|boolean/.test(typeof r) ? n.writeString(r + "") : "function" == typeof r.get ? n.write(r.get()) : "object" == typeof r && (r ? t(new Qt(r)) : n.writeString("null")) } } var r = 0, n = e(); return t.writeData = function (t) { n.write(t) }, t.withIndent = function (e) { ++r, e(t), --r }, t.indent = function () { t(Ut, x("", 2 * r, "  ")), t.apply(null, arguments) }, t.offset = function () { return n.offset() }, t.toString = function () { throw Error("FIX CALLER") }, t.get = function () { return n.get() }, t.stream = function () { return n }, t } function d(t, e) { var r = t.beforeRender, n = t.render; t.beforeRender = function () { }, t.render = function (t) { t(e, " 0 R") }, t.renderFull = function (i) { t._offset = i.offset(), i(e, " 0 obj "), r.call(t, i), n.call(t, i), i(" endobj") } } function l(t) { var e, r, n; if ("function" != typeof t && (e = t, t = function (t, r) { return t in e ? e[t] : r }), r = t("paperSize", qt.a4), !r) return {}; if ("string" == typeof r && (r = qt[r.toLowerCase()], null == r)) throw Error("Unknown paper size"); return r[0] = I(r[0]), r[1] = I(r[1]), t("landscape", !1) && (r = [Math.max(r[0], r[1]), Math.min(r[0], r[1])]), n = t("margin"), n && ("string" == typeof n || "number" == typeof n ? (n = I(n, 0), n = { left: n, top: n, right: n, bottom: n }) : n = { left: I(n.left, 0), top: I(n.top, 0), right: I(n.right, 0), bottom: I(n.bottom, 0) }, t("addMargin") && (r[0] += n.left + n.right, r[1] += n.top + n.bottom)), { paperSize: r, margin: n } } function p(t) { function e(e, r) { return t && null != t[e] ? t[e] : r } var r, n, i, o, a = this, s = u(), h = 0, c = []; a.getOption = e, a.attach = function (t) { return c.indexOf(t) < 0 && (d(t, ++h), c.push(t)), t }, a.pages = [], a.FONTS = {}, a.IMAGES = {}, a.GRAD_COL_FUNCTIONS = {}, a.GRAD_OPC_FUNCTIONS = {}, a.GRAD_COL = {}, a.GRAD_OPC = {}, r = a.attach(new ee), n = a.attach(new re), e("autoPrint") && (i = {}, i.JavaScript = new Qt({ Names: [new Kt("JS"), a.attach(new Qt({ S: O("JavaScript"), JS: new Kt("print(true);") }))] }), r.props.Names = new Qt(i)), r.setPages(n), o = a.attach(new Qt({ Producer: new Kt(e("producer", "Kendo UI PDF Generator")), Title: new Kt(e("title", "")), Author: new Kt(e("author", "")), Subject: new Kt(e("subject", "")), Keywords: new Kt(e("keywords", "")), Creator: new Kt(e("creator", "Kendo UI PDF Generator")), CreationDate: e("date", new Date) })), a.addPage = function (t) { var e, r, i, o = l(function (e, r) { return t && null != t[e] ? t[e] : r }), s = o.paperSize, h = o.margin, c = s[0], f = s[1]; return h && (c -= h.left + h.right, f -= h.top + h.bottom), e = new te(u(), null, (!0)), r = { Contents: a.attach(e), Parent: n, MediaBox: [0, 0, s[0], s[1]] }, i = new se(a, r), i._content = e, n.addPage(a.attach(i)), i.transform(1, 0, 0, -1, 0, s[1]), h && (i.translate(h.left, h.top), i.rect(0, 0, c, f), i.clip()), a.pages.push(i), i }, a.render = function () { var t, e; for (s("%PDF-1.4", Ut, "%ÂÁÚÏÎ", Ut, Ut), t = 0; t < c.length; ++t)c[t].renderFull(s), s(Ut, Ut); for (e = s.offset(), s("xref", Ut, 0, " ", c.length + 1, Ut), s("0000000000 65535 f ", Ut), t = 0; t < c.length; ++t)s(_(c[t]._offset, 10), " 00000 n ", Ut); return s(Ut), s("trailer", Ut), s(new Qt({ Size: c.length + 1, Root: r, Info: o }), Ut, Ut), s("startxref", Ut, e, Ut), s("%%EOF", Ut), s.stream().offset(0) } } function g(t, e) { function r() { window.console && (window.console.error ? window.console.error("Cannot load URL: %s", t) : window.console.log("Cannot load URL: %s", t)), e(null) } var n = new XMLHttpRequest; n.open("GET", t, !0), zt && (n.responseType = "arraybuffer"), n.onload = function () { 200 == n.status || 304 == n.status ? e(zt ? new Uint8Array(n.response) : new window.VBArray(n.responseBody).toArray()) : r() }, n.onerror = r, n.send(null) } function m(t, e) { var r = Ht[t]; r ? e(r) : g(t, function (r) { if (null == r) throw Error("Cannot load font from " + t); var n = new f(r); Ht[t] = n, e(n) }) } function w() { Wt = {} } function S(t, r, n) { function i(t) { f.src = t, f.complete && !Bt.msie ? a() : (f.onload = a, f.onerror = o) } function o() { n(Wt[t] = "TAINTED") } function a() { var i, a, c, u, d, l, p, g, m, w, S, y; if (r && (r.width >= f.width || r.height >= f.height) && (r = null), !r && h && /^image\/jpe?g$/i.test(h.type)) return i = new FileReader, i.onload = function () { var r = new A(e(new Uint8Array(this.result))); URL.revokeObjectURL(s), n(Wt[t] = r) }, void i.readAsArrayBuffer(h); r || (r = { width: f.width, height: f.height }), a = document.createElement("canvas"), a.width = r.width, a.height = r.height, c = a.getContext("2d"), c.drawImage(f, 0, 0, r.width, r.height); try { u = c.getImageData(0, 0, r.width, r.height) } catch (x) { return void o() } finally { s && URL.revokeObjectURL(s) } for (d = !1, l = e(), p = e(), g = u.data, m = 0; m < g.length;)l.writeByte(g[m++]), l.writeByte(g[m++]), l.writeByte(g[m++]), w = g[m++], w < 255 && (d = !0), p.writeByte(w); d ? f = new R(r.width, r.height, l, p) : (S = a.toDataURL("image/jpeg"), S = S.substr(S.indexOf(";base64,") + 8), y = e(), y.writeBase64(S), f = new A(y)), n(Wt[t] = f) } var s, h, c, f = Wt[t]; f ? n(f) : (f = new Image, /^data:/i.test(t) || (f.crossOrigin = "Anonymous"), zt && !/^data:/i.test(t) ? (c = new XMLHttpRequest, c.onload = function () { h = c.response, s = URL.createObjectURL(h), i(s) }, c.onerror = o, c.open("GET", t, !0), c.responseType = "blob", c.send()) : i(t)) } function y(t) { return function (e, r) { function n() { 0 === --i && r() } var i = e.length, o = i; if (0 === i) return r(); for (; o-- > 0;)t(e[o], n) } } function x(t, e, r) { for (; t.length < e;)t = r + t; return t } function _(t, e) { return x(t + "", e, "0") } function b(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function v(t) { return t instanceof Date } function C(t, e) { e("["), t.length > 0 && e.withIndent(function () { for (var r = 0; r < t.length; ++r)r > 0 && r % 8 === 0 ? e.indent(t[r]) : e(" ", t[r]) }), e(" ]") } function k(t, e) { e("(D:", _(t.getUTCFullYear(), 4), _(t.getUTCMonth() + 1, 2), _(t.getUTCDate(), 2), _(t.getUTCHours(), 2), _(t.getUTCMinutes(), 2), _(t.getUTCSeconds(), 2), "Z)") } function T(t) { return t * (72 / 25.4) } function D(t) { return T(10 * t) } function F(t) { return 72 * t } function I(t, e) { var r, n; if ("number" == typeof t) return t; if ("string" == typeof t && (r = /^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t), r && (n = parseFloat(r[1]), !isNaN(n)))) return "pt" == r[2] ? n : { mm: T, cm: D, "in": F }[r[2]](n); if (null != e) return e; throw Error("Can't parse unit: " + t) } function L() { } function M(t, e, r) { r || (r = L), t.prototype = new r; for (var n in e) b(e, n) && (t.prototype[n] = e[n]); return t } function O(t) { return b(Vt, t) ? Vt[t] : Vt[t] = new $t(t) } function A(t) { var e, r, n, i, o, a, s, h, c; if (t.offset(0), o = t.readShort(), 65496 != o) throw Error("Invalid JPEG image"); for (; !t.eof();) { if (a = t.readByte(), 255 != a) throw Error("Invalid JPEG image"); if (s = t.readByte(), h = t.readShort(), ne.indexOf(s) >= 0) { i = t.readByte(), r = t.readShort(), e = t.readShort(), n = t.readByte(); break } t.skip(h - 2) } if (null == n) throw Error("Invalid JPEG image"); switch (c = { Type: O("XObject"), Subtype: O("Image"), Width: e, Height: r, BitsPerComponent: i, Filter: O("DCTDecode") }, n) { case 1: c.ColorSpace = O("DeviceGray"); break; case 3: c.ColorSpace = O("DeviceRGB"); break; case 4: c.ColorSpace = O("DeviceCMYK"), c.Decode = [1, 0, 1, 0, 1, 0, 1, 0] }this.asStream = function () { t.offset(0); var e = new te(t, c); return e._resourceName = O("I" + ++jt), e } } function R(t, e, r, n) { this.asStream = function (i) { var o = new te(n, { Type: O("XObject"), Subtype: O("Image"), Width: t, Height: e, BitsPerComponent: 8, ColorSpace: O("DeviceGray") }, (!0)), a = new te(r, { Type: O("XObject"), Subtype: O("Image"), Width: t, Height: e, BitsPerComponent: 8, ColorSpace: O("DeviceRGB"), SMask: i.attach(o) }, (!0)); return a._resourceName = O("I" + ++jt), a } } function P(t) { return t.map(function (t) { return Zt(t) ? P(t) : "number" == typeof t ? (Math.round(1e3 * t) / 1e3).toFixed(3) : t }).join(" ") } function E(t, e, r, n, i, o, a) { var s = P([e, r, n, i, o, a]), h = t.GRAD_COL_FUNCTIONS[s]; return h || (h = t.GRAD_COL_FUNCTIONS[s] = t.attach(new Qt({ FunctionType: 2, Domain: [0, 1], Range: [0, 1, 0, 1, 0, 1], N: 1, C0: [e, r, n], C1: [i, o, a] }))), h } function G(t, e, r) { var n = P([e, r]), i = t.GRAD_OPC_FUNCTIONS[n]; return i || (i = t.GRAD_OPC_FUNCTIONS[n] = t.attach(new Qt({ FunctionType: 2, Domain: [0, 1], Range: [0, 1], N: 1, C0: [e], C1: [r] }))), i } function N(t, e) { function r(t) { return 1 == t.length ? t[0] : { FunctionType: 3, Functions: t, Domain: [0, 1], Bounds: u, Encode: d } } var n, i, o, a, s, h = !1, c = [], f = [], u = [], d = []; for (n = 1; n < e.length; ++n)i = e[n - 1], o = e[n], a = i.color, s = o.color, f.push(E(t, a.r, a.g, a.b, s.r, s.g, s.b)), (a.a < 1 || s.a < 1) && (h = !0), u.push(o.offset), d.push(0, 1); if (h) for (n = 1; n < e.length; ++n)i = e[n - 1], o = e[n], a = i.color, s = o.color, c.push(G(t, a.a, s.a)); return u.pop(), { hasAlpha: h, colors: r(f), opacities: h ? r(c) : null } } function B(t, e, r, n, i, o) { var a, s, h; return o || (h = [e].concat(n), r.forEach(function (t) { h.push(t.offset, t.color.r, t.color.g, t.color.b) }), s = P(h), a = t.GRAD_COL[s]), a || (a = new Qt({ Type: O("Shading"), ShadingType: e ? 3 : 2, ColorSpace: O("DeviceRGB"), Coords: n, Domain: [0, 1], Function: i, Extend: [!0, !0] }), t.attach(a), a._resourceName = "S" + ++jt, s && (t.GRAD_COL[s] = a)), a } function z(t, e, r, n, i, o) { var a, s, h; return o || (h = [e].concat(n), r.forEach(function (t) { h.push(t.offset, t.color.a) }), s = P(h), a = t.GRAD_OPC[s]), a || (a = new Qt({ Type: O("ExtGState"), AIS: !1, CA: 1, ca: 1, SMask: { Type: O("Mask"), S: O("Luminosity"), G: t.attach(new te("/a0 gs /s0 sh", { Type: O("XObject"), Subtype: O("Form"), FormType: 1, BBox: o ? [o.left, o.top + o.height, o.left + o.width, o.top] : [0, 1, 1, 0], Group: { Type: O("Group"), S: O("Transparency"), CS: O("DeviceGray"), I: !0 }, Resources: { ExtGState: { a0: { CA: 1, ca: 1 } }, Shading: { s0: { ColorSpace: O("DeviceGray"), Coords: n, Domain: [0, 1], ShadingType: e ? 3 : 2, Function: i, Extend: [!0, !0] } } } })) } }), t.attach(a), a._resourceName = "O" + ++jt, s && (t.GRAD_OPC[s] = a)), a } function U(t, e, r) { var n = "radial" == e.type, i = N(t, e.stops), o = n ? [e.start.x, e.start.y, e.start.r, e.end.x, e.end.y, e.end.r] : [e.start.x, e.start.y, e.end.x, e.end.y], a = B(t, n, e.stops, o, i.colors, e.userSpace && r), s = i.hasAlpha ? z(t, n, e.stops, o, i.opacities, e.userSpace && r) : null; return { hasAlpha: i.hasAlpha, shading: a, opacity: s } } function j(t) { return t.replace(/^\s*(['"])(.*)\1\s*$/, "$2") } function q(t) { var e, r = /^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i, n = r.exec(t); return n ? (e = n[8] ? parseInt(n[8], 10) : 12, { italic: n[2] && "italic" == n[2].toLowerCase(), variant: n[4], bold: n[6] && /bold|700/i.test(n[6]), fontSize: e, lineHeight: n[12] ? "normal" == n[12] ? e : parseInt(n[12], 10) : null, fontFamily: n[14].split(/\s*,\s*/g).map(j) }) : { fontSize: 12, fontFamily: "sans-serif" } } function H(t) { function e(e) { return t.bold && (e += "|bold"), t.italic && (e += "|italic"), e.toLowerCase() } var r, n, i, o = t.fontFamily; if (o instanceof Array) for (i = 0; i < o.length && (r = e(o[i]), !(n = he[r])); ++i); else n = he[o.toLowerCase()]; for (; "function" == typeof n;)n = n(); return n || (n = "Times-Roman"), n } function W(t, e) { t = t.toLowerCase(), he[t] = function () { return he[e] }, he[t + "|bold"] = function () { return he[e + "|bold"] }, he[t + "|italic"] = function () { return he[e + "|italic"] }, he[t + "|bold|italic"] = function () { return he[e + "|bold|italic"] } } function X(t, e) { if (1 == arguments.length) for (var r in t) b(t, r) && X(r, t[r]); else switch (t = t.toLowerCase(), he[t] = e, t) { case "dejavu sans": he["sans-serif"] = e; break; case "dejavu sans|bold": he["sans-serif|bold"] = e; break; case "dejavu sans|italic": he["sans-serif|italic"] = e; break; case "dejavu sans|bold|italic": he["sans-serif|bold|italic"] = e; break; case "dejavu serif": he.serif = e; break; case "dejavu serif|bold": he["serif|bold"] = e; break; case "dejavu serif|italic": he["serif|italic"] = e; break; case "dejavu serif|bold|italic": he["serif|bold|italic"] = e; break; case "dejavu mono": he.monospace = e; break; case "dejavu mono|bold": he["monospace|bold"] = e; break; case "dejavu mono|italic": he["monospace|italic"] = e; break; case "dejavu mono|bold|italic": he["monospace|bold|italic"] = e } } function J(t, e) { var r = t[0], n = t[1], i = t[2], o = t[3], a = t[4], s = t[5], h = e[0], c = e[1], f = e[2], u = e[3], d = e[4], l = e[5]; return [r * h + n * f, r * c + n * u, i * h + o * f, i * c + o * u, a * h + s * f + d, a * c + s * u + l] } function Z(t) { return 1 === t[0] && 0 === t[1] && 0 === t[2] && 1 === t[3] && 0 === t[4] && 0 === t[5] } function K(t, e) { function r(t, e, r) { return r || (r = s), r.pdf && null != r.pdf[t] ? r.pdf[t] : e } function n() { function n(t) { var e, n, i, a, s, h = t.options, c = St(t), f = c.bbox; t = c.root, e = r("paperSize", r("paperSize", "auto"), h), n = !1, "auto" == e && (f ? (i = f.getSize(), e = [i.width, i.height], n = !0, a = f.getOrigin(), c = new vt.Group, c.transform(new kt.Matrix(1, 0, 0, 1, (-a.x), (-a.y))), c.append(t), t = c) : e = "A4"), s = o.addPage({ paperSize: e, margin: r("margin", r("margin"), h), addMargin: n, landscape: r("landscape", r("landscape", !1), h) }), tt(t, s, o) } if (!(--i > 0)) { var o = new p({ producer: r("producer"), title: r("title"), author: r("author"), subject: r("subject"), keywords: r("keywords"), creator: r("creator"), date: r("date"), autoPrint: r("autoPrint") }); h ? t.children.forEach(n) : n(t), e(o.render(), o) } } var i, o = [], a = {}, s = t.options, h = r("multiPage"), c = r("imgDPI"); c && w(), t.traverse(function (t) { Q({ Image: function (t) { var e, r, n = t.src(); c ? (e = t.bbox().size, r = a[n], e = { width: Math.ceil(e.width * c / 72), height: Math.ceil(e.height * c / 72) }, r && (e.width = Math.max(r.width, e.width), e.height = Math.max(r.height, e.height)), a[n] = e) : a[n] = null }, Text: function (t) { var e = q(t.options.font), r = H(e); o.indexOf(r) < 0 && o.push(r) } }, t) }), i = 2, Xt(o, n), Jt(a, n) } function Y(t, e) { K(t, function (t) { e("data:application/pdf;base64," + t.base64()) }) } function $(t, e) { K(t, function (t) { e(new window.Blob([t.get()], { type: "application/pdf" })) }) } function V(e, r, n, i) { window.Blob && !_t.safari ? $(e, function (e) { t.saveAs({ dataURI: e, fileName: r }), i && i(e) }) : Y(e, function (e) { t.saveAs({ dataURI: e, fileName: r, proxyURL: n }), i && i(e) }) } function Q(t, e) { var r = t[e.nodeType]; return r ? r.call.apply(r, arguments) : e } function tt(t, e, r) { var n, i, o; t.options._pdfDebug && e.comment("BEGIN: " + t.options._pdfDebug), n = t.transform(), i = t.opacity(), e.save(), null != i && i < 1 && e.setOpacity(i), et(t, e, r), rt(t, e, r), n && (o = n.matrix(), e.transform(o.a, o.b, o.c, o.d, o.e, o.f)), nt(t, e, r), Q({ Path: ct, MultiPath: ft, Circle: ut, Arc: dt, Text: lt, Image: gt, Group: pt, Rect: mt }, t, e, r), e.restore(), t.options._pdfDebug && e.comment("END: " + t.options._pdfDebug) } function et(t, e) { var r, n, i, o, a, s, h = t.stroke && t.stroke(); if (h) { if (r = h.color) { if (r = wt(r), null == r) return; e.setStrokeColor(r.r, r.g, r.b), 1 != r.a && e.setStrokeOpacity(r.a) } if (n = h.width, null != n) { if (0 === n) return; e.setLineWidth(n) } i = h.dashType, i && e.setDashPattern(ue[i], 0), o = h.lineCap, o && e.setLineCap(de[o]), a = h.lineJoin, a && e.setLineJoin(le[a]), s = h.opacity, null != s && e.setStrokeOpacity(s) } } function rt(t, e) { var r, n, i = t.fill && t.fill(); if (i && !(i instanceof vt.Gradient)) { if (r = i.color) { if (r = wt(r), null == r) return; e.setFillColor(r.r, r.g, r.b), 1 != r.a && e.setFillOpacity(r.a) } n = i.opacity, null != n && e.setFillOpacity(n) } } function nt(t, e, r) { var n = t.clip(); n && (ht(n, e, r), e.clip()) } function it(t) { return t && (t instanceof vt.Gradient || t.color && !/^(none|transparent)$/i.test(t.color) && (null == t.width || t.width > 0) && (null == t.opacity || t.opacity > 0)) } function ot(t, e, r, n) { var i, o, a, s, h, c, f, u, d = t.fill(); if (d instanceof vt.Gradient) return n ? e.clipStroke() : e.clip(), i = d instanceof vt.RadialGradient, i ? (o = { x: d.center().x, y: d.center().y, r: 0 }, a = { x: d.center().x, y: d.center().y, r: d.radius() }) : (o = { x: d.start().x, y: d.start().y }, a = { x: d.end().x, y: d.end().y }), s = d.stops.elements().map(function (t) { var e, r = t.offset(); return r = /%$/.test(r) ? parseFloat(r) / 100 : parseFloat(r), e = wt(t.color()), e.a *= t.opacity(), { offset: r, color: e } }), s.unshift(s[0]), s.push(s[s.length - 1]), h = { userSpace: d.userSpace(), type: i ? "radial" : "linear", start: o, end: a, stops: s }, c = t.rawBBox(), f = c.topLeft(), u = c.getSize(), c = { left: f.x, top: f.y, width: u.width, height: u.height }, e.gradient(h, c), !0 } function at(t, e, r) { it(t.fill()) && it(t.stroke()) ? ot(t, e, r, !0) || e.fillStroke() : it(t.fill()) ? ot(t, e, r, !1) || e.fill() : it(t.stroke()) ? e.stroke() : e.nop() } function st(t, e) { var r, n, i, o = t.segments; if (4 == o.length && t.options.closed) { for (r = [], n = 0; n < o.length; ++n) { if (o[n].controlIn()) return !1; r[n] = o[n].anchor() } if (i = r[0].y == r[1].y && r[1].x == r[2].x && r[2].y == r[3].y && r[3].x == r[0].x || r[0].x == r[1].x && r[1].y == r[2].y && r[2].x == r[3].x && r[3].y == r[0].y) return e.rect(r[0].x, r[0].y, r[2].x - r[0].x, r[2].y - r[0].y), !0 } } function ht(t, e, r) { var n, i, o, a, s, h, c = t.segments; if (0 !== c.length && !st(t, e, r)) { for (i = 0; i < c.length; ++i)o = c[i], a = o.anchor(), n ? (s = n.controlOut(), h = o.controlIn(), s && h ? e.bezier(s.x, s.y, h.x, h.y, a.x, a.y) : e.lineTo(a.x, a.y)) : e.moveTo(a.x, a.y), n = o; t.options.closed && e.close() } } function ct(t, e, r) { ht(t, e, r), at(t, e, r) } function ft(t, e, r) { var n, i = t.paths; for (n = 0; n < i.length; ++n)ht(i[n], e, r); at(t, e, r) } function ut(t, e, r) { var n = t.geometry(); e.circle(n.center.x, n.center.y, n.radius), at(t, e, r) } function dt(t, e, r) { var n, i = t.geometry().curvePoints(); for (e.moveTo(i[0].x, i[0].y), n = 1; n < i.length;)e.bezier(i[n].x, i[n++].y, i[n].x, i[n++].y, i[n].x, i[n++].y); at(t, e, r) } function lt(t, e) { var r, n = q(t.options.font), i = t._position; t.fill() && t.stroke() ? r = fe.fillAndStroke : t.fill() ? r = fe.fill : t.stroke() && (r = fe.stroke), e.transform(1, 0, 0, -1, i.x, i.y + n.fontSize), e.beginText(), e.setFont(H(n), n.fontSize), e.setTextRenderingMode(r), e.showText(t.content(), t._pdfRect ? t._pdfRect.width() : null), e.endText() } function pt(t, e, r) { var n, i; for (t._pdfLink && e.addLink(t._pdfLink.url, t._pdfLink), n = t.children, i = 0; i < n.length; ++i)tt(n[i], e, r) } function gt(t, e) { var r, n, i, o = t.src(); o && (r = t.rect(), n = r.getOrigin(), i = r.getSize(), e.transform(i.width, 0, 0, -i.height, n.x, n.y + i.height), e.drawImage(o)) } function mt(t, e, r) { var n = t.geometry(); e.rect(n.origin.x, n.origin.y, n.size.width, n.size.height), at(t, e, r) } function wt(e) { var r = t.parseColor(e, !0); return r ? r.toRGB() : null } function St(t) { function e(t) { return s = !0, t } function r(t) { return t.visible() && t.opacity() > 0 && (it(t.fill()) || it(t.stroke())) } function n(t) { var e, r, n = []; for (e = 0; e < t.length; ++e)r = a(t[e]), null != r && n.push(r); return n } function i(t, e) { var r, n = h, i = c; t.transform() && (c = c.multiplyCopy(t.transform().matrix())), r = t.clip(), r && (r = r.bbox(), r && (r = r.bbox(c), h = h ? kt.Rect.intersect(h, r) : r)); try { return e() } finally { h = n, c = i } } function o(t) { if (null == h) return !1; var e = t.rawBBox().bbox(c); return h && e && (e = kt.Rect.intersect(e, h)), e } function a(a) { return i(a, function () { if (!(a instanceof vt.Group || a instanceof vt.MultiPath)) { var i = o(a); if (!i) return e(null); f = f ? kt.Rect.union(f, i) : i } return Q({ Path: function (t) { return 0 !== t.segments.length && r(t) ? t : e(null) }, MultiPath: function (t) { if (!r(t)) return e(null); var i = new vt.MultiPath(t.options); return i.paths = n(t.paths), 0 === i.paths.length ? e(null) : i }, Circle: function (t) { return r(t) ? t : e(null) }, Arc: function (t) { return r(t) ? t : e(null) }, Text: function (t) { return /\S/.test(t.content()) && r(t) ? t : e(null) }, Image: function (t) { return t.visible() && t.opacity() > 0 ? t : e(null) }, Group: function (r) { var i = new vt.Group(r.options); return i.children = n(r.children), i._pdfLink = r._pdfLink, r === t || 0 !== i.children.length || r._pdfLink ? i : e(null) }, Rect: function (t) { return r(t) ? t : e(null) } }, a) }) } var s, h = !1, c = kt.Matrix.unit(), f = null; do s = !1, t = a(t); while (t && s); return { root: t, bbox: f } } function yt(t, e) { var r, n = Ct.createPromise(); for (r in e) "margin" == r && t.options.pdf && t.options.pdf._ignoreMargin || t.options.set("pdf." + r, e[r]); return Y(t, n.resolve), n } var xt, _t, bt, vt, Ct, kt, Tt, Dt, Ft, It, Lt, Mt, Ot, At, Rt, Pt, Et, Gt, Nt, Bt, zt, Ut, jt, qt, Ht, Wt, Xt, Jt, Zt, Kt, Yt, $t, Vt, Qt, te, ee, re, ne, ie, oe, ae, se, he, ce, fe, ue, de, le; window.kendo.pdf = window.kendo.pdf || {}, xt = t.support, _t = xt.browser, bt = t.pdf, vt = t.drawing, Ct = vt.util, kt = t.geometry, Tt = "undefined" != typeof Uint8Array, Dt = function () { var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; return { decode: function (e) { for (var r, n, i, o, a, s, h, c = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""), f = 0, u = c.length, d = []; f < u;)r = t.indexOf(c.charAt(f++)), n = t.indexOf(c.charAt(f++)), i = t.indexOf(c.charAt(f++)), o = t.indexOf(c.charAt(f++)), a = r << 2 | n >>> 4, s = (15 & n) << 4 | i >>> 2, h = (3 & i) << 6 | o, d.push(a), 64 != i && d.push(s), 64 != o && d.push(h); return d }, encode: function (e) { for (var r, n, i, o, a, s, h, c = 0, f = e.length, u = ""; c < f;)r = e[c++], n = e[c++], i = e[c++], o = r >>> 2, a = (3 & r) << 4 | n >>> 4, s = (15 & n) << 2 | i >>> 6, h = 63 & i, c - f == 2 ? s = h = 64 : c - f == 1 && (h = 64), u += t.charAt(o) + t.charAt(a) + t.charAt(s) + t.charAt(h); return u } } }(), a.prototype = { readTable: function (t, e) { var r = this.tables[t]; if (!r) throw Error("Table " + t + " not found in directory"); return this[t] = r.table = new e(this, r) }, render: function (t) { var r, n, o, a, s, h, c, f, u = this, d = Object.keys(t).length, l = Math.pow(2, Math.floor(Math.log(d) / Math.LN2)), p = 16 * l, g = Math.floor(Math.log(l) / Math.LN2), m = 16 * d - p, w = e(); w.writeLong(this.scalerType), w.writeShort(d), w.writeShort(p), w.writeShort(g), w.writeShort(m), r = 16 * d, n = w.offset() + r, o = null, a = e(); for (s in t) if (i(t, s)) for (h = t[s], w.writeString(s), w.writeLong(u.checksum(h)), w.writeLong(n), w.writeLong(h.length), a.write(h), "head" == s && (o = n), n += h.length; n % 4;)a.writeByte(0), n++; return w.write(a.get()), c = this.checksum(w.get()), f = 2981146554 - c, w.offset(o + 8), w.writeLong(f), w.get() }, checksum: function (t) { t = e(t); for (var r = 0; !t.eof();)r += t.readLong(); return 4294967295 & r } }, Ft = s({ parse: function (t) { t.offset(this.offset), this.version = t.readLong(), this.revision = t.readLong(), this.checkSumAdjustment = t.readLong(), this.magicNumber = t.readLong(), this.flags = t.readShort(), this.unitsPerEm = t.readShort(), this.created = t.read(8), this.modified = t.read(8), this.xMin = t.readShort_(), this.yMin = t.readShort_(), this.xMax = t.readShort_(), this.yMax = t.readShort_(), this.macStyle = t.readShort(), this.lowestRecPPEM = t.readShort(), this.fontDirectionHint = t.readShort_(), this.indexToLocFormat = t.readShort_(), this.glyphDataFormat = t.readShort_() }, render: function (t) { var r = e(); return r.writeLong(this.version), r.writeLong(this.revision), r.writeLong(0), r.writeLong(this.magicNumber), r.writeShort(this.flags), r.writeShort(this.unitsPerEm), r.write(this.created), r.write(this.modified), r.writeShort_(this.xMin), r.writeShort_(this.yMin), r.writeShort_(this.xMax), r.writeShort_(this.yMax), r.writeShort(this.macStyle), r.writeShort(this.lowestRecPPEM), r.writeShort_(this.fontDirectionHint), r.writeShort_(t), r.writeShort_(this.glyphDataFormat), r.get() } }), It = s({ parse: function (t) { t.offset(this.offset); var e = this.file.head.indexToLocFormat; this.offsets = 0 === e ? t.times(this.length / 2, function () { return 2 * t.readShort() }) : t.times(this.length / 4, t.readLong) }, offsetOf: function (t) { return this.offsets[t] }, lengthOf: function (t) { return this.offsets[t + 1] - this.offsets[t] }, render: function (t) { var r, n = e(), i = t[t.length - 1] > 65535; for (r = 0; r < t.length; ++r)i ? n.writeLong(t[r]) : n.writeShort(t[r] / 2); return { format: i ? 1 : 0, table: n.get() } } }), Lt = s({ parse: function (t) { t.offset(this.offset), this.version = t.readLong(), this.ascent = t.readShort_(), this.descent = t.readShort_(), this.lineGap = t.readShort_(), this.advanceWidthMax = t.readShort(), this.minLeftSideBearing = t.readShort_(), this.minRightSideBearing = t.readShort_(), this.xMaxExtent = t.readShort_(), this.caretSlopeRise = t.readShort_(), this.caretSlopeRun = t.readShort_(), this.caretOffset = t.readShort_(), t.skip(8), this.metricDataFormat = t.readShort_(), this.numOfLongHorMetrics = t.readShort() }, render: function (t) { var r = e(); return r.writeLong(this.version), r.writeShort_(this.ascent), r.writeShort_(this.descent), r.writeShort_(this.lineGap), r.writeShort(this.advanceWidthMax), r.writeShort_(this.minLeftSideBearing), r.writeShort_(this.minRightSideBearing), r.writeShort_(this.xMaxExtent), r.writeShort_(this.caretSlopeRise), r.writeShort_(this.caretSlopeRun), r.writeShort_(this.caretOffset), r.write([0, 0, 0, 0, 0, 0, 0, 0]), r.writeShort_(this.metricDataFormat), r.writeShort(t.length), r.get() } }), Mt = s({ parse: function (t) { t.offset(this.offset), this.version = t.readLong(), this.numGlyphs = t.readShort(), this.maxPoints = t.readShort(), this.maxContours = t.readShort(), this.maxComponentPoints = t.readShort(), this.maxComponentContours = t.readShort(), this.maxZones = t.readShort(), this.maxTwilightPoints = t.readShort(), this.maxStorage = t.readShort(), this.maxFunctionDefs = t.readShort(), this.maxInstructionDefs = t.readShort(), this.maxStackElements = t.readShort(), this.maxSizeOfInstructions = t.readShort(), this.maxComponentElements = t.readShort(), this.maxComponentDepth = t.readShort() }, render: function (t) { var r = e(); return r.writeLong(this.version), r.writeShort(t.length), r.writeShort(this.maxPoints), r.writeShort(this.maxContours), r.writeShort(this.maxComponentPoints), r.writeShort(this.maxComponentContours), r.writeShort(this.maxZones), r.writeShort(this.maxTwilightPoints), r.writeShort(this.maxStorage), r.writeShort(this.maxFunctionDefs), r.writeShort(this.maxInstructionDefs), r.writeShort(this.maxStackElements), r.writeShort(this.maxSizeOfInstructions), r.writeShort(this.maxComponentElements), r.writeShort(this.maxComponentDepth), r.get() } }), Ot = s({ parse: function (t) { var e, r, n; t.offset(this.offset), e = this.file, r = e.hhea, this.metrics = t.times(r.numOfLongHorMetrics, function () { return { advance: t.readShort(), lsb: t.readShort_() } }), n = e.maxp.numGlyphs - e.hhea.numOfLongHorMetrics, this.leftSideBearings = t.times(n, t.readShort_) }, forGlyph: function (t) { var e = this.metrics, r = e.length; return t < r ? e[t] : { advance: e[r - 1].advance, lsb: this.leftSideBearings[t - r] } }, render: function (t) { var r, n, i = this, o = e(); for (r = 0; r < t.length; ++r)n = i.forGlyph(t[r]), o.writeShort(n.advance), o.writeShort_(n.lsb); return o.get() } }), At = function () {
            function t(t) { this.raw = t } function r(t) { var e, r, i; for (this.raw = t, e = this.glyphIds = [], r = this.idOffsets = []; ;) { if (i = t.readShort(), r.push(t.offset()), e.push(t.readShort()), !(i & a)) break; t.skip(i & n ? 4 : 2), i & c ? t.skip(8) : i & h ? t.skip(4) : i & o && t.skip(2) } } var n, o, a, h, c; return t.prototype = { compound: !1, render: function () { return this.raw.get() } }, n = 1, o = 8, a = 32, h = 64, c = 128, r.prototype = { compound: !0, render: function (t) { var r, n, i = this, o = e(this.raw.get()); for (r = 0; r < this.glyphIds.length; ++r)n = i.glyphIds[r], o.offset(i.idOffsets[r]), o.writeShort(t[n]); return o.get() } }, s({
                parse: function () { this.cache = {} }, glyphFor: function (n) {
                    var o, a, s, h, c, f, u, d, l, p, g, m = this.cache; return i(m, n) ? m[n] : (o = this.file.loca, a = o.lengthOf(n), 0 === a ? m[n] = null : (s = this.rawData, h = this.offset + o.offsetOf(n), c = e(s.slice(h, a)), f = c.readShort_(), u = c.readShort_(), d = c.readShort_(), l = c.readShort_(), p = c.readShort_(),
                        g = m[n] = f == -1 ? new r(c) : new t(c), g.numberOfContours = f, g.xMin = u, g.yMin = d, g.xMax = l, g.yMax = p, g))
                }, render: function (t, r, n) { var i, o, a, s = e(), h = []; for (i = 0; i < r.length; ++i)o = r[i], a = t[o], h.push(s.offset()), a && s.write(a.render(n)); return h.push(s.offset()), { table: s.get(), offsets: h } }
            })
        }(), Rt = function () { function t(t, e) { this.text = t, this.length = t.length, this.platformID = e.platformID, this.platformSpecificID = e.platformSpecificID, this.languageID = e.languageID, this.nameID = e.nameID } return s({ parse: function (e) { var r, n, i, o, a, s, h; for (e.offset(this.offset), e.readShort(), r = e.readShort(), n = this.offset + e.readShort(), i = e.times(r, function () { return { platformID: e.readShort(), platformSpecificID: e.readShort(), languageID: e.readShort(), nameID: e.readShort(), length: e.readShort(), offset: e.readShort() + n } }), o = this.strings = {}, a = 0; a < i.length; ++a)s = i[a], e.offset(s.offset), h = e.readString(s.length), o[s.nameID] || (o[s.nameID] = []), o[s.nameID].push(new t(h, s)); this.postscriptEntry = o[6][0], this.postscriptName = this.postscriptEntry.text.replace(/[^\x20-\x7F]/g, "") }, render: function (r) { var n, o, a, s, h, c, f = this, u = this.strings, d = 0; for (n in u) i(u, n) && (d += u[n].length); o = e(), a = e(), o.writeShort(0), o.writeShort(d), o.writeShort(6 + 12 * d); for (n in u) if (i(u, n)) for (s = 6 == n ? [new t(r, f.postscriptEntry)] : u[n], h = 0; h < s.length; ++h)c = s[h], o.writeShort(c.platformID), o.writeShort(c.platformSpecificID), o.writeShort(c.languageID), o.writeShort(c.nameID), o.writeShort(c.length), o.writeShort(a.offset()), a.writeString(c.text); return o.write(a.get()), o.get() } }) }(), Pt = function () { var t = ".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g); return s({ parse: function (t) { var e, r, n = this; switch (t.offset(this.offset), this.format = t.readLong(), this.italicAngle = t.readFixed_(), this.underlinePosition = t.readShort_(), this.underlineThickness = t.readShort_(), this.isFixedPitch = t.readLong(), this.minMemType42 = t.readLong(), this.maxMemType42 = t.readLong(), this.minMemType1 = t.readLong(), this.maxMemType1 = t.readLong(), this.format) { case 65536: case 196608: break; case 131072: for (e = t.readShort(), this.glyphNameIndex = t.times(e, t.readShort), this.names = [], r = this.offset + this.length; t.offset() < r;)n.names.push(t.readString(t.readByte())); break; case 151552: e = t.readShort(), this.offsets = t.read(e); break; case 262144: this.map = t.times(this.file.maxp.numGlyphs, t.readShort) } }, glyphFor: function (e) { switch (this.format) { case 65536: return t[e] || ".notdef"; case 131072: var r = this.glyphNameIndex[e]; return r < t.length ? t[r] : this.names[r - t.length] || ".notdef"; case 151552: case 196608: return ".notdef"; case 262144: return this.map[e] || 65535 } }, render: function (r) { var n, i, o, a, s, h, c, f = this; if (196608 == this.format) return this.raw(); for (n = e(this.rawData.slice(this.offset, 32)), n.writeLong(131072), n.offset(32), i = [], o = [], a = 0; a < r.length; ++a)s = r[a], h = f.glyphFor(s), c = t.indexOf(h), c >= 0 ? i.push(c) : (i.push(t.length + o.length), o.push(h)); for (n.writeShort(r.length), a = 0; a < i.length; ++a)n.writeShort(i[a]); for (a = 0; a < o.length; ++a)n.writeByte(o[a].length), n.writeString(o[a]); return n.get() } }) }(), Et = function () { function t(t, e, r) { var n = this; n.platformID = t.readShort(), n.platformSpecificID = t.readShort(), n.offset = e + t.readLong(), t.saveExcursion(function () { var e, i, o, a, s, h, c, f, u, d, l, p, g, m, w, S, y; switch (t.offset(n.offset), n.format = t.readShort()) { case 0: for (n.length = t.readShort(), n.language = t.readShort(), i = 0; i < 256; ++i)r[i] = t.readByte(); break; case 4: for (n.length = t.readShort(), n.language = t.readShort(), o = t.readShort() / 2, t.skip(6), a = t.times(o, t.readShort), t.skip(2), s = t.times(o, t.readShort), h = t.times(o, t.readShort_), c = t.times(o, t.readShort), f = (n.length + n.offset - t.offset()) / 2, u = t.times(f, t.readShort), i = 0; i < o; ++i)for (d = s[i], l = a[i], e = d; e <= l; ++e)0 === c[i] ? p = e + h[i] : (g = c[i] / 2 - (o - i) + (e - d), p = u[g] || 0, 0 !== p && (p += h[i])), r[e] = 65535 & p; break; case 6: for (n.length = t.readShort(), n.language = t.readShort(), e = t.readShort(), m = t.readShort(); m-- > 0;)r[e++] = t.readShort(); break; case 12: for (t.readShort(), n.length = t.readLong(), n.language = t.readLong(), w = t.readLong(); w-- > 0;)for (e = t.readLong(), S = t.readLong(), y = t.readLong(); e <= S;)r[e++] = y++; break; default: window.console && window.console.error("Unhandled CMAP format: " + n.format) } }) } function r(t, r) { function n(e) { return r[t[e]] } var i, a, s, h, c, f, u, d, l, p, g, m, w, S, y, x, _, b = o(t), v = [], C = [], k = null, T = null; for (i = 0; i < b.length; ++i)a = b[i], s = n(a), h = s - a, null != k && h === T || (k && C.push(k), v.push(a), T = h), k = a; for (k && C.push(k), C.push(65535), v.push(65535), c = v.length, f = 2 * c, u = 2 * Math.pow(2, Math.floor(Math.log(c) / Math.LN2)), d = Math.log(u / 2) / Math.LN2, l = f - u, p = [], g = [], m = [], i = 0; i < c; ++i) { if (w = v[i], S = C[i], 65535 == w) { p.push(0), g.push(0); break } if (y = n(w), w - y >= 32768) for (p.push(0), g.push(2 * (m.length + c - i)), x = w; x <= S; ++x)m.push(n(x)); else p.push(y - w), g.push(0) } return _ = e(), _.writeShort(3), _.writeShort(1), _.writeLong(12), _.writeShort(4), _.writeShort(16 + 8 * c + 2 * m.length), _.writeShort(0), _.writeShort(f), _.writeShort(u), _.writeShort(d), _.writeShort(l), C.forEach(_.writeShort), _.writeShort(0), v.forEach(_.writeShort), p.forEach(_.writeShort_), g.forEach(_.writeShort), m.forEach(_.writeShort), _.get() } return s({ parse: function (e) { var r, n = this, i = n.offset; e.offset(i), n.codeMap = {}, n.version = e.readShort(), r = e.readShort(), n.tables = e.times(r, function () { return new t(e, i, n.codeMap) }) }, render: function (t, n) { var i = e(); return i.writeShort(0), i.writeShort(1), i.write(r(t, n)), i.get() } }) }(), Gt = s({ parse: function (t) { t.offset(this.offset), this.version = t.readShort(), this.averageCharWidth = t.readShort_(), this.weightClass = t.readShort(), this.widthClass = t.readShort(), this.type = t.readShort(), this.ySubscriptXSize = t.readShort_(), this.ySubscriptYSize = t.readShort_(), this.ySubscriptXOffset = t.readShort_(), this.ySubscriptYOffset = t.readShort_(), this.ySuperscriptXSize = t.readShort_(), this.ySuperscriptYSize = t.readShort_(), this.ySuperscriptXOffset = t.readShort_(), this.ySuperscriptYOffset = t.readShort_(), this.yStrikeoutSize = t.readShort_(), this.yStrikeoutPosition = t.readShort_(), this.familyClass = t.readShort_(), this.panose = t.times(10, t.readByte), this.charRange = t.times(4, t.readLong), this.vendorID = t.readString(4), this.selection = t.readShort(), this.firstCharIndex = t.readShort(), this.lastCharIndex = t.readShort(), this.version > 0 && (this.ascent = t.readShort_(), this.descent = t.readShort_(), this.lineGap = t.readShort_(), this.winAscent = t.readShort(), this.winDescent = t.readShort(), this.codePageRange = t.times(2, t.readLong), this.version > 1 && (this.xHeight = t.readShort(), this.capHeight = t.readShort(), this.defaultChar = t.readShort(), this.breakChar = t.readShort(), this.maxContext = t.readShort())) }, render: function () { return this.raw() } }), Nt = 1e5, c.prototype = { use: function (t) { var e, n, i, o = this; return "string" == typeof t ? r(t).reduce(function (t, e) { return t + String.fromCharCode(o.use(e)) }, "") : (e = o.unicodes[t], e || (e = o.next++ , o.subset[e] = t, o.unicodes[t] = e, n = o.font.cmap.codeMap[t], n && (o.ncid2ogid[e] = n, null == o.ogid2ngid[n] && (i = o.nextGid++ , o.ogid2ngid[n] = i, o.ngid2ogid[i] = n))), e) }, encodeText: function (t) { return this.use(t) }, glyphIds: function () { return o(this.ogid2ngid) }, glyphsFor: function (t, e) { var r, n, i, o = this; for (e || (e = {}), r = 0; r < t.length; ++r)n = t[r], e[n] || (i = e[n] = o.font.glyf.glyphFor(n), i && i.compound && o.glyphsFor(i.glyphIds, e)); return e }, render: function () { var t, e, r, n, a, s, h, c, f = this, u = this.glyphsFor(this.glyphIds()); for (t in u) i(u, t) && (t = parseInt(t, 10), null == f.ogid2ngid[t] && (e = f.nextGid++ , f.ogid2ngid[t] = e, f.ngid2ogid[e] = t)); return r = o(this.ngid2ogid), n = r.map(function (t) { return this.ngid2ogid[t] }, this), a = this.font, s = a.glyf.render(u, n, this.ogid2ngid), h = a.loca.render(s.offsets), this.lastChar = this.next - 1, c = { cmap: Et.render(this.ncid2ogid, this.ogid2ngid), glyf: s.table, loca: h.table, hmtx: a.hmtx.render(n), hhea: a.hhea.render(n), maxp: a.maxp.render(n), post: a.post.render(n), name: a.name.render(this.psName), head: a.head.render(h.format), "OS/2": a.os2.render() }, this.font.directory.render(c) }, cidToGidMap: function () { var t, r, n, i = this, o = e(), a = 0; for (t = this.firstChar; t < this.next; ++t) { for (; a < t;)o.writeShort(0), a++; r = i.ncid2ogid[t], r ? (n = i.ogid2ngid[r], o.writeShort(n)) : o.writeShort(0), a++ } return o.get() } }, f.prototype = { parse: function () { var t = this.directory = new a(this.contents); this.head = t.readTable("head", Ft), this.loca = t.readTable("loca", It), this.hhea = t.readTable("hhea", Lt), this.maxp = t.readTable("maxp", Mt), this.hmtx = t.readTable("hmtx", Ot), this.glyf = t.readTable("glyf", At), this.name = t.readTable("name", Rt), this.post = t.readTable("post", Pt), this.cmap = t.readTable("cmap", Et), this.os2 = t.readTable("OS/2", Gt), this.psName = this.name.postscriptName, this.ascent = this.os2.ascent || this.hhea.ascent, this.descent = this.os2.descent || this.hhea.descent, this.lineGap = this.os2.lineGap || this.hhea.lineGap, this.scale = 1e3 / this.head.unitsPerEm }, widthOfGlyph: function (t) { return this.hmtx.forGlyph(t).advance * this.scale }, makeSubset: function () { return new c(this) } }, Bt = t.support.browser, zt = "undefined" != typeof Uint8Array, Ut = "\n", jt = 0, qt = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], executive: [521.86, 756], folio: [612, 936], legal: [612, 1008], letter: [612, 792], tabloid: [792, 1224] }, Ht = { "Times-Roman": !0, "Times-Bold": !0, "Times-Italic": !0, "Times-BoldItalic": !0, Helvetica: !0, "Helvetica-Bold": !0, "Helvetica-Oblique": !0, "Helvetica-BoldOblique": !0, Courier: !0, "Courier-Bold": !0, "Courier-Oblique": !0, "Courier-BoldOblique": !0, Symbol: !0, ZapfDingbats: !0 }, Wt = {}, Xt = y(m), Jt = function (t, e) { function r() { 0 === --i && e() } var n = Object.keys(t), i = n.length; return 0 === i ? e() : void n.forEach(function (e) { S(e, t[e], r) }) }, p.prototype = { loadFonts: Xt, loadImages: Jt, getFont: function (t) { var e = this.FONTS[t]; if (!e) { if (e = Ht[t], !e) throw Error("Font " + t + " has not been loaded"); e = this.attach(e === !0 ? new ie(t) : new oe(this, e)), this.FONTS[t] = e } return e }, getImage: function (t) { var e = this.IMAGES[t]; if (!e) { if (e = Wt[t], !e) throw Error("Image " + t + " has not been loaded"); if ("TAINTED" === e) return null; e = this.IMAGES[t] = this.attach(e.asStream(this)) } return e }, getOpacityGS: function (t, e) { var r, n, i, o = parseFloat(t).toFixed(3); return t = parseFloat(o), o += e ? "S" : "F", r = this._opacityGSCache || (this._opacityGSCache = {}), n = r[o], n || (i = { Type: O("ExtGState") }, e ? i.CA = t : i.ca = t, n = this.attach(new Qt(i)), n._resourceName = O("GS" + ++jt), r[o] = n), n }, dict: function (t) { return new Qt(t) }, name: function (t) { return O(t) }, stream: function (t, e) { return new te(e, t) } }, Zt = Array.isArray || function (t) { return t instanceof Array }, L.prototype.beforeRender = function () { }, Kt = M(function (t) { this.value = t }, { render: function (t) { var e, r = "", n = this.value; for (e = 0; e < n.length; ++e)r += String.fromCharCode(255 & n.charCodeAt(e)); t("(", r.replace(/([\(\)\\])/g, "\\$1"), ")") }, toString: function () { return this.value } }), Yt = M(function (t) { this.value = t }, { render: function (t) { var e, r = this; for (t("<"), e = 0; e < this.value.length; ++e)t(_(r.value.charCodeAt(e).toString(16), 4)); t(">") } }, Kt), $t = M(function (t) { this.name = t }, { render: function (t) { t("/" + this.escape()) }, escape: function () { return this.name.replace(/[^\x21-\x7E]/g, function (t) { return "#" + _(t.charCodeAt(0).toString(16), 2) }) }, toString: function () { return this.name } }), Vt = {}, $t.get = O, Qt = M(function (t) { this.props = t }, { render: function (t) { var e = this.props, r = !0; t("<<"), t.withIndent(function () { for (var n in e) b(e, n) && !/^_/.test(n) && (r = !1, t.indent(O(n), " ", e[n])) }), r || t.indent(), t(">>") } }), te = M(function (t, r, n) { if ("string" == typeof t) { var i = e(); i.write(t), t = i } this.data = t, this.props = r || {}, this.compress = n }, { render: function (t) { var e = this.data.get(), r = this.props; this.compress && bt.supportsDeflate() && (r.Filter ? r.Filter instanceof Array || (r.Filter = [r.Filter]) : r.Filter = [], r.Filter.unshift(O("FlateDecode")), e = bt.deflate(e)), r.Length = e.length, t(new Qt(r), " stream", Ut), t.writeData(e), t(Ut, "endstream") } }), ee = M(function () { this.props = { Type: O("Catalog") } }, { setPages: function (t) { this.props.Pages = t } }, Qt), re = M(function () { this.props = { Type: O("Pages"), Kids: [], Count: 0 } }, { addPage: function (t) { this.props.Kids.push(t), this.props.Count++ } }, Qt), ne = [192, 193, 194, 195, 197, 198, 199, 201, 202, 203, 205, 206, 207], ie = M(function (t) { this.props = { Type: O("Font"), Subtype: O("Type1"), BaseFont: O(t) }, this._resourceName = O("F" + ++jt) }, { encodeText: function (t) { return new Kt(t + "") } }, Qt), oe = M(function (t, e, r) { var n, i; r = this.props = r || {}, r.Type = O("Font"), r.Subtype = O("Type0"), r.Encoding = O("Identity-H"), this._pdf = t, this._font = e, this._sub = e.makeSubset(), this._resourceName = O("F" + ++jt), n = e.head, this.name = e.psName, i = this.scale = e.scale, this.bbox = [n.xMin * i, n.yMin * i, n.xMax * i, n.yMax * i], this.italicAngle = e.post.italicAngle, this.ascent = e.ascent * i, this.descent = e.descent * i, this.lineGap = e.lineGap * i, this.capHeight = e.os2.capHeight || this.ascent, this.xHeight = e.os2.xHeight || 0, this.stemV = 0, this.familyClass = (e.os2.familyClass || 0) >> 8, this.isSerif = this.familyClass >= 1 && this.familyClass <= 7, this.isScript = 10 == this.familyClass, this.flags = (e.post.isFixedPitch ? 1 : 0) | (this.isSerif ? 2 : 0) | (this.isScript ? 8 : 0) | (0 !== this.italicAngle ? 64 : 0) | 32 }, { encodeText: function (t) { return new Yt(this._sub.encodeText(t + "")) }, getTextWidth: function (t, e) { var r, n, i = this, o = 0, a = this._font.cmap.codeMap; for (r = 0; r < e.length; ++r)n = a[e.charCodeAt(r)], o += i._font.widthOfGlyph(n || 0); return o * t / 1e3 }, beforeRender: function () { var t, r, n, i, o = this, a = o._sub, s = a.render(), h = new te(e(s), { Length1: s.length }, (!0)), c = o._pdf.attach(new Qt({ Type: O("FontDescriptor"), FontName: O(o._sub.psName), FontBBox: o.bbox, Flags: o.flags, StemV: o.stemV, ItalicAngle: o.italicAngle, Ascent: o.ascent, Descent: o.descent, CapHeight: o.capHeight, XHeight: o.xHeight, FontFile2: o._pdf.attach(h) })), f = a.ncid2ogid, d = a.firstChar, l = a.lastChar, p = []; !function g(t, e) { if (t <= l) { var r = f[t]; null == r ? g(t + 1) : (e || p.push(t, e = []), e.push(o._font.widthOfGlyph(r)), g(t + 1, e)) } }(d), t = new Qt({ Type: O("Font"), Subtype: O("CIDFontType2"), BaseFont: O(o._sub.psName), CIDSystemInfo: new Qt({ Registry: new Kt("Adobe"), Ordering: new Kt("Identity"), Supplement: 0 }), FontDescriptor: c, FirstChar: d, LastChar: l, DW: Math.round(o._font.widthOfGlyph(0)), W: p, CIDToGIDMap: o._pdf.attach(o._makeCidToGidMap()) }), r = o.props, r.BaseFont = O(o._sub.psName), r.DescendantFonts = [o._pdf.attach(t)], n = new ae(d, l, a.subset), i = new te(u(), null, (!0)), i.data(n), r.ToUnicode = o._pdf.attach(i) }, _makeCidToGidMap: function () { return new te(e(this._sub.cidToGidMap()), null, (!0)) } }, Qt), ae = M(function (t, e, r) { this.firstChar = t, this.lastChar = e, this.map = r }, { render: function (t) { t.indent("/CIDInit /ProcSet findresource begin"), t.indent("12 dict begin"), t.indent("begincmap"), t.indent("/CIDSystemInfo <<"), t.indent("  /Registry (Adobe)"), t.indent("  /Ordering (UCS)"), t.indent("  /Supplement 0"), t.indent(">> def"), t.indent("/CMapName /Adobe-Identity-UCS def"), t.indent("/CMapType 2 def"), t.indent("1 begincodespacerange"), t.indent("  <0000><ffff>"), t.indent("endcodespacerange"); var e = this; t.indent(e.lastChar - e.firstChar + 1, " beginbfchar"), t.withIndent(function () { var r, i, o, a; for (r = e.firstChar; r <= e.lastChar; ++r) { for (i = e.map[r], o = n([i]), t.indent("<", _(r.toString(16), 4), ">", "<"), a = 0; a < o.length; ++a)t(_(o.charCodeAt(a).toString(16), 4)); t(">") } }), t.indent("endbfchar"), t.indent("endcmap"), t.indent("CMapName currentdict /CMap defineresource pop"), t.indent("end"), t.indent("end") } }), se = M(function (t, e) { this._pdf = t, this._rcount = 0, this._textMode = !1, this._fontResources = {}, this._gsResources = {}, this._xResources = {}, this._patResources = {}, this._shResources = {}, this._opacity = 1, this._matrix = [1, 0, 0, 1, 0, 0], this._annotations = [], this._font = null, this._fontSize = null, this._contextStack = [], e = this.props = e || {}, e.Type = O("Page"), e.ProcSet = [O("PDF"), O("Text"), O("ImageB"), O("ImageC"), O("ImageI")], e.Resources = new Qt({ Font: new Qt(this._fontResources), ExtGState: new Qt(this._gsResources), XObject: new Qt(this._xResources), Pattern: new Qt(this._patResources), Shading: new Qt(this._shResources) }), e.Annots = this._annotations }, { _out: function () { this._content.data.apply(null, arguments) }, transform: function (t, e, r, n, i, o) { Z(arguments) || (this._matrix = J(arguments, this._matrix), this._out(t, " ", e, " ", r, " ", n, " ", i, " ", o, " cm"), this._out(Ut)) }, translate: function (t, e) { this.transform(1, 0, 0, 1, t, e) }, scale: function (t, e) { this.transform(t, 0, 0, e, 0, 0) }, rotate: function (t) { var e = Math.cos(t), r = Math.sin(t); this.transform(e, r, -r, e, 0, 0) }, beginText: function () { this._textMode = !0, this._out("BT", Ut) }, endText: function () { this._textMode = !1, this._out("ET", Ut) }, _requireTextMode: function () { if (!this._textMode) throw Error("Text mode required; call page.beginText() first") }, _requireFont: function () { if (!this._font) throw Error("No font selected; call page.setFont() first") }, setFont: function (t, e) { this._requireTextMode(), null == t ? t = this._font : t instanceof oe || (t = this._pdf.getFont(t)), null == e && (e = this._fontSize), this._fontResources[t._resourceName] = t, this._font = t, this._fontSize = e, this._out(t._resourceName, " ", e, " Tf", Ut) }, setTextLeading: function (t) { this._requireTextMode(), this._out(t, " TL", Ut) }, setTextRenderingMode: function (t) { this._requireTextMode(), this._out(t, " Tr", Ut) }, showText: function (t, e) { var r, n; this._requireFont(), t.length > 1 && e && this._font instanceof oe && (r = this._font.getTextWidth(this._fontSize, t), n = e / r * 100, this._out(n, " Tz ")), this._out(this._font.encodeText(t), " Tj", Ut) }, showTextNL: function (t) { this._requireFont(), this._out(this._font.encodeText(t), " '", Ut) }, addLink: function (t, e) { var r = this._toPage({ x: e.left, y: e.bottom }), n = this._toPage({ x: e.right, y: e.top }); this._annotations.push(new Qt({ Type: O("Annot"), Subtype: O("Link"), Rect: [r.x, r.y, n.x, n.y], Border: [0, 0, 0], A: new Qt({ Type: O("Action"), S: O("URI"), URI: new Kt(t) }) })) }, setStrokeColor: function (t, e, r) { this._out(t, " ", e, " ", r, " RG", Ut) }, setOpacity: function (t) { this.setFillOpacity(t), this.setStrokeOpacity(t), this._opacity *= t }, setStrokeOpacity: function (t) { if (t < 1) { var e = this._pdf.getOpacityGS(this._opacity * t, !0); this._gsResources[e._resourceName] = e, this._out(e._resourceName, " gs", Ut) } }, setFillColor: function (t, e, r) { this._out(t, " ", e, " ", r, " rg", Ut) }, setFillOpacity: function (t) { if (t < 1) { var e = this._pdf.getOpacityGS(this._opacity * t, !1); this._gsResources[e._resourceName] = e, this._out(e._resourceName, " gs", Ut) } }, gradient: function (t, e) { var r, n, i; this.save(), this.rect(e.left, e.top, e.width, e.height), this.clip(), t.userSpace || this.transform(e.width, 0, 0, e.height, e.left, e.top), r = U(this._pdf, t, e), n = r.shading._resourceName, this._shResources[n] = r.shading, r.hasAlpha && (i = r.opacity._resourceName, this._gsResources[i] = r.opacity, this._out("/" + i + " gs ")), this._out("/" + n + " sh", Ut), this.restore() }, setDashPattern: function (t, e) { this._out(t, " ", e, " d", Ut) }, setLineWidth: function (t) { this._out(t, " w", Ut) }, setLineCap: function (t) { this._out(t, " J", Ut) }, setLineJoin: function (t) { this._out(t, " j", Ut) }, setMitterLimit: function (t) { this._out(t, " M", Ut) }, save: function () { this._contextStack.push(this._context()), this._out("q", Ut) }, restore: function () { this._out("Q", Ut), this._context(this._contextStack.pop()) }, moveTo: function (t, e) { this._out(t, " ", e, " m", Ut) }, lineTo: function (t, e) { this._out(t, " ", e, " l", Ut) }, bezier: function (t, e, r, n, i, o) { this._out(t, " ", e, " ", r, " ", n, " ", i, " ", o, " c", Ut) }, bezier1: function (t, e, r, n) { this._out(t, " ", e, " ", r, " ", n, " y", Ut) }, bezier2: function (t, e, r, n) { this._out(t, " ", e, " ", r, " ", n, " v", Ut) }, close: function () { this._out("h", Ut) }, rect: function (t, e, r, n) { this._out(t, " ", e, " ", r, " ", n, " re", Ut) }, ellipse: function (t, e, r, n) { function i(e) { return t + e } function o(t) { return e + t } var a = .5522847498307936; this.moveTo(i(0), o(n)), this.bezier(i(r * a), o(n), i(r), o(n * a), i(r), o(0)), this.bezier(i(r), o(-n * a), i(r * a), o(-n), i(0), o(-n)), this.bezier(i(-r * a), o(-n), i(-r), o(-n * a), i(-r), o(0)), this.bezier(i(-r), o(n * a), i(-r * a), o(n), i(0), o(n)) }, circle: function (t, e, r) { this.ellipse(t, e, r, r) }, stroke: function () { this._out("S", Ut) }, nop: function () { this._out("n", Ut) }, clip: function () { this._out("W n", Ut) }, clipStroke: function () { this._out("W S", Ut) }, closeStroke: function () { this._out("s", Ut) }, fill: function () { this._out("f", Ut) }, fillStroke: function () { this._out("B", Ut) }, drawImage: function (t) { var e = this._pdf.getImage(t); e && (this._xResources[e._resourceName] = e, this._out(e._resourceName, " Do", Ut)) }, comment: function (t) { var e = this; t.split(/\r?\n/g).forEach(function (t) { e._out("% ", t, Ut) }) }, _context: function (t) { return null == t ? { opacity: this._opacity, matrix: this._matrix } : (this._opacity = t.opacity, void (this._matrix = t.matrix)) }, _toPage: function (t) { var e = this._matrix, r = e[0], n = e[1], i = e[2], o = e[3], a = e[4], s = e[5]; return { x: r * t.x + i * t.y + a, y: n * t.x + o * t.y + s } } }, Qt), he = { serif: "Times-Roman", "serif|bold": "Times-Bold", "serif|italic": "Times-Italic", "serif|bold|italic": "Times-BoldItalic", "sans-serif": "Helvetica", "sans-serif|bold": "Helvetica-Bold", "sans-serif|italic": "Helvetica-Oblique", "sans-serif|bold|italic": "Helvetica-BoldOblique", monospace: "Courier", "monospace|bold": "Courier-Bold", "monospace|italic": "Courier-Oblique", "monospace|bold|italic": "Courier-BoldOblique", zapfdingbats: "ZapfDingbats", "zapfdingbats|bold": "ZapfDingbats", "zapfdingbats|italic": "ZapfDingbats", "zapfdingbats|bold|italic": "ZapfDingbats" }, W("Times New Roman", "serif"), W("Courier New", "monospace"), W("Arial", "sans-serif"), W("Helvetica", "sans-serif"), W("Verdana", "sans-serif"), W("Tahoma", "sans-serif"), W("Georgia", "sans-serif"), W("Monaco", "monospace"), W("Andale Mono", "monospace"), ce = { fill: 0, stroke: 1, fillAndStroke: 2, invisible: 3, fillAndClip: 4, strokeAndClip: 5, fillStrokeClip: 6, clip: 7 }, fe = ce, ue = { dash: [4], dashDot: [4, 2, 1, 2], dot: [1, 2], longDash: [8, 2], longDashDot: [8, 2, 1, 2], longDashDotDot: [8, 2, 1, 2, 1, 2], solid: [] }, de = { butt: 0, round: 1, square: 2 }, le = { miter: 0, round: 1, bevel: 2 }, t.deepExtend(t.pdf, { Document: p, BinaryStream: e, defineFont: X, parseFontDef: q, getFontURL: H, loadFonts: Xt, loadImages: Jt, getPaperOptions: l, clearImageCache: w, TEXT_RENDERING_MODE: ce, exportPDF: yt, saveAs: V, toDataURL: Y, toBlob: $, render: K }), t.drawing.exportPDF = t.pdf.exportPDF, t.drawing.pdf = t.pdf
    }(kendo), kendo
}, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() }), function (t, define) { define("pdf/mixins.min", ["pdf/core.min"], t) }(function () { return function (t, e) { kendo.PDFMixin = { extend: function (t) { t.events.push("pdfExport"), t.options.pdf = this.options, t.saveAsPDF = this.saveAsPDF, t._drawPDF = this._drawPDF, t._drawPDFShadow = this._drawPDFShadow }, options: { fileName: "Export.pdf", proxyURL: "", paperSize: "auto", allPages: !1, landscape: !1, margin: null, title: null, author: null, subject: null, keywords: null, creator: "Kendo UI PDF Generator v." + kendo.version, date: null }, saveAsPDF: function () { var e, r = new t.Deferred, n = r.promise(), i = { promise: n }; if (!this.trigger("pdfExport", i)) return e = this.options.pdf, e.multiPage = e.multiPage || e.allPages, this._drawPDF(r).then(function (t) { return kendo.drawing.exportPDF(t, e) }).done(function (t) { kendo.saveAs({ dataURI: t, fileName: e.fileName, proxyURL: e.proxyURL, forceProxy: e.forceProxy, proxyTarget: e.proxyTarget }), r.resolve() }).fail(function (t) { r.reject(t) }), n }, _drawPDF: function (e) { var r = new t.Deferred; return kendo.drawing.drawDOM(this.wrapper).done(function (t) { var n = { page: t, pageNumber: 1, progress: 1, totalPages: 1 }; e.notify(n), r.resolve(n.page) }).fail(function (t) { r.reject(t) }), r }, _drawPDFShadow: function (e, r) { var n, i, o; return e = e || {}, n = this.wrapper, i = t("<div class='k-pdf-export-shadow'>"), e.width && i.css({ width: e.width, overflow: "visible" }), n.before(i), i.append(e.content || n.clone(!0, !0)), o = t.Deferred(), setTimeout(function () { var t = kendo.drawing.drawDOM(i, r); t.always(function () { i.remove() }).then(function () { o.resolve.apply(o, arguments) }).fail(function () { o.reject.apply(o, arguments) }).progress(function () { o.progress.apply(o, arguments) }) }, 15), o.promise() } } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() }), function (t, define) { define("kendo.pdf.min", ["kendo.core.min", "kendo.drawing.min", "pdf/core.min", "pdf/mixins.min"], t) }(function () { }, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() });; !function (e, define) { define("kendo.sortable.min", ["kendo.draganddrop.min"], e) }(function () { return function (e, t) { function n(t, n) { try { return e.contains(t, n) || t == n } catch (r) { return !1 } } function r(e) { return e.clone() } function i(e) { return e.clone().removeAttr("id").css("visibility", "hidden") } var o = window.kendo, s = o.ui.Widget, l = o._outerWidth, a = o._outerHeight, d = "start", h = "beforeMove", c = "move", u = "end", g = "change", f = "cancel", p = "sort", m = "remove", _ = "receive", v = ">*", x = -1, y = s.extend({ init: function (e, t) { var n = this; s.fn.init.call(n, e, t), n.options.placeholder || (n.options.placeholder = i), n.options.hint || (n.options.hint = r), n.draggable = n._createDraggable() }, events: [d, h, c, u, g, f], options: { name: "Sortable", hint: null, placeholder: null, filter: v, holdToDrag: !1, disabled: null, container: null, connectWith: null, handler: null, cursorOffset: null, axis: null, ignore: null, autoScroll: !1, cursor: "auto", moveOnDragEnter: !1 }, destroy: function () { this.draggable.destroy(), s.fn.destroy.call(this) }, _createDraggable: function () { var t = this, n = t.element, r = t.options; return new o.ui.Draggable(n, { filter: r.filter, hint: o.isFunction(r.hint) ? r.hint : e(r.hint), holdToDrag: r.holdToDrag, container: r.container ? e(r.container) : null, cursorOffset: r.cursorOffset, axis: r.axis, ignore: r.ignore, autoScroll: r.autoScroll, dragstart: e.proxy(t._dragstart, t), dragcancel: e.proxy(t._dragcancel, t), drag: e.proxy(t._drag, t), dragend: e.proxy(t._dragend, t) }) }, _dragstart: function (t) { var n = this.draggedElement = t.currentTarget, r = this.options.disabled, i = this.options.handler, s = this.options.placeholder, l = this.placeholder = e(o.isFunction(s) ? s.call(this, n) : s); r && n.is(r) ? t.preventDefault() : i && !e(t.initialTarget).is(i) ? t.preventDefault() : this.trigger(d, { item: n, draggableEvent: t }) ? t.preventDefault() : (n.css("display", "none"), n.before(l), this._setCursor()) }, _dragcancel: function () { this._cancel(), this.trigger(f, { item: this.draggedElement }), this._resetCursor() }, _drag: function (n) { var r, i, o, s, l, a = this.draggedElement, d = this._findTarget(n), h = { left: n.x.location, top: n.y.location }, c = { x: n.x.delta, y: n.y.delta }, u = this.options.axis, g = this.options.moveOnDragEnter, f = { item: a, list: this, draggableEvent: n }; if ("x" === u || "y" === u) return this._movementByAxis(u, h, c[u], f), t; if (d) { if (r = this._getElementCenter(d.element), i = { left: Math.round(h.left - r.left), top: Math.round(h.top - r.top) }, e.extend(f, { target: d.element }), d.appendToBottom) return this._movePlaceholder(d, null, f), t; if (d.appendAfterHidden && this._movePlaceholder(d, "next", f), this._isFloating(d.element) ? c.x < 0 && g || !g && i.left < 0 ? o = "prev" : (c.x > 0 && g || !g && i.left > 0) && (o = "next") : c.y < 0 && g || !g && i.top < 0 ? o = "prev" : (c.y > 0 && g || !g && i.top > 0) && (o = "next"), o) { for (l = "prev" === o ? jQuery.fn.prev : jQuery.fn.next, s = l.call(d.element); s.length && !s.is(":visible");)s = l.call(s); s[0] != this.placeholder[0] && this._movePlaceholder(d, o, f) } } }, _dragend: function (n) { var r, i, o, s, l = this.placeholder, a = this.draggedElement, d = this.indexOf(a), h = this.indexOf(l), c = this.options.connectWith; return this._resetCursor(), o = { action: p, item: a, oldIndex: d, newIndex: h, draggableEvent: n }, h >= 0 ? i = this.trigger(u, o) : (r = l.parents(c).getKendoSortable(), o.action = m, s = e.extend({}, o, { action: _, oldIndex: x, newIndex: r.indexOf(l) }), i = !(!this.trigger(u, o) && !r.trigger(u, s))), i || h === d ? (this._cancel(), t) : (l.replaceWith(a), a.show(), this.draggable.dropped = !0, o = { action: this.indexOf(a) != x ? p : m, item: a, oldIndex: d, newIndex: this.indexOf(a), draggableEvent: n }, this.trigger(g, o), r && (s = e.extend({}, o, { action: _, oldIndex: x, newIndex: r.indexOf(a) }), r.trigger(g, s)), t) }, _findTarget: function (n) { var r, i, o = this._findElementUnderCursor(n), s = this.options.connectWith; return e.contains(this.element[0], o) ? (r = this.items(), i = r.filter(o)[0] || r.has(o)[0], i ? { element: e(i), sortable: this } : null) : this.element[0] == o && this._isEmpty() ? { element: this.element, sortable: this, appendToBottom: !0 } : this.element[0] == o && this._isLastHidden() ? (i = this.items().eq(0), { element: i, sortable: this, appendAfterHidden: !0 }) : s ? this._searchConnectedTargets(o, n) : t }, _findElementUnderCursor: function (e) { var t = o.elementUnderCursor(e), r = e.sender; return n(r.hint[0], t) && (r.hint.hide(), t = o.elementUnderCursor(e), t || (t = o.elementUnderCursor(e)), r.hint.show()), t }, _searchConnectedTargets: function (t, n) { var r, i, o, s, l = e(this.options.connectWith); for (s = 0; s < l.length; s++)if (r = l.eq(s).getKendoSortable(), e.contains(l[s], t)) { if (r) return i = r.items(), o = i.filter(t)[0] || i.has(t)[0], o ? (r.placeholder = this.placeholder, { element: e(o), sortable: r }) : null } else if (l[s] == t) { if (r && r._isEmpty()) return { element: l.eq(s), sortable: r, appendToBottom: !0 }; if (this._isCursorAfterLast(r, n)) return o = r.items().last(), { element: o, sortable: r } } }, _isCursorAfterLast: function (e, t) { var n, r, i = e.items().last(), s = { left: t.x.location, top: t.y.location }; return n = o.getOffset(i), n.top += a(i), n.left += l(i), r = this._isFloating(i) ? n.left - s.left : n.top - s.top, r < 0 }, _movementByAxis: function (t, n, r, i) { var o, s = "x" === t ? n.left : n.top, l = r < 0 ? this.placeholder.prev() : this.placeholder.next(); l.length && !l.is(":visible") && (l = r < 0 ? l.prev() : l.next()), e.extend(i, { target: l }), o = this._getElementCenter(l), o && (o = "x" === t ? o.left : o.top), l.length && r < 0 && s - o < 0 ? this._movePlaceholder({ element: l, sortable: this }, "prev", i) : l.length && r > 0 && s - o > 0 && this._movePlaceholder({ element: l, sortable: this }, "next", i) }, _movePlaceholder: function (e, t, n) { var r = this.placeholder; e.sortable.trigger(h, n) || (t ? "prev" === t ? e.element.before(r) : "next" === t && e.element.after(r) : e.element.append(r), e.sortable.trigger(c, n)) }, _setCursor: function () { var t, n = this.options.cursor; n && "auto" !== n && (t = e(document.body), this._originalCursorType = t.css("cursor"), t.css({ cursor: n }), this._cursorStylesheet || (this._cursorStylesheet = e("<style>* { cursor: " + n + " !important; }</style>")), this._cursorStylesheet.appendTo(t)) }, _resetCursor: function () { this._originalCursorType && (e(document.body).css("cursor", this._originalCursorType), this._originalCursorType = null, this._cursorStylesheet.remove()) }, _getElementCenter: function (e) { var t = e.length ? o.getOffset(e) : null; return t && (t.top += a(e) / 2, t.left += l(e) / 2), t }, _isFloating: function (e) { return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display")) }, _cancel: function () { this.draggedElement.show(), this.placeholder.remove() }, _items: function () { var e, t = this.options.filter; return e = t ? this.element.find(t) : this.element.children() }, indexOf: function (e) { var t = this._items(), n = this.placeholder, r = this.draggedElement; return n && e[0] == n[0] ? t.not(r).index(e) : t.not(n).index(e) }, items: function () { var e = this.placeholder, t = this._items(); return e && (t = t.not(e)), t }, _isEmpty: function () { return !this.items().length }, _isLastHidden: function () { return 1 === this.items().length && this.items().is(":hidden") } }); o.ui.plugin(y) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.binder.min", ["kendo.core.min", "kendo.data.min"], e) }(function () { return function (e, t) { function i(t, i, n) { return p.extend({ init: function (e, t, i) { var n = this; p.fn.init.call(n, e.element[0], t, i), n.widget = e, n._dataBinding = M(n.dataBinding, n), n._dataBound = M(n.dataBound, n), n._itemChange = M(n.itemChange, n) }, itemChange: function (e) { r(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[t]._parents())) }, dataBinding: function (e) { var t, i, n = this.widget, s = e.removedItems || n.items(); for (t = 0, i = s.length; t < i; t++)h(s[t], !1) }, _ns: function (t) { t = t || C.ui; var i = [C.ui, C.dataviz.ui, C.mobile.ui]; return i.splice(e.inArray(t, i), 1), i.unshift(t), C.rolesFromNamespaces(i) }, dataBound: function (e) { var n, s, a, o, d = this.widget, h = e.addedItems || d.items(), l = d[i], c = C.data.HierarchicalDataSource; if (!(c && l instanceof c) && h.length) for (a = e.addedDataItems || l.flatView(), o = this.bindings[t]._parents(), n = 0, s = a.length; n < s; n++)h[n] && r(h[n], a[n], this._ns(e.ns), [a[n]].concat(o)) }, refresh: function (e) { var s, a, r, o, d = this, h = d.widget; e = e || {}, e.action || (d.destroy(), h.bind("dataBinding", d._dataBinding), h.bind("dataBound", d._dataBound), h.bind("itemChange", d._itemChange), s = d.bindings[t].get(), h[i] instanceof C.data.DataSource && h[i] != s && (s instanceof C.data.DataSource ? h[n](s) : s && s._dataSource ? h[n](s._dataSource) : (a = C.ui.Select && h instanceof C.ui.Select, r = C.ui.MultiSelect && h instanceof C.ui.MultiSelect, o = C.ui.DropDownTree && h instanceof C.ui.DropDownTree, o ? h.treeview[i].data(s) : h[i].data(s), d.bindings.value && (a || r) && h.value(g(d.bindings.value.get(), h.options.dataValueField))))) }, destroy: function () { var e = this.widget; e.unbind("dataBinding", this._dataBinding), e.unbind("dataBound", this._dataBound), e.unbind("itemChange", this._itemChange) } }) } function n(e, t) { var i = C.initWidget(e, {}, t); if (i) return new _(i) } function s(e) { var t, i, n, a, r, o, d, h = {}; for (d = e.match(x), t = 0, i = d.length; t < i; t++)n = d[t], a = n.indexOf(":"), r = n.substring(0, a), o = n.substring(a + 1), "{" == o.charAt(0) && (o = s(o)), h[r] = o; return h } function a(e, t, i) { var n, s = {}; for (n in e) s[n] = new i(t, e[n]); return s } function r(e, t, i, o) { var h, l, c, u, g, p, m, y, _; if (e && (h = e.getAttribute("data-" + C.ns + "role"), c = e.getAttribute("data-" + C.ns + "bind"), u = [], g = !0, m = {}, o = o || [t], (h || c) && d(e, !1), h && (y = n(e, i)), c && (c = s(c.replace(B, "")), y || (m = C.parseOptions(e, { textField: "", valueField: "", template: "", valueUpdate: j, valuePrimitive: !1, autoBind: !0 }, t), m.roles = i, y = new w(e, m)), y.source = t, p = a(c, o, f), m.template && (p.template = new b(o, "", m.template)), p.click && (c.events = c.events || {}, c.events.click = c.click, p.click.destroy(), delete p.click), p.source && (g = !1), c.attr && (p.attr = a(c.attr, o, f)), c.style && (p.style = a(c.style, o, f)), c.events && (p.events = a(c.events, o, v)), c.css && (p.css = a(c.css, o, f)), y.bind(p)), y && (e.kendoBindingTarget = y), _ = e.children, g && _)) { for (l = 0; l < _.length; l++)u[l] = _[l]; for (l = 0; l < u.length; l++)r(u[l], t, i, o) } } function o(t, i) { var n, s, a, o = C.rolesFromNamespaces([].slice.call(arguments, 2)); for (i = C.observable(i), t = e(t), n = 0, s = t.length; n < s; n++)a = t[n], 1 === a.nodeType && r(a, i, o) } function d(t, i) { var n, s = t.kendoBindingTarget; s && (s.destroy(), L ? delete t.kendoBindingTarget : t.removeAttribute ? t.removeAttribute("kendoBindingTarget") : t.kendoBindingTarget = null), i && (n = C.widgetInstance(e(t)), n && typeof n.destroy === P && n.destroy()) } function h(e, t) { d(e, t), l(e, t) } function l(e, t) { var i, n, s = e.children; if (s) for (i = 0, n = s.length; i < n; i++)h(s[i], t) } function c(t) { var i, n; for (t = e(t), i = 0, n = t.length; i < n; i++)h(t[i], !1) } function u(e, t) { var i = e.element, n = i[0].kendoBindingTarget; n && o(i, n.source, t) } function g(e, t) { var i, n, s = [], a = 0; if (!t) return e; if (e instanceof F) { for (i = e.length; a < i; a++)n = e[a], s[a] = n.get ? n.get(t) : n[t]; e = s } else e instanceof S && (e = e.get(t)); return e } var f, v, b, p, m, y, w, _, x, B, C = window.kendo, k = C.Observable, S = C.data.ObservableObject, F = C.data.ObservableArray, D = {}.toString, T = {}, A = C.Class, M = e.proxy, V = "value", I = "source", O = "events", H = "checked", N = "css", L = !0, P = "function", j = "change"; !function () { var e = document.createElement("a"); try { delete e.test } catch (t) { L = !1 } }(), f = k.extend({ init: function (e, t) { var i = this; k.fn.init.call(i), i.source = e[0], i.parents = e, i.path = t, i.dependencies = {}, i.dependencies[t] = !0, i.observable = i.source instanceof k, i._access = function (e) { i.dependencies[e.field] = !0 }, i.observable && (i._change = function (e) { i.change(e) }, i.source.bind(j, i._change)) }, _parents: function () { var t, i = this.parents, n = this.get(); return n && "function" == typeof n.parent && (t = n.parent(), e.inArray(t, i) < 0 && (i = [t].concat(i))), i }, change: function (e) { var t, i, n = e.field, s = this; if ("this" === s.path) s.trigger(j, e); else for (t in s.dependencies) if (0 === t.indexOf(n) && (i = t.charAt(n.length), !i || "." === i || "[" === i)) { s.trigger(j, e); break } }, start: function (e) { e.bind("get", this._access) }, stop: function (e) { e.unbind("get", this._access) }, get: function () { var e = this, i = e.source, n = 0, s = e.path, a = i; if (!e.observable) return a; for (e.start(e.source), a = i.get(s); a === t && i;)i = e.parents[++n], i instanceof S && (a = i.get(s)); if (a === t) for (i = e.source; a === t && i;)i = i.parent(), i instanceof S && (a = i.get(s)); return "function" == typeof a && (n = s.lastIndexOf("."), n > 0 && (i = i.get(s.substring(0, n))), e.start(i), a = i !== e.source ? a.call(i, e.source) : a.call(i), e.stop(i)), i && i !== e.source && (e.currentSource = i, i.unbind(j, e._change).bind(j, e._change)), e.stop(e.source), a }, set: function (e) { var t = this.currentSource || this.source, i = C.getter(this.path)(t); "function" == typeof i ? t !== this.source ? i.call(t, this.source, e) : i.call(t, e) : t.set(this.path, e) }, destroy: function () { this.observable && (this.source.unbind(j, this._change), this.currentSource && this.currentSource.unbind(j, this._change)), this.unbind() } }), v = f.extend({ get: function () { var e, t = this.source, i = this.path, n = 0; for (e = t.get(i); !e && t;)t = this.parents[++n], t instanceof S && (e = t.get(i)); return M(e, t) } }), b = f.extend({ init: function (e, t, i) { var n = this; f.fn.init.call(n, e, t), n.template = i }, render: function (e) { var t; return this.start(this.source), t = C.render(this.template, e), this.stop(this.source), t } }), p = A.extend({ init: function (e, t, i) { this.element = e, this.bindings = t, this.options = i }, bind: function (e, t) { var i = this; e = t ? e[t] : e, e.bind(j, function (e) { i.refresh(t || e) }), i.refresh(t) }, destroy: function () { } }), m = p.extend({ dataType: function () { var e = this.element.getAttribute("data-type") || this.element.type || "text"; return e.toLowerCase() }, parsedValue: function () { return this._parseValue(this.element.value, this.dataType()) }, _parseValue: function (e, t) { return "date" == t ? e = C.parseDate(e, "yyyy-MM-dd") : "datetime-local" == t ? e = C.parseDate(e, ["yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mm"]) : "number" == t ? e = C.parseFloat(e) : "boolean" == t && (e = e.toLowerCase(), e = null !== C.parseFloat(e) ? !!C.parseFloat(e) : "true" === e.toLowerCase()), e } }), T.attr = p.extend({ refresh: function (e) { this.element.setAttribute(e, this.bindings.attr[e].get()) } }), T.css = p.extend({ init: function (e, t, i) { p.fn.init.call(this, e, t, i), this.classes = {} }, refresh: function (t) { var i = e(this.element), n = this.bindings.css[t], s = this.classes[t] = n.get(); s ? i.addClass(t) : i.removeClass(t) } }), T.style = p.extend({ refresh: function (e) { this.element.style[e] = this.bindings.style[e].get() || "" } }), T.enabled = p.extend({ refresh: function () { this.bindings.enabled.get() ? this.element.removeAttribute("disabled") : this.element.setAttribute("disabled", "disabled") } }), T.readonly = p.extend({ refresh: function () { this.bindings.readonly.get() ? this.element.setAttribute("readonly", "readonly") : this.element.removeAttribute("readonly") } }), T.disabled = p.extend({ refresh: function () { this.bindings.disabled.get() ? this.element.setAttribute("disabled", "disabled") : this.element.removeAttribute("disabled") } }), T.events = p.extend({ init: function (e, t, i) { p.fn.init.call(this, e, t, i), this.handlers = {} }, refresh: function (t) { var i = e(this.element), n = this.bindings.events[t], s = this.handlers[t]; s && i.off(t, s), s = this.handlers[t] = n.get(), i.on(t, n.source, s) }, destroy: function () { var t, i = e(this.element); for (t in this.handlers) i.off(t, this.handlers[t]) } }), T.text = p.extend({ refresh: function () { var t = this.bindings.text.get(), i = this.element.getAttribute("data-format") || ""; null == t && (t = ""), e(this.element).text(C.toString(t, i)) } }), T.visible = p.extend({ refresh: function () { this.element.style.display = this.bindings.visible.get() ? "" : "none" } }), T.invisible = p.extend({ refresh: function () { this.element.style.display = this.bindings.invisible.get() ? "none" : "" } }), T.html = p.extend({ refresh: function () { this.element.innerHTML = this.bindings.html.get() } }), T.value = m.extend({ init: function (t, i, n) { m.fn.init.call(this, t, i, n), this._change = M(this.change, this), this.eventName = n.valueUpdate || j, e(this.element).on(this.eventName, this._change), this._initChange = !1 }, change: function () { this._initChange = this.eventName != j, this.bindings[V].set(this.parsedValue()), this._initChange = !1 }, refresh: function () { var e, t; this._initChange || (e = this.bindings[V].get(), null == e && (e = ""), t = this.dataType(), "date" == t ? e = C.toString(e, "yyyy-MM-dd") : "datetime-local" == t && (e = C.toString(e, "yyyy-MM-ddTHH:mm:ss")), this.element.value = e), this._initChange = !1 }, destroy: function () { e(this.element).off(this.eventName, this._change) } }), T.source = p.extend({ init: function (e, t, i) { p.fn.init.call(this, e, t, i); var n = this.bindings.source.get(); n instanceof C.data.DataSource && i.autoBind !== !1 && n.fetch() }, refresh: function (e) { var t = this, i = t.bindings.source.get(); i instanceof F || i instanceof C.data.DataSource ? (e = e || {}, "add" == e.action ? t.add(e.index, e.items) : "remove" == e.action ? t.remove(e.index, e.items) : "itemchange" != e.action && t.render()) : t.render() }, container: function () { var e = this.element; return "table" == e.nodeName.toLowerCase() && (e.tBodies[0] || e.appendChild(document.createElement("tbody")), e = e.tBodies[0]), e }, template: function () { var e = this.options, t = e.template, i = this.container().nodeName.toLowerCase(); return t || (t = "select" == i ? e.valueField || e.textField ? C.format('<option value="#:{0}#">#:{1}#</option>', e.valueField || e.textField, e.textField || e.valueField) : "<option>#:data#</option>" : "tbody" == i ? "<tr><td>#:data#</td></tr>" : "ul" == i || "ol" == i ? "<li>#:data#</li>" : "#:data#", t = C.template(t)), t }, add: function (t, i) { var n, s, a, o, d = this.container(), h = d.cloneNode(!1), l = d.children[t]; if (e(h).html(C.render(this.template(), i)), h.children.length) for (n = this.bindings.source._parents(), s = 0, a = i.length; s < a; s++)o = h.children[0], d.insertBefore(o, l || null), r(o, i[s], this.options.roles, [i[s]].concat(n)) }, remove: function (e, t) { var i, n, s = this.container(); for (i = 0; i < t.length; i++)n = s.children[e], h(n, !0), n.parentNode == s && s.removeChild(n) }, render: function () { var t, i, n, s = this.bindings.source.get(), a = this.container(), o = this.template(); if (null != s) if (s instanceof C.data.DataSource && (s = s.view()), s instanceof F || "[object Array]" === D.call(s) || (s = [s]), this.bindings.template) { if (l(a, !0), e(a).html(this.bindings.template.render(s)), a.children.length) for (t = this.bindings.source._parents(), i = 0, n = s.length; i < n; i++)r(a.children[i], s[i], this.options.roles, [s[i]].concat(t)) } else e(a).html(C.render(o, s)) } }), T.input = { checked: m.extend({ init: function (t, i, n) { m.fn.init.call(this, t, i, n), this._change = M(this.change, this), e(this.element).change(this._change) }, change: function () { var e, t, i, n = this.element, s = this.value(); if ("radio" == n.type) s = this.parsedValue(), this.bindings[H].set(s); else if ("checkbox" == n.type) if (e = this.bindings[H].get(), e instanceof F) { if (s = this.parsedValue(), s instanceof Date) { for (i = 0; i < e.length; i++)if (e[i] instanceof Date && +e[i] === +s) { t = i; break } } else t = e.indexOf(s); t > -1 ? e.splice(t, 1) : e.push(s) } else this.bindings[H].set(s) }, refresh: function () { var e, t, i = this.bindings[H].get(), n = i, s = this.dataType(), a = this.element; if ("checkbox" == a.type) if (n instanceof F) { if (e = -1, i = this.parsedValue(), i instanceof Date) { for (t = 0; t < n.length; t++)if (n[t] instanceof Date && +n[t] === +i) { e = t; break } } else e = n.indexOf(i); a.checked = e >= 0 } else a.checked = n; else "radio" == a.type && null != i && ("date" == s ? i = C.toString(i, "yyyy-MM-dd") : "datetime-local" == s && (i = C.toString(i, "yyyy-MM-ddTHH:mm:ss")), a.checked = a.value === "" + i) }, value: function () { var e = this.element, t = e.value; return "checkbox" == e.type && (t = e.checked), t }, destroy: function () { e(this.element).off(j, this._change) } }) }, T.select = { source: T.source.extend({ refresh: function (i) { var n, s = this, a = s.bindings.source.get(); a instanceof F || a instanceof C.data.DataSource ? (i = i || {}, "add" == i.action ? s.add(i.index, i.items) : "remove" == i.action ? s.remove(i.index, i.items) : "itemchange" != i.action && i.action !== t || (s.render(), s.bindings.value && s.bindings.value && (n = g(s.bindings.value.get(), e(s.element).data("valueField")), null === n ? s.element.selectedIndex = -1 : s.element.value = n))) : s.render() } }), value: m.extend({ init: function (t, i, n) { m.fn.init.call(this, t, i, n), this._change = M(this.change, this), e(this.element).change(this._change) }, parsedValue: function () { var e, t, i, n, s = this.dataType(), a = []; for (i = 0, n = this.element.options.length; i < n; i++)t = this.element.options[i], t.selected && (e = t.attributes.value, e = e && e.specified ? t.value : t.text, a.push(this._parseValue(e, s))); return a }, change: function () { var e, i, n, s, a, r, o, d, h = [], l = this.element, c = this.options.valueField || this.options.textField, u = this.options.valuePrimitive; for (a = 0, r = l.options.length; a < r; a++)i = l.options[a], i.selected && (s = i.attributes.value, s = s && s.specified ? i.value : i.text, h.push(c ? s : this._parseValue(s, this.dataType()))); if (c) for (e = this.bindings.source.get(), e instanceof C.data.DataSource && (e = e.view()), n = 0; n < h.length; n++)for (a = 0, r = e.length; a < r; a++)if (o = e[a].get(c), d = o + "" === h[n]) { h[n] = e[a]; break } s = this.bindings[V].get(), s instanceof F ? s.splice.apply(s, [0, s.length].concat(h)) : this.bindings[V].set(u || !(s instanceof S || null === s || s === t) && c ? h[0].get(c) : h[0]) }, refresh: function () { var e, t, i, n = this.element, s = n.options, a = this.bindings[V].get(), r = a, o = this.options.valueField || this.options.textField, d = !1, h = this.dataType(); for (r instanceof F || (r = new F([a])), n.selectedIndex = -1, i = 0; i < r.length; i++)for (a = r[i], o && a instanceof S && (a = a.get(o)), "date" == h ? a = C.toString(r[i], "yyyy-MM-dd") : "datetime-local" == h && (a = C.toString(r[i], "yyyy-MM-ddTHH:mm:ss")), e = 0; e < s.length; e++)t = s[e].value, "" === t && "" !== a && (t = s[e].text), null != a && t == "" + a && (s[e].selected = !0, d = !0) }, destroy: function () { e(this.element).off(j, this._change) } }) }, T.widget = { events: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e, this.handlers = {} }, refresh: function (e) { var t = this.bindings.events[e], i = this.handlers[e]; i && this.widget.unbind(e, i), i = t.get(), this.handlers[e] = function (e) { e.data = t.source, i(e), e.data === t.source && delete e.data }, this.widget.bind(e, this.handlers[e]) }, destroy: function () { var e; for (e in this.handlers) this.widget.unbind(e, this.handlers[e]) } }), checked: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e, this._change = M(this.change, this), this.widget.bind(j, this._change) }, change: function () { this.bindings[H].set(this.value()) }, refresh: function () { this.widget.check(this.bindings[H].get() === !0) }, value: function () { var e = this.element, t = e.value; return "on" != t && "off" != t || (t = e.checked), t }, destroy: function () { this.widget.unbind(j, this._change) } }), visible: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e }, refresh: function () { var e = this.bindings.visible.get(); this.widget.wrapper[0].style.display = e ? "" : "none" } }), invisible: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e }, refresh: function () { var e = this.bindings.invisible.get(); this.widget.wrapper[0].style.display = e ? "none" : "" } }), enabled: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e }, refresh: function () { this.widget.enable && this.widget.enable(this.bindings.enabled.get()) } }), disabled: p.extend({ init: function (e, t, i) { p.fn.init.call(this, e.element[0], t, i), this.widget = e }, refresh: function () { this.widget.enable && this.widget.enable(!this.bindings.disabled.get()) } }), source: i("source", "dataSource", "setDataSource"), value: p.extend({ init: function (t, i, n) { p.fn.init.call(this, t.element[0], i, n), this.widget = t, this._change = e.proxy(this.change, this), this.widget.first(j, this._change); var s = this.bindings.value.get(); this._valueIsObservableObject = !n.valuePrimitive && (null == s || s instanceof S), this._valueIsObservableArray = s instanceof F, this._initChange = !1 }, _source: function () { var e; return this.widget.dataItem && (e = this.widget.dataItem(), e && e instanceof S) ? [e] : (this.bindings.source && (e = this.bindings.source.get()), (!e || e instanceof C.data.DataSource) && (e = this.widget.dataSource.flatView()), e) }, change: function () { var e, t, i, n, s, a, r, o = this.widget.value(), d = this.options.dataValueField || this.options.dataTextField, h = "[object Array]" === D.call(o), l = this._valueIsObservableObject, c = []; if (this._initChange = !0, d) if ("" === o && (l || this.options.valuePrimitive)) o = null; else { for (r = this._source(), h && (t = o.length, c = o.slice(0)), s = 0, a = r.length; s < a; s++)if (i = r[s], n = i.get(d), h) { for (e = 0; e < t; e++)if (n == c[e]) { c[e] = i; break } } else if (n == o) { o = l ? i : n; break } c[0] && (o = this._valueIsObservableArray ? c : l || !d ? c[0] : c[0].get(d)) } this.bindings.value.set(o), this._initChange = !1 }, refresh: function () { var e, i, n, s, a, r, o, d, h; if (!this._initChange) { if (e = this.widget, i = e.options, n = i.dataTextField, s = i.dataValueField || n, a = this.bindings.value.get(), r = i.text || "", o = 0, h = [], a === t && (a = null), s) if (a instanceof F) { for (d = a.length; o < d; o++)h[o] = a[o].get(s); a = h } else a instanceof S && (r = a.get(n), a = a.get(s)); i.autoBind !== !1 || i.cascadeFrom || !e.listView || e.listView.bound() ? e.value(a) : (n !== s || r || (r = a), r || !a && 0 !== a || !i.valuePrimitive ? e._preselect(a, r) : e.value(a)) } this._initChange = !1 }, destroy: function () { this.widget.unbind(j, this._change) } }), dropdowntree: { value: p.extend({ init: function (t, i, n) { p.fn.init.call(this, t.element[0], i, n), this.widget = t, this._change = e.proxy(this.change, this), this.widget.first(j, this._change), this._initChange = !1 }, change: function () { var e, i, n, s, a, r, o, d, h, l = this, c = l.bindings[V].get(), u = l.options.valuePrimitive, g = l.widget.treeview.select(), f = l.widget._isMultipleSelection() ? l.widget._getAllChecked() : l.widget.treeview.dataItem(g) || l.widget.value(), v = u || l.widget.options.autoBind === !1 ? l.widget.value() : f, b = this.options.dataValueField || this.options.dataTextField; if (v = v.slice ? v.slice(0) : v, l._initChange = !0, c instanceof F) { for (e = [], i = v.length, n = 0, s = 0, a = c[n], r = !1; a !== t;) { for (h = !1, s = 0; s < i; s++)if (u ? r = v[s] == a : (d = v[s], d = d.get ? d.get(b) : d, r = d == (a.get ? a.get(b) : a)), r) { v.splice(s, 1), i -= 1, h = !0; break } h ? n += 1 : (e.push(a), y(c, n, 1), o = n), a = c[n] } y(c, c.length, 0, v), e.length && c.trigger("change", { action: "remove", items: e, index: o }), v.length && c.trigger("change", { action: "add", items: v, index: c.length - 1 }) } else l.bindings[V].set(v); l._initChange = !1 }, refresh: function () { if (!this._initChange) { var e, t, i = this.options, n = this.widget, s = i.dataValueField || i.dataTextField, a = this.bindings.value.get(), r = a, o = 0, d = []; if (s) if (a instanceof F) { for (e = a.length; o < e; o++)t = a[o], d[o] = t.get ? t.get(s) : t; a = d } else a instanceof S && (a = a.get(s)); i.autoBind === !1 && i.valuePrimitive !== !0 ? n._preselect(r, a) : n.value(a) } }, destroy: function () { this.widget.unbind(j, this._change) } }) }, gantt: { dependencies: i("dependencies", "dependencies", "setDependenciesDataSource") }, multiselect: { value: p.extend({ init: function (t, i, n) { p.fn.init.call(this, t.element[0], i, n), this.widget = t, this._change = e.proxy(this.change, this), this.widget.first(j, this._change), this._initChange = !1 }, change: function () { var e, i, n, s, a, r, o, d, h, l = this, c = l.bindings[V].get(), u = l.options.valuePrimitive, g = u ? l.widget.value() : l.widget.dataItems(), f = this.options.dataValueField || this.options.dataTextField; if (g = g.slice(0), l._initChange = !0, c instanceof F) { for (e = [], i = g.length, n = 0, s = 0, a = c[n], r = !1; a !== t;) { for (h = !1, s = 0; s < i; s++)if (u ? r = g[s] == a : (d = g[s], d = d.get ? d.get(f) : d, r = d == (a.get ? a.get(f) : a)), r) { g.splice(s, 1), i -= 1, h = !0; break } h ? n += 1 : (e.push(a), y(c, n, 1), o = n), a = c[n] } y(c, c.length, 0, g), e.length && c.trigger("change", { action: "remove", items: e, index: o }), g.length && c.trigger("change", { action: "add", items: g, index: c.length - 1 }) } else l.bindings[V].set(g); l._initChange = !1 }, refresh: function () { if (!this._initChange) { var e, i, n = this.options, s = this.widget, a = n.dataValueField || n.dataTextField, r = this.bindings.value.get(), o = r, d = 0, h = []; if (r === t && (r = null), a) if (r instanceof F) { for (e = r.length; d < e; d++)i = r[d], h[d] = i.get ? i.get(a) : i; r = h } else r instanceof S && (r = r.get(a)); n.autoBind !== !1 || n.valuePrimitive === !0 || s._isBound() ? s.value(r) : s._preselect(o, r) } }, destroy: function () { this.widget.unbind(j, this._change) } }) }, scheduler: { source: i("source", "dataSource", "setDataSource").extend({ dataBound: function (e) { var t, i, n, s, a = this.widget, o = e.addedItems || a.items(); if (o.length) for (n = e.addedDataItems || a.dataItems(), s = this.bindings.source._parents(), t = 0, i = n.length; t < i; t++)r(o[t], n[t], this._ns(e.ns), [n[t]].concat(s)) } }) } }, y = function (e, t, i, n) { var s, a, r, o, d; if (n = n || [], i = i || 0, s = n.length, a = e.length, r = [].slice.call(e, t + i), o = r.length, s) { for (s = t + s, d = 0; t < s; t++)e[t] = n[d], d++; e.length = s } else if (i) for (e.length = t, i += t; t < i;)delete e[--i]; if (o) { for (o = t + o, d = 0; t < o; t++)e[t] = r[d], d++; e.length = o } for (t = e.length; t < a;)delete e[t], t++ }, w = A.extend({ init: function (e, t) { this.target = e, this.options = t, this.toDestroy = [] }, bind: function (e) { var t, i, n, s, a, r, o = this instanceof _, d = this.binders(); for (t in e) t == V ? i = !0 : t == I ? n = !0 : t != O || o ? t == H ? a = !0 : t == N ? r = !0 : this.applyBinding(t, e, d) : s = !0; n && this.applyBinding(I, e, d), i && this.applyBinding(V, e, d), a && this.applyBinding(H, e, d), s && !o && this.applyBinding(O, e, d), r && !o && this.applyBinding(N, e, d) }, binders: function () { return T[this.target.nodeName.toLowerCase()] || {} }, applyBinding: function (e, t, i) { var n, s = i[e] || T[e], a = this.toDestroy, r = t[e]; if (s) if (s = new s(this.target, t, this.options), a.push(s), r instanceof f) s.bind(r), a.push(r); else for (n in r) s.bind(r, n), a.push(r[n]); else if ("template" !== e) throw Error("The " + e + " binding is not supported by the " + this.target.nodeName.toLowerCase() + " element") }, destroy: function () { var e, t, i = this.toDestroy; for (e = 0, t = i.length; e < t; e++)i[e].destroy() } }), _ = w.extend({ binders: function () { return T.widget[this.target.options.name.toLowerCase()] || {} }, applyBinding: function (e, t, i) { var n, s = i[e] || T.widget[e], a = this.toDestroy, r = t[e]; if (!s) throw Error("The " + e + " binding is not supported by the " + this.target.options.name + " widget"); if (s = new s(this.target, t, this.target.options), a.push(s), r instanceof f) s.bind(r), a.push(r); else for (n in r) s.bind(r, n), a.push(r[n]) } }), x = /[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g, B = /\s/g, C.unbind = c, C.bind = o, C.data.binders = T, C.data.Binder = p, C.notify = u, C.observable = function (e) { return e instanceof S || (e = new S(e)), e }, C.observableHierarchy = function (e) { function t(e) { var i, n; for (i = 0; i < e.length; i++)e[i]._initChildren(), n = e[i].children, n.fetch(), e[i].items = n.data(), t(e[i].items) } var i = C.data.HierarchicalDataSource.create(e); return i.fetch(), t(i.data()), i._data._dataSource = i, i._data } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.view.min", ["kendo.core.min", "kendo.binder.min", "kendo.fx.min"], e) }(function () { return function (e, n) { function t(e) { if (!e) return {}; var n = e.match(v) || []; return { type: n[1], direction: n[3], reverse: "reverse" === n[5] } } var i = window.kendo, r = i.Observable, o = "SCRIPT", a = "init", s = "show", c = "hide", d = "transitionStart", h = "transitionEnd", f = "attach", l = "detach", u = /unrecognized expression/, m = r.extend({ init: function (e, n) { var t = this; n = n || {}, r.fn.init.call(t), t.content = e, t.id = i.guid(), t.tagName = n.tagName || "div", t.model = n.model, t._wrap = n.wrap !== !1, this._evalTemplate = n.evalTemplate || !1, t._fragments = {}, t.bind([a, s, c, d, h], n) }, render: function (n) { var t = this, r = !t.element; return r && (t.element = t._createElement()), n && e(n).append(t.element), r && (i.bind(t.element, t.model), t.trigger(a)), n && (t._eachFragment(f), t.trigger(s)), t.element }, clone: function () { return new g(this) }, triggerBeforeShow: function () { return !0 }, triggerBeforeHide: function () { return !0 }, showStart: function () { this.element.css("display", "") }, showEnd: function () { }, hideEnd: function () { this.hide() }, beforeTransition: function (e) { this.trigger(d, { type: e }) }, afterTransition: function (e) { this.trigger(h, { type: e }) }, hide: function () { this._eachFragment(l), this.element.detach(), this.trigger(c) }, destroy: function () { var e = this.element; e && (i.unbind(e), i.destroy(e), e.remove()) }, fragments: function (n) { e.extend(this._fragments, n) }, _eachFragment: function (e) { for (var n in this._fragments) this._fragments[n][e](this, n) }, _createElement: function () { var n, t, r, a = this, s = "<" + a.tagName + " />"; try { t = e(document.getElementById(a.content) || a.content), t[0].tagName === o && (t = t.html()) } catch (c) { u.test(c.message) && (t = a.content) } return "string" == typeof t ? (t = t.replace(/^\s+|\s+$/g, ""), a._evalTemplate && (t = i.template(t)(a.model || {})), n = e(s).append(t), a._wrap || (n = n.contents())) : (n = t, a._evalTemplate && (r = e(i.template(e("<div />").append(n.clone(!0)).html())(a.model || {})), e.contains(document, n[0]) && n.replaceWith(r), n = r), a._wrap && (n = n.wrapAll(s).parent())), n } }), g = i.Class.extend({ init: function (n) { e.extend(this, { element: n.element.clone(!0), transition: n.transition, id: n.id }), n.element.parent().append(this.element) }, hideEnd: function () { this.element.remove() }, beforeTransition: e.noop, afterTransition: e.noop }), w = m.extend({ init: function (e, n) { m.fn.init.call(this, e, n), this.containers = {} }, container: function (e) { var n = this.containers[e]; return n || (n = this._createContainer(e), this.containers[e] = n), n }, showIn: function (e, n, t) { this.container(e).show(n, t) }, _createContainer: function (e) { var n, t = this.render(), i = t.find(e); if (!i.length && t.is(e)) { if (!t.is(e)) throw Error("can't find a container with the specified " + e + " selector"); i = t } return n = new _(i), n.bind("accepted", function (e) { e.view.render(i) }), n } }), p = m.extend({ attach: function (e, n) { e.element.find(n).replaceWith(this.render()) }, detach: function () { } }), v = /^(\w+)(:(\w+))?( (\w+))?$/, _ = r.extend({ init: function (e) { r.fn.init.call(this), this.container = e, this.history = [], this.view = null, this.running = !1 }, after: function () { this.running = !1, this.trigger("complete", { view: this.view }), this.trigger("after") }, end: function () { this.view.showEnd(), this.previous.hideEnd(), this.after() }, show: function (e, n, r) { if (!e.triggerBeforeShow() || this.view && !this.view.triggerBeforeHide()) return this.trigger("after"), !1; r = r || e.id; var o = this, a = e === o.view ? e.clone() : o.view, s = o.history, c = s[s.length - 2] || {}, d = c.id === r, h = n || (d ? s[s.length - 1].transition : e.transition), f = t(h); return o.running && o.effect.stop(), "none" === h && (h = null), o.trigger("accepted", { view: e }), o.view = e, o.previous = a, o.running = !0, d ? s.pop() : s.push({ id: r, transition: h }), a ? (h && i.effects.enabled ? (e.element.addClass("k-fx-hidden"), e.showStart(), d && !n && (f.reverse = !f.reverse), o.effect = i.fx(e.element).replace(a.element, f.type).beforeTransition(function () { e.beforeTransition("show"), a.beforeTransition("hide") }).afterTransition(function () { e.afterTransition("show"), a.afterTransition("hide") }).direction(f.direction).setReverse(f.reverse), o.effect.run().then(function () { o.end() })) : (e.showStart(), o.end()), !0) : (e.showStart(), e.showEnd(), o.after(), !0) } }); i.ViewContainer = _, i.Fragment = p, i.Layout = w, i.View = m, i.ViewClone = g }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, n, t) { (t || n)() });; !function (t, define) { define("kendo.webcomponents.min", ["kendo.core.min"], t) }(function () { return function (t, e, n) { function i(t, e) { var i = t.getAttribute(e); return null === i ? i = n : "null" === i ? i = null : "true" === i ? i = !0 : "false" === i ? i = !1 : b.test(i) ? i = parseFloat(i) : p.test(i) && !f.test(i) && (i = Function("return (" + i + ")")()), i } function o(t, e) { var n = {}; return Object.keys(e).concat("dataSource").forEach(function (e) { t.hasAttribute(kendo.toHyphens(e)) && (n[e] = i(t, kendo.toHyphens(e))) }), n } function r(t) { var e = {}; return Object.keys(t).forEach(function (n) { "_" != n[0] && (e[n] = t[n]) }), e } function u(t, e) { var n = document.createEvent("CustomEvent"); n.initCustomEvent(t, !1, !0, r(e)), this.dispatchEvent(n), n.defaultPrevented && e.preventDefault() } function d(t, e) { var n, i = Object.keys(e); for (n = 0; n <= i.length; n++)if ("function" == typeof e[i[n]]) t[i[n]] || (t[i[n]] = e[i[n]].bind(t.widget)); else { if ("options" === i[n]) continue; t[i[n]] = t[i[n]] || e[i[n]] } } function s(e, n) { var i = n.prototype.options, r = Object.create(HTMLElement.prototype); Object.defineProperty(r, "options", { get: function () { return this.widget.options }, set: function (n) { var i, o, r, u = this.widget; n = t.extend(!0, {}, u.options, n), i = t(u.wrapper)[0], o = t(u.element)[0], u._destroy(), r = document.createElement(a[e] || "div"), i && o && (i.parentNode.replaceChild(o, i), t(o).replaceWith(r)), u.value && (n.value = u.value()), u.init(r, n), this.bindEvents() } }), r.bindEvents = function () { n.prototype.events.indexOf("init") < 0 && n.prototype.events.push("init"), n.prototype.events.forEach(function (t) { this.widget.bind(t, u.bind(this, t)), this.hasAttribute(c + t) && this.bind(t, function (e) { window[this.getAttribute(c + t)].call(this, e) }.bind(this)) }.bind(this)) }, r.attachedCallback = function () { var r, u = this, s = document.createElement(a[e] || "div"); t(s).append(u.childNodes), t(s).attr("class", t(u).attr("class")), t(s).attr("style", t(u).attr("style")), u.appendChild(s), u.widget = new n(s, o(u, i)), r = u.widget; do d(u, r); while (r = Object.getPrototypeOf(r)); this.bindEvents(), u.widget.trigger("init") }, r.detachedCallback = function () { kendo.destroy(this.element) }, kendo.webComponents.push("kendo-" + e), document.registerElement("kendo-" + e, { prototype: r }) } var a, c, l, p, f, b; kendo.support.customElements && !kendo.webComponents.length && (e && (1 == e.version.major || e.injector) || (a = { editor: "textarea", numerictextbox: "input", datepicker: "input", datetimepicker: "input", timepicker: "input", autocomplete: "input", colorpicker: "input", maskedtextbox: "input", dropdownlist: "select", multiselect: "select", upload: "input", validator: "form", button: "button", mobilebutton: "a", mobilebackbutton: "a", mobiledetailbutton: "a", listview: "ul", mobilelistview: "ul", treeview: "ul", menu: "ul", contextmenu: "ul", actionsheet: "ul" }, c = "on-", l = [], kendo.onWidgetRegistered(function (t) { var e = t.prefix + t.widget.prototype.options.name.toLowerCase(); l.indexOf(e) === -1 && (l.push(e), s(e, t.widget)) }), p = /^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/, f = /^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/, b = /^(\+|-?)\d+(\.?)\d*$/)) }(window.kendo.jQuery, window.angular), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.virtuallist.min", ["kendo.data.min"], e) }(function () { return function (e, t) { function i(e) { return e[e.length - 1] } function n(e) { return e instanceof Array ? e : [e] } function s(e) { return "string" == typeof e || "number" == typeof e || "boolean" == typeof e } function r(e, t, i) { return Math.ceil(e * t / i) } function a(e, t, i) { var n = document.createElement(i || "div"); return t && (n.className = t), e.appendChild(n), n } function o() { var t, i = e('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'); return i.css({ position: "absolute", left: "-200000px", visibility: "hidden" }), i.appendTo(document.body), t = parseFloat(v.getComputedStyles(i.find(".k-item")[0], ["line-height"])["line-height"]), i.remove(), t } function l(e, t, i) { return { down: e * i, up: e * (t - 1 - i) } } function u(e, t) { var i = (e.listScreens - 1 - e.threshold) * t, n = e.threshold * t; return function (e, t, s) { return t > s ? t - e.top < i : 0 === e.top || t - e.top > n } } function h(e, t) { return function (i) { return t(e.scrollTop, i) } } function c(e) { return function (t, i) { return e(t.items, t.index, i), t } } function d(e, t) { v.support.browser.msie && v.support.browser.version < 10 ? e.style.top = t + "px" : (e.style.webkitTransform = "translateY(" + t + "px)", e.style.transform = "translateY(" + t + "px)") } function f(t, i) { return function (n, s) { for (var r = 0, a = n.length; r < a; r++)t(n[r], s[r], i), s[r].item && this.trigger(R, { item: e(n[r]), data: s[r].item, ns: v.ui }) } } function p(e, t) { var i; return t > 0 ? (i = e.splice(0, t), e.push.apply(e, i)) : (i = e.splice(t, -t), e.unshift.apply(e, i)), i } function g(i, n, s) { var r = s.template; i = e(i), n.item || (r = s.placeholderTemplate), 0 === n.index && this.header && n.group && this.header.html(s.fixedGroupTemplate(n.group)), this.angular("cleanup", function () { return { elements: [i] } }), i.attr("data-uid", n.item ? n.item.uid : "").attr("data-offset-index", n.index).html(r(n.item || {})), i.toggleClass(L, n.current), i.toggleClass(G, n.selected), i.toggleClass("k-first", n.newGroup), i.toggleClass("k-loading-item", !n.item), 0 !== n.index && n.newGroup && e("<div class=" + B + "></div>").appendTo(i).html(s.groupTemplate(n.group)), n.top !== t && d(i[0], n.top), this.angular("compile", function () { return { elements: [i], data: [{ dataItem: n.item, group: n.group, newGroup: n.newGroup }] } }) } function m(e, t) { var i, n, s, r, a = t.length, o = e.length, l = [], u = []; if (o) for (s = 0; s < o; s++) { for (i = e[s], n = !1, r = 0; r < a; r++)if (i === t[r]) { n = !0, l.push({ index: s, item: i }); break } n || u.push(i) } return { changed: l, unchanged: u } } function _(e) { return e && "resolved" !== e.state() } var v = window.kendo, I = v.ui, x = I.Widget, D = I.DataBoundWidget, y = e.proxy, S = "k-virtual-wrap", C = "k-virtual-list", b = "k-virtual-content", k = "k-list", w = "k-group-header", T = "k-virtual-item", H = "k-item", V = "k-height-container", B = "k-group", G = "k-state-selected", L = "k-state-focused", E = "k-state-hover", F = "change", M = "click", N = "listBound", R = "itemChange", P = "activate", A = "deactivate", z = ".VirtualList", j = D.extend({ init: function (t, i) { var s = this; s.bound(!1), s._fetching = !1, x.fn.init.call(s, t, i), s.options.itemHeight || (s.options.itemHeight = o()), i = s.options, s.element.addClass(k + " " + C).attr("role", "listbox"), s.content = s.element.wrap("<div unselectable='on' class='" + b + "'></div>").parent(), s.wrapper = s.content.wrap("<div class='" + S + "'></div>").parent(), s.header = s.content.before("<div class='" + w + "'></div>").prev(), s.element.on("mouseenter" + z, "li:not(.k-loading-item)", function () { e(this).addClass(E) }).on("mouseleave" + z, "li", function () { e(this).removeClass(E) }), s._values = n(s.options.value), s._selectedDataItems = [], s._selectedIndexes = [], s._rangesList = {}, s._promisesList = [], s._optionID = v.guid(), s._templates(), s.setDataSource(i.dataSource), s.content.on("scroll" + z, v.throttle(function () { s._renderItems(), s._triggerListBound() }, i.delay)), s._selectable() }, options: { name: "VirtualList", autoBind: !0, delay: 100, height: null, listScreens: 4, threshold: .5, itemHeight: null, oppositeBuffer: 1, type: "flat", selectable: !1, value: [], dataValueField: null, template: "#:data#", placeholderTemplate: "loading...", groupTemplate: "#:data#", fixedGroupTemplate: "#:data#", mapValueTo: "index", valueMapper: null }, events: [F, M, N, R, P, A], setOptions: function (e) { x.fn.setOptions.call(this, e), this._selectProxy && this.options.selectable === !1 ? this.element.off(M, "." + T, this._selectProxy) : !this._selectProxy && this.options.selectable && this._selectable(), this._templates(), this.refresh() }, items: function () { return e(this._items) }, destroy: function () { this.wrapper.off(z), this.dataSource.unbind(F, this._refreshHandler), x.fn.destroy.call(this) }, setDataSource: function (t) { var i, n = this, s = t || {}; s = e.isArray(s) ? { data: s } : s, s = v.data.DataSource.create(s), n.dataSource ? (n.dataSource.unbind(F, n._refreshHandler), n._clean(), n.bound(!1), n._deferValueSet = !0, i = n.value(), n.value([]), n.mute(function () { n.value(i) })) : n._refreshHandler = e.proxy(n.refresh, n), n.dataSource = s.bind(F, n._refreshHandler), n.setDSFilter(s.filter()), 0 !== s.view().length ? n.refresh() : n.options.autoBind && s.fetch() }, skip: function () { return this.dataSource.currentRangeStart() }, _triggerListBound: function () { var e = this, t = e.skip(); e.bound() && !e._selectingValue && e._skip !== t && (e._skip = t, e.trigger(N)) }, _getValues: function (t) { var i = this._valueGetter; return e.map(t, function (e) { return i(e) }) }, _highlightSelectedItems: function () { var e, t; for (e = 0; e < this._selectedDataItems.length; e++)t = this._getElementByDataItem(this._selectedDataItems[e]), t.length && t.addClass(G) }, refresh: function (e) { var t, i = this, n = e && e.action, s = "itemchange" === n, r = this.isFiltered(); i._mute || (i._deferValueSet = !1, i._fetching ? (i._renderItems && i._renderItems(!0), i._triggerListBound()) : (r && i.focus(0), i._createList(), n || !i._values.length || r || i.options.skipUpdateOnBind ? (i.bound(!0), i._highlightSelectedItems(), i._triggerListBound()) : (i._selectingValue = !0, i.bound(!0), i.value(i._values, !0).done(function () { i._selectingValue = !1, i._triggerListBound() }))), (s || "remove" === n) && (t = m(i._selectedDataItems, e.items), t.changed.length && (s ? i.trigger("selectedItemChange", { items: t.changed }) : i.value(i._getValues(t.unchanged)))), i._fetching = !1) }, removeAt: function (e) { return this._selectedIndexes.splice(e, 1), this._values.splice(e, 1), { position: e, dataItem: this._selectedDataItems.splice(e, 1)[0] } }, setValue: function (e) { this._values = n(e) }, value: function (i, s) { var r, a = this; return i === t ? a._values.slice() : (null === i && (i = []), i = n(i), a._valueDeferred && "resolved" !== a._valueDeferred.state() || (a._valueDeferred = e.Deferred()), r = "multiple" === a.options.selectable && a.select().length && i.length, !r && i.length || a.select(-1), a._values = i, (a.bound() && !a._mute && !a._deferValueSet || s) && a._prefetchByValue(i), a._valueDeferred) }, _prefetchByValue: function (e) { var i, n, r, a = this, o = a._dataView, l = a._valueGetter, u = a.options.mapValueTo, h = !1, c = []; for (n = 0; n < e.length; n++)for (r = 0; r < o.length; r++)i = o[r].item, i && (h = s(i) ? e[n] === i : e[n] === l(i), h && c.push(o[r].index)); return c.length === e.length ? (a._values = [], a.select(c), t) : ("function" == typeof a.options.valueMapper ? a.options.valueMapper({ value: "multiple" === this.options.selectable ? e : e[0], success: function (e) { "index" === u ? a.mapValueToIndex(e) : "dataItem" === u && a.mapValueToDataItem(e) } }) : a.select([-1]), t) }, mapValueToIndex: function (e) { if (e = e === t || e === -1 || null === e ? [] : n(e), e.length) { var i = this._deselect([]).removed; i.length && this._triggerChange(i, []) } else e = [-1]; this.select(e) }, mapValueToDataItem: function (i) { var s, r, a, o; if (i = i === t || null === i ? [] : n(i), i.length) { for (s = e.map(this._selectedDataItems, function (e, t) { return { index: t, dataItem: e } }), r = e.map(i, function (e, t) { return { index: t, dataItem: e } }), this._selectedDataItems = i, this._selectedIndexes = [], a = 0; a < this._selectedDataItems.length; a++)o = this._getElementByDataItem(this._selectedDataItems[a]), this._selectedIndexes.push(this._getIndecies(o)[0]), o.addClass(G); this._triggerChange(s, r), this._valueDeferred && this._valueDeferred.resolve() } else this.select([-1]) }, deferredRange: function (t) { var i = this.dataSource, n = this.itemCount, s = this._rangesList, r = e.Deferred(), a = [], o = Math.floor(t / n) * n, l = Math.ceil(t / n) * n, u = l === o ? [l] : [o, l]; return e.each(u, function (t, r) { var o, l = r + n, u = s[r]; u && u.end === l ? o = u.deferred : (o = e.Deferred(), s[r] = { end: l, deferred: o }, i._multiplePrefetch(r, n, function () { o.resolve() })), a.push(o) }), e.when.apply(e, a).then(function () { r.resolve() }), r }, prefetch: function (t) { var i = this, n = this.itemCount, s = !i._promisesList.length; return _(i._activeDeferred) || (i._activeDeferred = e.Deferred(), i._promisesList = []), e.each(t, function (e, t) { i._promisesList.push(i.deferredRange(i._getSkip(t, n))) }), s && e.when.apply(e, i._promisesList).done(function () { i._promisesList = [], i._activeDeferred.resolve() }), i._activeDeferred }, _findDataItem: function (e, t) { var i, n; if ("group" === this.options.type) for (n = 0; n < e.length; n++) { if (i = e[n].items, !(i.length <= t)) return i[t]; t -= i.length } return e[t] }, _getRange: function (e, t) { return this.dataSource._findRange(e, Math.min(e + t, this.dataSource.total())) }, dataItemByIndex: function (t) { var i = this, n = i.itemCount, s = i._getSkip(t, n), r = this._getRange(s, n); return i._getRange(s, n).length ? ("group" === i.options.type && (v.ui.progress(e(i.wrapper), !0), i.mute(function () { i.dataSource.range(s, n, function () { v.ui.progress(e(i.wrapper), !1) }), r = i.dataSource.view() })), i._findDataItem(r, [t - s])) : null }, selectedDataItems: function () { return this._selectedDataItems.slice() }, scrollWith: function (e) { this.content.scrollTop(this.content.scrollTop() + e) }, scrollTo: function (e) { this.content.scrollTop(e) }, scrollToIndex: function (e) { this.scrollTo(e * this.options.itemHeight) }, focus: function (n) { var s, r, a, o, l, u, h = this.options.itemHeight, c = this._optionID, d = !0; if (n === t) return o = this.element.find("." + L), o.length ? o : null; if ("function" == typeof n) for (a = this.dataSource.flatView(), l = 0; l < a.length; l++)if (n(a[l])) { n = l; break } return n instanceof Array && (n = i(n)), isNaN(n) ? (s = e(n), r = parseInt(e(s).attr("data-offset-index"), 10)) : (r = n, s = this._getElementByIndex(r)), r === -1 ? (this.element.find("." + L).removeClass(L), this._focusedIndex = t, t) : (s.length ? (s.hasClass(L) && (d = !1), this._focusedIndex !== t && (o = this._getElementByIndex(this._focusedIndex), o.removeClass(L).removeAttr("id"), d && this.trigger(A)), this._focusedIndex = r, s.addClass(L).attr("id", c), u = this._getElementLocation(r), "top" === u ? this.scrollTo(r * h) : "bottom" === u ? this.scrollTo(r * h + h - this._screenHeight) : "outScreen" === u && this.scrollTo(r * h), d && this.trigger(P)) : (this._focusedIndex = r, this.items().removeClass(L), this.scrollToIndex(r)), t) }, focusIndex: function () { return this._focusedIndex }, focusFirst: function () { this.scrollTo(0), this.focus(0) }, focusLast: function () { var e = this.dataSource.total(); this.scrollTo(this.heightContainer.offsetHeight), this.focus(e) }, focusPrev: function () { var e, t = this._focusedIndex; return !isNaN(t) && t > 0 ? (t -= 1, this.focus(t), e = this.focus(), e && e.hasClass("k-loading-item") && (t += 1, this.focus(t)), t) : (t = this.dataSource.total() - 1, this.focus(t), t) }, focusNext: function () { var e, t = this._focusedIndex, i = this.dataSource.total() - 1; return !isNaN(t) && t < i ? (t += 1, this.focus(t), e = this.focus(), e && e.hasClass("k-loading-item") && (t -= 1, this.focus(t)), t) : (t = 0, this.focus(t), t) }, _triggerChange: function (e, t) { e = e || [], t = t || [], (e.length || t.length) && this.trigger(F, { removed: e, added: t }) }, select: function (n) { var s, r, a, o, l, u = this, h = "multiple" !== u.options.selectable, c = _(u._activeDeferred), d = this.isFiltered(), f = []; return n === t ? u._selectedIndexes.slice() : (u._selectDeferred && "resolved" !== u._selectDeferred.state() || (u._selectDeferred = e.Deferred()), s = u._getIndecies(n), r = h && !d && i(s) === i(this._selectedIndexes), f = u._deselectCurrentValues(s), f.length || !s.length || r ? (u._triggerChange(f), u._valueDeferred && u._valueDeferred.resolve().promise(), u._selectDeferred.resolve().promise()) : (1 === s.length && s[0] === -1 && (s = []), o = u._deselect(s), f = o.removed, s = o.indices, h && (c = !1, s.length && (s = [i(s)])), l = function () { var e = u._select(s); u.focus(s), u._triggerChange(f, e), u._valueDeferred && u._valueDeferred.resolve(), u._selectDeferred.resolve() }, a = u.prefetch(s), c || (a ? a.done(l) : l()), u._selectDeferred.promise())) }, bound: function (e) { return e === t ? this._listCreated : (this._listCreated = e, t) }, mute: function (e) { this._mute = !0, y(e(), this), this._mute = !1 }, setDSFilter: function (t) { this._lastDSFilter = e.extend({}, t) }, isFiltered: function () { return this._lastDSFilter || this.setDSFilter(this.dataSource.filter()), !v.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter) }, skipUpdate: e.noop, _getElementByIndex: function (t) { return this.items().filter(function (i, n) { return t === parseInt(e(n).attr("data-offset-index"), 10) }) }, _getElementByDataItem: function (t) { var i, n, r, a = this._dataView, o = this._valueGetter; for (r = 0; r < a.length; r++)if (n = a[r].item && s(a[r].item) ? a[r].item === t : a[r].item && t && o(a[r].item) == o(t)) { i = a[r]; break } return i ? this._getElementByIndex(i.index) : e() }, _clean: function () { this.result = t, this._lastScrollTop = t, this._skip = t, e(this.heightContainer).remove(), this.heightContainer = t, this.element.empty() }, _height: function () { var e = !!this.dataSource.view().length, t = this.options.height, i = this.options.itemHeight, n = this.dataSource.total(); return e ? t / i > n && (t = n * i) : t = 0, t }, setScreenHeight: function () { var e = this._height(); this.content.height(e), this._screenHeight = e }, screenHeight: function () { return this._screenHeight }, _getElementLocation: function (e) { var t, i = this.content.scrollTop(), n = this._screenHeight, s = this.options.itemHeight, r = e * s, a = r + s, o = i + n; return t = r === i - s || a > i && r < i ? "top" : r === o || r < o && o < a ? "bottom" : r >= i && r <= i + (n - s) ? "inScreen" : "outScreen" }, _templates: function () { var e, t = this.options, i = { template: t.template, placeholderTemplate: t.placeholderTemplate, groupTemplate: t.groupTemplate, fixedGroupTemplate: t.fixedGroupTemplate }; for (e in i) "function" != typeof i[e] && (i[e] = v.template(i[e] || "")); this.templates = i }, _generateItems: function (e, t) { for (var i, n = [], s = this.options.itemHeight + "px"; t-- > 0;)i = document.createElement("li"), i.tabIndex = -1, i.className = T + " " + H, i.setAttribute("role", "option"), i.style.height = s, i.style.minHeight = s, e.appendChild(i), n.push(i); return n }, _saveInitialRanges: function () { var t, i = this.dataSource._ranges, n = e.Deferred(); for (n.resolve(), this._rangesList = {}, t = 0; t < i.length; t++)this._rangesList[i[t].start] = { end: i[t].end, deferred: n } }, _createList: function () { var t = this, i = t.content.get(0), n = t.options, s = t.dataSource; t.bound() && t._clean(), t._saveInitialRanges(), t._buildValueGetter(), t.setScreenHeight(), t.itemCount = r(t._screenHeight, n.listScreens, n.itemHeight), t.itemCount > s.total() && (t.itemCount = s.total()), t._items = t._generateItems(t.element[0], t.itemCount), t._setHeight(n.itemHeight * s.total()), t.options.type = (s.group() || []).length ? "group" : "flat", "flat" === t.options.type ? t.header.hide() : t.header.show(), t.getter = t._getter(function () { t._renderItems(!0) }), t._onScroll = function (e, i) { var n = t._listItems(t.getter); return t._fixedHeader(e, n(e, i)) }, t._renderItems = t._whenChanged(h(i, t._onScroll), c(t._reorderList(t._items, e.proxy(g, t)))), t._renderItems(), t._calculateGroupPadding(t._screenHeight) }, _setHeight: function (e) { var t, i, n = this.heightContainer; if (n ? t = n.offsetHeight : n = this.heightContainer = a(this.content[0], V), e !== t) for (n.innerHTML = ""; e > 0;)i = Math.min(e, 25e4), a(n).style.height = i + "px", e -= i }, _getter: function () { var e = null, t = this.dataSource, i = t.skip(), n = this.options.type, s = this.itemCount, r = {}; return t.pageSize() < s && this.mute(function () { t.pageSize(s) }), function (a, o) { var l, u, h, c, d, f, p, g, m = this; if (t.inRange(o, s)) { if (i !== o && this.mute(function () { t.range(o, s), i = o }), "group" === n) { if (!r[o]) for (u = r[o] = [], h = t.view(), c = 0, d = h.length; c < d; c++)for (f = h[c], p = 0, g = f.items.length; p < g; p++)u.push({ item: f.items[p], group: f.value }); l = r[o][a - o] } else l = t.view()[a - o]; return l } return e !== o && (e = o, i = o, m._getterDeferred && m._getterDeferred.reject(), m._getterDeferred = m.deferredRange(o), m._getterDeferred.then(function () { var e = m._indexConstraint(m.content[0].scrollTop); m._getterDeferred = null, o <= e && e <= o + s && (m._fetching = !0, t.range(o, s)) })), null } }, _fixedHeader: function (e, t) { var i, n, s = this.currentVisibleGroup, r = this.options.itemHeight, a = Math.floor((e - t.top) / r), o = t.items[a]; return o && o.item && (i = o.group, i !== s && (n = i || "", this.header.html(this.templates.fixedGroupTemplate(n)), this.currentVisibleGroup = i)), t }, _itemMapper: function (e, t, i) { var n, r = this.options.type, a = this.options.itemHeight, o = this._focusedIndex, l = !1, u = !1, h = !1, c = null, d = !1, f = this._valueGetter; if ("group" === r && (e && (h = 0 === t || this._currentGroup && this._currentGroup !== e.group, this._currentGroup = e.group), c = e ? e.group : null, e = e ? e.item : null), !this.isFiltered() && i.length && e) for (n = 0; n < i.length; n++)if (d = s(e) ? i[n] === e : i[n] === f(e)) { i.splice(n, 1), l = !0; break } return o === t && (u = !0), { item: e ? e : null, group: c, newGroup: h, selected: l, current: u, index: t, top: t * a } }, _range: function (e) { var t, i, n, s = this.itemCount, r = this._values.slice(), a = []; for (this._view = {}, this._currentGroup = null, i = e, n = e + s; i < n; i++)t = this._itemMapper(this.getter(i, e), i, r), a.push(t), this._view[t.index] = t; return this._dataView = a, a }, _getDataItemsCollection: function (e, t) { var i = this._range(this._listIndex(e, t)); return { index: i.length ? i[0].index : 0, top: i.length ? i[0].top : 0, items: i } }, _listItems: function () { var t = this._screenHeight, i = this.options, n = u(i, t); return e.proxy(function (e, t) { var i = this.result, s = this._lastScrollTop; return !t && i && n(i, e, s) || (i = this._getDataItemsCollection(e, s)), this._lastScrollTop = e, this.result = i, i }, this) }, _whenChanged: function (e, t) { var i; return function (n) { var s = e(n); s !== i && (i = s, t(s, n)) } }, _reorderList: function (t, i) { var n = this, s = t.length, r = -(1 / 0); return i = e.proxy(f(i, this.templates), this), function (e, a, o) { var l, u, h = a - r; o || Math.abs(h) >= s ? (l = t, u = e) : (l = p(t, h), u = h > 0 ? e.slice(-h) : e.slice(0, -h)), i(l, u, n.bound()), r = a } }, _bufferSizes: function () { var e = this.options; return l(this._screenHeight, e.listScreens, e.oppositeBuffer) }, _indexConstraint: function (e) { var t = this.itemCount, i = this.options.itemHeight, n = this.dataSource.total(); return Math.min(Math.max(n - t, 0), Math.max(0, Math.floor(e / i))) }, _listIndex: function (e, t) { var i, n = this._bufferSizes(); return i = e - (e > t ? n.down : n.up), this._indexConstraint(i) }, _selectable: function () { this.options.selectable && (this._selectProxy = e.proxy(this, "_clickHandler"), this.element.on(M + z, "." + T, this._selectProxy)) }, getElementIndex: function (e) { return e instanceof jQuery ? parseInt(e.attr("data-offset-index"), 10) : t }, _getIndecies: function (e) { var t, i, n, s = []; if ("function" == typeof e) for (t = this.dataSource.flatView(), i = 0; i < t.length; i++)if (e(t[i])) { s.push(i); break } return "number" == typeof e && s.push(e), n = this.getElementIndex(e), isNaN(n) || s.push(n), e instanceof Array && (s = e), s }, _deselect: function (i) { var n, r, a, o, l, u, h, c = [], d = this._selectedIndexes, f = this._selectedDataItems, p = 0, g = this.options.selectable, m = 0, _ = this._valueGetter, v = null; if (i = i.slice(), g !== !0 && i.length) { if ("multiple" === g) for (u = 0; u < i.length; u++) { if (v = null, p = e.inArray(i[u], d), r = this.dataItemByIndex(i[u]), p === -1 && r) for (h = 0; h < f.length; h++)o = s(r) ? f[h] === r : _(f[h]) === _(r), o && (a = this._getElementByIndex(i[u]), v = this._deselectSingleItem(a, h, i[u], m)); else n = d[p], n !== t && (a = this._getElementByIndex(n), v = this._deselectSingleItem(a, p, n, m)); v && (i.splice(u, 1), c.push(v), m++ , u--) } } else { for (l = 0; l < d.length; l++)d[l] !== t ? this._getElementByIndex(d[l]).removeClass(G) : f[l] && this._getElementByDataItem(f[l]).removeClass(G), c.push({ index: d[l], position: l, dataItem: f[l] }); this._values = [], this._selectedDataItems = [], this._selectedIndexes = [] } return { indices: i, removed: c } }, _deselectSingleItem: function (e, t, i, n) { var s; if (e.hasClass("k-state-selected")) return e.removeClass(G), this._values.splice(t, 1), this._selectedIndexes.splice(t, 1), s = this._selectedDataItems.splice(t, 1)[0], { index: i, position: t + n, dataItem: s } }, _deselectCurrentValues: function (t) { var i, n, s, r, a = this.element[0].children, o = this._values, l = [], u = 0; if ("multiple" !== this.options.selectable || !this.isFiltered()) return []; if (t[0] === -1) return e(a).removeClass("k-state-selected"), l = e.map(this._selectedDataItems.slice(0), function (e, t) { return { dataItem: e, position: t } }), this._selectedIndexes = [], this._selectedDataItems = [], this._values = [], l; for (; u < t.length; u++) { for (s = -1, n = t[u], this.dataItemByIndex(n) && (i = this._valueGetter(this.dataItemByIndex(n))), r = 0; r < o.length; r++)if (i == o[r]) { s = r; break } s > -1 && (l.push(this.removeAt(s)), e(a[n]).removeClass("k-state-selected")) } return l }, _getSkip: function (e, t) { var i = e < t ? 1 : Math.floor(e / t) + 1; return (i - 1) * t }, _select: function (t) { var i, n, r = this, a = "multiple" !== this.options.selectable, o = this.dataSource, l = this.itemCount, u = this._valueGetter, h = []; return a && (r._selectedIndexes = [], r._selectedDataItems = [], r._values = []), n = o.skip(), e.each(t, function (e, t) { var a = r._getSkip(t, l); r.mute(function () { o.range(a, l), i = r._findDataItem(o.view(), [t - a]), r._selectedIndexes.push(t), r._selectedDataItems.push(i), r._values.push(s(i) ? i : u(i)), h.push({ index: t, dataItem: i }), r._getElementByIndex(t).addClass(G), o.range(n, l) }) }), h }, _clickHandler: function (t) { var i = e(t.currentTarget); !t.isDefaultPrevented() && i.attr("data-uid") && this.trigger(M, { item: i }) }, _buildValueGetter: function () { this._valueGetter = v.getter(this.options.dataValueField) }, _calculateGroupPadding: function (e) { var t = this.items().first(), i = this.header, n = 0; i[0] && "none" !== i[0].style.display && ("auto" !== e && (n = v.support.scrollbar()), n += parseFloat(t.css("border-right-width"), 10) + parseFloat(t.children(".k-group").css("right"), 10), i.css("padding-right", n)) } }); v.ui.VirtualList = j, v.ui.plugin(j) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.list.min", ["kendo.data.min"], e) }(function () { return function (e, t) { function i(e, i) { return e !== t && "" !== e && null !== e && ("boolean" === i ? e = !!e : "number" === i ? e = +e : "string" === i && (e = "" + e)), e } function a(e) { return e[e.length - 1] } function n(e) { var t = e.selectedIndex; return t > -1 ? e.options[t] : {} } function s(e, t) { var i, a, n, s, r = t.length, l = e.length, o = [], u = []; if (l) for (n = 0; n < l; n++) { for (i = e[n], a = !1, s = 0; s < r; s++)if (i === t[s]) { a = !0, o.push({ index: n, item: i }); break } a || u.push(i) } return { changed: o, unchanged: u } } function r(t) { return !(!t || e.isEmptyObject(t)) && !(t.filters && !t.filters.length) } function l(t, i) { var a, n = !1; return t.filters && (a = e.grep(t.filters, function (e) { return n = l(e, i), e.filters ? e.filters.length : e.field != i }), n || t.filters.length === a.length || (n = !0), t.filters = a), n } var o, u, c = window.kendo, d = c.ui, h = c._outerHeight, f = d.Widget, _ = c.keys, p = c.support, g = c.htmlEncode, v = c._activeElement, m = c._outerWidth, b = c.data.ObservableArray, x = "id", I = "change", S = "k-state-focused", w = "k-state-hover", y = "k-i-loading", T = ".k-group-header", V = "_label", F = "open", k = "close", D = "cascade", C = "select", H = "selected", B = "requestStart", E = "requestEnd", P = e.extend, L = e.proxy, W = e.isArray, q = p.browser, A = "k-hidden", G = "width", O = q.msie, N = O && q.version < 9, R = /"/g, U = { ComboBox: "DropDownList", DropDownList: "ComboBox" }, M = c.ui.DataBoundWidget.extend({ init: function (t, i) { var a, n = this, s = n.ns; f.fn.init.call(n, t, i), t = n.element, i = n.options, n._isSelect = t.is(C), n._isSelect && n.element[0].length && (i.dataSource || (i.dataTextField = i.dataTextField || "text", i.dataValueField = i.dataValueField || "value")), n.ul = e('<ul unselectable="on" class="k-list k-reset"/>').attr({ tabIndex: -1, "aria-hidden": !0 }), n.list = e("<div class='k-list-container'/>").append(n.ul).on("mousedown" + s, L(n._listMousedown, n)), a = t.attr(x), a && (n.list.attr(x, a + "-list"), n.ul.attr(x, a + "_listbox")), n._header(), n._noData(), n._footer(), n._accessors(), n._initValue() }, options: { valuePrimitive: !1, footerTemplate: "", headerTemplate: "", noDataTemplate: "No data found." }, setOptions: function (e) { f.fn.setOptions.call(this, e), e && e.enable !== t && (e.enabled = e.enable), this._header(), this._noData(), this._footer(), this._renderFooter(), this._renderNoData() }, focus: function () { this._focused.focus() }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, _header: function () { var i, a = this, n = e(a.header), s = a.options.headerTemplate; return this._angularElement(n, "cleanup"), c.destroy(n), n.remove(), s ? (i = "function" != typeof s ? c.template(s) : s, n = e(i({})), a.header = n[0] ? n : null, a.list.prepend(n), this._angularElement(a.header, "compile"), t) : (a.header = null, t) }, _noData: function () { var i = this, a = e(i.noData), n = i.options.noDataTemplate; return i.angular("cleanup", function () { return { elements: a } }), c.destroy(a), a.remove(), n ? (i.noData = e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(i.list), i.noDataTemplate = "function" != typeof n ? c.template(n) : n, t) : (i.noData = null, t) }, _footer: function () { var i = this, a = e(i.footer), n = i.options.footerTemplate; return this._angularElement(a, "cleanup"), c.destroy(a), a.remove(), n ? (i.footer = e('<div class="k-footer"></div>').appendTo(i.list), i.footerTemplate = "function" != typeof n ? c.template(n) : n, t) : (i.footer = null, t) }, _listOptions: function (t) { var i = this, a = i.options, n = a.virtual, s = { change: L(i._listChange, i) }, r = L(i._listBound, i); return n = "object" == typeof n ? n : {}, t = e.extend({ autoBind: !1, selectable: !0, dataSource: i.dataSource, click: L(i._click, i), activate: L(i._activateItem, i), deactivate: L(i._deactivateItem, i), dataBinding: function () { i.trigger("dataBinding") }, dataBound: r, height: a.height, dataValueField: a.dataValueField, dataTextField: a.dataTextField, groupTemplate: a.groupTemplate, fixedGroupTemplate: a.fixedGroupTemplate, template: a.template }, t, n, s), t.template || (t.template = "#:" + c.expr(t.dataTextField, "data") + "#"), a.$angular && (t.$angular = a.$angular), t }, _initList: function () { var e = this, t = e._listOptions({ selectedItemChange: L(e._listChange, e) }); e.listView = e.options.virtual ? new c.ui.VirtualList(e.ul, t) : new c.ui.StaticList(e.ul, t), e.listView.bind("listBound", L(e._listBound, e)), e._setListValue() }, _setListValue: function (e) { e = e || this.options.value, e !== t && this.listView.value(e).done(L(this._updateSelectionState, this)) }, _updateSelectionState: e.noop, _listMousedown: function (e) { this.filterInput && this.filterInput[0] === e.target || e.preventDefault() }, _isFilterEnabled: function () { var e = this.options.filter; return e && "none" !== e }, _hideClear: function () { var e = this; e._clear && e._clear.addClass(A) }, _showClear: function () { this._clear && this._clear.removeClass(A) }, _clearValue: function () { this._clearText(), this._accessor(""), this.listView.value([]), this._isFilterEnabled() && !this.options.enforceMinLength && this._filter({ word: "", open: !1 }), this._change() }, _clearText: function () { this.text("") }, _clearFilter: function () { this.options.virtual || this.listView.bound(!1), this._filterSource() }, _filterSource: function (t, i) { var a, n, s = this, o = s.options, u = s.dataSource, c = P({}, u.filter() || {}), d = t || c.filters && c.filters.length && !t, h = l(c, o.dataTextField); if (!t && !h || !s.trigger("filtering", { filter: t })) return a = { filters: [], logic: "and" }, r(t) && e.trim(t.value).length && a.filters.push(t), r(c) && (a.logic === c.logic ? a.filters = a.filters.concat(c.filters) : a.filters.push(c)), s._cascading && this.listView.setDSFilter(a), n = P({}, { page: d ? 1 : u.page(), pageSize: d ? u.options.pageSize : u.pageSize(), sort: u.sort(), filter: u.filter(), group: u.group(), aggregate: u.aggregate() }, { filter: a }), u[i ? "read" : "query"](u._mergeState(n)) }, _angularElement: function (e, t) { e && this.angular(t, function () { return { elements: e } }) }, _renderNoData: function () { var e = this, t = e.noData; t && (this._angularElement(t, "cleanup"), t.children(":first").html(e.noDataTemplate({ instance: e })), this._angularElement(t, "compile")) }, _toggleNoData: function (t) { e(this.noData).toggle(t) }, _toggleHeader: function (e) { var t = this.listView.content.prev(T); t.toggle(e) }, _renderFooter: function () { var e = this, t = e.footer; t && (this._angularElement(t, "cleanup"), t.html(e.footerTemplate({ instance: e })), this._angularElement(t, "compile")) }, _allowOpening: function () { return this.options.noDataTemplate || this.dataSource.flatView().length }, _initValue: function () { var e = this, t = e.options.value; null !== t ? e.element.val(t) : (t = e._accessor(), e.options.value = t), e._old = t }, _ignoreCase: function () { var e, t = this, i = t.dataSource.reader.model; i && i.fields && (e = i.fields[t.options.dataTextField], e && e.type && "string" !== e.type && (t.options.ignoreCase = !1)) }, _focus: function (e) { return this.listView.focus(e) }, _filter: function (e) { var t = this, i = t.options, a = i.ignoreCase, n = i.dataTextField, s = { value: a ? e.word.toLowerCase() : e.word, field: n, operator: i.filter, ignoreCase: a }; t._open = e.open, t._filterSource(s) }, _clearButton: function () { var t = this, i = t.options.messages && t.options.messages.clear ? t.options.messages.clear : "clear"; t._clear || (t._clear = e('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="' + i + '"></span>').attr({ role: "button", tabIndex: -1 })), t.options.clearButton || t._clear.remove() }, search: function (t) { var i = this.options; t = "string" == typeof t ? t : this._inputValue(), clearTimeout(this._typingTimeout), (!i.enforceMinLength && !t.length || t.length >= i.minLength) && (this._state = "filter", this._isFilterEnabled() ? (this.listView._emptySearch = !e.trim(t).length || !this.listView, this._filter({ word: t, open: !0 })) : this._searchByWord(t)) }, current: function (e) { return this._focus(e) }, items: function () { return this.ul[0].children }, destroy: function () { var e = this, t = e.ns; f.fn.destroy.call(e), e._unbindDataSource(), e.listView.destroy(), e.list.off(t), e.popup.destroy(), e._form && e._form.off("reset", e._resetHandler) }, dataItem: function (i) { var a = this; if (i === t) return a.listView.selectedDataItems()[0]; if ("number" != typeof i) { if (a.options.virtual) return a.dataSource.getByUid(e(i).data("uid")); i = e(a.items()).index(i) } return a.dataSource.flatView()[i] }, _activateItem: function () { var e = this.listView.focus(); e && this._focused.add(this.filterInput).attr("aria-activedescendant", e.attr("id")) }, _deactivateItem: function () { this._focused.add(this.filterInput).removeAttr("aria-activedescendant") }, _accessors: function () { var e = this, t = e.element, i = e.options, a = c.getter, n = t.attr(c.attr("text-field")), s = t.attr(c.attr("value-field")); !i.dataTextField && n && (i.dataTextField = n), !i.dataValueField && s && (i.dataValueField = s), e._text = a(i.dataTextField), e._value = a(i.dataValueField) }, _aria: function (e) { var i = this, a = i.options, n = i._focused.add(i.filterInput); a.suggest !== t && n.attr("aria-autocomplete", a.suggest ? "both" : "list"), e = e ? e + " " + i.ul[0].id : i.ul[0].id, n.attr("aria-owns", e), i.ul.attr("aria-live", i._isFilterEnabled() ? "polite" : "off"), i._ariaLabel() }, _ariaLabel: function () { var t, i = this, a = i._focused, n = i.element, s = n.attr("id"), r = e('label[for="' + s + '"]'), l = n.attr("aria-label"), o = n.attr("aria-labelledby"); a !== n && (l ? a.attr("aria-label", l) : o ? a.attr("aria-labelledby", o) : r.length && (t = r.attr("id") || i._generateLabelId(r, s), a.attr("aria-labelledby", t))) }, _generateLabelId: function (e, t) { var i = t + V; return e.attr("id", i), i }, _blur: function () { var e = this; e._change(), e.close() }, _change: function () { var e, a = this, n = a.selectedIndex, s = a.options.value, r = a.value(); a._isSelect && !a.listView.bound() && s && (r = s), r !== i(a._old, typeof r) ? e = !0 : a._valueBeforeCascade !== t && a._valueBeforeCascade !== i(a._old, typeof a._valueBeforeCascade) && a._userTriggered ? e = !0 : n === t || n === a._oldIndex || a.listView.isFiltered() || (e = !0), e && (a._valueBeforeCascade = a._old = null === a._old || "" === r ? r : a.dataItem() ? a.dataItem()[a.options.dataValueField] || a.dataItem() : null, a._oldIndex = n, a._typing || a.element.trigger(I), a.trigger(I)), a.typing = !1 }, _data: function () { return this.dataSource.view() }, _enable: function () { var e = this, i = e.options, a = e.element.is("[disabled]"); i.enable !== t && (i.enabled = i.enable), !i.enabled || a ? e.enable(!1) : e.readonly(e.element.is("[readonly]")) }, _dataValue: function (e) { var i = this._value(e); return i === t && (i = this._text(e)), i }, _offsetHeight: function () { var t = 0, i = this.listView.content.prevAll(":visible"); return i.each(function () { var i = e(this); t += h(i, !0) }), t }, _height: function (i) { var a, n, s, r = this, l = r.list, o = r.options.height, u = r.popup.visible(); if (i || r.options.noDataTemplate) { if (n = l.add(l.parent(".k-animation-container")).show(), !l.is(":visible")) return n.hide(), t; o = r.listView.content[0].scrollHeight > o ? o : "auto", n.height(o), "auto" !== o && (a = r._offsetHeight(), s = h(e(r.footer)) || 0, o = o - a - s), r.listView.content.height(o), u || n.hide() } return o }, _openHandler: function (e) { this._adjustListWidth(), this.trigger(F) ? e.preventDefault() : (this._focused.attr("aria-expanded", !0), this.ul.attr("aria-hidden", !1)) }, _adjustListWidth: function () { var e, t, i = this, a = i.list, n = a[0].style.width, s = i.wrapper; if (a.data(G) || !n) return e = window.getComputedStyle ? window.getComputedStyle(s[0], null) : 0, t = parseFloat(e && e.width) || m(s), e && q.msie && (t += parseFloat(e.paddingLeft) + parseFloat(e.paddingRight) + parseFloat(e.borderLeftWidth) + parseFloat(e.borderRightWidth)), n = "border-box" !== a.css("box-sizing") ? t - (m(a) - a.width()) : t, a.css({ fontFamily: s.css("font-family"), width: i.options.autoWidth ? "auto" : n, minWidth: n, whiteSpace: i.options.autoWidth ? "nowrap" : "normal" }).data(G, n), !0 }, _closeHandler: function (e) { this.trigger(k) ? e.preventDefault() : (this._focused.attr("aria-expanded", !1), this.ul.attr("aria-hidden", !0)) }, _focusItem: function () { var e = this.listView, i = !e.focus(), n = a(e.select()); n === t && this.options.highlightFirst && i && (n = 0), n !== t ? e.focus(n) : i && e.scrollToIndex(0) }, _calculateGroupPadding: function (e) { var t = this.ul.children(".k-first:first"), i = this.listView.content.prev(T), a = 0; i[0] && "none" !== i[0].style.display && ("auto" !== e && (a = c.support.scrollbar()), a += parseFloat(t.css("border-right-width"), 10) + parseFloat(t.children(".k-group").css("padding-right"), 10), i.css("padding-right", a)) }, _calculatePopupHeight: function (e) { var t = this._height(this.dataSource.flatView().length || e); this._calculateGroupPadding(t) }, _resizePopup: function (e) { this.options.virtual || (this.popup.element.is(":visible") ? this._calculatePopupHeight(e) : this.popup.one("open", function (e) { return L(function () { this._calculatePopupHeight(e) }, this) }.call(this, e))) }, _popup: function () { var e = this; e.popup = new d.Popup(e.list, P({}, e.options.popup, { anchor: e.wrapper, open: L(e._openHandler, e), close: L(e._closeHandler, e), animation: e.options.animation, isRtl: p.isRtl(e.wrapper), autosize: e.options.autoWidth })) }, _makeUnselectable: function () { N && this.list.find("*").not(".k-textbox").attr("unselectable", "on") }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(w, "mouseenter" === t.type) }, _toggle: function (e, i) { var a = this, n = p.mobileOS && (p.touch || p.MSPointers || p.pointers); e = e !== t ? e : !a.popup.visible(), i || n || a._focused[0] === v() || (a._prevent = !0, a._focused.focus(), a._prevent = !1), a[e ? F : k]() }, _triggerCascade: function () { var e = this; e._cascadeTriggered && e.value() === i(e._cascadedValue, typeof e.value()) || (e._cascadedValue = e.value(), e._cascadeTriggered = !0, e.trigger(D, { userTriggered: e._userTriggered })) }, _triggerChange: function () { this._valueBeforeCascade !== this.value() && this.trigger(I) }, _unbindDataSource: function () { var e = this; e.dataSource.unbind(B, e._requestStartHandler).unbind(E, e._requestEndHandler).unbind("error", e._errorHandler) }, requireValueMapper: function (e, t) { var i = (e.value instanceof Array ? e.value.length : e.value) || (t instanceof Array ? t.length : t); if (i && e.virtual && "function" != typeof e.virtual.valueMapper) throw Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function") } }); P(M, { inArray: function (e, t) { var i, a, n = t.children; if (!e || e.parentNode !== t) return -1; for (i = 0, a = n.length; i < a; i++)if (e === n[i]) return i; return -1 }, unifyType: i }), c.ui.List = M, d.Select = M.extend({ init: function (e, t) { M.fn.init.call(this, e, t), this._initial = this.element.val() }, setDataSource: function (e) { var t, i = this; i.options.dataSource = e, i._dataSource(), i.listView.bound() && (i._initialIndex = null, i.listView._current = null), i.listView.setDataSource(i.dataSource), i.options.autoBind && i.dataSource.fetch(), t = i._parentWidget(), t && i._cascadeSelect(t) }, close: function () { this.popup.close() }, select: function (e) { var i = this; return e === t ? i.selectedIndex : i._select(e).done(function () { i._cascadeValue = i._old = i._accessor(), i._oldIndex = i.selectedIndex }) }, _accessor: function (e, t) { return this[this._isSelect ? "_accessorSelect" : "_accessorInput"](e, t) }, _accessorInput: function (e) { var i = this.element[0]; return e === t ? i.value : (null === e && (e = ""), i.value = e, t) }, _accessorSelect: function (e, i) { var a, s = this.element[0]; return e === t ? n(s).value || "" : (n(s).selected = !1, i === t && (i = -1), a = null !== e && "" !== e, a && i == -1 ? this._custom(e) : e ? s.value = e : s.selectedIndex = i, t) }, _syncValueAndText: function () { return !0 }, _custom: function (t) { var i = this, a = i.element, n = i._customOption; n || (n = e("<option/>"), i._customOption = n, a.append(n)), n.text(t), n[0].selected = !0 }, _hideBusy: function () { var e = this; clearTimeout(e._busy), e._arrowIcon.removeClass(y), e._focused.attr("aria-busy", !1), e._busy = null, e._showClear() }, _showBusy: function (e) { var t = this; e.isDefaultPrevented() || (t._request = !0, t._busy || (t._busy = setTimeout(function () { t._arrowIcon && (t._focused.attr("aria-busy", !0), t._arrowIcon.addClass(y), t._hideClear()) }, 100))) }, _requestEnd: function () { this._request = !1, this._hideBusy() }, _dataSource: function () { var t, i = this, a = i.element, n = i.options, s = n.dataSource || {}; s = e.isArray(s) ? { data: s } : s, i._isSelect && (t = a[0].selectedIndex, t > -1 && (n.index = t), s.select = a, s.fields = [{ field: n.dataTextField }, { field: n.dataValueField }]), i.dataSource ? i._unbindDataSource() : (i._requestStartHandler = L(i._showBusy, i), i._requestEndHandler = L(i._requestEnd, i), i._errorHandler = L(i._hideBusy, i)), i.dataSource = c.data.DataSource.create(s).bind(B, i._requestStartHandler).bind(E, i._requestEndHandler).bind("error", i._errorHandler) }, _firstItem: function () { this.listView.focusFirst() }, _lastItem: function () { this.listView.focusLast() }, _nextItem: function () { this.listView.focusNext() }, _prevItem: function () { this.listView.focusPrev() }, _move: function (e) { var i, a, n, s, r, l, o = this, u = o.listView, c = e.keyCode, d = c === _.DOWN; if (c === _.UP || d) { if (e.altKey) o.toggle(d); else { if (!u.bound() && !o.ul[0].firstChild) return o._fetch || (o.dataSource.one(I, function () { o._fetch = !1, o._move(e) }), o._fetch = !0, o._filterSource()), e.preventDefault(), !0; if (n = o._focus(), o._fetch || n && !n.hasClass("k-state-selected") || (d ? (o._nextItem(), o._focus() || o._lastItem()) : (o._prevItem(), o._focus() || o._firstItem())), i = u.dataItemByIndex(u.getElementIndex(o._focus())), o.trigger(C, { dataItem: i, item: o._focus() })) return o._focus(n), t; o._select(o._focus(), !0).done(function () { o.popup.visible() || o._blur(), o._cascadedValue = null === o._cascadedValue ? o.value() : o.dataItem() ? o.dataItem()[o.options.dataValueField] || o.dataItem() : null }) } e.preventDefault(), a = !0 } else if (c === _.ENTER || c === _.TAB) { if (o.popup.visible() && e.preventDefault(), n = o._focus(), i = o.dataItem(), o.popup.visible() || i && o.text() === o._text(i) || (n = null), s = o.filterInput && o.filterInput[0] === v(), n) { if (i = u.dataItemByIndex(u.getElementIndex(n)), r = !0, i && (r = o._value(i) !== M.unifyType(o.value(), typeof o._value(i))), r && o.trigger(C, { dataItem: i, item: n })) return; o._select(n) } else o.input && ((o._syncValueAndText() || o._isSelect) && o._accessor(o.input.val()), o.listView.value(o.input.val())); o._focusElement && o._focusElement(o.wrapper), s && c === _.TAB ? o.wrapper.focusout() : o._blur(), o.close(), a = !0 } else c === _.ESC ? (o.popup.visible() && e.preventDefault(), o.close(), a = !0) : !o.popup.visible() || c !== _.PAGEDOWN && c !== _.PAGEUP || (e.preventDefault(), l = c === _.PAGEDOWN ? 1 : -1, u.scrollWith(l * u.screenHeight()), a = !0); return a }, _fetchData: function () { var e = this, t = !!e.dataSource.view().length; e._request || e.options.cascadeFrom || e.listView.bound() || e._fetch || t || (e._fetch = !0, e.dataSource.fetch().done(function () { e._fetch = !1 })) }, _options: function (e, i, a) { var s, r, l, o, u = this, c = u.element, d = c[0], h = e.length, f = "", _ = 0; for (i && (f = i); _ < h; _++)s = "<option", r = e[_], l = u._text(r), o = u._value(r), o !== t && (o += "", o.indexOf('"') !== -1 && (o = o.replace(R, "&quot;")), s += ' value="' + o + '"'), s += ">", l !== t && (s += g(l)), s += "</option>", f += s; c.html(f), a !== t && (d.value = a, d.value && !a && (d.selectedIndex = -1)), d.selectedIndex !== -1 && (s = n(d), s && s.setAttribute(H, H)) }, _reset: function () { var t = this, i = t.element, a = i.attr("form"), n = a ? e("#" + a) : i.closest("form"); n[0] && (t._resetHandler = function () { setTimeout(function () { t.value(t._initial) }) }, t._form = n.on("reset", t._resetHandler)) }, _parentWidget: function () { var t, i, a = this.options.name; if (this.options.cascadeFrom) return t = e("#" + this.options.cascadeFrom), i = t.data("kendo" + a), i || (i = t.data("kendo" + U[a])), i }, _cascade: function () { var e, t = this, i = t.options, a = i.cascadeFrom; if (a) { if (e = t._parentWidget(), !e) return; t._cascadeHandlerProxy = L(t._cascadeHandler, t), t._cascadeFilterRequests = [], i.autoBind = !1, e.bind("set", function () { t.one("set", function (e) { t._selectedValue = e.value || t._accessor() }) }), e.first(D, t._cascadeHandlerProxy), e.listView.bound() ? (t._toggleCascadeOnFocus(), t._cascadeSelect(e)) : (e.one("dataBound", function () { t._toggleCascadeOnFocus(), e.popup.visible() && e._focused.focus() }), e.value() || t.enable(!1)) } }, _toggleCascadeOnFocus: function () { var e = this, t = e._parentWidget(), i = O ? "blur" : "focusout"; t._focused.add(t.filterInput).bind("focus", function () { t.unbind(D, e._cascadeHandlerProxy), t.first(I, e._cascadeHandlerProxy) }), t._focused.add(t.filterInput).bind(i, function () { t.unbind(I, e._cascadeHandlerProxy), t.first(D, e._cascadeHandlerProxy) }) }, _cascadeHandler: function (e) { var t = this._parentWidget(), i = this.value(); this._userTriggered = e.userTriggered, this.listView.bound() && this._clearSelection(t, !0), this._cascadeSelect(t, i) }, _cascadeChange: function (e) { var t = this, i = t._accessor() || t._selectedValue; t._cascadeFilterRequests.length || (t._selectedValue = null), t._userTriggered ? t._clearSelection(e, !0) : i ? (i !== t.listView.value()[0] && t.value(i), t.dataSource.view()[0] && t.selectedIndex !== -1 || t._clearSelection(e, !0)) : t.dataSource.flatView().length && t.select(t.options.index), t.enable(), t._triggerCascade(), t._triggerChange(), t._userTriggered = !1 }, _cascadeSelect: function (e, i) { var a, n, s = this, r = e.dataItem(), o = r ? e._value(r) : null, u = s.options.cascadeFromField || e.options.dataValueField; s._valueBeforeCascade = i !== t ? i : s.value(), o || 0 === o ? (a = s.dataSource.filter() || {}, l(a, u), n = function () { var t = s._cascadeFilterRequests.shift(); t && s.unbind("dataBound", t), t = s._cascadeFilterRequests[0], t && s.first("dataBound", t), s._cascadeChange(e) }, s._cascadeFilterRequests.push(n), 1 === s._cascadeFilterRequests.length && s.first("dataBound", n), s._cascading = !0, s._filterSource({ field: u, operator: "eq", value: o }), s._cascading = !1) : (s.enable(!1), s._clearSelection(e), s._triggerCascade(), s._triggerChange(), s._userTriggered = !1) } }), o = ".StaticList", u = c.ui.DataBoundWidget.extend({ init: function (t, i) { f.fn.init.call(this, t, i), this.element.attr("role", "listbox").on("click" + o, "li", L(this._click, this)).on("mouseenter" + o, "li", function () { e(this).addClass(w) }).on("mouseleave" + o, "li", function () { e(this).removeClass(w) }), "multiple" === this.options.selectable && this.element.attr("aria-multiselectable", !0), this.content = this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(), this.header = this.content.before('<div class="k-group-header" style="display:none"></div>').prev(), this.bound(!1), this._optionID = c.guid(), this._selectedIndices = [], this._view = [], this._dataItems = [], this._values = []; var a = this.options.value; a && (this._values = e.isArray(a) ? a.slice(0) : [a]), this._getter(), this._templates(), this.setDataSource(this.options.dataSource), this._onScroll = L(function () { var e = this; clearTimeout(e._scrollId), e._scrollId = setTimeout(function () { e._renderHeader() }, 50) }, this) }, options: { name: "StaticList", dataValueField: null, valuePrimitive: !1, selectable: !0, template: null, groupTemplate: null, fixedGroupTemplate: null }, events: ["click", I, "activate", "deactivate", "dataBinding", "dataBound", "selectedItemChange"], setDataSource: function (t) { var i, a = this, n = t || {}; n = e.isArray(n) ? { data: n } : n, n = c.data.DataSource.create(n), a.dataSource ? (a.dataSource.unbind(I, a._refreshHandler), i = a.value(), a.value([]), a.bound(!1), a.value(i)) : a._refreshHandler = L(a.refresh, a), a.setDSFilter(n.filter()), a.dataSource = n.bind(I, a._refreshHandler), a._fixedHeader() }, skip: function () { return this.dataSource.skip() }, setOptions: function (e) { f.fn.setOptions.call(this, e), this._getter(), this._templates(), this._render() }, destroy: function () { this.element.off(o), this._refreshHandler && this.dataSource.unbind(I, this._refreshHandler), clearTimeout(this._scrollId), f.fn.destroy.call(this) }, dataItemByIndex: function (e) { return this.dataSource.flatView()[e] }, screenHeight: function () { return this.content[0].clientHeight }, scrollToIndex: function (e) { var t = this.element[0].children[e]; t && this.scroll(t) }, scrollWith: function (e) { this.content.scrollTop(this.content.scrollTop() + e) }, scroll: function (e) { if (e) { e[0] && (e = e[0]); var t = this.content[0], i = e.offsetTop, a = e.offsetHeight, n = t.scrollTop, s = t.clientHeight, r = i + a; n > i ? n = i : r > n + s && (n = r - s), t.scrollTop = n } }, selectedDataItems: function (e) { return e === t ? this._dataItems.slice() : (this._dataItems = e, this._values = this._getValues(e), t) }, _getValues: function (t) { var i = this._valueGetter; return e.map(t, function (e) { return i(e) }) }, focusNext: function () { var e = this.focus(); e = e ? e.next() : 0, this.focus(e) }, focusPrev: function () { var e = this.focus(); e = e ? e.prev() : this.element[0].children.length - 1, this.focus(e) }, focusFirst: function () { this.focus(this.element[0].children[0]) }, focusLast: function () { this.focus(a(this.element[0].children)) }, focus: function (i) { var n, s = this, r = s._optionID; return i === t ? s._current : (i = a(s._get(i)), i = e(this.element[0].children[i]), s._current && (s._current.removeClass(S).removeAttr(x), s.trigger("deactivate")), n = !!i[0], n && (i.addClass(S), s.scroll(i), i.attr("id", r)), s._current = n ? i : null, s.trigger("activate"), t) }, focusIndex: function () { return this.focus() ? this.focus().index() : t }, skipUpdate: function (e) { this._skipUpdate = e }, select: function (i) { var n, s, r, l = this, o = l.options.selectable, u = "multiple" !== o && o !== !1, c = l._selectedIndices, d = [], h = []; return i === t ? c.slice() : (i = l._get(i), 1 === i.length && i[0] === -1 && (i = []), s = e.Deferred().resolve(), r = l.isFiltered(), r && !u && l._deselectFiltered(i) ? s : u && !r && e.inArray(a(i), c) !== -1 ? (l._dataItems.length && l._view.length && (l._dataItems = [l._view[c[0]].item]), s) : (n = l._deselect(i), h = n.removed, i = n.indices, i.length && (u && (i = [a(i)]), d = l._select(i)), (d.length || h.length) && (l._valueComparer = null, l.trigger(I, { added: d, removed: h })), s)) }, removeAt: function (e) { return this._selectedIndices.splice(e, 1), this._values.splice(e, 1), this._valueComparer = null, { position: e, dataItem: this._dataItems.splice(e, 1)[0] } }, setValue: function (t) { t = e.isArray(t) || t instanceof b ? t.slice(0) : [t], this._values = t, this._valueComparer = null }, value: function (i) { var a, n = this, s = n._valueDeferred; return i === t ? n._values.slice() : (n.setValue(i), s && "resolved" !== s.state() || (n._valueDeferred = s = e.Deferred()), n.bound() && (a = n._valueIndices(n._values), "multiple" === n.options.selectable && n.select(-1), n.select(a), s.resolve()), n._skipUpdate = !1, s) }, items: function () { return this.element.children(".k-item") }, _click: function (t) { t.isDefaultPrevented() || this.trigger("click", { item: e(t.currentTarget) }) || this.select(t.currentTarget) }, _valueExpr: function (e, t) { var a, n, s = this, r = 0, l = []; if (!s._valueComparer || s._valueType !== e) { for (s._valueType = e; r < t.length; r++)l.push(i(t[r], e)); a = "for (var idx = 0; idx < " + l.length + "; idx++) { if (current === values[idx]) {   return idx; }} return -1;", n = Function("current", "values", a), s._valueComparer = function (e) { return n(e, l) } } return s._valueComparer }, _dataItemPosition: function (e, t) { var i = this._valueGetter(e), a = this._valueExpr(typeof i, t); return a(i) }, _getter: function () { this._valueGetter = c.getter(this.options.dataValueField) }, _deselect: function (t) { var i, a, n, s = this, r = s.element[0].children, l = s.options.selectable, o = s._selectedIndices, u = s._dataItems, c = s._values, d = [], h = 0, f = 0; if (t = t.slice(), l !== !0 && t.length) { if ("multiple" === l) for (; h < t.length; h++)if (a = t[h], e(r[a]).hasClass("k-state-selected")) for (i = 0; i < o.length; i++)if (n = o[i], n === a) { e(r[n]).removeClass("k-state-selected").attr("aria-selected", !1), d.push({ position: i + f, dataItem: u.splice(i, 1)[0] }), o.splice(i, 1), t.splice(h, 1), c.splice(i, 1), f += 1, h -= 1, i -= 1; break } } else { for (; h < o.length; h++)e(r[o[h]]).removeClass("k-state-selected").attr("aria-selected", !1), d.push({ position: h, dataItem: u[h] }); s._values = [], s._dataItems = [], s._selectedIndices = [] } return { indices: t, removed: d } }, _deselectFiltered: function (t) { for (var i, a, n, s = this.element[0].children, r = [], l = 0; l < t.length; l++)a = t[l], i = this._view[a].item, n = this._dataItemPosition(i, this._values), n > -1 && (r.push(this.removeAt(n)), e(s[a]).removeClass("k-state-selected")); return !!r.length && (this.trigger(I, { added: [], removed: r }), !0) }, _select: function (t) { var i, n, s = this, r = s.element[0].children, l = s._view, o = [], u = 0; for (a(t) !== -1 && s.focus(t); u < t.length; u++)n = t[u], i = l[n], n !== -1 && i && (i = i.item, s._selectedIndices.push(n), s._dataItems.push(i), s._values.push(s._valueGetter(i)), e(r[n]).addClass("k-state-selected").attr("aria-selected", !0), o.push({ dataItem: i })); return o }, getElementIndex: function (t) { return e(t).data("offset-index") }, _get: function (e) { return "number" == typeof e ? e = [e] : W(e) || (e = this.getElementIndex(e), e = [e !== t ? e : -1]), e }, _template: function () { var e = this, t = e.options, i = t.template; return i ? (i = c.template(i), i = function (e) { return '<li tabindex="-1" role="option" unselectable="on" class="k-item">' + i(e) + "</li>" }) : i = c.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${' + c.expr(t.dataTextField, "data") + "}</li>", { useWithBlock: !1 }), i }, _templates: function () { var e, t, i = this.options, a = { template: i.template, groupTemplate: i.groupTemplate, fixedGroupTemplate: i.fixedGroupTemplate }; for (t in a) e = a[t], e && "function" != typeof e && (a[t] = c.template(e)); this.templates = a }, _normalizeIndices: function (e) { for (var i = [], a = 0; a < e.length; a++)e[a] !== t && i.push(e[a]); return i }, _valueIndices: function (e, t) { var i, a = this._view, n = 0; if (t = t ? t.slice() : [], !e.length) return []; for (; n < a.length; n++)i = this._dataItemPosition(a[n].item, e), i !== -1 && (t[i] = n); return this._normalizeIndices(t) }, _firstVisibleItem: function () { for (var t = this.element[0], i = this.content[0], a = i.scrollTop, n = e(t.children[0]).height(), s = Math.floor(a / n) || 0, r = t.children[s] || t.lastChild, l = r.offsetTop < a; r;)if (l) { if (r.offsetTop + n > a || !r.nextSibling) break; r = r.nextSibling } else { if (r.offsetTop <= a || !r.previousSibling) break; r = r.previousSibling } return this._view[e(r).data("offset-index")] }, _fixedHeader: function () { this.isGrouped() && this.templates.fixedGroupTemplate ? (this.header.show(), this.content.scroll(this._onScroll)) : (this.header.hide(), this.content.off("scroll", this._onScroll)) }, _renderHeader: function () { var e, t = this.templates.fixedGroupTemplate; t && (e = this._firstVisibleItem(), e && e.group && this.header.html(t(e.group))) }, _renderItem: function (e) { var t = '<li tabindex="-1" role="option" unselectable="on" class="k-item', i = e.item, a = 0 !== e.index, n = e.selected; return a && e.newGroup && (t += " k-first"), n && (t += " k-state-selected"), t += '" aria-selected="' + (n ? "true" : "false") + '" data-offset-index="' + e.index + '">', t += this.templates.template(i), a && e.newGroup && (t += '<div class="k-group">' + this.templates.groupTemplate(e.group) + "</div>"), t + "</li>" }, _render: function () { var e, t, i, a, n = "", s = 0, r = 0, l = [], o = this.dataSource.view(), u = this.value(), c = this.isGrouped(); if (c) for (s = 0; s < o.length; s++)for (t = o[s], i = !0, a = 0; a < t.items.length; a++)e = { selected: this._selected(t.items[a], u), item: t.items[a], group: t.value, newGroup: i, index: r }, l[r] = e, r += 1, n += this._renderItem(e), i = !1; else for (s = 0; s < o.length; s++)e = { selected: this._selected(o[s], u), item: o[s], index: s }, l[s] = e, n += this._renderItem(e); this._view = l, this.element[0].innerHTML = n, c && l.length && this._renderHeader() }, _selected: function (e, t) { var i = !this.isFiltered() || "multiple" === this.options.selectable; return i && this._dataItemPosition(e, t) !== -1 }, setDSFilter: function (e) { this._lastDSFilter = P({}, e) }, isFiltered: function () { return this._lastDSFilter || this.setDSFilter(this.dataSource.filter()), !c.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter) }, refresh: function (e) { var t, i = this, a = e && e.action, n = i.options.skipUpdateOnBind, r = "itemchange" === a; i.trigger("dataBinding"), i._angularItems("cleanup"), i._fixedHeader(), i._render(), i.bound(!0), r || "remove" === a ? (t = s(i._dataItems, e.items), t.changed.length && (r ? i.trigger("selectedItemChange", { items: t.changed }) : i.value(i._getValues(t.unchanged)))) : i.isFiltered() || i._skipUpdate || i._emptySearch ? (i.focus(0), i._skipUpdate && (i._skipUpdate = !1, i._selectedIndices = i._valueIndices(i._values, i._selectedIndices))) : n || a && "add" !== a || i.value(i._values), i._valueDeferred && i._valueDeferred.resolve(), i._angularItems("compile"), i.trigger("dataBound") }, bound: function (e) { return e === t ? this._bound : (this._bound = e, t) }, isGrouped: function () { return (this.dataSource.group() || []).length } }), d.plugin(u) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.autocomplete.min", ["kendo.list.min", "kendo.mobile.scroller.min", "kendo.virtuallist.min"], e) }(function () { return function (e, t) { function s(e, t, s) { return s ? t.substring(0, e).split(s).length - 1 : 0 } function i(e, t, i) { return t.split(i)[s(e, t, i)] } function o(e, t, i, o, a) { var n = t.split(o); return n.splice(s(e, t, o), 1, i), o && "" !== n[n.length - 1] && n.push(""), n.join(a) } var a = window.kendo, n = a.support, r = a.caret, l = a._activeElement, u = n.placeholder, c = a.ui, d = c.List, p = a.keys, _ = a.data.DataSource, h = "aria-disabled", f = "aria-readonly", g = "change", v = "k-state-default", m = "disabled", y = "readonly", w = "k-state-focused", C = "k-state-selected", b = "k-state-disabled", k = "k-state-hover", x = ".kendoAutoComplete", T = "mouseenter" + x + " mouseleave" + x, V = e.proxy, S = d.extend({ init: function (t, s) { var i, o, n = this; n.ns = x, s = e.isArray(s) ? { dataSource: s } : s, d.fn.init.call(n, t, s), t = n.element, s = n.options, s.placeholder = s.placeholder || t.attr("placeholder"), u && t.attr("placeholder", s.placeholder), n._wrapper(), n._loader(), n._clearButton(), n._dataSource(), n._ignoreCase(), t[0].type = "text", i = n.wrapper, n._popup(), t.addClass("k-input").on("keydown" + x, V(n._keydown, n)).on("keypress" + x, V(n._keypress, n)).on("input" + x, V(n._search, n)).on("paste" + x, V(n._search, n)).on("focus" + x, function () { n._prev = n._accessor(), n._oldText = n._prev, n._placeholder(!1), i.addClass(w) }).on("focusout" + x, function () { n._change(), n._placeholder(), n.close(), i.removeClass(w) }).attr({ autocomplete: "off", role: "textbox", "aria-haspopup": !0 }), n._clear.on("click" + x, V(n._clearValue, n)), n._enable(), n._old = n._accessor(), t[0].id && t.attr("aria-owns", n.ul[0].id), n._aria(), n._placeholder(), n._initList(), o = e(n.element).parents("fieldset").is(":disabled"), o && n.enable(!1), n.listView.bind("click", function (e) { e.preventDefault() }), n._resetFocusItemHandler = e.proxy(n._resetFocusItem, n), a.notify(n), n._toggleCloseVisibility() }, options: { name: "AutoComplete", enabled: !0, suggest: !1, template: "", groupTemplate: "#:data#", fixedGroupTemplate: "#:data#", dataTextField: "", minLength: 1, enforceMinLength: !1, delay: 200, height: 200, filter: "startswith", ignoreCase: !0, highlightFirst: !1, separator: null, placeholder: "", animation: {}, virtual: !1, value: null, clearButton: !0, autoWidth: !1 }, _dataSource: function () { var e = this; e.dataSource && e._refreshHandler ? e._unbindDataSource() : (e._progressHandler = V(e._showBusy, e), e._errorHandler = V(e._hideBusy, e)), e.dataSource = _.create(e.options.dataSource).bind("progress", e._progressHandler).bind("error", e._errorHandler) }, setDataSource: function (e) { this.options.dataSource = e, this._dataSource(), this.listView.setDataSource(this.dataSource) }, events: ["open", "close", g, "select", "filtering", "dataBinding", "dataBound"], setOptions: function (e) { var t = this._listOptions(e); d.fn.setOptions.call(this, e), this.listView.setOptions(t), this._accessors(), this._aria(), this._clearButton() }, _listOptions: function (t) { var s = d.fn._listOptions.call(this, e.extend(t, { skipUpdateOnBind: !0 })); return s.dataValueField = s.dataTextField, s.selectedItemChange = null, s }, _editable: function (e) { var t = this, s = t.element, i = t.wrapper.off(x), o = e.readonly, a = e.disable; o || a ? (i.addClass(a ? b : v).removeClass(a ? v : b), s.attr(m, a).attr(y, o).attr(h, a).attr(f, o)) : (i.addClass(v).removeClass(b).on(T, t._toggleHover), s.removeAttr(m).removeAttr(y).attr(h, !1).attr(f, !1)) }, close: function () { var e = this, t = e.listView.focus(); t && t.removeClass(C), e.popup.close() }, destroy: function () { var e = this; e.element.off(x), e._clear.off(x), e.wrapper.off(x), d.fn.destroy.call(e) }, refresh: function () { this.listView.refresh() }, select: function (e) { this._select(e) }, search: function (t) { var s, o = this, a = o.options, n = a.ignoreCase, l = o._separator(); t = t || o._accessor(), clearTimeout(o._typingTimeout), l && (t = i(r(o.element)[0], t, l)), s = t.length, (!a.enforceMinLength && !s || s >= a.minLength) && (o._open = !0, o._mute(function () { this.listView.value([]) }), o._filterSource({ value: n ? t.toLowerCase() : t, operator: a.filter, field: a.dataTextField, ignoreCase: n }), o.one("close", e.proxy(o._unifySeparators, o))), o._toggleCloseVisibility() }, suggest: function (e) { var i, o = this, a = o._last, n = o._accessor(), u = o.element[0], c = r(u)[0], _ = o._separator(), h = n.split(_), f = s(c, n, _), g = c; return a == p.BACKSPACE || a == p.DELETE ? (o._last = t, t) : (e = e || "", "string" != typeof e && (e[0] && (e = o.dataSource.view()[d.inArray(e[0], o.ul[0])]), e = e ? o._text(e) : ""), c <= 0 && (c = n.toLowerCase().indexOf(e.toLowerCase()) + 1), i = n.substring(0, c).lastIndexOf(_), i = i > -1 ? c - (i + _.length) : c, n = h[f].substring(0, i), e && (e = "" + e, i = e.toLowerCase().indexOf(n.toLowerCase()), i > -1 && (e = e.substring(i + n.length), g = c + e.length, n += e), _ && "" !== h[h.length - 1] && h.push("")), h[f] = n, o._accessor(h.join(_ || "")), u === l() && r(u, c, g), t) }, value: function (e) { return e === t ? this._accessor() : (this.listView.value(e), this._accessor(e), this._old = this._accessor(), this._oldText = this._accessor(), t) }, _click: function (e) { var s = e.item, i = this, o = i.element, a = i.listView.dataItemByIndex(i.listView.getElementIndex(s)); return e.preventDefault(), i._active = !0, i.trigger("select", { dataItem: a, item: s }) ? (i.close(), t) : (i._oldText = o.val(), i._select(s).done(function () { i._blur(), r(o, o.val().length) }), t) }, _clearText: e.noop, _resetFocusItem: function () { var e = this.options.highlightFirst ? 0 : -1; this.options.virtual && this.listView.scrollTo(0), this.listView.focus(e) }, _listBound: function () { var e, s = this, i = s.popup, o = s.options, a = s.dataSource.flatView(), n = a.length, r = s.dataSource._group.length, u = s.element[0] === l(); s._renderFooter(), s._renderNoData(), s._toggleNoData(!n), s._toggleHeader(!!r && !!n), s._resizePopup(), i.position(), n && o.suggest && u && s.suggest(a[0]), s._open && (s._open = !1, e = s._allowOpening() ? "open" : "close", s._typingTimeout && !u && (e = "close"), n && (s._resetFocusItem(), o.virtual && s.popup.unbind("activate", s._resetFocusItemHandler).one("activate", s._resetFocusItemHandler)), i[e](), s._typingTimeout = t), s._touchScroller && s._touchScroller.reset(), s._hideBusy(), s._makeUnselectable(), s.trigger("dataBound") }, _mute: function (e) { this._muted = !0, e.call(this), this._muted = !1 }, _listChange: function () { var e = this._active || this.element[0] === l(); e && !this._muted && this._selectValue(this.listView.selectedDataItems()[0]) }, _selectValue: function (e) { var t = this._separator(), s = ""; e && (s = this._text(e)), null === s && (s = ""), t && (s = o(r(this.element)[0], this._accessor(), s, t, this._defaultSeparator())), this._prev = s, this._accessor(s), this._placeholder() }, _unifySeparators: function () { return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())), this }, _preselect: function (e, t) { this._inputValue(t), this._accessor(e), this._old = this.oldText = this._accessor(), this.listView.setValue(e), this._placeholder() }, _change: function () { var e = this, t = e._unifySeparators().value(), s = t !== d.unifyType(e._old, typeof t), i = s && !e._typing, o = e._oldText !== t; e._old = t, e._oldText = t, (i || o) && e.element.trigger(g), s && e.trigger(g), e.typing = !1, e._toggleCloseVisibility() }, _accessor: function (e) { var s = this, i = s.element[0]; return e === t ? (e = i.value, i.className.indexOf("k-readonly") > -1 && e === s.options.placeholder ? "" : e) : (i.value = null === e ? "" : e, s._placeholder(), t) }, _keydown: function (e) { var t, s, i = this, o = e.keyCode, a = i.listView, n = i.popup.visible(), r = a.focus(); if (i._last = o, o === p.DOWN) n ? this._move(r ? "focusNext" : "focusFirst") : i.value() && i._filterSource({ value: i.ignoreCase ? i.value().toLowerCase() : i.value(), operator: i.options.filter, field: i.options.dataTextField, ignoreCase: i.ignoreCase }).done(function () { i._resetFocusItem(), i.popup.open() }), e.preventDefault(); else if (o === p.UP) n && this._move(r ? "focusPrev" : "focusLast"), e.preventDefault(); else if (o === p.HOME) this._move("focusFirst"); else if (o === p.END) this._move("focusLast"); else if (o === p.ENTER || o === p.TAB) { if (o === p.ENTER && n && e.preventDefault(), n && r) { if (t = a.dataItemByIndex(a.getElementIndex(r)), i.trigger("select", { dataItem: t, item: r })) return; this._select(r) } this._blur() } else o === p.ESC ? (n ? e.preventDefault() : i._clearValue(), i.close()) : !i.popup.visible() || o !== p.PAGEDOWN && o !== p.PAGEUP ? (i.popup._hovered = !0, i._search()) : (e.preventDefault(), s = o === p.PAGEDOWN ? 1 : -1, a.scrollWith(s * a.screenHeight())) }, _keypress: function () { this._oldText = this.element.val(), this._typing = !0 }, _move: function (e) { this.listView[e](), this.options.suggest && this.suggest(this.listView.focus()) }, _hideBusy: function () { var e = this; clearTimeout(e._busy), e._loading.hide(), e.element.attr("aria-busy", !1), e._busy = null, e._showClear() }, _showBusy: function () { var e = this; e._busy || (e._busy = setTimeout(function () { e.element.attr("aria-busy", !0), e._loading.show(), e._hideClear() }, 100)) }, _placeholder: function (e) { if (!u) { var s, i = this, o = i.element, a = i.options.placeholder; if (a) { if (s = o.val(), e === t && (e = !s), e || (a = s !== a ? s : ""), s === i._old && !e) return; o.toggleClass("k-readonly", e).val(a), a || o[0] !== document.activeElement || r(o[0], 0, 0) } } }, _separator: function () { var e = this.options.separator; return e instanceof Array ? RegExp(e.join("|"), "gi") : e }, _defaultSeparator: function () { var e = this.options.separator; return e instanceof Array ? e[0] : e }, _inputValue: function () { return this.element.val() }, _search: function () { var e = this; clearTimeout(e._typingTimeout), e._typingTimeout = setTimeout(function () { e._prev !== e._accessor() && (e._prev = e._accessor(), e.search()) }, e.options.delay) }, _select: function (e) { var t = this; return t._active = !0, t.listView.select(e).done(function () { t._active = !1 }) }, _loader: function () { this._loading = e('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element) }, _clearButton: function () { d.fn._clearButton.call(this), this.options.clearButton && (this._clear.insertAfter(this.element), this.wrapper.addClass("k-autocomplete-clearable")) }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(k, "mouseenter" === t.type) }, _toggleCloseVisibility: function () { this.value() ? this._showClear() : this._hideClear() }, _wrapper: function () { var e, t = this, s = t.element, i = s[0]; e = s.parent(), e.is("span.k-widget") || (e = s.wrap("<span />").parent()), e.attr("tabindex", -1), e.attr("role", "presentation"), e[0].style.cssText = i.style.cssText, s.css({ width: "", height: i.style.height }), t._focused = t.element, t.wrapper = e.addClass("k-widget k-autocomplete k-header").addClass(i.className) } }); c.plugin(S) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, s) { (s || t)() });; !function (e, define) { define("kendo.button.min", ["kendo.core.min"], e) }(function () { return function (e, n) { var t = window.kendo, i = t.ui.Widget, s = e.proxy, o = t.keys, a = "click", l = "k-button", r = "k-button-icon", c = "k-button-icontext", d = ".kendoButton", u = "disabled", p = "k-state-disabled", f = "k-state-focused", k = "k-state-active", b = i.extend({ init: function (e, n) { var o = this; i.fn.init.call(o, e, n), e = o.wrapper = o.element, n = o.options, e.addClass(l).attr("role", "button"), n.enable = n.enable && !e.attr(u), o.enable(n.enable), n.enable && o._tabindex(), o._graphics(), e.on(a + d, s(o._click, o)).on("focus" + d, s(o._focus, o)).on("blur" + d, s(o._blur, o)).on("keydown" + d, s(o._keydown, o)).on("keyup" + d, s(o._keyup, o)), t.notify(o) }, destroy: function () { var e = this; e.wrapper.off(d), i.fn.destroy.call(e) }, events: [a], options: { name: "Button", icon: "", spriteCssClass: "", imageUrl: "", enable: !0 }, _isNativeButton: function () { return "button" == this.element.prop("tagName").toLowerCase() }, _click: function (e) { this.options.enable && this.trigger(a, { event: e }) && e.preventDefault() }, _focus: function () { this.options.enable && this.element.addClass(f) }, _blur: function () { var e = this; e.element.removeClass(f), setTimeout(function () { e.element.removeClass(k) }) }, _keydown: function (e) { var n = this; e.keyCode != o.ENTER && e.keyCode != o.SPACEBAR || (n.options.enable && n.element.addClass(k), n._isNativeButton() || (e.keyCode == o.SPACEBAR && e.preventDefault(), n._click(e))) }, _keyup: function () { this.element.removeClass(k) }, _graphics: function () { var n, t, i, s = this, o = s.element, a = s.options, l = a.icon, d = a.spriteCssClass, u = a.imageUrl; (d || u || l) && (i = !0, o.contents().filter(function () { return !e(this).hasClass("k-sprite") && !e(this).hasClass("k-icon") && !e(this).hasClass("k-image") }).each(function (n, t) { (1 == t.nodeType || 3 == t.nodeType && e.trim(t.nodeValue).length > 0) && (i = !1) }), o.addClass(i ? r : c)), l ? (n = o.children("span.k-icon").first(), n[0] || (n = e('<span class="k-icon"></span>').prependTo(o)), n.addClass("k-i-" + l)) : d ? (n = o.children("span.k-sprite").first(), n[0] || (n = e('<span class="k-sprite"></span>').prependTo(o)), n.addClass(d)) : u && (t = o.children("img.k-image").first(), t[0] || (t = e('<img alt="icon" class="k-image" />').prependTo(o)), t.attr("src", u)) }, enable: function (e) { var t = this, i = t.element; e === n && (e = !0), e = !!e, t.options.enable = e, i.toggleClass(p, !e).attr("aria-disabled", !e).attr(u, !e), e && t._tabindex(); try { i.blur() } catch (s) { } } }); t.ui.plugin(b) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, n, t) { (t || n)() });; !function (e, define) { define("kendo.buttongroup.min", ["kendo.core.min"], e) }(function () { return function (e, t) { function n(n, i) { n !== t && e('<span class="k-badge">' + s.htmlEncode(n) + "</span>").appendTo(i) } var s = window.kendo, i = s.ui, a = i.Widget, o = s.keys, d = e.proxy, l = ".kendoButtonGroup", r = "k-widget", c = "k-button-group", u = "k-button", f = "k-button-icontext", m = "k-button-icon", p = "k-state-active", h = "k-state-focused", b = "k-state-disabled", g = "select", v = "click", k = "keydown", C = "focus", y = "blur", _ = "mousedown", x = '# var item = data; ## var text = item.text; ## var selected = item.selected; ## var enabled = item.enabled; ## var icon = item.icon; ## var badge = item.badge; ## var image = item.imageUrl; #<span class="#= selected ? " ' + p + '" : "" #" #= enabled === false ? "disabled" : "" # # if (icon && !image) { #' + s.attr("icon") + '="#=icon#"# } ## if (badge) { #' + s.attr("badge") + '="#=badge#"# } #># if (image) { #<img alt="icon" src="#=image#" /># } ## if (text) { ##= text ## } #</span>', w = a.extend({ init: function (t, n) { var s, i, o, f = this; if (a.fn.init.call(f, t, n), f.wrapper = f.element, f.options.items) for (s = 0; s < f.options.items.length; s++)i = f.options.items[s], o = e(f._renderItem(f.options.items[s])), i.attributes && o.attr(i.attributes), o.appendTo(f.element); f.selectedIndices = [], f.element.addClass(r + " " + c).attr("role", "group").attr("tabindex", f.element.attr("tabindex") || "0").children().each(function () { var t = e(this); f._button.bind(f)(t) }), f._enable = !0, f.options.enable || (f._enable = !1, f.element.attr("aria-disabled", !0).addClass(b)), f.select(f.options.index), f.element.on(v + l, "." + u, d(f._click, f)).on(C + l, d(f._focus, f)).on(k + l, d(f._keyDown, f)).on(y + l, function () { f.preventFocus = !1, f.element.find("." + u).removeClass(h) }).on(_ + l, function () { f.preventFocus = !0 }) }, events: [g], options: { name: "ButtonGroup", selection: "single", index: -1, enable: !0 }, current: function () { return this.element.find("." + p) }, _renderItem: function (e) { return s.template(x, { useWithBlock: !1 })(e) }, _focus: function () { var t = e(this.element); this.preventFocus || (t.find("." + p).length ? t.find("." + p).first().focus().addClass(h) : t.children().first().focus().addClass(h)) }, _keyDown: function (t) { var n, i = this, a = e(i.element), d = a.find("." + u), l = a.find("." + h), r = d.index(l), c = s.support.isRtl(i.element); t.keyCode === o.LEFT && !c || t.keyCode === o.RIGHT && c ? (l.removeClass(h), n = 0 === r ? d.eq(d.length - 1) : e(d[r - 1]), n.focus().addClass(h), t.preventDefault()) : t.keyCode === o.LEFT && c || t.keyCode === o.RIGHT && !c ? (l.removeClass(h), n = r + 1 === d.length ? d.eq(0) : e(d[r + 1]), n.focus().addClass(h), t.preventDefault()) : t.keyCode !== o.ENTER && t.keyCode !== o.SPACEBAR || (i._select(l), t.preventDefault()) }, select: function (n) { var s, i = this, a = -1; n !== t && n !== -1 && (i.element.find("." + u).removeClass(h), "number" == typeof n ? (a = n, n = i.element.children().eq(n)) : n.nodeType && (n = e(n), a = n.index()), "multiple" === i.options.selection ? (s = "true" === n.attr("aria-pressed"), n.attr("aria-pressed", !s).toggleClass(p), i.selectedIndices.indexOf(a) === -1 ? i.selectedIndices.push(a) : i.selectedIndices.splice(i.selectedIndices.indexOf(a), 1)) : (i.selectedIndices = [], i.current().attr("aria-pressed", !1).removeClass(p), n.attr("aria-pressed", !0).addClass(p), i.selectedIndices.push(a)), i.trigger(g, { indices: i.selectedIndices })) }, badge: function (e, i) { var a, o = this.element, d = isNaN(e) ? o.find(e) : o.children().eq(e), l = i || 0 === i; if (d.length) { if (a = d.children(".k-badge").eq(0), !a.length && l) return n(s.htmlEncode(i), d), s.htmlEncode(i); if (l) a.html(s.htmlEncode(i)); else if (i === !1) return a.empty().remove(), t; return a.html() } }, enable: function (e) { t === e && (e = !0), this.element.attr("aria-disabled", !e).toggleClass(b, !e), this._enable = this.options.enable = e }, destroy: function () { var e = this; e.element.off(l), a.fn.destroy.call(e) }, _button: function (t) { var i = s.attrValue(t, "icon"), a = s.attrValue(t, "badge"), o = t.find("img").addClass("k-image"), d = !0; t.attr("aria-pressed", !1).attr("role", "button").addClass(u), (t.is("[disabled]") || t.hasClass(b)) && t.addClass(b).attr("aria-disabled", !0).removeAttr("disabled"), t.is("." + p) && (t.removeClass(p), (!t.hasClass(b) && "single" === this.options.selection || "multiple" === this.options.selection) && this.select(t[0])), !o[0] && i && t.prepend(e('<span class="k-icon k-i-' + i + '" />')), t.contents().filter(function () { return !e(this).hasClass("k-icon") && !e(this).hasClass("k-image") }).each(function () { (1 == this.nodeType || 3 == this.nodeType && e.trim(this.nodeValue).length > 0) && (d = !1) }), (o[0] || i) && t.addClass(d ? m : f), (a || 0 === a) && n(a, t) }, _click: function (t) { var n = e(t.target).closest("." + u); t.isDefaultPrevented() || this._select(n) }, _select: function (e) { var n = e; return this.element.find("." + u).removeClass(h), !this._enable || n.is("." + b) ? (n.addClass(h), t) : (this.select(e[0]), n.addClass(h), t) } }); i.plugin(w) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.selectable.min", ["kendo.core.min", "kendo.userevents.min"], e) }(function () { return function (e, t) { function n(e, t) { if (!e.is(":visible")) return !1; var n = s.getOffset(e), i = t.left + t.width, l = t.top + t.height; return n.right = n.left + s._outerWidth(e), n.bottom = n.top + s._outerHeight(e), !(n.left > i || n.right < t.left || n.top > l || n.bottom < t.top) } var i, s = window.kendo, l = s.ui.Widget, a = e.proxy, o = Math.abs, r = "aria-selected", c = "k-state-selected", u = "k-state-selecting", d = "k-selectable", f = "change", v = ".kendoSelectable", m = "k-state-unselecting", h = "input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up", p = s.support.browser.msie, _ = !1; !function (e) { !function () { e('<div class="parent"><span /></div>').on("click", ">*", function () { _ = !0 }).find("span").click().end().off() }() }(e), i = l.extend({ init: function (t, n) { var i, o = this; l.fn.init.call(o, t, n), o._marquee = e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"), o._lastActive = null, o.element.addClass(d), o.relatedTarget = o.options.relatedTarget, i = o.options.multiple, this.options.aria && i && o.element.attr("aria-multiselectable", !0), o.userEvents = new s.UserEvents(o.element, { global: !0, allowSelection: !0, filter: (_ ? "" : "." + d + " ") + o.options.filter, tap: a(o._tap, o), touchAction: i ? "none" : "pan-x pan-y" }), i && o.userEvents.bind("start", a(o._start, o)).bind("move", a(o._move, o)).bind("end", a(o._end, o)).bind("select", a(o._select, o)) }, events: [f], options: { name: "Selectable", filter: ">*", inputSelectors: h, multiple: !1, relatedTarget: e.noop }, _isElement: function (e) { var t, n = this.element, i = n.length, s = !1; for (e = e[0], t = 0; t < i; t++)if (n[t] === e) { s = !0; break } return s }, _tap: function (t) { var n, i = e(t.target), s = this, l = t.event.ctrlKey || t.event.metaKey, a = s.options.multiple, o = a && t.event.shiftKey, r = t.event.which, u = t.event.button; !s._isElement(i.closest("." + d)) || r && 3 == r || u && 2 == u || this._allowSelection(t.event.target) && (n = i.hasClass(c), a && l || s.clear(), i = i.add(s.relatedTarget(i)), o ? s.selectRange(s._firstSelectee(), i, t) : (n && l ? (s._unselect(i), s._notify(f, t)) : s.value(i, t), s._lastActive = s._downTarget = i)) }, _start: function (n) { var i, s = this, l = e(n.target), a = l.hasClass(c), o = n.event.ctrlKey || n.event.metaKey; if (this._allowSelection(n.event.target)) { if (s._downTarget = l, !s._isElement(l.closest("." + d))) return s.userEvents.cancel(), t; s.options.useAllItems ? s._items = s.element.find(s.options.filter) : (i = l.closest(s.element), s._items = i.find(s.options.filter)), n.sender.capture(), s._marquee.appendTo(document.body).css({ left: n.x.client + 1, top: n.y.client + 1, width: 0, height: 0 }), o || s.clear(), l = l.add(s.relatedTarget(l)), a && (s._selectElement(l, !0), o && l.addClass(m)) } }, _move: function (e) { var t = this, n = { left: e.x.startLocation > e.x.location ? e.x.location : e.x.startLocation, top: e.y.startLocation > e.y.location ? e.y.location : e.y.startLocation, width: o(e.x.initialDelta), height: o(e.y.initialDelta) }; t._marquee.css(n), t._invalidateSelectables(n, e.event.ctrlKey || e.event.metaKey), e.preventDefault() }, _end: function (e) { var t, n = this; n._marquee.remove(), n._unselect(n.element.find(n.options.filter + "." + m)).removeClass(m), t = n.element.find(n.options.filter + "." + u), t = t.add(n.relatedTarget(t)), n.value(t, e), n._lastActive = n._downTarget, n._items = null }, _invalidateSelectables: function (e, t) { var i, s, l, a, o = this._downTarget[0], r = this._items; for (i = 0, s = r.length; i < s; i++)a = r.eq(i), l = a.add(this.relatedTarget(a)), n(a, e) ? a.hasClass(c) ? t && o !== a[0] && l.removeClass(c).addClass(m) : a.hasClass(u) || a.hasClass(m) || l.addClass(u) : a.hasClass(u) ? l.removeClass(u) : t && a.hasClass(m) && l.removeClass(m).addClass(c) }, value: function (e, n) { var i = this, s = a(i._selectElement, i); return e ? (e.each(function () { s(this) }), i._notify(f, n), t) : i.element.find(i.options.filter + "." + c) }, _firstSelectee: function () { var e, t = this; return null !== t._lastActive ? t._lastActive : (e = t.value(), e.length > 0 ? e[0] : t.element.find(t.options.filter)[0]) }, _selectElement: function (t, n) { var i = e(t), s = !n && this._notify("select", { element: t }); i.removeClass(u), s || (i.addClass(c), this.options.aria && i.attr(r, !0)) }, _notify: function (e, t) { return t = t || {}, this.trigger(e, t) }, _unselect: function (e) { return e.removeClass(c), this.options.aria && e.attr(r, !1), e }, _select: function (t) { this._allowSelection(t.event.target) && (!p || p && !e(s._activeElement()).is(this.options.inputSelectors)) && t.preventDefault() }, _allowSelection: function (t) { return !e(t).is(this.options.inputSelectors) || (this.userEvents.cancel(), this._downTarget = null, !1) }, resetTouchEvents: function () { this.userEvents.cancel() }, clear: function () { var e = this.element.find(this.options.filter + "." + c); this._unselect(e) }, selectRange: function (t, n, i) { var s, l, a, o = this; for (o.clear(), o.element.length > 1 && (a = o.options.continuousItems()), a && a.length || (a = o.element.find(o.options.filter)), t = e.inArray(e(t)[0], a), n = e.inArray(e(n)[0], a), t > n && (l = t, t = n, n = l), o.options.useAllItems || (n += o.element.length - 1), s = t; s <= n; s++)o._selectElement(a[s]); o._notify(f, i) }, destroy: function () { var e = this; l.fn.destroy.call(e), e.element.off(v), e.userEvents.destroy(), e._marquee = e._lastActive = e.element = e.userEvents = null } }), i.parseOptions = function (e) { var t = "string" == typeof e && e.toLowerCase(); return { multiple: t && t.indexOf("multiple") > -1, cell: t && t.indexOf("cell") > -1 } }, s.ui.plugin(i) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.calendar.min", ["kendo.core.min", "kendo.selectable.min"], e) }(function () { return function (e, t) { function a(e, t, a, n) { var l, i = e.getFullYear(), r = t.getFullYear(), s = a.getFullYear(); return i -= i % n, l = i + (n - 1), i < r && (i = r), l > s && (l = s), i + "-" + l } function n(e) { var t, a = 0, n = e.min, l = e.max, i = e.start, r = e.setter, o = e.build, c = e.weekNumberBuild, u = e.cells || 12, d = e.isWeekColumnVisible, f = e.perRow || 4, _ = e.weekNumber || z, v = e.content || R, h = e.empty || W, m = e.html || '<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">'; for (d && (m += _(c(i))); a < u; a++)a > 0 && a % f === 0 && (m += '</tr><tr role="row">', d && (m += _(c(i)))), i = g(i.getFullYear(), i.getMonth(), i.getDate()), N(i, 0), t = o(i, a, e.disableDates), m += s(i, n, l) ? v(t) : h(t), r(i, 1); return m + "</tr></tbody></table>" } function l(e, t, a) { var n = e.getFullYear(), l = t.getFullYear(), i = l, r = 0; return a && (l -= l % a, i = l - l % a + a - 1), n > i ? r = 1 : n < l && (r = -1), r } function i() { var e = new Oe; return new Oe(e.getFullYear(), e.getMonth(), e.getDate()) } function r(e, t, a) { var n = i(); return e && (n = new Oe((+e))), t > n ? n = new Oe((+t)) : a < n && (n = new Oe((+a))), n } function s(e, t, a) { return +e >= +t && +e <= +a } function o(e, t) { return e.slice(t).concat(e.slice(0, t)) } function c(e, t, a) { t = t instanceof Oe ? t.getFullYear() : e.getFullYear() + a * t, e.setFullYear(t) } function u(e, t) { var a, n, l; return +t < +e && (a = +e, C.views[0].setDate(e, t), C.views[0].setDate(t, new Date(a))), n = Date.UTC(e.getFullYear(), e.getMonth(), e.getDate()), l = Date.UTC(t.getFullYear(), t.getMonth(), t.getDate()), Math.ceil((+l - +n) / T.date.MS_PER_DAY) } function d(e, t, a, n) { var l, i; for (l = 0; l <= t; l++)i = new Date(a.getTime()), i = new Date(i.setDate(i.getDate() + l)), n(i) || e.push(i) } function f(t) { var a = e(this).hasClass("k-state-disabled"); a || e(this).toggleClass(re, De.indexOf(t.type) > -1 || t.type == me) } function _(e) { e.preventDefault() } function g(e, t, a) { var n = new Oe(e, t, a); return n.setFullYear(e, t, a), n } function v(e) { return H(e).calendars.standard } function h(e) { var a = Ae[e.start], n = Ae[e.depth], l = H(e.culture); e.format = j(e.format || l.calendars.standard.patterns.d), isNaN(a) && (a = 0, e.start = te), (n === t || n > a) && (e.depth = te), null === e.dates && (e.dates = []) } function m(e) { U && e.find("*").attr("unselectable", "on") } function p(e, t) { e.addClass("k-" + t) } function D(e, t) { for (var a = 0, n = t.length; a < n; a++)if (e === +t[a]) return !0; return !1 } function b(e, t) { return !!e && (e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() === t.getDate()) } function k(e, t) { return !!e && (e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth()) } function w(t) { return T.isFunction(t) ? t : e.isArray(t) ? S(t) : e.noop } function y(e) { var t, a = []; for (t = 0; t < e.length; t++)a.push(e[t].setHours(0, 0, 0, 0)); return a } function S(t) { var a, n, l, i, r, s = [], o = ["su", "mo", "tu", "we", "th", "fr", "sa"], c = "if (found) { return true } else {return false}"; if (t[0] instanceof Oe) s = y(t), a = "var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),[" + s + "]) > -1;" + c; else { for (l = 0; l < t.length; l++)i = t[l].slice(0, 2).toLowerCase(), r = e.inArray(i, o), r > -1 && s.push(r); a = "var found = date && window.kendo.jQuery.inArray(date.getDay(),[" + s + "]) > -1;" + c } return n = Function("date", a) } function F(e, t) { return e instanceof Date && t instanceof Date && (e = e.getTime(), t = t.getTime()), e === t } var C, T = window.kendo, Y = T.support, x = T.ui, M = x.Widget, O = T.keys, A = T.parseDate, N = T.date.adjustDST, V = T.date.weekInYear, B = T.ui.Selectable, j = T._extractFormat, E = T.template, H = T.getCulture, I = T.support.transitions, P = I ? I.css + "transform-origin" : "", R = E('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>', { useWithBlock: !1 }), W = E('<td role="gridcell">&nbsp;</td>', { useWithBlock: !1 }), z = E('<td class="k-alt">#= data.weekNumber #</td>', { useWithBlock: !1 }), q = T.support.browser, U = q.msie && q.version < 9, G = T._outerHeight, K = T._outerWidth, L = ".kendoCalendar", Q = "click" + L, J = "keydown" + L, X = "id", Z = "min", $ = "left", ee = "slideIn", te = "month", ae = "century", ne = "change", le = "navigate", ie = "value", re = "k-state-hover", se = "k-state-disabled", oe = "k-state-focused", ce = "k-other-month", ue = ' class="' + ce + '"', de = "k-nav-today", fe = "td:has(.k-link)", _e = "td:has(.k-link):not(." + se + ")", ge = "td:not(:has(.k-link))", ve = "k-state-selected", he = "blur" + L, me = "focus", pe = me + L, De = Y.touch ? "touchstart" : "mouseenter", be = Y.touch ? "touchstart" + L : "mouseenter" + L, ke = Y.touch ? "touchend" + L + " touchmove" + L : "mouseleave" + L, we = 6e4, ye = 864e5, Se = "_prevArrow", Fe = "_nextArrow", Ce = "aria-disabled", Te = "aria-selected", Ye = "aria-label", xe = e.proxy, Me = e.extend, Oe = Date, Ae = { month: 0, year: 1, decade: 2, century: 3 }, Ne = M.extend({ init: function (t, a) { var n, l, s = this; M.fn.init.call(s, t, a), t = s.wrapper = s.element, a = s.options, a.url = window.unescape(a.url), s.options.disableDates = w(s.options.disableDates), s._templates(), s._selectable(), s._header(), s._footer(s.footer), l = t.addClass("k-widget k-calendar " + (a.weekNumber ? " k-week-number" : "")).on(be + " " + ke, fe, f).on(J, "table.k-content", xe(s._move, s)).on(Q, fe, function (t) { var n = t.currentTarget.firstChild, l = s._toDateObject(n); n.href.indexOf("#") != -1 && t.preventDefault(), "month" == s._view.name && s.options.disableDates(l) || "month" == s._view.name && "single" != a.selectable || s._click(e(n)) }).on("mouseup" + L, "table.k-content, .k-footer", function () { s._focusView(s.options.focusOnNav !== !1) }).attr(X), l && (s._cellID = l + "_cell_selected"), s._isMultipleSelection() && s.options.weekNumber && t.on(Q, ge, function (t) { var a = e(t.currentTarget).closest("tr").find(_e).first(), n = s.selectable._lastActive = e(t.currentTarget).closest("tr").find(_e).last(); s.selectable.selectRange(a, n, { event: t }), s._current = s._value = s._toDateObject(n.find("a")), s._class(oe, s._current) }), h(a), n = A(a.value, a.format, a.culture), s._selectDates = [], s._index = Ae[a.start], s._current = new Oe((+r(n, a.min, a.max))), s._addClassProxy = function () { if (s._active = !0, s._cell.hasClass(se)) { var e = s._view.toDateString(i()); s._cell = s._cellByDate(e) } s._cell.addClass(oe) }, s._removeClassProxy = function () { s._active = !1, s._cell.removeClass(oe) }, s.value(n), s._isMultipleSelection() && a.selectDates.length > 0 && s.selectDates(a.selectDates), T.notify(s) }, options: { name: "Calendar", value: null, min: new Oe(1900, 0, 1), max: new Oe(2099, 11, 31), dates: [], disableDates: null, url: "", culture: "", footer: "", format: "", month: {}, weekNumber: !1, selectable: "single", selectDates: [], start: te, depth: te, animation: { horizontal: { effects: ee, reverse: !0, duration: 500, divisor: 2 }, vertical: { effects: "zoomIn", duration: 400 } }, messages: { weekColumnHeader: "" } }, events: [ne, le], setOptions: function (e) { var t = this; h(e), e.disableDates = w(e.disableDates), M.fn.setOptions.call(t, e), t._templates(), t._selectable(), t._footer(t.footer), t._index = Ae[t.options.start], t.navigate() }, destroy: function () { var e = this, t = e._today; e.element.off(L), e._title.off(L), e[Se].off(L), e[Fe].off(L), e._destroySelectable(), T.destroy(e._table), t && T.destroy(t.off(L)), M.fn.destroy.call(e) }, current: function () { return this._current }, view: function () { return this._view }, focus: function (e) { e = e || this._table, this._bindTable(e), e.focus() }, min: function (e) { return this._option(Z, e) }, max: function (e) { return this._option("max", e) }, navigateToPast: function () { this._navigate(Se, -1) }, navigateToFuture: function () { this._navigate(Fe, 1) }, navigateUp: function () { var e = this, t = e._index; e._title.hasClass(se) || e.navigate(e._current, ++t) }, navigateDown: function (e) { var a = this, n = a._index, l = a.options.depth; if (e) return n === Ae[l] ? (F(a._value, a._current) && F(a._value, e) || (a.value(e), a.trigger(ne)), t) : (a.navigate(e, --n), t) }, navigate: function (a, n) { var l, i, s, o, c, u, d, f, _, g, v, h, D, b, k, w; n = isNaN(n) ? Ae[n] : n, l = this, i = l.options, s = i.culture, o = i.min, c = i.max, u = l._title, d = l._table, f = l._oldTable, _ = l._current, g = a && +a > +_, v = n !== t && n !== l._index, a || (a = _), l._current = a = new Oe((+r(a, o, c))), n === t ? n = l._index : l._index = n, l._view = D = C.views[n], b = D.compare, k = n === Ae[ae], u.toggleClass(se, k).attr(Ce, k), k = b(a, o) < 1, l[Se].toggleClass(se, k).attr(Ce, k), l[Se].hasClass(se) && l[Se].removeClass(re), k = b(a, c) > -1, l[Fe].toggleClass(se, k).attr(Ce, k), l[Fe].hasClass(se) && l[Fe].removeClass(re), d && f && f.data("animating") && (f.kendoStop(!0, !0), d.kendoStop(!0, !0)), l._oldTable = d, d && !l._changeView || (u.html(D.title(a, o, c, s)), l._table = h = e(D.content(Me({ min: o, max: c, date: a, url: i.url, dates: i.dates, format: i.format, culture: s, disableDates: i.disableDates, isWeekColumnVisible: i.weekNumber, messages: i.messages }, l[D.name]))), p(h, D.name), m(h), w = d && d.data("start") === h.data("start"), l._animate({ from: d, to: h, vertical: v, future: g, replace: w }), l.trigger(le), l._focus(a)), n === Ae[i.depth] && l._selectDates.length > 0 && l._visualizeSelectedDatesInView(), "single" === l.options.selectable && n === Ae[i.depth] && l._value && !l.options.disableDates(l._value) && l._class("k-state-selected", l._value), l._class(oe, a), !d && l._cell && l._cell.removeClass(oe), l._changeView = !0 }, selectDates: function (a) { var n, l, i = this; return a === t ? i._selectDates : (l = a.map(function (e) { return e.getTime() }).filter(function (e, t, a) { return a.indexOf(e) === t }).map(function (e) { return new Date(e) }), n = e.grep(l, function (e) { if (e) return +i._validateValue(new Date(e.setHours(0, 0, 0, 0))) === +e }), i._selectDates = n.length > 0 ? n : 0 === l.length ? l : i._selectDates, i._visualizeSelectedDatesInView(), t) }, value: function (e) { var a, n = this, l = n._view, i = n._view; return e === t ? n._value : (e = n._validateValue(e), e && n._isMultipleSelection() && (a = new Date((+e)), a.setHours(0, 0, 0, 0), n._selectDates = [a], n.selectable._lastActive = null), l && null === e && n._cell ? n._cell.removeClass(ve) : (n._changeView = !e || i && 0 !== i.compare(e, n._current), n.navigate(e)), t) }, _validateValue: function (e) { var a = this, n = a.options, l = n.min, i = n.max; return null === e && (a._current = g(a._current.getFullYear(), a._current.getMonth(), a._current.getDate())), e = A(e, n.format, n.culture), null !== e && (e = new Oe((+e)), s(e, l, i) || (e = null)), null !== e && a.options.disableDates(new Date((+e))) ? a._value === t && (a._value = null) : a._value = e, a._value }, _visualizeSelectedDatesInView: function () { var t, a = this, n = {}; e.each(a._selectDates, function (e, t) { n[T.calendar.views[0].toDateString(t)] = t }), a.selectable.clear(), t = a._table.find(fe).filter(function (t, a) { return n[e(a.firstChild).attr(T.attr(ie))] }), t.length > 0 && a.selectable._selectElement(t, !0) }, _isMultipleSelection: function () { var e = this; return "multiple" === e.options.selectable }, _selectable: function () { var e, t, a = this; a._isMultipleSelection() && (e = a.options.selectable, t = B.parseOptions(e), t.multiple && a.element.attr("aria-multiselectable", "true"), a.selectable = new B(a.wrapper, { aria: !0, inputSelectors: "input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up", multiple: t.multiple, filter: "table.k-month:eq(0) " + _e, change: xe(a._onSelect, a), relatedTarget: xe(a._onRelatedTarget, a) })) }, _onRelatedTarget: function (e) { var t = this; t.selectable.options.multiple && e.is(_e) && (t._current = t._toDateObject(e.find("a")), t._class(oe, t._toDateObject(e.find("a")))) }, _onSelect: function (a) { var n = this, l = a, i = B.parseOptions(n.options.selectable); return i.multiple ? (l.event.ctrlKey || l.event.metaKey ? e(l.event.currentTarget).is(_e) ? n._toggleSelection(e(l.event.currentTarget)) : (n._cellsBySelector(_e).each(function (t, a) { var l = n._toDateObject(e(a).find("a")); n._deselect(l) }), n._addSelectedCellsToArray()) : l.event.shiftKey ? n._rangeSelection(n._cell) : e(l.event.currentTarget).is(fe) ? n.value(n._toDateObject(e(l.event.currentTarget).find("a"))) : (n._selectDates = [], n._addSelectedCellsToArray()), n.trigger(ne), t) : (e(l.event.currentTarget).is("td") && !e(l.event.currentTarget).hasClass("k-state-selected") ? e(l.event.currentTarget).addClass("k-state-selected") : n._click(e(l.event.currentTarget).find("a")), t) }, _destroySelectable: function () { var e = this; e.selectable && (e.selectable.destroy(), e.selectable = null) }, _toggleSelection: function (e) { var t = this, a = t._toDateObject(e.find("a")); e.hasClass("k-state-selected") ? t._selectDates.push(a) : t._deselect(a) }, _rangeSelection: function (e, t) { var a, n = this, l = t || n._toDateObject(n.selectable.value().first().find("a")), i = n._toDateObject(e.find("a")); n.selectable._lastActive || n._value ? l = n.selectable._lastActive ? n._toDateObject(n.selectable._lastActive.find("a")) : new Date((+n._value)) : n.selectable._lastActive = t ? n._cellByDate(n._view.toDateString(t), _e) : n.selectable.value().first(), n._selectDates = [], a = u(l, i), d(n._selectDates, a, l, n.options.disableDates), n._visualizeSelectedDatesInView() }, _cellsBySelector: function (e) { var t = this; return t._table.find(e) }, _addSelectedCellsToArray: function () { var t = this; t.selectable.value().each(function (a, n) { var l = t._toDateObject(e(n.firstChild)); t.options.disableDates(l) || t._selectDates.push(l) }) }, _deselect: function (e) { var t = this, a = t._selectDates.map(Number).indexOf(+e); a != -1 && t._selectDates.splice(a, 1) }, _dateInView: function (e) { var t = this, a = t._toDateObject(t._cellsBySelector(fe + ":first").find("a")), n = t._toDateObject(t._cellsBySelector(fe + ":last").find("a")); return +e <= +n && +e >= +a }, _move: function (a) { var n, l, i, o, c, u = this, d = u.options, f = a.keyCode, _ = u._view, v = u._index, h = u.options.min, m = u.options.max, p = new Oe((+u._current)), D = T.support.isRtl(u.wrapper), b = u.options.disableDates; return a.target === u._table[0] && (u._active = !0), f == O.RIGHT && !D || f == O.LEFT && D ? (n = 1, l = !0) : f == O.LEFT && !D || f == O.RIGHT && D ? (n = -1, l = !0) : f == O.UP ? (n = 0 === v ? -7 : -4, l = !0) : f == O.DOWN ? (n = 0 === v ? 7 : 4, l = !0) : f == O.SPACEBAR ? (n = 0, l = !0) : f != O.HOME && f != O.END || (i = f == O.HOME ? "first" : "last", o = _[i](p), p = new Oe(o.getFullYear(), o.getMonth(), o.getDate(), p.getHours(), p.getMinutes(), p.getSeconds(), p.getMilliseconds()), p.setFullYear(o.getFullYear()), l = !0), a.ctrlKey || a.metaKey ? f == O.RIGHT && !D || f == O.LEFT && D ? (u.navigateToFuture(), l = !0) : f == O.LEFT && !D || f == O.RIGHT && D ? (u.navigateToPast(), l = !0) : f == O.UP ? (u.navigateUp(), l = !0) : f == O.DOWN ? (u._click(e(u._cell[0].firstChild)), l = !0) : f != O.ENTER && f != O.SPACEBAR || !u._isMultipleSelection() || (u._keyboardToggleSelection(a), c = u._toDateObject(e(u._cell[0]).find("a")), u._class(oe, c)) : a.shiftKey ? (n !== t || i) && (i || _.setDate(p, n), b(p) && (p = u._nextNavigatable(p, n)), h = g(h.getFullYear(), h.getMonth(), h.getDate()), s(p, h, m) && (u._isMultipleSelection() ? u._keyboardRangeSelection(a, p) : u._focus(r(p, d.min, d.max)))) : (f == O.ENTER || f == O.SPACEBAR ? ("month" == _.name && u._isMultipleSelection() ? (u.value(u._toDateObject(e(u._cell.find("a")))), u.selectable._lastActive = e(u._cell[0]), u.trigger(ne)) : u._click(e(u._cell[0].firstChild)), l = !0) : f == O.PAGEUP ? (l = !0, u.navigateToPast()) : f == O.PAGEDOWN && (l = !0, u.navigateToFuture()), (n || i) && (i || _.setDate(p, n), b(p) && (p = u._nextNavigatable(p, n)), h = g(h.getFullYear(), h.getMonth(), h.getDate()), s(p, h, m) && (u._isMultipleSelection() ? u._dateInView(p) ? (u._current = p, u._class(oe, p)) : u.navigate(p) : u._focus(r(p, d.min, d.max))))), l && a.preventDefault(), u._current }, _keyboardRangeSelection: function (e, a) { var n, l, i = this; return i._dateInView(a) ? (i.selectable.options.filter = i.wrapper.find("table").length > 1 && +a > +i._current ? "table.k-month:eq(1) " + _e : "table.k-month:eq(0) " + _e, i._class(oe, a), i._current = a, i._rangeSelection(i._cellByDate(i._view.toDateString(a), _e), a), i.trigger(ne), i.selectable.options.filter = "table.k-month:eq(0) " + _e, t) : (i._selectDates = [], n = i.selectable._lastActive ? i._toDateObject(i.selectable._lastActive.find("a")) : a, l = u(n, new Date((+a))), d(i._selectDates, l, n, i.options.disableDates), i.navigate(a), i._current = a, i.selectable._lastActive = i.selectable._lastActive || i._cellByDate(i._view.toDateString(a), _e), i.trigger(ne), t) }, _keyboardToggleSelection: function (t) { var a = this; t.currentTarget = a._cell[0], a.selectable._lastActive = e(a._cell[0]), e(a._cell[0]).hasClass(ve) ? (a.selectable._unselect(e(a._cell[0])), a.selectable.trigger(ne, { event: t })) : a.selectable.value(e(a._cell[0]), { event: t }) }, _nextNavigatable: function (e, t) { var a = this, n = !0, l = a._view, i = a.options.min, r = a.options.max, o = a.options.disableDates, c = new Date(e.getTime()); for (l.setDate(c, -t); n;) { if (l.setDate(e, t), !s(e, i, r)) { e = c; break } n = o(e) } return e }, _animate: function (e) { var t = this, a = e.from, n = e.to, l = t._active; a ? a.parent().data("animating") ? (a.off(L), a.parent().kendoStop(!0, !0).remove(), a.remove(), n.insertAfter(t.element[0].firstChild), t._focusView(l)) : !a.is(":visible") || t.options.animation === !1 || e.replace ? (n.insertAfter(a), a.off(L).remove(), t._focusView(l)) : t[e.vertical ? "_vertical" : "_horizontal"](a, n, e.future) : (n.insertAfter(t.element[0].firstChild), t._bindTable(n)) }, _horizontal: function (e, t, a) { var n = this, l = n._active, i = n.options.animation.horizontal, r = i.effects, s = K(e); r && r.indexOf(ee) != -1 && (e.add(t).css({ width: s }), e.wrap("<div/>"), n._focusView(l, e), e.parent().css({ position: "relative", width: 2 * s, "float": $, "margin-left": a ? 0 : -s }), t[a ? "insertAfter" : "insertBefore"](e), Me(i, { effects: ee + ":" + (a ? "right" : $), complete: function () { e.off(L).remove(), n._oldTable = null, t.unwrap(), n._focusView(l) } }), e.parent().kendoStop(!0, !0).kendoAnimate(i)) }, _vertical: function (e, t) { var a, n, l = this, i = l.options.animation.vertical, r = i.effects, s = l._active; r && r.indexOf("zoom") != -1 && (t.css({ position: "absolute", top: G(e.prev()), left: 0 }).insertBefore(e), P && (a = l._cellByDate(l._view.toDateString(l._current)), n = a.position(), n = n.left + parseInt(a.width() / 2, 10) + "px " + (n.top + parseInt(a.height() / 2, 10) + "px"), t.css(P, n)), e.kendoStop(!0, !0).kendoAnimate({ effects: "fadeOut", duration: 600, complete: function () { e.off(L).remove(), l._oldTable = null, t.css({ position: "static", top: 0, left: 0 }), l._focusView(s) } }), t.kendoStop(!0, !0).kendoAnimate(i)) }, _cellByDate: function (t, a) { return this._table.find(a ? a : "td:not(." + ce + ")").filter(function () { return e(this.firstChild).attr(T.attr(ie)) === t }) }, _class: function (e, t) { var a, n = this, l = n._cellID, i = n._cell, r = n._view.toDateString(t); i && i.removeAttr(Te).removeAttr(Ye).removeAttr(X), t && "month" == n._view.name && (a = n.options.disableDates(t)), n._cellsBySelector(n._isMultipleSelection() ? fe : "td:not(." + ce + ")").removeClass(e), i = n._cellByDate(r, "multiple" == n.options.selectable ? fe : "td:not(." + ce + ")").attr(Te, !0), (e === oe && !n._active && n.options.focusOnNav !== !1 || a) && (e = ""), i.addClass(e), i[0] && (n._cell = i), l && (i.attr(X, l), n._table.removeAttr("aria-activedescendant").attr("aria-activedescendant", l)) }, _bindTable: function (e) { e.on(pe, this._addClassProxy).on(he, this._removeClassProxy) }, _click: function (e) { var t = this, a = t.options, n = new Date((+t._current)), l = t._toDateObject(e); N(l, 0), "month" == t._view.name && t.options.disableDates(l) && (l = t._value), t._view.setDate(n, l), t.navigateDown(r(n, a.min, a.max)) }, _focus: function (e) { var t = this, a = t._view; 0 !== a.compare(e, t._current) ? t.navigate(e) : (t._current = e, t._class(oe, e)) }, _focusView: function (e, t) { e && this.focus(t) }, _footer: function (a) { var n = this, l = i(), r = n.element, s = r.find(".k-footer"); return a ? (s[0] || (s = e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(r)), n._today = s.show().find(".k-link").html(a(l)).attr("title", T.toString(l, "D", n.options.culture)), n._toggle(), t) : (n._toggle(!1), s.hide(), t) }, _header: function () { var e, t = this, a = t.element; a.find(".k-header")[0] || a.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" ' + Ye + '="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" ' + Ye + '="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'), e = a.find(".k-link").on(be + " " + ke + " " + pe + " " + he, f).click(!1), t._title = e.eq(1).on(Q, function () { t._active = t.options.focusOnNav !== !1, t.navigateUp() }), t[Se] = e.eq(0).on(Q, function () { t._active = t.options.focusOnNav !== !1, t.navigateToPast() }), t[Fe] = e.eq(2).on(Q, function () { t._active = t.options.focusOnNav !== !1, t.navigateToFuture() }) }, _navigate: function (e, t) { var a, n = this, l = n._index + 1, i = new Oe((+n._current)); n._isMultipleSelection() && (a = n._table.find("td:not(.k-other-month)").has(".k-link").first(), i = n._toDateObject(a.find("a")), n._current = new Date((+i))), e = n[e], e.hasClass(se) || (l > 3 ? i.setFullYear(i.getFullYear() + 100 * t) : C.views[l].setDate(i, t), n.navigate(i)) }, _option: function (e, a) { var n, l = this, i = l.options, r = l._value || l._current; return a === t ? i[e] : (a = A(a, i.format, i.culture), a && (i[e] = new Oe((+a)), n = e === Z ? a > r : r > a, (n || k(r, a)) && (n && (l._value = null), l._changeView = !0), l._changeView || (l._changeView = !(!i.month.content && !i.month.empty)), l.navigate(l._value), l._toggle()), t) }, _toggle: function (e) { var a = this, n = a.options, l = a.options.disableDates(i()), r = a._today; e === t && (e = s(i(), n.min, n.max)), r && (r.off(Q), e && !l ? r.addClass(de).removeClass(se).on(Q, xe(a._todayClick, a)) : r.removeClass(de).addClass(se).on(Q, _)) }, _todayClick: function (e) { var t = this, a = Ae[t.options.depth], n = t.options.disableDates, l = i(); e.preventDefault(), n(l) || (0 === t._view.compare(t._current, l) && t._index == a && (t._changeView = !1), t._isMultipleSelection() && (t._selectDates = [l], t.selectable._lastActive = null), t._value = l, t.navigate(l, a), t.trigger(ne)) }, _toDateObject: function (t) { var a = e(t).attr(T.attr(ie)).split("/"); return a = g(a[0], a[1], a[2]) }, _templates: function () { var e = this, t = e.options, a = t.footer, n = t.month, l = n.content, i = n.weekNumber, r = n.empty; e.month = { content: E('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" ' + T.attr(ie) + '="#=data.dateString#" title="#=data.title#">' + (l || "#=data.value#") + "</a></td>", { useWithBlock: !!l }), empty: E('<td role="gridcell">' + (r || "&nbsp;") + "</td>", { useWithBlock: !!r }), weekNumber: E('<td class="k-alt">' + (i || "#= data.weekNumber #") + "</td>", { useWithBlock: !!i }) }, e.footer = a !== !1 ? E(a || '#= kendo.toString(data,"D","' + t.culture + '") #', { useWithBlock: !1 }) : null } }); x.plugin(Ne), C = { firstDayOfMonth: function (e) { return g(e.getFullYear(), e.getMonth(), 1) }, firstVisibleDay: function (e, t) { t = t || T.culture().calendar; var a = t.firstDay, n = new Oe(e.getFullYear(), e.getMonth(), 1, e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()); for (n.setFullYear(e.getFullYear()); n.getDay() != a;)C.setTime(n, -1 * ye); return n }, setTime: function (e, t) { var a = e.getTimezoneOffset(), n = new Oe(e.getTime() + t), l = n.getTimezoneOffset() - a; e.setTime(n.getTime() + l * we) }, views: [{ name: te, title: function (e, t, a, n) { return v(n).months.names[e.getMonth()] + " " + e.getFullYear() }, content: function (e) { var t = this, a = 0, l = e.min, r = e.max, s = e.date, c = e.dates, u = e.format, d = e.culture, f = e.url, _ = e.isWeekColumnVisible, h = f && c[0], m = v(d), p = m.firstDay, b = m.days, k = o(b.names, p), w = o(b.namesShort, p), y = C.firstVisibleDay(s, m), S = t.first(s), F = t.last(s), Y = t.toDateString, x = i(), M = '<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="' + Y(y) + '"><thead><tr role="row">'; for (_ && (M += '<th scope="col" class="k-alt">' + e.messages.weekColumnHeader + "</th>"); a < 7; a++)M += '<th scope="col" title="' + k[a] + '">' + w[a] + "</th>"; return N(x, 0), x = +x, n({ cells: 42, perRow: 7, html: M += '</tr></thead><tbody><tr role="row">', start: y, isWeekColumnVisible: _, weekNumber: e.weekNumber, min: g(l.getFullYear(), l.getMonth(), l.getDate()), max: g(r.getFullYear(), r.getMonth(), r.getDate()), content: e.content, empty: e.empty, setter: t.setDate, disableDates: e.disableDates, build: function (e, t, a) { var n = [], l = e.getDay(), i = "", r = "#"; return (e < S || e > F) && n.push(ce), a(e) && n.push(se), +e === x && n.push("k-today"), 0 !== l && 6 !== l || n.push("k-weekend"), h && D(+e, c) && (r = f.replace("{0}", T.toString(e, u, d)), i = " k-action-link"), { date: e, dates: c, ns: T.ns, title: T.toString(e, "D", d), value: e.getDate(), dateString: Y(e), cssClass: n[0] ? ' class="' + n.join(" ") + '"' : "", linkClass: i, url: r } }, weekNumberBuild: function (e) { return { weekNumber: V(e, T.culture().calendar.firstDay), currentDate: e } } }) }, first: function (e) { return C.firstDayOfMonth(e) }, last: function (e) { var t = g(e.getFullYear(), e.getMonth() + 1, 0), a = C.firstDayOfMonth(e), n = Math.abs(t.getTimezoneOffset() - a.getTimezoneOffset()); return n && t.setHours(a.getHours() + n / 60), t }, compare: function (e, t) { var a, n = e.getMonth(), l = e.getFullYear(), i = t.getMonth(), r = t.getFullYear(); return a = l > r ? 1 : l < r ? -1 : n == i ? 0 : n > i ? 1 : -1 }, setDate: function (e, t) { var a = e.getHours(); t instanceof Oe ? e.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()) : C.setTime(e, t * ye), N(e, a) }, toDateString: function (e) { return e.getFullYear() + "/" + e.getMonth() + "/" + e.getDate() } }, { name: "year", title: function (e) { return e.getFullYear() }, content: function (e) { var t = v(e.culture).months.namesAbbr, a = this.toDateString, l = e.min, i = e.max; return n({ min: g(l.getFullYear(), l.getMonth(), 1), max: g(i.getFullYear(), i.getMonth(), 1), start: g(e.date.getFullYear(), 0, 1), setter: this.setDate, build: function (e) { return { value: t[e.getMonth()], ns: T.ns, dateString: a(e), cssClass: "" } } }) }, first: function (e) { return g(e.getFullYear(), 0, e.getDate()) }, last: function (e) { return g(e.getFullYear(), 11, e.getDate()) }, compare: function (e, t) { return l(e, t) }, setDate: function (e, t) { var a, n = e.getHours(); t instanceof Oe ? (a = t.getMonth(), e.setFullYear(t.getFullYear(), a, e.getDate()), a !== e.getMonth() && e.setDate(0)) : (a = e.getMonth() + t, e.setMonth(a), a > 11 && (a -= 12), a > 0 && e.getMonth() != a && e.setDate(0)), N(e, n) }, toDateString: function (e) { return e.getFullYear() + "/" + e.getMonth() + "/1" } }, { name: "decade", title: function (e, t, n) { return a(e, t, n, 10) }, content: function (e) { var t = e.date.getFullYear(), a = this.toDateString; return n({ start: g(t - t % 10 - 1, 0, 1), min: g(e.min.getFullYear(), 0, 1), max: g(e.max.getFullYear(), 0, 1), setter: this.setDate, build: function (e, t) { return { value: e.getFullYear(), ns: T.ns, dateString: a(e), cssClass: 0 === t || 11 == t ? ue : "" } } }) }, first: function (e) { var t = e.getFullYear(); return g(t - t % 10, e.getMonth(), e.getDate()) }, last: function (e) { var t = e.getFullYear(); return g(t - t % 10 + 9, e.getMonth(), e.getDate()) }, compare: function (e, t) { return l(e, t, 10) }, setDate: function (e, t) { c(e, t, 1) }, toDateString: function (e) { return e.getFullYear() + "/0/1" } }, { name: ae, title: function (e, t, n) { return a(e, t, n, 100) }, content: function (e) { var t = e.date.getFullYear(), a = e.min.getFullYear(), l = e.max.getFullYear(), i = this.toDateString, r = a, s = l; return r -= r % 10, s -= s % 10, s - r < 10 && (s = r + 9), n({ start: g(t - t % 100 - 10, 0, 1), min: g(r, 0, 1), max: g(s, 0, 1), setter: this.setDate, build: function (e, t) { var n = e.getFullYear(), r = n + 9; return n < a && (n = a), r > l && (r = l), { ns: T.ns, value: n + " - " + r, dateString: i(e), cssClass: 0 === t || 11 == t ? ue : "" } } }) }, first: function (e) { var t = e.getFullYear(); return g(t - t % 100, e.getMonth(), e.getDate()) }, last: function (e) { var t = e.getFullYear(); return g(t - t % 100 + 99, e.getMonth(), e.getDate()) }, compare: function (e, t) { return l(e, t, 100) }, setDate: function (e, t) { c(e, t, 10) }, toDateString: function (e) { var t = e.getFullYear(); return t - t % 10 + "/0/1" } }] }, C.isEqualDatePart = b, C.isEqualDate = F, C.makeUnselectable = m, C.restrictValue = r, C.isInRange = s, C.addClassToViewContainer = p, C.normalize = h, C.viewsEnum = Ae, C.disabled = w, T.calendar = C }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (t, define) { define("chat/view.min", ["kendo.core.min", "kendo.draganddrop.min"], t) }(function () { return function (t, e) { var s, i, n, a, r = window.kendo, o = r.ui.Widget, l = t.extend, c = t.proxy, d = ".", g = " ", h = ".kendoChat", p = r.template('<div #:text# class="#=styles.messageGroup# #= url ? "" : styles.noAvatar #"><p class="#=styles.author#">#:text#</p># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'), u = r.template('<div me class="#=styles.messageGroup# #=styles.self# #= url ? "" : styles.noAvatar #"># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'), m = r.template('<div class="#=styles.message#"><time class="#=styles.messageTime#">#= kendo.toString(kendo.parseDate(timestamp), "HH:mm:ss") #</time><div class="#=styles.bubble#">#:text#</div></div>'), f = r.template('<div class="#=styles.message#"><div class="#=styles.bubble#"><div class="#=styles.typingIndicator#"><span></span><span></span><span></span></div></div></div>'), v = r.template('<div class="#=styles.suggestedActions#"># for (var i = 0; i < suggestedActions.length; i++) { #<span class="#=styles.suggestedAction#" data-value="#:suggestedActions[i].value#">#:suggestedActions[i].title#</span># } #</div>'), y = r.template('<div class="#=styles.card# #=styles.cardRich#"># if (typeof images !== "undefined" && images.length > 0) { #<img src="#:images[0].url#" alt="#:images[0].alt#" class="#=styles.cardImage#" /># } #<div class="#=styles.cardBody#"># if (typeof title !== "undefined") { #<h5 class="#=styles.cardTitle#">#:title#</h5># } ## if (typeof subtitle !== "undefined") { #<h6 class="#=styles.cardSubtitle#">#:subtitle#</h6># } ## if (typeof text !== "undefined") { #<p>#:text#</p># } #</div># if (typeof buttons !== "undefined" && buttons.length > 0) { #<div class="#=styles.cardActions# #=styles.cardActionsVertical#"># for (var i = 0; i < buttons.length; i++) { #<span class="#=styles.cardAction#"><span class="#=styles.button# #=styles.buttonPrimary#" data-value="#:buttons[i].value#">#:buttons[i].title#</span></span># } #</div># } #</div>'); r.chat = { Templates: {}, Components: {} }, r.chat.registerTemplate = function (t, e) { r.chat.Templates[t] = r.template(e) }, r.chat.getTemplate = function (t) { return r.chat.Templates[t] || m }, r.chat.registerTemplate("text", m), r.chat.registerTemplate("message", m), r.chat.registerTemplate("typing", f), r.chat.registerTemplate("suggestedAction", v), r.chat.registerTemplate("heroCard", y), r.chat.registerTemplate("application/vnd.microsoft.card.hero", y), r.chat.registerComponent = function (t, e) { r.chat.Components[t] = e }, r.chat.getComponent = function (t) { return r.chat.Components[t] || null }, s = r.chat.Component = r.Class.extend({ init: function (e, s) { this.element = t("<div></div>"), this.options = e, this.view = s }, destroy: function () { r.destroy(this.element) } }), i = s.extend({ init: function (t, e) { s.fn.init.call(this, t, e), this.element.kendoCalendar({ change: function () { e.trigger("suggestedAction", { text: r.toString(this.value(), "d"), type: "message" }) } }) }, destroy: function () { } }), r.chat.registerComponent("calendar", i), n = { wrapper: "k-widget k-chat", messageList: "k-avatars", messageTime: "k-message-time", messageGroup: "k-message-group", message: "k-message", only: "k-only", first: "k-first", middle: "k-middle", last: "k-last", author: "k-author", avatar: "k-avatar", noAvatar: "k-no-avatar", self: "k-alt", button: "k-button", buttonPrimary: "k-flat k-primary", typingIndicator: "k-typing-indicator", bubble: "k-bubble", suggestedActions: "k-quick-replies", suggestedAction: "k-quick-reply", cardWrapper: "k-card-container", cardDeck: "k-card-deck", card: "k-card", cardRich: "k-card-type-rich", cardBody: "k-card-body", cardImage: "k-card-image", cardTitle: "k-card-title", cardSubtitle: "k-card-subtitle", cardActions: "k-card-actions", cardActionsVertical: "k-card-actions-vertical", cardAction: "k-card-action", selected: "k-state-selected" }, a = r.chat.ChatView = o.extend({ init: function (t, e) { o.fn.init.call(this, t, e), this._list(), this._lastSender = null, this._attachEvents(), this._scrollable() }, events: [], options: {}, destroy: function () { o.fn.destroy.call(this), this._scrollDraggable && this._scrollDraggable.destroy(), this.list.empty(), this.list = null, this.element.off(h), this._lastSender = null }, _list: function () { var t = a.styles; this.list = this.element.addClass(t.messageList).attr("aria-live", "polite") }, _attachEvents: function () { var t = a.styles; this.element.on("click" + h, c(this._listClick, this)).on("click" + h, d + t.message, c(this._messageClick, this)).on("click" + h, d + t.suggestedAction, c(this._suggestedActionClick, this)).on("click" + h, d + t.cardAction + g + d + t.button, c(this._cardActionClick, this)) }, _scrollable: function () { var e, s, i = a.styles; this._scrollDraggable = new r.ui.Draggable(this.list, { distance: 0, filter: d + i.cardDeck }), this._scrollDraggable.bind("dragstart", function (i) { e = i.x.location, s = t(i.currentTarget).scrollLeft() }).bind("drag", r.throttle(function (i) { var n = e - i.x.location; t(i.currentTarget).scrollLeft(s + n) }, 15)) }, getTemplate: function (t) { return r.chat.getTemplate(t) }, getComponent: function (t) { return r.chat.getComponent(t) }, renderMessage: function (t, e) { t.timestamp || (t.timestamp = new Date); var s = this._renderTemplate(t.type, t); this._renderBubble(s, e), "typing" !== t.type && (this._lastSender = e.id) }, renderSuggestedActions: function (t) { this._removeSuggestedActions(); var e = this._renderTemplate("suggestedAction", { suggestedActions: t }); this.list.append(e), this._scrollToBottom() }, renderAttachments: function (e, s) { var i, n, r = "carousel" === e.attachmentLayout ? a.styles.cardDeck : a.styles.cardWrapper, o = t("<div>").addClass(r), l = e.attachments; for (i = 0; i < l.length; i++)n = this._renderTemplate(l[i].contentType, l[i].content), o.append(n); l.length && (this._renderBubble(o, s), this._lastSender = s.id) }, renderComponent: function (t) { var e = this.getComponent(t), s = new e({}, this); this.list.append(s.element), this._scrollToBottom() }, _removeTypingIndicator: function () { var t, e, s = a.styles, i = this.list.find(d + s.typingIndicator); i.length && (t = i.parents(d + s.message).first(), e = i.parents(d + s.messageGroup).first(), t.remove(), e.find(d + s.message).length || e.remove()) }, _removeSuggestedActions: function () { this.list.find(d + a.styles.suggestedActions).remove() }, _listClick: function (e) { var s = a.styles, i = t(e.target); i.hasClass(s.message) || i.parents(d + s.message).length || this._clearSelection() }, _messageClick: function (e) { this._clearSelection(), t(e.currentTarget).addClass(a.styles.selected) }, _suggestedActionClick: function (e) { var s = t(e.target).data("value") || ""; this.trigger("actionClick", { text: s }), this._removeSuggestedActions() }, _cardActionClick: function (e) { var s = t(e.target).data("value") || ""; this.trigger("actionClick", { text: s }) }, _renderBubble: function (t, e) { this._removeSuggestedActions(), this._removeTypingIndicator(); var s = this._getMessageGroup(e); this._appendToGroup(s, t), this._scrollToBottom() }, _renderTemplate: function (e, s) { var i, n, r, o, c = this.getComponent(e); return c ? (n = new c(s, this), i = n.element) : (r = this.getTemplate(e), o = l(!0, {}, s, { styles: a.styles }), i = t(r(o))), i }, _getMessageGroup: function (e) { var s, i = a.styles, n = this._getMessageGroupTemplate(e); return e.id === this._lastSender && null !== this._lastSender && (s = this.list.find(d + i.messageGroup).last(), s.length) ? s : t(n({ text: e.name, url: e.iconUrl, styles: i })).appendTo(this.list) }, _getMessageGroupTemplate: function (t) { var e = t.id === this.options.user.id, s = e ? u : p; return s }, _appendToGroup: function (t, e) { var s = a.styles, i = t.find(d + s.message), n = i.length; e.addClass(0 === n ? s.only : s.last), i.filter(d + s.only).removeClass(s.only).addClass(s.first), i.filter(d + s.last).removeClass(s.last).addClass(s.middle), t.append(e) }, _clearSelection: function () { var t = a.styles.selected; this.element.find(d + t).removeClass(t) }, _scrollToBottom: function () { this.list.scrollTop(this.list.prop("scrollHeight")) } }), l(!0, a, { styles: n }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, s) { (s || e)() }), function (t, define) { define("chat/messageBox.min", ["kendo.core.min"], t) }(function () { return function (t, e) { var s = window.kendo, i = s.ui.Widget, n = t.extend, a = t.proxy, r = ".", o = ".kendoChat", l = s.keys, c = '<svg version="1.1" ixmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><path d="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z"/></svg>', d = { input: "k-input", button: "k-button", buttonFlat: "k-flat", buttonIcon: "k-button-icon", buttonSend: "k-button-send", iconAdd: "k-icon k-i-add", hidden: "k-hidden" }, g = s.chat.ChatMessageBox = i.extend({ init: function (t, e) { i.fn.init.call(this, t, e), this._wrapper(), this._attachEvents(), this._typing = !1 }, events: [], options: { messages: { placeholder: "Type a message..." } }, destroy: function () { i.fn.destroy.call(this), this.input && (this.input.off(o), this.input.remove(), this.input = null), this.element.off(o), this.element.empty() }, _wrapper: function () { var e = g.styles, i = this.options.messages, n = "inputId_" + s.guid(); t("<label>").addClass(e.hidden).html(i.placeholder).attr("for", n).appendTo(this.element), this.input = t("<input type='text'>").addClass(e.input).attr("id", n).attr("placeholder", i.placeholder).appendTo(this.element), t("<button>").addClass(e.button).addClass(e.buttonFlat).addClass(e.buttonIcon).addClass(e.buttonSend).append(t(c)).appendTo(this.element) }, _attachEvents: function () { var t = g.styles; this.input.on("keydown" + o, a(this._keydown, this)).on("input" + o, a(this._input, this)).on("focusout" + o, a(this._inputFocusout, this)), this.element.on("click" + o, r + t.buttonSend, a(this._buttonClick, this)) }, _input: function () { var t = this.input.val(), e = t.length > 0; this._triggerTyping(e) }, _keydown: function (t) { var e = t.keyCode; switch (e) { case l.ENTER: t.preventDefault(), this._sendMessage() } }, _buttonClick: function (t) { t.preventDefault(), this._sendMessage() }, _sendMessage: function () { var t, e = this.input.val(); e.length && (this._triggerTyping(!1), t = { text: e }, this.trigger("sendMessage", t), this.input.val("")) }, _inputFocusout: function () { this._triggerTyping(!1) }, _triggerTyping: function (t) { t ? this._typing || (this.trigger("typingStart", {}), this._typing = !0) : this._typing && (this.trigger("typingEnd", {}), this._typing = !1) } }); n(!0, g, { styles: d }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, s) { (s || e)() }), function (t, define) { define("kendo.chat.min", ["chat/view.min", "chat/messageBox.min"], t) }(function () { return function (t, e) { var s = window.kendo, i = s.ui.Widget, n = t.extend, a = ".", r = { wrapper: "k-widget k-chat", canvas: "k-chat-canvas", viewWrapper: "k-message-list", messageBoxWrapper: "k-message-box" }, o = i.extend({ init: function (t, e, n) { i.fn.init.call(this, t, e), n && (this._events = n), this._user(), this._wrapper(), this._view(), this._messageBox(), s.notify(this) }, events: ["typingStart", "typingEnd", "post", "sendMessage", "actionClick"], options: { user: { name: "User", iconUrl: "" }, name: "Chat", messages: { placeholder: "Type a message..." } }, destroy: function () { this.view && (this.view.unbind(), this.view.destroy(), this.view = null), this.messageBox && (this.messageBox.unbind(), this.messageBox.destroy(), this.messageBox = null), i.fn.destroy.call(this) }, _user: function () { this.options.user.id = s.guid() }, getUser: function () { return n(!0, {}, this.options.user) }, _wrapper: function () { var t = o.styles, e = this.options, s = e.height, i = e.width; this.wrapper = this.element.addClass(t.wrapper).append("<div class='" + t.viewWrapper + "'></div><div class='" + t.messageBoxWrapper + "'></div>"), s && this.wrapper.height(s), i && this.wrapper.css("max-width", i) }, _view: function () { var t = this, e = o.styles, i = n(!0, {}, this.options), r = this.wrapper.find(a + e.viewWrapper + ""); this.view = new s.chat.ChatView(r, i), this.view.bind("actionClick", function (e) { t.trigger("actionClick", e), t.postMessage(e.text) }) }, _messageBox: function () { var t = this, e = o.styles, i = n(!0, {}, this.options), r = this.wrapper.find(a + e.messageBoxWrapper + ""); this.messageBox = new s.chat.ChatMessageBox(r, i), this.messageBox.bind("typingStart", function (e) { t.trigger("typingStart", e) }).bind("typingEnd", function (e) { t.trigger("typingEnd", e) }).bind("sendMessage", function (e) { t.trigger("sendMessage", e), t.postMessage(e.text) }) }, postMessage: function (t) { var e = n(!0, {}, { text: t, type: "message", timestamp: new Date, from: this.getUser() }); this.trigger("post", e), this.renderMessage(e, e.from) }, renderMessage: function (t, e) { this.view.renderMessage(t, e) }, renderSuggestedActions: function (t) { this.view.renderSuggestedActions(t) }, renderAttachments: function (t, e) { this.view.renderAttachments(t, e) } }); s.ui.plugin(o), n(!0, o, { styles: r }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, s) { (s || e)() });; !function (e, define) { define("kendo.slider.min", ["kendo.draganddrop.min"], e) }(function () { return function (e, t) { function n(e, t, n) { var i = n ? " k-slider-horizontal" : " k-slider-vertical", a = e.style ? e.style : t.attr("style"), o = t.attr("class") ? " " + t.attr("class") : "", r = ""; return "bottomRight" == e.tickPlacement ? r = " k-slider-bottomright" : "topLeft" == e.tickPlacement && (r = " k-slider-topleft"), a = a ? " style='" + a + "'" : "", "<div class='k-widget k-slider" + i + o + "'" + a + "><div class='k-slider-wrap" + (e.showButtons ? " k-slider-buttons" : "") + r + "'></div></div>" } function i(e, t, n, i) { var a = ""; return a = n ? !i && "increase" == t || i && "increase" != t ? "k-i-arrow-60-right" : "k-i-arrow-60-left" : "increase" == t ? "k-i-arrow-60-up" : "k-i-arrow-60-down", "<a class='k-button k-button-" + t + "' title='" + e[t + "ButtonTitle"] + "' aria-label='" + e[t + "ButtonTitle"] + "'><span class='k-icon " + a + "'></span></a>" } function a(e, t) { var n, i = "<ul class='k-reset k-slider-items'>", a = H.floor(u(t / e.smallStep)) + 1; for (n = 0; n < a; n++)i += "<li class='k-tick' role='presentation'>&nbsp;</li>"; return i += "</ul>" } function o(e, t) { var n = t.is("input") ? 1 : 2, i = 2 == n ? e.leftDragHandleTitle : e.dragHandleTitle; return "<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='" + i + "' role='slider' aria-valuemin='" + e.min + "' aria-valuemax='" + e.max + "' aria-valuenow='" + (n > 1 ? e.selectionStart || e.min : e.value || e.min) + "'>Drag</a>" + (n > 1 ? "<a href='#' class='k-draghandle' title='" + e.rightDragHandleTitle + "'role='slider' aria-valuemin='" + e.min + "' aria-valuemax='" + e.max + "' aria-valuenow='" + (e.selectionEnd || e.max) + "'>Drag</a>" : "") + "</div>" } function r(e) { return function (t) { return t + e } } function l(e) { return function () { return e } } function s(e) { return (e + "").replace(".", m.cultures.current.numberFormat["."]) } function d(e) { var t = "" + e, n = 0; return t = t.split("."), t[1] && (n = t[1].length), n = n > 10 ? 10 : n } function u(e) { var t, n; return e = parseFloat(e, 10), t = d(e), n = H.pow(10, t || 0), H.round(e * n) / n } function p(e, n) { var i = x(e.getAttribute(n)); return null === i && (i = t), i } function c(e) { return typeof e !== Q } function f(e) { return 1e4 * e } var _, m = window.kendo, v = m.ui.Widget, h = m.ui.Draggable, g = m._outerWidth, w = m._outerHeight, k = e.extend, S = m.format, x = m.parseFloat, D = e.proxy, b = e.isArray, H = Math, T = m.support, y = T.pointers, z = T.msPointers, I = "change", E = "slide", C = ".slider", F = "touchstart" + C + " mousedown" + C, R = y ? "pointerdown" + C : z ? "MSPointerDown" + C : F, A = "touchend" + C + " mouseup" + C, V = y ? "pointerup" : z ? "MSPointerUp" + C : A, q = "moveSelection", M = "keydown" + C, P = "click" + C, W = "mouseover" + C, N = "focus" + C, O = "blur" + C, B = ".k-draghandle", L = ".k-slider-track", Z = ".k-tick", U = "k-state-selected", X = "k-state-focused", Y = "k-state-default", j = "k-state-disabled", K = "disabled", Q = "undefined", G = "tabindex", J = m.getTouches, $ = v.extend({ init: function (e, t) { var n, i = this; if (v.fn.init.call(i, e, t), t = i.options, i._isHorizontal = "horizontal" == t.orientation, i._isRtl = i._isHorizontal && m.support.isRtl(e), i._position = i._isHorizontal ? "left" : "bottom", i._sizeFn = i._isHorizontal ? "width" : "height", i._outerSize = i._isHorizontal ? g : w, t.tooltip.format = t.tooltip.enabled ? t.tooltip.format || "{0}" : "{0}", t.smallStep <= 0) throw Error("Kendo UI Slider smallStep must be a positive number."); i._createHtml(), i.wrapper = i.element.closest(".k-slider"), i._trackDiv = i.wrapper.find(L), i._setTrackDivWidth(), i._maxSelection = i._trackDiv[i._sizeFn](), i._sliderItemsInit(), i._reset(), i._tabindex(i.wrapper.find(B)), i[t.enabled ? "enable" : "disable"](), n = m.support.isRtl(i.wrapper) ? -1 : 1, i._keyMap = { 37: r(-1 * n * t.smallStep), 40: r(-t.smallStep), 39: r(1 * n * t.smallStep), 38: r(+t.smallStep), 35: l(t.max), 36: l(t.min), 33: r(+t.largeStep), 34: r(-t.largeStep) }, m.notify(i) }, events: [I, E], options: { enabled: !0, min: 0, max: 10, smallStep: 1, largeStep: 5, orientation: "horizontal", tickPlacement: "both", tooltip: { enabled: !0, format: "{0}" } }, _distance: function () { return u(this.options.max - this.options.min) }, _resize: function () { this._setTrackDivWidth(), this.wrapper.find(".k-slider-items").remove(), this._maxSelection = this._trackDiv[this._sizeFn](), this._sliderItemsInit(), this._refresh(), this.options.enabled && this.enable(!0) }, _sliderItemsInit: function () { var t = this, n = t.options, i = t._maxSelection / ((n.max - n.min) / n.smallStep), o = t._calculateItemsWidth(H.floor(t._distance() / n.smallStep)); "none" != n.tickPlacement && i >= 2 && (e(this.element).parent().find(".k-slider-items").remove(), t._trackDiv.before(a(n, t._distance())), t._setItemsWidth(o), t._setItemsTitle()), t._calculateSteps(o), "none" != n.tickPlacement && i >= 2 && n.largeStep >= n.smallStep && t._setItemsLargeTick() }, getSize: function () { return m.dimensions(this.wrapper) }, _setTrackDivWidth: function () { var e = this, t = 2 * parseFloat(e._trackDiv.css(e._isRtl ? "right" : e._position), 10); e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]() - 2 - t) }, _setItemsWidth: function (t) { var n, i = this, a = i.options, o = 0, r = t.length - 1, l = i.wrapper.find(Z), s = 0, d = 2, u = l.length, p = 0; for (n = 0; n < u - 2; n++)e(l[n + 1])[i._sizeFn](t[n]); if (i._isHorizontal ? (e(l[o]).addClass("k-first")[i._sizeFn](t[r - 1]), e(l[r]).addClass("k-last")[i._sizeFn](t[r])) : (e(l[r]).addClass("k-first")[i._sizeFn](t[r]), e(l[o]).addClass("k-last")[i._sizeFn](t[r - 1])), i._distance() % a.smallStep !== 0 && !i._isHorizontal) { for (n = 0; n < t.length; n++)p += t[n]; s = i._maxSelection - p, s += parseFloat(i._trackDiv.css(i._position), 10) + d, i.wrapper.find(".k-slider-items").css("padding-top", s) } }, _setItemsTitle: function () { for (var t = this, n = t.options, i = t.wrapper.find(Z), a = n.min, o = i.length, r = t._isHorizontal && !t._isRtl ? 0 : o - 1, l = t._isHorizontal && !t._isRtl ? o : -1, s = t._isHorizontal && !t._isRtl ? 1 : -1; r - l !== 0; r += s)e(i[r]).attr("title", S(n.tooltip.format, u(a))), a += n.smallStep }, _setItemsLargeTick: function () { var t, n, i, a = this, o = a.options, r = a.wrapper.find(Z), l = 0; if (f(o.largeStep) % f(o.smallStep) === 0 || a._distance() / o.largeStep >= 3) for (a._isHorizontal || a._isRtl || (r = e.makeArray(r).reverse()), l = 0; l < r.length; l++)t = e(r[l]), n = a._values[l], i = u(f(n - this.options.min)), i % f(o.smallStep) === 0 && i % f(o.largeStep) === 0 && (t.addClass("k-tick-large").html("<span class='k-label'>" + t.attr("title") + "</span>"), 0 !== l && l !== r.length - 1 && t.css("line-height", t[a._sizeFn]() + "px")) }, _calculateItemsWidth: function (e) { var t, n, i, a = this, o = a.options, r = parseFloat(a._trackDiv.css(a._sizeFn)) + 1, l = a._distance(), s = r / l; for (l / o.smallStep - H.floor(l / o.smallStep) > 0 && (r -= l % o.smallStep * s), t = r / e, n = [], i = 0; i < e - 1; i++)n[i] = t; return n[e - 1] = n[e] = t / 2, a._roundWidths(n) }, _roundWidths: function (e) { var t, n = 0, i = e.length; for (t = 0; t < i; t++)n += e[t] - H.floor(e[t]), e[t] = H.floor(e[t]); return n = H.round(n), this._addAdditionalSize(n, e) }, _addAdditionalSize: function (e, t) { if (0 === e) return t; var n, i = parseFloat(t.length - 1) / parseFloat(1 == e ? e : e - 1); for (n = 0; n < e; n++)t[parseInt(H.round(i * n), 10)] += 1; return t }, _calculateSteps: function (e) { var t, n = this, i = n.options, a = i.min, o = 0, r = n._distance(), l = H.ceil(r / i.smallStep), s = 1; if (l += r / i.smallStep % 1 === 0 ? 1 : 0, e.splice(0, 0, 2 * e[l - 2]), e.splice(l - 1, 1, 2 * e.pop()), n._pixelSteps = [o], n._values = [a], 0 !== l) { for (; s < l;)o += (e[s - 1] + e[s]) / 2, n._pixelSteps[s] = o, a += i.smallStep, n._values[s] = u(a), s++; t = r % i.smallStep === 0 ? l - 1 : l, n._pixelSteps[t] = n._maxSelection, n._values[t] = i.max, n._isRtl && (n._pixelSteps.reverse(), n._values.reverse()) } }, _getValueFromPosition: function (e, t) { var n, i = this, a = i.options, o = H.max(a.smallStep * (i._maxSelection / i._distance()), 0), r = 0, l = o / 2; if (i._isHorizontal ? (r = e - t.startPoint, i._isRtl && (r = i._maxSelection - r)) : r = t.startPoint - e, i._maxSelection - (parseInt(i._maxSelection % o, 10) - 3) / 2 < r) return a.max; for (n = 0; n < i._pixelSteps.length; n++)if (H.abs(i._pixelSteps[n] - r) - 1 <= l) return u(i._values[n]) }, _getFormattedValue: function (e, t) { var n, i, a, o = this, r = "", l = o.options.tooltip; return b(e) ? (i = e[0], a = e[1]) : t && t.type && (i = t.selectionStart, a = t.selectionEnd), t && (n = t.tooltipTemplate), !n && l.template && (n = m.template(l.template)), b(e) || t && t.type ? n ? r = n({ selectionStart: i, selectionEnd: a }) : (i = S(l.format, i), a = S(l.format, a), r = i + " - " + a) : (t && (t.val = e), r = n ? n({ value: e }) : S(l.format, e)), r }, _getDraggableArea: function () { var e = this, t = m.getOffset(e._trackDiv); return { startPoint: e._isHorizontal ? t.left : t.top + e._maxSelection, endPoint: e._isHorizontal ? t.left + e._maxSelection : t.top } }, _createHtml: function () { var e = this, t = e.element, a = e.options, r = t.find("input"); 2 == r.length ? (r.eq(0).prop("value", s(a.selectionStart)), r.eq(1).prop("value", s(a.selectionEnd))) : t.prop("value", s(a.value)), t.wrap(n(a, t, e._isHorizontal)).hide(), a.showButtons && t.before(i(a, "increase", e._isHorizontal, e._isRtl)).before(i(a, "decrease", e._isHorizontal, e._isRtl)), t.before(o(a, t)) }, _focus: function (t) { var n = this, i = t.target, a = n.value(), o = n._drag; o || (i == n.wrapper.find(B).eq(0)[0] ? (o = n._firstHandleDrag, n._activeHandle = 0) : (o = n._lastHandleDrag, n._activeHandle = 1), a = a[n._activeHandle]), e(i).addClass(X + " " + U), o && (n._activeHandleDrag = o, o.selectionStart = n.options.selectionStart, o.selectionEnd = n.options.selectionEnd, o._updateTooltip(a)) }, _focusWithMouse: function (t) { t = e(t); var n = this, i = t.is(B) ? t.index() : 0; window.setTimeout(function () { n.wrapper.find(B)[2 == i ? 1 : 0].focus() }, 1), n._setTooltipTimeout() }, _blur: function (t) { var n = this, i = n._activeHandleDrag; e(t.target).removeClass(X + " " + U), i && (i._removeTooltip(), delete n._activeHandleDrag, delete n._activeHandle) }, _setTooltipTimeout: function () { var e = this; e._tooltipTimeout = window.setTimeout(function () { var t = e._drag || e._activeHandleDrag; t && t._removeTooltip() }, 300) }, _clearTooltipTimeout: function () { var e, t = this; window.clearTimeout(this._tooltipTimeout), e = t._drag || t._activeHandleDrag, e && e.tooltipDiv && e.tooltipDiv.stop(!0, !1).css("opacity", 1) }, _reset: function () { var t = this, n = t.element, i = n.attr("form"), a = i ? e("#" + i) : n.closest("form"); a[0] && (t._form = a.on("reset", D(t._formResetHandler, t))) }, min: function (e) { return e ? (this.setOptions({ min: e }), t) : this.options.min }, max: function (e) { return e ? (this.setOptions({ max: e }), t) : this.options.max }, setOptions: function (e) { v.fn.setOptions.call(this, e), this._sliderItemsInit(), this._refresh() }, destroy: function () { this._form && this._form.off("reset", this._formResetHandler), v.fn.destroy.call(this) } }), ee = $.extend({ init: function (n, i) { var a, o = this; n.type = "text", i = k({}, { value: p(n, "value"), min: p(n, "min"), max: p(n, "max"), smallStep: p(n, "step") }, i), n = e(n), i && i.enabled === t && (i.enabled = !n.is("[disabled]")), $.fn.init.call(o, n, i), i = o.options, c(i.value) && null !== i.value || (i.value = i.min, n.prop("value", s(i.min))), i.value = H.max(H.min(i.value, i.max), i.min), a = o.wrapper.find(B), this._selection = new ee.Selection(a, o, i), o._drag = new ee.Drag(a, "", o, i) }, options: { name: "Slider", showButtons: !0, increaseButtonTitle: "Increase", decreaseButtonTitle: "Decrease", dragHandleTitle: "drag", tooltip: { format: "{0:#,#.##}" }, value: null }, enable: function (n) { var i, a, o, r = this, l = r.options; r.disable(), n !== !1 && (r.wrapper.removeClass(j).addClass(Y), r.wrapper.find("input").removeAttr(K), i = function (n) { var i, a, o, l = J(n)[0]; if (l) { if (i = r._isHorizontal ? l.location.pageX : l.location.pageY, a = r._getDraggableArea(), o = e(n.target), o.hasClass("k-draghandle")) return o.addClass(X + " " + U), t; r._update(r._getValueFromPosition(i, a)), r._focusWithMouse(n.target), r._drag.dragstart(n), n.preventDefault() } }, r.wrapper.find(Z + ", " + L).on(R, i).end().on(R, function () { e(document.documentElement).one("selectstart", m.preventDefault) }).on(V, function () { r._drag._end() }), r.wrapper.find(B).attr(G, 0).on(A, function () { r._setTooltipTimeout() }).on(P, function (e) { r._focusWithMouse(e.target), e.preventDefault() }).on(N, D(r._focus, r)).on(O, D(r._blur, r)), a = D(function (e) { var t = r._nextValueByIndex(r._valueIndex + 1 * e); r._setValueInRange(t), r._drag._updateTooltip(t) }, r), l.showButtons && (o = D(function (e, t) { this._clearTooltipTimeout(), (1 === e.which || T.touch && 0 === e.which) && (a(t), this.timeout = setTimeout(D(function () { this.timer = setInterval(function () { a(t) }, 60) }, this), 200)) }, r), r.wrapper.find(".k-button").on(A, D(function (e) { this._clearTimer(), r._focusWithMouse(e.target) }, r)).on(W, function (t) { e(t.currentTarget).addClass("k-state-hover") }).on("mouseout" + C, D(function (t) { e(t.currentTarget).removeClass("k-state-hover"), this._clearTimer() }, r)).eq(0).on(F, D(function (e) { o(e, 1) }, r)).click(!1).end().eq(1).on(F, D(function (e) { o(e, -1) }, r)).click(m.preventDefault)), r.wrapper.find(B).off(M, !1).on(M, D(this._keydown, r)), l.enabled = !0) }, disable: function () { var t = this; t.wrapper.removeClass(Y).addClass(j), e(t.element).prop(K, K), t.wrapper.find(".k-button").off(F).on(F, function (t) { t.preventDefault(), e(this).addClass("k-state-active") }).off(A).on(A, function (t) { t.preventDefault(), e(this).removeClass("k-state-active") }).off("mouseleave" + C).on("mouseleave" + C, m.preventDefault).off(W).on(W, m.preventDefault), t.wrapper.find(Z + ", " + L).off(R).off(V), t.wrapper.find(B).attr(G, -1).off(A).off(M).off(P).off(N).off(O), t.options.enabled = !1 }, _update: function (e) { var t = this, n = t.value() != e; t.value(e), n && t.trigger(I, { value: t.options.value }) }, value: function (e) { var n = this, i = n.options; return e = u(e), isNaN(e) ? i.value : (e >= i.min && e <= i.max && i.value != e && (n.element.prop("value", s(e)), i.value = e, n._refreshAriaAttr(e), n._refresh()), t) }, _refresh: function () { this.trigger(q, { value: this.options.value }) }, _refreshAriaAttr: function (e) { var t, n = this, i = n._drag; t = i && i._tooltipDiv ? i._tooltipDiv.text() : n._getFormattedValue(e, null), this.wrapper.find(B).attr("aria-valuenow", e).attr("aria-valuetext", t) }, _clearTimer: function () { clearTimeout(this.timeout), clearInterval(this.timer) }, _keydown: function (e) { var t = this; e.keyCode in t._keyMap && (t._clearTooltipTimeout(), t._setValueInRange(t._keyMap[e.keyCode](t.options.value)), t._drag._updateTooltip(t.value()), e.preventDefault()) }, _setValueInRange: function (e) { var n = this, i = n.options; return e = u(e), isNaN(e) ? (n._update(i.min), t) : (e = H.max(H.min(e, i.max), i.min), n._update(e), t) }, _nextValueByIndex: function (e) { var t = this._values.length; return this._isRtl && (e = t - 1 - e), this._values[H.max(0, H.min(e, t - 1))] }, _formResetHandler: function () { var e = this, t = e.options.min; setTimeout(function () { var n = e.element[0].value; e.value("" === n || isNaN(n) ? t : n) }) }, destroy: function () { var e = this; $.fn.destroy.call(e), e.wrapper.off(C).find(".k-button").off(C).end().find(B).off(C).end().find(Z + ", " + L).off(C).end(), e._drag.draggable.destroy(), e._drag._removeTooltip(!0) } }); ee.Selection = function (e, t, n) { function i(i) { var a = i - n.min, o = t._valueIndex = H.ceil(u(a / n.smallStep)), r = parseInt(t._pixelSteps[o], 10), l = t._trackDiv.find(".k-slider-selection"), s = parseInt(t._outerSize(e) / 2, 10), d = t._isRtl ? 2 : 0; l[t._sizeFn](t._isRtl ? t._maxSelection - r : r), e.css(t._position, r - s - d) } i(n.value), t.bind([E, q], function (e) { i(parseFloat(e.value, 10)) }), t.bind(I, function (e) { i(parseFloat(e.sender.value(), 10)) }) }, ee.Drag = function (e, t, n, i) { var a = this; a.owner = n, a.options = i, a.element = e, a.type = t, a.draggable = new h(e, { distance: 0, dragstart: D(a._dragstart, a), drag: D(a.drag, a), dragend: D(a.dragend, a), dragcancel: D(a.dragcancel, a) }), e.click(!1) }, ee.Drag.prototype = { dragstart: function (e) { this.owner._activeDragHandle = this, this.draggable.userEvents.cancel(), this._dragstart(e), this.dragend() }, _dragstart: function (n) { var i = this, a = i.owner, o = i.options; return o.enabled ? (this.owner._activeDragHandle = this, a.element.off(W), a.wrapper.find("." + X).removeClass(X + " " + U), i.element.addClass(X + " " + U), e(document.documentElement).css("cursor", "pointer"), i.dragableArea = a._getDraggableArea(), i.step = H.max(o.smallStep * (a._maxSelection / a._distance()), 0), i.type ? (i.selectionStart = o.selectionStart, i.selectionEnd = o.selectionEnd, a._setZIndex(i.type)) : i.oldVal = i.val = o.value, i._removeTooltip(!0), i._createTooltip(), t) : (n.preventDefault(), t) }, _createTooltip: function () { var t, n, i = this, a = i.owner, o = i.options.tooltip, r = "", l = e(window); o.enabled && (o.template && (t = i.tooltipTemplate = m.template(o.template)), e(".k-slider-tooltip").remove(), i.tooltipDiv = e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body), r = a._getFormattedValue(i.val || a.value(), i), i.type || (n = "k-callout-" + (a._isHorizontal ? "s" : "e"), i.tooltipInnerDiv = "<div class='k-callout " + n + "'><!-- --></div>", r += i.tooltipInnerDiv), i.tooltipDiv.html(r), i._scrollOffset = { top: l.scrollTop(), left: l.scrollLeft() }, i.moveTooltip()) }, drag: function (e) { var t, n = this, i = n.owner, a = e.x.location, o = e.y.location, r = n.dragableArea.startPoint, l = n.dragableArea.endPoint; e.preventDefault(), n.val = i._isHorizontal ? i._isRtl ? n.constrainValue(a, r, l, a < l) : n.constrainValue(a, r, l, a >= l) : n.constrainValue(o, l, r, o <= l), n.oldVal != n.val && (n.oldVal = n.val, n.type ? ("firstHandle" == n.type ? n.selectionStart = n.val < n.selectionEnd ? n.val : n.selectionEnd = n.val : n.val > n.selectionStart ? n.selectionEnd = n.val : n.selectionStart = n.selectionEnd = n.val, t = { values: [n.selectionStart, n.selectionEnd], value: [n.selectionStart, n.selectionEnd] }) : t = { value: n.val }, i.trigger(E, t)), n._updateTooltip(n.val) }, _updateTooltip: function (e) { var t = this, n = t.options, i = n.tooltip, a = ""; i.enabled && (t.tooltipDiv || t._createTooltip(), a = t.owner._getFormattedValue(u(e), t), t.type || (a += t.tooltipInnerDiv), t.tooltipDiv.html(a), t.moveTooltip()) }, dragcancel: function () { return this.owner._refresh(), e(document.documentElement).css("cursor", ""), this._end() }, dragend: function () { var t = this, n = t.owner; return e(document.documentElement).css("cursor", ""), t.type ? n._update(t.selectionStart, t.selectionEnd) : (n._update(t.val), t.draggable.userEvents._disposeAll()), t.draggable.userEvents.cancel(), t._end() }, _end: function () { var e = this, t = e.owner; return t._focusWithMouse(e.element), t.element.on(W), !1 }, _removeTooltip: function (t) { var n = this, i = n.owner; n.tooltipDiv && i.options.tooltip.enabled && i.options.enabled && (t ? (n.tooltipDiv.remove(), n.tooltipDiv = null) : n.tooltipDiv.fadeOut("slow", function () { e(this).remove(), n.tooltipDiv = null })) }, moveTooltip: function () { var t, n, i, a, o = this, r = o.owner, l = 0, s = 0, d = o.element, u = m.getOffset(d), p = 8, c = e(window), f = o.tooltipDiv.find(".k-callout"), _ = g(o.tooltipDiv), v = w(o.tooltipDiv); o.type ? (t = r.wrapper.find(B), u = m.getOffset(t.eq(0)), n = m.getOffset(t.eq(1)), r._isHorizontal ? (l = n.top, s = u.left + (n.left - u.left) / 2) : (l = u.top + (n.top - u.top) / 2, s = n.left), a = g(t.eq(0)) + 2 * p) : (l = u.top, s = u.left, a = g(d) + 2 * p), r._isHorizontal ? (s -= parseInt((_ - r._outerSize(d)) / 2, 10), l -= v + p + (f.length ? f.height() : 0)) : (l -= parseInt((v - r._outerSize(d)) / 2, 10), s -= _ + p + (f.length ? f.width() : 0)), r._isHorizontal ? (i = o._flip(l, v, a, w(c) + o._scrollOffset.top), l += i, s += o._fit(s, _, g(c) + o._scrollOffset.left)) : (i = o._flip(s, _, a, g(c) + o._scrollOffset.left), l += o._fit(l, v, w(c) + o._scrollOffset.top), s += i), i > 0 && f && (f.removeClass(), f.addClass("k-callout k-callout-" + (r._isHorizontal ? "n" : "w"))), o.tooltipDiv.css({ top: l, left: s }) }, _fit: function (e, t, n) { var i = 0; return e + t > n && (i = n - (e + t)), e < 0 && (i = -e), i }, _flip: function (e, t, n, i) { var a = 0; return e + t > i && (a += -(n + t)), e + a < 0 && (a += n + t), a }, constrainValue: function (e, t, n, i) { var a = this, o = 0; return o = t < e && e < n ? a.owner._getValueFromPosition(e, a.dragableArea) : i ? a.options.max : a.options.min } }, m.ui.plugin(ee), _ = $.extend({ init: function (n, i) { var a, o = this, r = e(n).find("input"), l = r.eq(0)[0], d = r.eq(1)[0]; l.type = "text", d.type = "text", i && i.showButtons && (window.console && window.console.warn("showbuttons option is not supported for the range slider, ignoring"), i.showButtons = !1), i = k({}, { selectionStart: p(l, "value"), min: p(l, "min"), max: p(l, "max"), smallStep: p(l, "step") }, { selectionEnd: p(d, "value"), min: p(d, "min"), max: p(d, "max"), smallStep: p(d, "step") }, i), i && i.enabled === t && (i.enabled = !r.is("[disabled]")), $.fn.init.call(o, n, i), i = o.options, c(i.selectionStart) && null !== i.selectionStart || (i.selectionStart = i.min, r.eq(0).prop("value", s(i.min))), c(i.selectionEnd) && null !== i.selectionEnd || (i.selectionEnd = i.max, r.eq(1).prop("value", s(i.max))), a = o.wrapper.find(B), this._selection = new _.Selection(a, o, i), o._firstHandleDrag = new ee.Drag(a.eq(0), "firstHandle", o, i), o._lastHandleDrag = new ee.Drag(a.eq(1), "lastHandle", o, i) }, options: { name: "RangeSlider", leftDragHandleTitle: "drag", rightDragHandleTitle: "drag", tooltip: { format: "{0:#,#.##}" }, selectionStart: null, selectionEnd: null }, enable: function (n) { var i, a = this, o = a.options; a.disable(), n !== !1 && (a.wrapper.removeClass(j).addClass(Y), a.wrapper.find("input").removeAttr(K), i = function (n) { var i, r, l, s, d, u, p, c = J(n)[0]; if (c) { if (i = a._isHorizontal ? c.location.pageX : c.location.pageY, r = a._getDraggableArea(), l = a._getValueFromPosition(i, r), s = e(n.target), s.hasClass("k-draghandle")) return a.wrapper.find("." + X).removeClass(X + " " + U), s.addClass(X + " " + U), t; l < o.selectionStart ? (d = l, u = o.selectionEnd, p = a._firstHandleDrag) : l > a.selectionEnd ? (d = o.selectionStart, u = l, p = a._lastHandleDrag) : l - o.selectionStart <= o.selectionEnd - l ? (d = l, u = o.selectionEnd, p = a._firstHandleDrag) : (d = o.selectionStart, u = l, p = a._lastHandleDrag), p.dragstart(n), a._setValueInRange(d, u), a._focusWithMouse(p.element) } }, a.wrapper.find(Z + ", " + L).on(R, i).end().on(R, function () { e(document.documentElement).one("selectstart", m.preventDefault) }).on(V, function () { a._activeDragHandle && a._activeDragHandle._end() }), a.wrapper.find(B).attr(G, 0).on(A, function () { a._setTooltipTimeout() }).on(P, function (e) { a._focusWithMouse(e.target), e.preventDefault() }).on(N, D(a._focus, a)).on(O, D(a._blur, a)), a.wrapper.find(B).off(M, m.preventDefault).eq(0).on(M, D(function (e) { this._keydown(e, "firstHandle") }, a)).end().eq(1).on(M, D(function (e) { this._keydown(e, "lastHandle") }, a)), a.options.enabled = !0) }, disable: function () { var e = this; e.wrapper.removeClass(Y).addClass(j), e.wrapper.find("input").prop(K, K), e.wrapper.find(Z + ", " + L).off(R).off(V), e.wrapper.find(B).attr(G, -1).off(A).off(M).off(P).off(N).off(O), e.options.enabled = !1 }, _keydown: function (e, t) { var n, i, a, o = this, r = o.options.selectionStart, l = o.options.selectionEnd; e.keyCode in o._keyMap && (o._clearTooltipTimeout(), "firstHandle" == t ? (a = o._activeHandleDrag = o._firstHandleDrag, r = o._keyMap[e.keyCode](r), r > l && (l = r)) : (a = o._activeHandleDrag = o._lastHandleDrag, l = o._keyMap[e.keyCode](l), r > l && (r = l)), o._setValueInRange(u(r), u(l)), n = Math.max(r, o.options.selectionStart), i = Math.min(l, o.options.selectionEnd), a.selectionEnd = Math.max(i, o.options.selectionStart), a.selectionStart = Math.min(n, o.options.selectionEnd), a._updateTooltip(o.value()[o._activeHandle]), e.preventDefault()) }, _update: function (e, t) { var n = this, i = n.value(), a = i[0] != e || i[1] != t; n.value([e, t]), a && n.trigger(I, { values: [e, t], value: [e, t] }) }, value: function (e) { return e && e.length ? this._value(e[0], e[1]) : this._value() }, _value: function (e, n) { var i = this, a = i.options, o = a.selectionStart, r = a.selectionEnd; return isNaN(e) && isNaN(n) ? [o, r] : (e = u(e), n = u(n), e >= a.min && e <= a.max && n >= a.min && n <= a.max && e <= n && (o == e && r == n || (i.element.find("input").eq(0).prop("value", s(e)).end().eq(1).prop("value", s(n)), a.selectionStart = e, a.selectionEnd = n, i._refresh(), i._refreshAriaAttr(e, n))), t) }, values: function (e, t) { return b(e) ? this._value(e[0], e[1]) : this._value(e, t) }, _refresh: function () { var e = this, t = e.options; e.trigger(q, { values: [t.selectionStart, t.selectionEnd], value: [t.selectionStart, t.selectionEnd] }), t.selectionStart == t.max && t.selectionEnd == t.max && e._setZIndex("firstHandle") }, _refreshAriaAttr: function (e, t) { var n, i = this, a = i.wrapper.find(B), o = i._activeHandleDrag; n = i._getFormattedValue([e, t], o), a.eq(0).attr("aria-valuenow", e), a.eq(1).attr("aria-valuenow", t), a.attr("aria-valuetext", n) }, _setValueInRange: function (e, t) { var n = this.options; e = H.max(H.min(e, n.max), n.min), t = H.max(H.min(t, n.max), n.min), e == n.max && t == n.max && this._setZIndex("firstHandle"), this._update(H.min(e, t), H.max(e, t)) }, _setZIndex: function (t) { this.wrapper.find(B).each(function (n) { e(this).css("z-index", "firstHandle" == t ? 1 - n : n) }) }, _formResetHandler: function () { var e = this, t = e.options; setTimeout(function () { var n = e.element.find("input"), i = n[0].value, a = n[1].value; e.values("" === i || isNaN(i) ? t.min : i, "" === a || isNaN(a) ? t.max : a) }) }, destroy: function () { var e = this; $.fn.destroy.call(e), e.wrapper.off(C).find(Z + ", " + L).off(C).end().find(B).off(C), e._firstHandleDrag.draggable.destroy(), e._lastHandleDrag.draggable.destroy() } }), _.Selection = function (e, t, n) { function i(i) { i = i || []; var o = i[0] - n.min, r = i[1] - n.min, l = H.ceil(u(o / n.smallStep)), s = H.ceil(u(r / n.smallStep)), d = t._pixelSteps[l], p = t._pixelSteps[s], c = parseInt(t._outerSize(e.eq(0)) / 2, 10), f = t._isRtl ? 2 : 0; e.eq(0).css(t._position, d - c - f).end().eq(1).css(t._position, p - c - f), a(d, p) } function a(e, n) { var i, a, o = t._trackDiv.find(".k-slider-selection"); i = H.abs(e - n), o[t._sizeFn](i), t._isRtl ? (a = H.max(e, n), o.css("right", t._maxSelection - a - 1)) : (a = H.min(e, n), o.css(t._position, a - 1)) } i(t.value()), t.bind([I, E, q], function (e) { i(e.values) }) }, m.ui.plugin(_) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.colorpicker.min", ["kendo.core.min", "kendo.color.min", "kendo.popup.min", "kendo.slider.min", "kendo.userevents.min", "kendo.button.min"], e) }(function () { return function (e, t, a) { function o(e, t, a) { a = d(a), a && !a.equals(e.color()) && ("change" == t && (e._value = a), a = 1 != a.a ? a.toCssRgba() : a.toCss(), e.trigger(t, { value: a })) } function s(e, t, a) { var o, s; return e = Array.prototype.slice.call(e), o = e.length, s = e.indexOf(t), s < 0 ? a < 0 ? e[o - 1] : e[0] : (s += a, s < 0 ? s += o : s %= o, e[s]) } function l(e) { e.preventDefault() } function n(e, t) { return function () { return e.apply(t, arguments) } } var i = window.kendo, r = i.ui, c = r.Widget, d = i.parseColor, p = i.Color, u = i.keys, C = "background-color", h = "k-state-selected", F = "000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7", f = "FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000", _ = "#ffffff", v = { apply: "Apply", cancel: "Cancel", noColor: "no color", clearColor: "Clear color", previewInput: "Color Hexadecimal Code" }, k = ".kendoColorTools", g = "click" + k, m = "keydown" + k, b = i.support.browser, y = b.msie && b.version < 9, w = c.extend({ init: function (e, t) { var a, o = this; c.fn.init.call(o, e, t), e = o.element, t = o.options, o._value = t.value = d(t.value), o._tabIndex = e.attr("tabIndex") || 0, a = o._ariaId = t.ariaId, a && e.attr("aria-labelledby", a), t._standalone && (o._triggerSelect = o._triggerChange) }, options: { name: "ColorSelector", value: null, _standalone: !0 }, events: ["change", "select", "cancel"], color: function (e) { return e !== a && (this._value = d(e), this._updateUI(this._value)), this._value }, value: function (e) { return e = this.color(e), e && (e = this.options.opacity ? e.toCssRgba() : e.toCss()), e || null }, enable: function (t) { 0 === arguments.length && (t = !0), e(".k-disabled-overlay", this.wrapper).remove(), t || this.wrapper.append("<div class='k-disabled-overlay'></div>"), this._onEnable(t) }, _select: function (e, t) { var a = this._value; e = this.color(e), t || (this.element.trigger("change"), e.equals(a) ? this._standalone || this.trigger("cancel") : this.trigger("change", { value: this.value() })) }, _triggerSelect: function (e) { o(this, "select", e) }, _triggerChange: function (e) { o(this, "change", e) }, destroy: function () { this.element && this.element.off(k), this.wrapper && this.wrapper.off(k).find("*").off(k), this.wrapper = null, c.fn.destroy.call(this) }, _updateUI: e.noop, _selectOnHide: function () { return null }, _cancel: function () { this.trigger("cancel") } }), I = w.extend({ init: function (t, a) { var o, s, l, r, c = this; if (w.fn.init.call(c, t, a), t = c.wrapper = c.element, a = c.options, o = a.palette, "websafe" == o ? (o = f, a.columns = 18) : "basic" == o && (o = F), "string" == typeof o && (o = o.split(",")), e.isArray(o) && (o = e.map(o, function (e) { return d(e) })), c._selectedID = (a.ariaId || i.guid()) + "_selected", t.addClass("k-widget k-colorpalette").attr("role", "grid").attr("aria-readonly", "true").append(e(c._template({ colors: o, columns: a.columns, tileSize: a.tileSize, value: c._value, id: a.ariaId }))).on(g, ".k-item", function (t) { c._select(e(t.currentTarget).css(C)) }).attr("tabIndex", c._tabIndex).on(m, n(c._keydown, c)), s = a.tileSize) { if (/number|string/.test(typeof s)) l = r = parseFloat(s); else { if ("object" != typeof s) throw Error("Unsupported value for the 'tileSize' argument"); l = parseFloat(s.width), r = parseFloat(s.height) } t.find(".k-item").css({ width: l, height: r }) } }, focus: function () { this.wrapper && !this.wrapper.is("[unselectable='on']") && this.wrapper.focus() }, options: { name: "ColorPalette", columns: 10, tileSize: null, palette: "basic" }, _onEnable: function (e) { e ? this.wrapper.attr("tabIndex", this._tabIndex) : this.wrapper.removeAttr("tabIndex") }, _keydown: function (t) { var a, o, n = this.wrapper, i = n.find(".k-item"), r = i.filter("." + h).get(0), c = t.keyCode; if (c == u.LEFT ? a = s(i, r, -1) : c == u.RIGHT ? a = s(i, r, 1) : c == u.DOWN ? a = s(i, r, this.options.columns) : c == u.UP ? a = s(i, r, -this.options.columns) : c == u.ENTER ? (l(t), r && this._select(e(r).css(C))) : c == u.ESC && this._cancel(), a) { l(t), this._current(a); try { o = d(a.css(C)), this._triggerSelect(o) } catch (p) { } } }, _current: function (t) { this.wrapper.find("." + h).removeClass(h).attr("aria-selected", !1).removeAttr("id"), e(t).addClass(h).attr("aria-selected", !0).attr("id", this._selectedID), this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant", this._selectedID) }, _updateUI: function (t) { var a = null; this.wrapper.find(".k-item").each(function () { var o = d(e(this).css(C)); if (o && o.equals(t)) return a = this, !1 }), this._current(a) }, _template: i.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " ' + h + '" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>') }), S = w.extend({ init: function (t, a) { var o = this; w.fn.init.call(o, t, a), a = o.options, a.messages = a.options ? e.extend(o.options.messages, a.options.messages) : o.options.messages, t = o.element, o.wrapper = t.addClass("k-widget k-flatcolorpicker").append(o._template(a)), o._hueElements = e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track", t), o._selectedColor = e(".k-selected-color-display", t), o._colorAsText = e("input.k-color-value", t), o._sliders(), o._hsvArea(), o._updateUI(o._value || d("#f00")), t.find("input.k-color-value").on(m, function (t) { var a, s, l = this; if (t.keyCode == u.ENTER) try { a = d(l.value), s = o.color(), o._select(a, a.equals(s)) } catch (n) { e(l).addClass("k-state-error") } else o.options.autoupdate && setTimeout(function () { var e = d(l.value, !0); e && o._updateUI(e, !0) }, 10) }).end().on(g, ".k-controls button.apply", function () { o.options._clearedColor ? o.trigger("change") : o._select(o._getHSV()) }).on(g, ".k-controls button.cancel", function () { o._updateUI(o.color()), o._cancel() }), y && o._applyIEFilter() }, destroy: function () { this._hueSlider.destroy(), this._opacitySlider && this._opacitySlider.destroy(), this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle = this._hueElements = this._selectedColor = this._colorAsText = null, w.fn.destroy.call(this) }, options: { name: "FlatColorPicker", opacity: !1, buttons: !1, input: !0, preview: !0, clearButton: !1, autoupdate: !0, messages: v }, _applyIEFilter: function () { var e = this.element.find(".k-hue-slider .k-slider-track")[0], t = e.currentStyle.backgroundImage; t = t.replace(/^url\([\'\"]?|[\'\"]?\)$/g, ""), e.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + t + "', sizingMethod='scale')" }, _sliders: function () { function e(e) { a._updateUI(a._getHSV(e.value, null, null, null)) } function t(e) { a._updateUI(a._getHSV(null, null, null, e.value / 100)) } var a = this, o = a.element, s = o.find(".k-hue-slider"), l = o.find(".k-transparency-slider"); s.attr("aria-label", "hue saturation"), a._hueSlider = s.kendoSlider({ min: 0, max: 360, tickPlacement: "none", showButtons: !1, slide: e, change: e }).data("kendoSlider"), l.attr("aria-label", "opacity"), a._opacitySlider = l.kendoSlider({ min: 0, max: 100, tickPlacement: "none", showButtons: !1, slide: t, change: t }).data("kendoSlider") }, _hsvArea: function () { function e(e, a) { var o = this.offset, s = e - o.left, l = a - o.top, n = this.width, i = this.height; s = s < 0 ? 0 : s > n ? n : s, l = l < 0 ? 0 : l > i ? i : l, t._svChange(s / n, 1 - l / i) } var t = this, a = t.element, o = a.find(".k-hsv-rectangle"), s = o.find(".k-draghandle").attr("tabIndex", 0).on(m, n(t._keydown, t)); t._hsvEvents = new i.UserEvents(o, { global: !0, press: function (t) { this.offset = i.getOffset(o), this.width = o.width(), this.height = o.height(), s.focus(), e.call(this, t.x.location, t.y.location) }, start: function () { o.addClass("k-dragging"), s.focus() }, move: function (t) { t.preventDefault(), e.call(this, t.x.location, t.y.location) }, end: function () { o.removeClass("k-dragging") } }), t._hsvRect = o, t._hsvHandle = s }, _onEnable: function (e) { this._hueSlider.enable(e), this._opacitySlider && this._opacitySlider.enable(e), this.wrapper.find("input").attr("disabled", !e); var t = this._hsvRect.find(".k-draghandle"); e ? t.attr("tabIndex", this._tabIndex) : t.removeAttr("tabIndex") }, _keydown: function (e) { function t(t, a) { var s = o._getHSV(); s[t] += a * (e.shiftKey ? .01 : .05), s[t] < 0 && (s[t] = 0), s[t] > 1 && (s[t] = 1), o._updateUI(s), l(e) } function a(t) { var a = o._getHSV(); a.h += t * (e.shiftKey ? 1 : 5), a.h < 0 && (a.h = 0), a.h > 359 && (a.h = 359), o._updateUI(a), l(e) } var o = this; switch (e.keyCode) { case u.LEFT: e.ctrlKey ? a(-1) : t("s", -1); break; case u.RIGHT: e.ctrlKey ? a(1) : t("s", 1); break; case u.UP: t(e.ctrlKey && o._opacitySlider ? "a" : "v", 1); break; case u.DOWN: t(e.ctrlKey && o._opacitySlider ? "a" : "v", -1); break; case u.ENTER: o._select(o._getHSV()); break; case u.F2: o.wrapper.find("input.k-color-value").focus().select(); break; case u.ESC: o._cancel() } }, focus: function () { this._hsvHandle.focus() }, _getHSV: function (e, t, a, o) { var s = this._hsvRect, l = s.width(), n = s.height(), i = this._hsvHandle.position(); return null == e && (e = this._hueSlider.value()), null == t && (t = i.left / l), null == a && (a = 1 - i.top / n), null == o && (o = this._opacitySlider ? this._opacitySlider.value() / 100 : 1), p.fromHSV(e, t, a, o) }, _svChange: function (e, t) { var a = this._getHSV(null, e, t, null); this._updateUI(a) }, _updateUI: function (e, t) { var a = this, o = a._hsvRect; e && (this._colorAsText.attr("title", a.options.messages.previewInput), this._colorAsText.removeClass("k-state-error"), a._selectedColor.css(C, e.toDisplay()), t || a._colorAsText.val(a._opacitySlider ? e.toCssRgba() : e.toCss()), a._triggerSelect(e), e = e.toHSV(), a._hsvHandle.css({ left: e.s * o.width() + "px", top: (1 - e.v) * o.height() + "px" }), a._hueElements.css(C, p.fromHSV(e.h, 1, 1, 1).toCss()), a._hueSlider.value(e.h), a._opacitySlider && a._opacitySlider.value(100 * e.a)) }, _selectOnHide: function () { return this.options.buttons ? null : this._getHSV() }, _template: i.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #') }), x = c.extend({ init: function (t, a) { var o, s, l, n, i, r = this; c.fn.init.call(r, t, a), a = r.options, t = r.element, o = t.attr("value") || t.val(), o = o ? d(o, !0) : d(a.value, !0), r._value = a.value = o, s = r.wrapper = e(r._template(a)), t.hide().after(s), t.is("input") && (t.appendTo(s), l = t.closest("label"), n = t.attr("id"), n && (l = l.add('label[for="' + n + '"]')), l.click(function (e) { r.open(), e.preventDefault() })), r._tabIndex = t.attr("tabIndex") || 0, r.enable(!t.attr("disabled")), i = t.attr("accesskey"), i && (t.attr("accesskey", null), s.attr("accesskey", i)), r.bind("activate", function (e) { e.isDefaultPrevented() || r.toggle() }), r._updateUI(o) }, destroy: function () { this.wrapper.off(k).find("*").off(k), this._popup && (this._selector.destroy(), this._popup.destroy()), this._selector = this._popup = this.wrapper = null, c.fn.destroy.call(this) }, enable: function (e) { var t = this, a = t.wrapper, o = a.children(".k-picker-wrap"), s = o.find(".k-select"); 0 === arguments.length && (e = !0), t.element.attr("disabled", !e), a.attr("aria-disabled", !e), s.off(k).on("mousedown" + k, l), a.addClass("k-state-disabled").removeAttr("tabIndex").add("*", a).off(k), e ? a.removeClass("k-state-disabled").attr("tabIndex", t._tabIndex).on("mouseenter" + k, function () { o.addClass("k-state-hover") }).on("mouseleave" + k, function () { o.removeClass("k-state-hover") }).on("focus" + k, function () { o.addClass("k-state-focused") }).on("blur" + k, function () { o.removeClass("k-state-focused") }).on(m, n(t._keydown, t)).on(g, ".k-select", n(t.toggle, t)).on(g, t.options.toolIcon ? ".k-tool-icon" : ".k-selected-color", function () { t.trigger("activate") }) : t.close() }, _template: i.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'), options: { name: "ColorPicker", palette: null, columns: 10, toolIcon: null, value: null, messages: v, opacity: !1, buttons: !0, preview: !0, clearButton: !1, ARIATemplate: 'Current selected color is #=data || ""#' }, events: ["activate", "change", "select", "open", "close"], open: function () { this.element.prop("disabled") || this._getPopup().open() }, close: function () { var e = this._selector && this._selector.options || {}; e._closing = !0, this._getPopup().close(), delete e._closing }, toggle: function () { this.element.prop("disabled") || this._getPopup().toggle() }, _noColorIcon: function () { return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line") }, color: w.fn.color, value: w.fn.value, _select: w.fn._select, _triggerSelect: w.fn._triggerSelect, _isInputTypeColor: function () { var e = this.element[0]; return /^input$/i.test(e.tagName) && /^color$/i.test(e.type) }, _updateUI: function (e) { var t = ""; e && (t = this._isInputTypeColor() || 1 == e.a ? e.toCss() : e.toCssRgba(), this.element.val(t)), this._ariaTemplate || (this._ariaTemplate = i.template(this.options.ARIATemplate)), this.wrapper.attr("aria-label", this._ariaTemplate(t)), this._triggerSelect(e), this.wrapper.find(".k-selected-color").css(C, e ? e.toDisplay() : _), this._noColorIcon()[t ? "hide" : "show"]() }, _keydown: function (e) { var t = e.keyCode; this._getPopup().visible() ? (t == u.ESC ? this._selector._cancel() : this._selector._keydown(e), l(e)) : t != u.ENTER && t != u.DOWN || (this.open(), l(e)) }, _getPopup: function () { var t, o, s, l, n = this, r = n._popup; return r || (t = n.options, o = t.palette ? I : S, t._standalone = !1, delete t.select, delete t.change, delete t.cancel, s = i.guid(), l = n._selector = new o(e('<div id="' + s + '"/>').appendTo(document.body), t), n.wrapper.attr("aria-owns", s), n._popup = r = l.wrapper.kendoPopup({ anchor: n.wrapper, adjustSize: { width: 5, height: 0 } }).data("kendoPopup"), l.element.find(".k-clear-color").kendoButton({ icon: "reset-color", click: function (e) { l.options._clearedColor = !0, n.value(null), n.element.val(null), n._updateUI(null), l._colorAsText.val(""), l._hsvHandle.css({ top: "0px", left: "0px" }), l._selectedColor.css(C, _), n.trigger("change", { value: n.value() }), e.preventDefault() } }), l.bind({ select: function (e) { n._updateUI(d(e.value)), delete l.options._clearedColor }, change: function () { l.options._clearedColor || n._select(l.color()), n.close() }, cancel: function () { l.options._clearedColor && !n.value() && l.value() && n._select(l.color(), !0), n.close() } }), r.bind({ close: function (e) { var t, o, s, i; return n.trigger("close") ? (e.preventDefault(), a) : (n.wrapper.children(".k-picker-wrap").removeClass("k-state-focused"), t = l._selectOnHide(), o = l.value(), s = n.value(), i = l.options, t ? i._clearedColor && !s || n._select(t) : (setTimeout(function () { n.wrapper && !n.wrapper.is("[unselectable='on']") && n.wrapper.focus() }), !i._closing && i._clearedColor && !s && o ? n._select(o, !0) : n._updateUI(n.color())), a) }, open: function (e) { n.trigger("open") ? e.preventDefault() : n.wrapper.children(".k-picker-wrap").addClass("k-state-focused") }, activate: function () { l._select(n.color(), !0), l.focus(), n.wrapper.children(".k-picker-wrap").addClass("k-state-focused") } })), r } }); r.plugin(I), r.plugin(S), r.plugin(x) }(jQuery, parseInt), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (e, define) { define("kendo.combobox.min", ["kendo.list.min", "kendo.mobile.scroller.min", "kendo.virtuallist.min"], e) }(function () { return function (e, t) { var i = window.kendo, s = i.ui, n = s.List, o = s.Select, a = i.caret, l = i.support, u = l.placeholder, r = i._activeElement, c = i.keys, d = ".kendoComboBox", p = d + "FocusEvent", _ = "click" + d, h = "mousedown" + d, f = "disabled", g = "readonly", v = "change", m = "k-i-loading", x = "k-state-default", w = "k-state-focused", y = "k-state-disabled", V = "aria-disabled", b = "filter", I = "accept", T = "rebind", C = "mouseenter" + d + " mouseleave" + d, k = e.proxy, F = /(\r\n|\n|\r)/gm, S = o.extend({ init: function (t, s) { var n, a, l = this; l.ns = d, s = e.isArray(s) ? { dataSource: s } : s, o.fn.init.call(l, t, s), s = l.options, t = l.element.on("focus" + d, k(l._focusHandler, l)), s.placeholder = s.placeholder || t.attr("placeholder"), l._reset(), l._wrapper(), l._input(), l._clearButton(), l._tabindex(l.input), l._popup(), l._dataSource(), l._ignoreCase(), l._enable(), l._attachFocusEvents(), l._oldIndex = l.selectedIndex = -1, l._aria(), l._initialIndex = s.index, l.requireValueMapper(l.options), l._initList(), l._cascade(), s.autoBind ? l._filterSource() : (n = s.text, !n && l._isSelect && (n = t.children(":selected").text()), n && l._setText(n)), n || l._placeholder(), a = e(l.element).parents("fieldset").is(":disabled"), a && l.enable(!1), i.notify(l), l._toggleCloseVisibility() }, options: { name: "ComboBox", enabled: !0, index: -1, text: null, value: null, autoBind: !0, delay: 200, dataTextField: "", dataValueField: "", minLength: 1, enforceMinLength: !1, height: 200, highlightFirst: !0, filter: "none", placeholder: "", suggest: !1, cascadeFrom: "", cascadeFromField: "", ignoreCase: !0, animation: {}, virtual: !1, template: null, groupTemplate: "#:data#", fixedGroupTemplate: "#:data#", clearButton: !0, syncValueAndText: !0, autoWidth: !1 }, events: ["open", "close", v, "select", "filtering", "dataBinding", "dataBound", "cascade", "set"], setOptions: function (e) { var t = this._listOptions(e); o.fn.setOptions.call(this, e), this.listView.setOptions(t), this._accessors(), this._aria(), this._clearButton() }, destroy: function () { var e = this; e.input.off(d), e.input.off(p), e.element.off(d), e._inputWrapper.off(d), clearTimeout(e._pasteTimeout), e._arrow.off(_ + " " + h), e._clear.off(_ + " " + h), o.fn.destroy.call(e) }, _change: function () { var e = this, i = e.text(), s = i && i !== e._oldText && i !== e.options.placeholder, n = e.selectedIndex, a = n === -1; return !e.options.syncValueAndText && !e.value() && a && s ? (e._old = "", e._oldIndex = n, e._oldText = i, e._typing || e.element.trigger(v), e.trigger(v), e._typing = !1, t) : (o.fn._change.call(e), e._toggleCloseVisibility(), t) }, _attachFocusEvents: function () { var e = this; e.input.on("focus" + p, k(e._inputFocus, e)).on("focusout" + p, k(e._inputFocusout, e)) }, _focusHandler: function () { this.input.focus() }, _arrowClick: function () { this._toggle() }, _inputFocus: function () { this._inputWrapper.addClass(w), this._placeholder(!1) }, _inputFocusout: function () { var e, i, s = this, n = s.value(); return s._userTriggered = !0, s._inputWrapper.removeClass(w), clearTimeout(s._typingTimeout), s._typingTimeout = null, s.text(s.text()), e = s._focus(), i = this.listView.dataItemByIndex(this.listView.getElementIndex(e)), n !== s.value() && s.trigger("select", { dataItem: i, item: e }) ? (s.value(n), t) : (s._placeholder(), s._blur(), s.element.blur(), t) }, _inputPaste: function () { var e = this; clearTimeout(e._pasteTimeout), e._pasteTimeout = null, e._pasteTimeout = setTimeout(function () { e.search() }) }, _editable: function (e) { var t = this, i = e.disable, s = e.readonly, n = t._inputWrapper.off(d), o = t.element.add(t.input.off(d)), a = t._arrow.off(_ + " " + h), l = t._clear; s || i ? (n.addClass(i ? y : x).removeClass(i ? x : y), o.attr(f, i).attr(g, s).attr(V, i)) : (n.addClass(x).removeClass(y).on(C, t._toggleHover), o.removeAttr(f).removeAttr(g).attr(V, !1), a.on(_, k(t._arrowClick, t)).on(h, function (e) { e.preventDefault() }), l.on(_, k(t._clearValue, t)).on(h, function (e) { e.preventDefault() }), t.input.on("keydown" + d, k(t._keydown, t)).on("input" + d, k(t._search, t)).on("paste" + d, k(t._inputPaste, t))) }, open: function () { var e = this, t = e._state, i = !!e.dataSource.filter() && e.dataSource.filter().filters.length > 0; e.popup.visible() || (!e.listView.bound() && t !== b || t === I ? (e._open = !0, e._state = T, 1 !== e.options.minLength && !i || i && e.value() && e.selectedIndex === -1 ? (e.refresh(), e._openPopup(), this.options.virtual || e.listView.bound(!1)) : e._filterSource()) : e._allowOpening() && (e.popup._hovered = !0, e._openPopup(), e.options.virtual && e._focusItem())) }, _scrollToFocusedItem: function () { var e = this.listView; e.scrollToIndex(e.getElementIndex(e.focus())) }, _openPopup: function () { this.popup.one("activate", k(this._scrollToFocusedItem, this)), this.popup.open() }, _updateSelectionState: function () { var e = this, i = e.options.text, s = e.options.value; e.listView.isFiltered() || (e.selectedIndex === -1 ? (i !== t && null !== i || (i = s), e._accessor(s), e.input.val(i || e.input.val()), e._placeholder()) : e._oldIndex === -1 && (e._oldIndex = e.selectedIndex)) }, _buildOptions: function (e) { var i, s = this; s._isSelect && (i = s._customOption, s._state === T && (s._state = ""), s._customOption = t, s._options(e, "", s.value()), i && i[0].selected && s._custom(i.val())) }, _updateSelection: function () { var i, s = this, n = s.listView, o = s._initialIndex, a = null !== o && o > -1, l = s._state === b; return l ? (e(n.focus()).removeClass("k-state-selected"), t) : (s._fetch || (n.value().length || (a ? s.select(o) : s._accessor() && n.value(s._accessor())), s._initialIndex = null, i = n.selectedDataItems()[0], i && (s._value(i) !== s.value() && s._custom(s._value(i)), s.text() && s.text() !== s._text(i) && s._selectValue(i))), t) }, _updateItemFocus: function () { var e = this.listView; this.options.highlightFirst ? e.focus() || e.focusIndex() || e.focus(0) : e.focus(-1) }, _listBound: function () { var e = this, i = e.input[0] === r(), s = e.dataSource.flatView(), n = e.listView.skip(), o = s.length, a = e.dataSource._group ? e.dataSource._group.length : 0, l = n === t || 0 === n; e._presetValue = !1, e._renderFooter(), e._renderNoData(), e._toggleNoData(!o), e._toggleHeader(!!a && !!o), e._resizePopup(), e.popup.position(), e._buildOptions(s), e._makeUnselectable(), e._updateSelection(), s.length && l && (e._updateItemFocus(), e.options.suggest && i && e.input.val() && e.suggest(s[0])), e._open && (e._open = !1, e._typingTimeout && !i ? e.popup.close() : e.toggle(e._allowOpening()), e._typingTimeout = null), e._hideBusy(), e.trigger("dataBound") }, _listChange: function () { this._selectValue(this.listView.selectedDataItems()[0]), this._presetValue && (this._oldIndex = this.selectedIndex) }, _get: function (e) { var t, i, s; if ("function" == typeof e) { for (t = this.dataSource.flatView(), s = 0; s < t.length; s++)if (e(t[s])) { e = s, i = !0; break } i || (e = -1) } return e }, _select: function (e, t) { var i = this; return e = i._get(e), e === -1 && (i.input[0].value = "", i._accessor("")), i.listView.select(e).done(function () { t || i._state !== b || (i._state = I) }) }, _selectValue: function (e) { var i = this.listView.select(), s = "", n = ""; i = i[i.length - 1], i === t && (i = -1), this.selectedIndex = i, this.listView.isFiltered() && i !== -1 && (this._valueBeforeCascade = this._old), i !== -1 || e ? ((e || 0 === e) && (s = this._dataValue(e), n = this._text(e)), null === s && (s = "")) : (this.options.syncValueAndText ? (n = this.options.dataTextField === this.options.dataValueField ? this._accessor() : this.input[0].value, s = n) : n = this.text(), this.listView.focus(-1)), this._setDomInputValue(n), this._accessor(s !== t ? s : n, i), this._placeholder(), this._triggerCascade() }, _setDomInputValue: function (e) { var t, i, s = this, n = a(this.input); n && n.length && (t = n[0]), this._prev = this.input[0].value = e, t && this.selectedIndex === -1 && (i = l.mobileOS, i.wp || i.android ? setTimeout(function () { s.input[0].setSelectionRange(t, t) }, 0) : this.input[0].setSelectionRange(t, t)) }, refresh: function () { this.listView.refresh() }, _toggleCloseVisibility: function () { this.text() ? this._showClear() : this._hideClear() }, suggest: function (e) { var i, s = this, o = s.input[0], l = s.text(), u = a(o)[0], d = s._last; return d == c.BACKSPACE || d == c.DELETE ? (s._last = t, t) : (e = e || "", "string" != typeof e && (e[0] && (e = s.dataSource.view()[n.inArray(e[0], s.ul[0])]), e = e ? s._text(e) : ""), u <= 0 && (u = l.toLowerCase().indexOf(e.toLowerCase()) + 1), e ? (e = "" + e, i = e.toLowerCase().indexOf(l.toLowerCase()), i > -1 && (l += e.substring(i + l.length))) : l = l.substring(0, u), l.length === u && e || (o.value = l, o === r() && a(o, u, l.length)), t) }, text: function (e) { var i, s, o, a, l, u; return e = null === e ? "" : e, i = this, s = i.input[0], o = i.options.ignoreCase, a = e, e === t ? s.value : i.options.autoBind !== !1 || i.listView.bound() ? (l = i.dataItem(), l && i._text(l).replace && i._text(l).replace(F, "") === e && (u = i._value(l), u === n.unifyType(i._old, typeof u)) ? (i._triggerCascade(), t) : (o && (a = a.toLowerCase()), i._select(function (e) { return e = i._text(e), o && (e = (e + "").toLowerCase()), e === a }).done(function () { i.selectedIndex < 0 && (s.value = e, i.options.syncValueAndText && i._accessor(e), i._cascadeTriggered = !0, i._triggerCascade()), i._prev = s.value }), t)) : (i._setText(e), t) }, toggle: function (e) { this._toggle(e, !0) }, value: function (e) { var i = this, s = i.options, n = i.listView; return e === t ? (e = i._accessor() || i.listView.value()[0], e === t || null === e ? "" : e) : (i._toggleCloseVisibility(), i.requireValueMapper(i.options, e), i.trigger("set", { value: e }), e === s.value && i.input.val() === s.text || (i._accessor(e), i._isFilterEnabled() && n.bound() && n.isFiltered() ? i._clearFilter() : i._fetchData(), n.value(e).done(function () { i.selectedIndex === -1 && (i._accessor(e), i.input.val(e), i._placeholder(!0)), i._old = i._accessor(), i._oldIndex = i.selectedIndex, i._prev = i.input.val(), i._state === b && (i._state = I) })), t) }, _hideBusy: function () { var e = this; clearTimeout(e._busy), e._arrowIcon.removeClass(m), e._focused.attr("aria-busy", !1), e._busy = null, e._toggleCloseVisibility() }, _click: function (e) { var i = this, s = e.item, n = i.listView.dataItemByIndex(i.listView.getElementIndex(s)); return e.preventDefault(), i.trigger("select", { dataItem: n, item: s }) ? (i.close(), t) : (i._userTriggered = !0, i._select(s).done(function () { i._blur() }), t) }, _syncValueAndText: function () { return this.options.syncValueAndText }, _inputValue: function () { return this.text() }, _searchByWord: function (e) { var i, s = this, n = s.options, o = s.dataSource, a = n.ignoreCase, l = function (i) { var n = s._text(i); if (n !== t) return n += "", ("" === n || "" !== e) && (a && (n = n.toLowerCase()), 0 === n.indexOf(e)) }; return a && (e = e.toLowerCase()), s.ul[0].firstChild ? (this.listView.focus(this._get(l)), i = this.listView.focus(), i && (n.suggest && s.suggest(i), this.open()), this.options.highlightFirst && !e && this.listView.focusFirst(), t) : (o.one(v, function () { o.view()[0] && s.search(e) }).fetch(), t) }, _input: function () { var t, i, s = this, n = s.element.removeClass("k-input")[0], o = n.accessKey, a = s.wrapper, l = "input.k-input", r = n.name || ""; r && (r = 'name="' + r + '_input" '), t = a.find(l), t[0] || (a.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input ' + r + 'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(s.element), t = a.find(l)), t[0].style.cssText = n.style.cssText, t[0].title = n.title, i = parseInt(this.element.prop("maxlength") || this.element.attr("maxlength"), 10), i > -1 && (t[0].maxLength = i), t.addClass(n.className).css({ width: "", height: n.style.height }).attr({ role: "combobox", "aria-expanded": !1 }).show(), u && t.attr("placeholder", s.options.placeholder), o && (n.accessKey = "", t[0].accessKey = o), s._focused = s.input = t, s._inputWrapper = e(a[0].firstChild), s._arrow = a.find(".k-select").attr({ role: "button", tabIndex: -1 }), s._arrowIcon = s._arrow.find(".k-icon"), n.id && s._arrow.attr("aria-controls", s.ul[0].id) }, _clearButton: function () { n.fn._clearButton.call(this), this.options.clearButton && (this._clear.insertAfter(this.input), this.wrapper.addClass("k-combobox-clearable")) }, _keydown: function (e) { var t, i, s, o = this, a = e.keyCode; if (o._last = a, clearTimeout(o._typingTimeout), o._typingTimeout = null, a === c.HOME) o._firstItem(); else if (a === c.END) o._lastItem(); else if (a === c.ENTER) if (t = o.listView.focus(), i = o.dataItem(), s = !0, o.popup.visible() || i && o.text() === o._text(i) || (t = null), t) { if (o.popup.visible() && e.preventDefault(), i = o.listView.dataItemByIndex(o.listView.getElementIndex(t)), i && (s = o._value(i) !== n.unifyType(o.value(), typeof o._value(i))), s && o.trigger("select", { dataItem: i, item: t })) return; o._userTriggered = !0, o._select(t).done(function () { o._blur(), o._valueBeforeCascade = o._old = o.value() }) } else (o._syncValueAndText() || o._isSelect) && o._accessor(o.input.val()), o.listView.value(o.input.val()), o._blur(); else a == c.TAB || o._move(e) ? a !== c.ESC || o.popup.visible() || o._clearValue() : o._search() }, _placeholder: function (e) { if (!u) { var i, s = this, n = s.input, o = s.options.placeholder; if (o) { if (i = s.value(), e === t && (e = !i), n.toggleClass("k-readonly", e), !e) { if (i) return; o = "" } n.val(o), o || n[0] !== r() || a(n[0], 0, 0) } } }, _search: function () { var e = this; e._typingTimeout = setTimeout(function () { var t = e.text(); e._prev !== t && (e._prev = t, "none" === e.options.filter && e.options.virtual && e.listView.select(-1), e.search(t), e._toggleCloseVisibility()), e._typingTimeout = null }, e.options.delay) }, _setText: function (e) { this.input.val(e), this._prev = e }, _wrapper: function () { var e = this, t = e.element, i = t.parent(); i.is("span.k-widget") || (i = t.hide().wrap("<span />").parent(), i[0].style.cssText = t[0].style.cssText), e.wrapper = i.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display", "") }, _clearSelection: function (e, t) { var i = this, s = e.value(), n = s && e.selectedIndex === -1; this.selectedIndex == -1 && this.value() || (t || !s || n) && (i.options.value = "", i.value(""), i._selectedValue = null) }, _preselect: function (e, t) { this.input.val(t), this._accessor(e), this._old = this._accessor(), this._oldIndex = this.selectedIndex, this.listView.setValue(e), this._placeholder(), this._initialIndex = null, this._presetValue = !0, this._toggleCloseVisibility() } }); s.plugin(S) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.dateinput.min", ["kendo.core.min"], e) }(function () { return function (e, t) { function n(e, t, n, s) { var a, r, i, o, l = e[s + e.length - n.length]; if (e = e.substring(0, s + e.length - n.length), n = n.substring(0, s), a = [], e === n && s > 0) return a.push([t[s - 1], n[s - 1]]), a; if (0 === e.indexOf(n) && (0 === n.length || t[n.length - 1] !== t[n.length])) { for (i = "", r = n.length; r < e.length; r++)t[r] !== i && y.indexOf(t[r]) >= 0 && (i = t[r], a.push([i, ""])); return a } if (" " === n[n.length - 1] || n[n.length - 1] === l) return [[t[s - 1], " "]]; if (0 === n.indexOf(e) || y.indexOf(t[s - 1]) === -1) { for (o = t[0], r = Math.max(0, e.length - 1); r < t.length; r++)if (y.indexOf(t[r]) >= 0) { o = t[r]; break } return [[o, n[s - 1]]] } return [[t[s - 1], n[s - 1]]] } var s, a = window, r = a.kendo, i = r.caret, o = r.ui, l = o.Widget, u = r.keys, f = ".kendoDateInput", h = e.proxy, d = {}.toString, c = (r.support.propertyChangeEvent ? "propertychange.kendoDateInput input" : "input") + f, m = "k-state-disabled", p = "k-state-default", g = "k-state-invalid", b = "disabled", k = "readonly", _ = "change", y = "dMyHhmftsz", M = l.extend({ init: function (t, n) { var s, a, i = this; l.fn.init.call(i, t, n), t = i.element, n = i.options, n.format = r._extractFormat(n.format || r.getCulture(n.culture).calendars.standard.patterns.d), n.min = r.parseDate(t.attr("min")) || r.parseDate(n.min), n.max = r.parseDate(t.attr("max")) || r.parseDate(n.max), s = (t.parent().attr("class") || "").indexOf("k-picker-wrap") >= 0, s ? i.wrapper = t.parent() : (i.wrapper = t.wrap("<span class='k-widget k-dateinput'></span>").parent(), i.wrapper.addClass(t[0].className), i.wrapper[0].style.cssText = t[0].style.cssText, t.css({ width: "100%", height: t[0].style.height })), e("<span class='k-icon k-i-warning'></span>").insertAfter(t), i._form(), i.element.addClass(s ? " " : "k-textbox").attr("autocomplete", "off").on("focusout" + f, function () { i._change() }); try { t[0].setAttribute("type", "text") } catch (o) { t[0].type = "text" } a = t.is("[disabled]") || e(i.element).parents("fieldset").is(":disabled"), a ? i.enable(!1) : i.readonly(t.is("[readonly]")), i.value(i.options.value || t.val()), r.notify(i) }, options: { name: "DateInput", culture: "", value: "", format: "", min: new Date(1900, 0, 1), max: new Date(2099, 11, 31), messages: { year: "year", month: "month", day: "day", weekday: "day of the week", hour: "hours", minute: "minutes", second: "seconds", dayperiod: "AM/PM" } }, events: [_], min: function (e) { return e === t ? this.options.min : (this.options.min = e, t) }, max: function (e) { return e === t ? this.options.max : (this.options.max = e, t) }, setOptions: function (e) { var t = this; l.fn.setOptions.call(t, e), this._unbindInput(), this._bindInput(), this._updateElementValue() }, destroy: function () { var e = this; e.element.off(f), e._formElement && e._formElement.off("reset", e._resetHandler), l.fn.destroy.call(e) }, value: function (e) { return e === t ? this._dateTime.getDateObject() : (null === e && (e = ""), "[object Date]" !== d.call(e) && (e = r.parseDate(e, this.options.format, this.options.culture)), e && !e.getTime() && (e = null), this._dateTime = new s(e, this.options.format, this.options.culture, this.options.messages), this._updateElementValue(), this._oldValue = e, t) }, _updateElementValue: function () { var e = this._dateTime.toPair(this.options.format, this.options.culture, this.options.messages); this.element.val(e[0]), this._oldText = e[0], this._format = e[1] }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, _bindInput: function () { var e = this; e.element.on("paste" + f, h(e._paste, e)).on("keydown" + f, h(e._keydown, e)).on(c, h(e._input, e)).on("mouseup" + f, h(e._mouseUp, e)).on("DOMMouseScroll" + f + " mousewheel" + f, h(e._scroll, e)) }, _unbindInput: function () { this.element.off("keydown" + f).off("paste" + f).off(c).off("mouseup" + f).off("DOMMouseScroll" + f + " mousewheel" + f) }, _editable: function (e) { var t = this, n = t.element, s = e.disable, a = e.readonly, r = t.wrapper; t._unbindInput(), a || s ? (s && (r.addClass(m).removeClass(p), n.attr(b, s), n.removeAttr(k)), a && n.attr(k, a)) : (r.addClass(p).removeClass(m), n.removeAttr(b).removeAttr(k), t._bindInput()) }, _change: function () { var e = this, t = e._oldValue, n = e.value(); n && e.min() && n < e.min() && (e.value(e.min()), n = e.value()), n && e.max() && n > e.max() && (e.value(e.max()), n = e.value()), (t && n && n.getTime() !== t.getTime() || t && !n || !t && n) && (e._oldValue = n, e.trigger(_), e.element.trigger(_)) }, _input: function () { var e, t, s, a, o, l, u, f = this, h = f.element[0], d = !1; if (r._activeElement() === h) { if (e = n(this._oldText, this._format, this.element[0].value, i(this.element[0])[0]), t = 1 === e.length && " " === e[0][1], !t) for (s = 0; s < e.length; s++)a = this._dateTime.parsePart(e[s][0], e[s][1]), d = d || !a; this._updateElementValue(), e.length && " " !== e[0][0] && (this._selectSegment(e[0][0]), t || (o = e[0][0], setTimeout(function () { f._selectSegment(o) }))), t && (l = { keyCode: 39, preventDefault: function () { } }, this._keydown(l)), d && (clearTimeout(f._blinkInvalidTimeout), u = g, f.wrapper.addClass(g), f._blinkInvalidTimeout = setTimeout(function () { f.wrapper.removeClass(u) }, 100)) } }, _mouseUp: function () { var e = i(this.element[0]); e[0] === e[1] && this._selectNearestSegment() }, _scroll: function (e) { if (r._activeElement() === this.element[0] && !this.element.is("[readonly]")) { e = window.event || e; var t = { keyCode: 37, preventDefault: function () { } }; t.keyCode = e.shiftKey ? (e.wheelDelta || -e.detail) > 0 ? 37 : 39 : (e.wheelDelta || -e.detail) > 0 ? 38 : 40, this._keydown(t), e.returnValue = !1, e.preventDefault && e.preventDefault(), e.stopPropagation && e.stopPropagation() } }, _form: function () { var t = this, n = t.element, s = n.attr("form"), a = s ? e("#" + s) : n.closest("form"); a[0] && (t._resetHandler = function () { setTimeout(function () { t.value(n[0].value) }) }, t._formElement = a.on("reset", t._resetHandler)) }, _paste: function (e) { e.preventDefault() }, _keydown: function (e) { var t, n, s, a, o, l, f = e.keyCode; if (37 == f || 39 == f) for (e.preventDefault(), t = i(this.element[0]), t[0] != t[1] && this._selectNearestSegment(), n = 37 == f ? -1 : 1, s = n == -1 ? i(this.element[0])[0] - 1 : i(this.element[0])[1] + 1; s >= 0 && s < this._format.length;) { if (y.indexOf(this._format[s]) >= 0) { this._selectSegment(this._format[s]); break } s += n } 38 != f && 40 != f || (e.preventDefault(), t = i(this.element[0]), a = this._format[t[0]], y.indexOf(a) >= 0 && (this._dateTime.modifyPart(a, 38 == f ? 1 : -1), this._updateElementValue(), this._selectSegment(a))), r.support.browser.msie && r.support.browser.version < 10 && (o = e.keyCode ? e.keyCode : e.which, 8 !== o && 46 !== o || (l = this, setTimeout(function () { l._input() }, 0))), f === u.ENTER && this._change() }, _selectNearestSegment: function () { var e, n, s = i(this.element[0]), a = s[0]; for (e = a, n = a - 1; e < this._format.length || n >= 0; e++ , n--) { if (e < this._format.length && y.indexOf(this._format[e]) !== -1) return this._selectSegment(this._format[e]), t; if (n >= 0 && y.indexOf(this._format[n]) !== -1) return this._selectSegment(this._format[n]), t } }, _selectSegment: function (e) { var t, n = -1, s = 0; for (t = 0; t < this._format.length; t++)this._format[t] === e && (s = t + 1, n === -1 && (n = t)); n < 0 && (n = 0), i(this.element, n, s) } }); o.plugin(M), s = function (e, n, s, a) { function i(e, t, n) { return e += "", t = t || 2, n = t - e.length, n ? v[t].substring(0, n) + e : e } function o(e) { return T = e, I } function l(e, t) { switch (e) { case "y": d = t; break; case "M": c = t, t || (h.setMonth(0), _ = ""); break; case "d": m = t; break; case "H": case "h": p = t, t || (y = ""); break; case "m": g = t; break; case "s": b = t; break; default: return } } var u, f, h = null, d = !0, c = !0, m = !0, p = !0, g = !0, b = !0, k = !0, _ = "", y = "", M = {}, v = ["", "0", "00", "000", "0000"], w = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g, D = null, x = null, H = null, T = !1, I = function (e) { var n, s, a, r, o; switch (e) { case "d": a = m ? h.getDate() : M.day; break; case "dd": a = m ? i(h.getDate()) : M.day; break; case "ddd": a = m && c && d ? H.namesAbbr[h.getDay()] : M.weekday; break; case "dddd": a = m && c && d ? H.names[h.getDay()] : M.weekday; break; case "M": a = c ? h.getMonth() + 1 : M.month; break; case "MM": a = c ? i(h.getMonth() + 1) : M.month; break; case "MMM": a = c ? D.namesAbbr[h.getMonth()] : M.month; break; case "MMMM": a = c ? D.names[h.getMonth()] : M.month; break; case "yy": a = d ? i(h.getFullYear() % 100) : M.year; break; case "yyyy": a = d ? i(h.getFullYear(), 4) : M.year; break; case "h": a = p ? h.getHours() % 12 || 12 : M.hour; break; case "hh": a = p ? i(h.getHours() % 12 || 12) : M.hour; break; case "H": a = p ? h.getHours() : M.hour; break; case "HH": a = p ? i(h.getHours()) : M.hour; break; case "m": a = g ? h.getMinutes() : M.minute; break; case "mm": a = g ? i(h.getMinutes()) : M.minute; break; case "s": a = b ? h.getSeconds() : M.second; break; case "ss": a = b ? i(h.getSeconds()) : M.second; break; case "f": a = k ? Math.floor(h.getMilliseconds() / 100) : k; break; case "ff": a = h.getMilliseconds(), a > 99 && (a = Math.floor(a / 10)), a = k ? i(a) : e; break; case "fff": a = k ? i(h.getMilliseconds(), 3) : e; break; case "tt": a = p ? h.getHours() < 12 ? x.AM[0] : x.PM[0] : M.dayperiod; break; case "zzz": n = h.getTimezoneOffset(), s = n < 0, a = ("" + Math.abs(n / 60)).split(".")[0], n = Math.abs(n) - 60 * a, a = (s ? "+" : "-") + i(a), a += ":" + i(n); break; case "z": case "zz": a = h.getTimezoneOffset() / 60, s = a < 0, a = ("" + Math.abs(a)).split(".")[0], a = (s ? "+" : "-") + ("zz" === e ? i(a) : a) }if (a = a !== t ? a : e.slice(1, e.length - 1), T) { for (a = "" + a, r = "", "ddd" == e && (e = "EEE"), "dddd" == e && (e = "EEEE"), o = 0; o < a.length; o++)r += e[0]; return r } return a }; if (this.setValue = function (e) { m = e }, this.getValue = function () { return m }, this.modifyPart = function (e, t) { var n, s = new Date(h && h.getTime ? h.getTime() : h); switch (e) { case "y": s.setFullYear(s.getFullYear() + t); break; case "M": n = s.getMonth() + t, s.setMonth(n), s.getMonth() % 12 !== (n + 12) % 12 && (s.setDate(1), s.setMonth(n)); break; case "d": case "E": s.setDate(s.getDate() + t); break; case "H": case "h": s.setHours(s.getHours() + t); break; case "m": s.setMinutes(s.getMinutes() + t); break; case "s": s.setSeconds(s.getSeconds() + t); break; case "t": s.setHours((s.getHours() + 12) % 24) }s.getFullYear() > 0 && (l(e, !0), h = s) }, this.parsePart = function (e, t) { var n, s, a, r, i, o, u, f, k; if (!t) return l(e, !1), !0; switch (n = new Date(h && h.getTime ? h.getTime() : h), e) { case "d": if (a = (m ? 10 * n.getDate() : 0) + parseInt(t, 10), isNaN(a)) return; for (; a > 31;)a = parseInt(("" + a).slice(1), 10); if (a < 1) m = !1; else { if (n.setDate(a), n.getMonth() !== h.getMonth()) return; m = !0 } break; case "M": if (r = (c ? 10 * (n.getMonth() + 1) : 0) + parseInt(t, 10), isNaN(r)) { for (i = x.months.names, _ += t.toLowerCase(); _.length > 0;) { for (o = 0; o < i.length; o++)if (0 === i[o].toLowerCase().indexOf(_)) return n.setMonth(o), c = !0, h = n, !0; _ = _.substring(1, _.length) } return !1 } for (; r > 12;)r = parseInt(("" + r).slice(1), 10); r < 1 ? c = !1 : (n.setMonth(r - 1), n.getMonth() !== r - 1 && (n.setDate(1), n.setMonth(r - 1)), c = !0); break; case "y": if (u = (d ? 10 * n.getFullYear() : 0) + parseInt(t, 10), isNaN(u)) return; for (; u > 9999;)u = parseInt(("" + u).slice(1), 10); u < 1 ? d = !1 : (n.setFullYear(u), d = !0); break; case "h": if (s = (p ? 10 * (n.getHours() % 12 || 12) : 0) + parseInt(t, 10), isNaN(s)) return; for (; s > 12;)s = parseInt(("" + s).slice(1), 10); n.setHours(12 * Math.floor(n.getHours() / 12) + s % 12), p = !0; break; case "H": if (s = (p ? 10 * n.getHours() : 0) + parseInt(t, 10), isNaN(s)) return; for (; s > 23;)s = parseInt(("" + s).slice(1), 10); n.setHours(s), p = !0; break; case "m": if (f = (g ? 10 * n.getMinutes() : 0) + parseInt(t, 10), isNaN(f)) return; for (; f > 59;)f = parseInt(("" + f).slice(1), 10); n.setMinutes(f), g = !0; break; case "s": if (k = (b ? 10 * n.getSeconds() : 0) + parseInt(t, 10), isNaN(k)) return; for (; k > 59;)k = parseInt(("" + k).slice(1), 10); n.setSeconds(k), b = !0; break; case "t": if (p) { for (y += t.toLowerCase(); y.length > 0;) { if (0 === x.AM[0].toLowerCase().indexOf(y) && n.getHours() >= 12 || 0 === x.PM[0].toLowerCase().indexOf(y) && n.getHours() < 12) return n.setHours((n.getHours() + 12) % 24), h = n, !0; y = y.substring(1, y.length) } return !1 } }return h = n, !0 }, this.toPair = function (e, t, n) { return e ? (t = r.getCulture(t), x = t.calendars.standard, e = x.patterns[e] || e, H = x.days, D = x.months, M = n, [e.replace(w, o(!1)), e.replace(w, o(!0))]) : ["", ""] }, this.getDateObject = function () { return d && c && m && p && g && b && k ? new Date(h.getTime()) : null }, e) h = new Date(e.getTime()); else for (h = new Date, u = this.toPair(n, s, a)[1], f = 0; f < u.length; f++)l(u[f], !1) } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.datepicker.min", ["kendo.calendar.min", "kendo.popup.min", "kendo.dateinput.min"], e) }(function () { return function (e, t) { function a(t) { var a = t.parseFormats, n = t.format; S.normalize(t), a = e.isArray(a) ? a : [a], a.length || a.push("yyyy-MM-dd"), e.inArray(n, a) === -1 && a.splice(0, 0, t.format), t.parseFormats = a } function n(e) { e.preventDefault() } var o, i = window.kendo, r = i.ui, l = r.Widget, s = i.parseDate, u = i.keys, d = i.support, p = i.template, c = i._activeElement, m = "<div />", f = "<span />", _ = ".kendoDatePicker", v = "click" + _, h = d.mouseAndTouchPresent ? i.applyEventMap("up", _.slice(1)) : v, w = "open", k = "close", g = "change", y = "disabled", b = "readonly", x = "k-state-default", D = "k-state-focused", A = "k-state-selected", I = "k-state-disabled", T = "k-state-hover", C = "mouseenter" + _ + " mouseleave" + _, V = "mousedown" + _, O = "id", R = "min", E = "max", P = "month", N = "aria-disabled", W = "aria-expanded", F = "aria-hidden", S = i.calendar, H = S.isInRange, M = S.restrictValue, q = S.isEqualDatePart, z = e.extend, K = e.proxy, U = Date, j = function (t) { var a, n = this, o = document.body, l = e(m).attr(F, "true").addClass("k-calendar-container").appendTo(o); n.options = t = t || {}, a = t.id, a && (a += "_dateview", l.attr(O, a), n._dateViewID = a), n.popup = new r.Popup(l, z(t.popup, t, { name: "Popup", isRtl: i.support.isRtl(t.anchor) })), n.div = l, n.value(t.value) }; j.prototype = { _calendar: function () { var t, a = this, o = a.calendar, l = a.options; o || (t = e(m).attr(O, i.guid()).appendTo(a.popup.element).on(V, n).on(v, "td:has(.k-link)", K(a._click, a)), a.calendar = o = new r.Calendar(t), a._setOptions(l), i.calendar.makeUnselectable(o.element), o.navigate(a._value || a._current, l.start), a.value(a._value)) }, _setOptions: function (e) { this.calendar.setOptions({ focusOnNav: !1, change: e.change, culture: e.culture, dates: e.dates, depth: e.depth, footer: e.footer, format: e.format, max: e.max, min: e.min, month: e.month, weekNumber: e.weekNumber, start: e.start, disableDates: e.disableDates }) }, setOptions: function (e) { var t = this.options, a = e.disableDates; a && (e.disableDates = S.disabled(a)), this.options = z(t, e, { change: t.change, close: t.close, open: t.open }), this.calendar && this._setOptions(this.options) }, destroy: function () { this.popup.destroy() }, open: function () { var e, t = this; t._calendar(), e = t.popup._hovered, t.popup._hovered = !0, t.popup.open(), setTimeout(function () { t.popup._hovered = e }, 1) }, close: function () { this.popup.close() }, min: function (e) { this._option(R, e) }, max: function (e) { this._option(E, e) }, toggle: function () { var e = this; e[e.popup.visible() ? k : w]() }, move: function (e) { var t = this, a = e.keyCode, n = t.calendar, o = e.ctrlKey && a == u.DOWN || a == u.ENTER, i = !1; if (e.altKey) a == u.DOWN ? (t.open(), e.preventDefault(), i = !0) : a == u.UP && (t.close(), e.preventDefault(), i = !0); else if (t.popup.visible()) { if (a == u.ESC || o && n._cell.hasClass(A)) return t.close(), e.preventDefault(), !0; a != u.SPACEBAR && (t._current = n._move(e)), i = !0 } return i }, current: function (e) { this._current = e, this.calendar._focus(e) }, value: function (e) { var t = this, a = t.calendar, n = t.options, o = n.disableDates; o && o(e) && (e = null), t._value = e, t._current = new U((+M(e, n.min, n.max))), a && a.value(e) }, _click: function (e) { e.currentTarget.className.indexOf(A) !== -1 && this.close() }, _option: function (e, t) { var a = this, n = a.calendar; a.options[e] = t, n && n[e](t) } }, j.normalize = a, i.DateView = j, o = l.extend({ init: function (t, n) { var o, u, d = this; l.fn.init.call(d, t, n), t = d.element, n = d.options, n.disableDates = i.calendar.disabled(n.disableDates), n.min = s(t.attr("min")) || s(n.min), n.max = s(t.attr("max")) || s(n.max), a(n), d._initialOptions = z({}, n), d._wrapper(), d.dateView = new j(z({}, n, { id: t.attr(O), anchor: d.wrapper, change: function () { d._change(this.value()), d.close() }, close: function (e) { d.trigger(k) ? e.preventDefault() : (t.attr(W, !1), u.attr(F, !0)) }, open: function (e) { var a, n = d.options; d.trigger(w) ? e.preventDefault() : (d.element.val() !== d._oldText && (a = s(t.val(), n.parseFormats, n.culture), d.dateView[a ? "current" : "value"](a)), t.attr(W, !0), u.attr(F, !1), d._updateARIA(a)) } })), u = d.dateView.div, d._icon(); try { t[0].setAttribute("type", "text") } catch (p) { t[0].type = "text" } t.addClass("k-input").attr({ role: "combobox", "aria-expanded": !1, "aria-owns": d.dateView._dateViewID }), d._reset(), d._template(), o = t.is("[disabled]") || e(d.element).parents("fieldset").is(":disabled"), o ? d.enable(!1) : d.readonly(t.is("[readonly]")), n.dateInput && (d._dateInput = new r.DateInput(t, { culture: n.culture, format: n.format, min: n.min, max: n.max, value: n.value })), d._old = d._update(n.value || d.element.val()), d._oldText = t.val(), i.notify(d) }, events: [w, k, g], options: { name: "DatePicker", value: null, footer: "", format: "", culture: "", parseFormats: [], min: new Date(1900, 0, 1), max: new Date(2099, 11, 31), start: P, depth: P, animation: {}, month: {}, dates: [], disableDates: null, ARIATemplate: 'Current focused date is #=kendo.toString(data.current, "D")#', dateInput: !1, weekNumber: !1 }, setOptions: function (e) { var t = this, n = t._value; l.fn.setOptions.call(t, e), e = t.options, e.min = s(e.min), e.max = s(e.max), a(e), t.dateView.setOptions(e), t._dateInput && t._dateInput.setOptions({ culture: e.culture, format: e.format, min: e.min, max: e.max, value: e.value }), n && (t.element.val(i.toString(n, e.format, e.culture)), t._updateARIA(n)) }, _editable: function (e) { var t = this, a = t._dateIcon.off(_), o = t.element.off(_), i = t._inputWrapper.off(_), r = e.readonly, l = e.disable; r || l ? (i.addClass(l ? I : x).removeClass(l ? x : I), o.attr(y, l).attr(b, r).attr(N, l)) : (i.addClass(x).removeClass(I).on(C, t._toggleHover), o.removeAttr(y).removeAttr(b).attr(N, !1).on("keydown" + _, K(t._keydown, t)).on("focusout" + _, K(t._blur, t)).on("focus" + _, function () { t._inputWrapper.addClass(D) }), a.on(h, K(t._click, t)).on(V, n)) }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, destroy: function () { var e = this; l.fn.destroy.call(e), e.dateView.destroy(), e.element.off(_), e._dateIcon.off(_), e._inputWrapper.off(_), e._form && e._form.off("reset", e._resetHandler) }, open: function () { this.dateView.open() }, close: function () { this.dateView.close() }, min: function (e) { return this._option(R, e) }, max: function (e) { return this._option(E, e) }, value: function (e) { var a = this; return e === t ? a._value : (a._old = a._update(e), null === a._old && a.element.val(""), a._oldText = a.element.val(), t) }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(T, "mouseenter" === t.type) }, _blur: function () { var e = this, t = e.element.val(); e.close(), t !== e._oldText && e._change(t), e._inputWrapper.removeClass(D) }, _click: function (e) { var t = this; t.dateView.toggle(), t._focusElement(e.type) }, _focusElement: function (e) { var t = this.element; d.touch && (!d.mouseAndTouchPresent || (e || "").match(/touch/i)) || t[0] === c() || t.focus() }, _change: function (e) { var t, a, n, o = this, r = o.element.val(); e = o._update(e), t = !i.calendar.isEqualDate(o._old, e), a = t && !o._typing, n = r !== o.element.val(), (a || n) && o.element.trigger(g), t && (o._old = e, o._oldText = o.element.val(), o.trigger(g)), o._typing = !1 }, _keydown: function (e) { var t = this, a = t.dateView, n = t.element.val(), o = !1; a.popup.visible() || e.keyCode != u.ENTER || n === t._oldText ? (o = a.move(e), t._updateARIA(a._current), o ? t._dateInput && e.stopImmediatePropagation && e.stopImmediatePropagation() : t._typing = !0) : t._change(n) }, _icon: function () { var t, a = this, n = a.element; t = n.next("span.k-select"), t[0] || (t = e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(n)), a._dateIcon = t.attr({ role: "button", "aria-controls": a.dateView._dateViewID }) }, _option: function (e, a) { var n = this, o = n.options; return a === t ? o[e] : (a = s(a, o.parseFormats, o.culture), a && (o[e] = new U((+a)), n.dateView[e](a)), t) }, _update: function (e) { var t, a = this, n = a.options, o = n.min, r = n.max, l = a._value, u = s(e, n.parseFormats, n.culture), d = null === u && null === l || u instanceof Date && l instanceof Date; return n.disableDates(u) && (u = null, a._old || a.element.val() || (e = null)), +u === +l && d ? (t = i.toString(u, n.format, n.culture), t !== e && a.element.val(null === u ? e : t), u) : (null !== u && q(u, o) ? u = M(u, o, r) : H(u, o, r) || (u = null), a._value = u, a.dateView.value(u), a._dateInput && u ? a._dateInput.value(u || e) : a.element.val(i.toString(u || e, n.format, n.culture)), a._updateARIA(u), u) }, _wrapper: function () { var t, a = this, n = a.element; t = n.parents(".k-datepicker"), t[0] || (t = n.wrap(f).parent().addClass("k-picker-wrap k-state-default"), t = t.wrap(f).parent()), t[0].style.cssText = n[0].style.cssText, n.css({ width: "100%", height: n[0].style.height }), a.wrapper = t.addClass("k-widget k-datepicker k-header").addClass(n[0].className), a._inputWrapper = e(t[0].firstChild) }, _reset: function () { var t = this, a = t.element, n = a.attr("form"), o = n ? e("#" + n) : a.closest("form"); o[0] && (t._resetHandler = function () { t.value(a[0].defaultValue), t.max(t._initialOptions.max), t.min(t._initialOptions.min) }, t._form = o.on("reset", t._resetHandler)) }, _template: function () { this._ariaTemplate = p(this.options.ARIATemplate) }, _updateARIA: function (e) { var t, a = this, n = a.dateView.calendar; a.element.removeAttr("aria-activedescendant"), n && (t = n._cell, t.attr("aria-label", a._ariaTemplate({ current: e || n.current() })), a.element.attr("aria-activedescendant", t.attr("id"))) } }), r.plugin(o) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (e, define) { define("kendo.timepicker.min", ["kendo.popup.min", "kendo.dateinput.min"], e) }(function () { return function (e, t) { function n(e, t, n) { var i, o = e.getTimezoneOffset(); e.setTime(e.getTime() + t), n || (i = e.getTimezoneOffset() - o, e.setTime(e.getTime() + i * O)) } function i() { var e = new U, t = new U(e.getFullYear(), e.getMonth(), e.getDate(), 0, 0, 0), n = new U(e.getFullYear(), e.getMonth(), e.getDate(), 12, 0, 0); return -1 * (t.getTimezoneOffset() - n.getTimezoneOffset()) } function o(e) { return 60 * e.getHours() * O + e.getMinutes() * O + 1e3 * e.getSeconds() + e.getMilliseconds() } function a(e) { var t = new Date(2100, 0, 1); return t.setMinutes(-e), t } function r(e, t, n) { var i, a = o(t), r = o(n); return !e || a == r || (i = o(e), a > i && (i += A), r < a && (r += A), i >= a && i <= r) } function l(e) { var t = e.parseFormats; e.format = h(e.format || p.getCulture(e.culture).calendars.standard.patterns.t), t = j(t) ? t : [t], t.splice(0, 0, e.format), e.parseFormats = t } function s(e) { e.preventDefault() } var u, c, p = window.kendo, d = p.keys, f = p.parseDate, m = p._activeElement, h = p._extractFormat, _ = p.support, v = _.browser, g = p.ui, w = g.Widget, k = "open", x = "close", y = "change", b = ".kendoTimePicker", T = "click" + b, C = "k-state-default", D = "disabled", V = "readonly", F = "li", I = "<span/>", S = "k-state-focused", H = "k-state-hover", M = "mouseenter" + b + " mouseleave" + b, W = "mousedown" + b, O = 6e4, A = 864e5, P = "k-state-selected", B = "k-state-disabled", E = "aria-selected", N = "aria-expanded", R = "aria-hidden", Y = "aria-disabled", z = "aria-activedescendant", L = "id", j = e.isArray, K = e.extend, Q = e.proxy, U = Date, q = new U; q = new U(q.getFullYear(), q.getMonth(), q.getDate(), 0, 0, 0), u = function (t) { var n = this, i = t.id; n.options = t, n._dates = [], n.ul = e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({ overflow: _.kineticScrollNeeded ? "" : "auto" }).on(T, F, Q(n._click, n)).on("mouseenter" + b, F, function () { e(this).addClass(H) }).on("mouseleave" + b, F, function () { e(this).removeClass(H) }), n.list = e("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(n.ul).on(W, s), i && (n._timeViewID = i + "_timeview", n._optionID = i + "_option_selected", n.ul.attr(L, n._timeViewID)), n._popup(), n._heightHandler = Q(n._height, n), n.template = p.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>', { useWithBlock: !1 }) }, u.prototype = { current: function (n) { var i = this, o = i.options.active; return n === t ? i._current : (i._current && i._current.removeClass(P).removeAttr(E).removeAttr(L), n && (n = e(n).addClass(P).attr(L, i._optionID).attr(E, !0), i.scroll(n[0])), i._current = n, o && o(n), t) }, close: function () { this.popup.close() }, destroy: function () { var e = this; e.ul.off(b), e.list.off(b), e.popup.destroy() }, open: function () { var e, t = this; t.ul[0].firstChild || t.bind(), e = t.popup._hovered, t.popup._hovered = !0, t.popup.open(), setTimeout(function () { t.popup._hovered = e }, 1), t._current && t.scroll(t._current[0]) }, dataBind: function (e) { for (var t, n = this, i = n.options, o = i.format, a = p.toString, l = n.template, s = e.length, u = 0, c = ""; u < s; u++)t = e[u], r(t, i.min, i.max) && (c += l(a(t, o, i.culture))); n._html(c) }, refresh: function () { var e, t, r, l = this, s = l.options, u = s.format, c = i(), d = c < 0, f = s.min, m = s.max, h = o(f), _ = o(m), v = o(a(s.interval)), g = s.interval * O, w = p.toString, k = l.template, x = new U((+f)), y = new U(x), b = 0, T = ""; for (r = d ? (A + c * O) / g : A / g, h == _ && v !== _ || (h > _ && (_ += A), r = (_ - h) / g + 1), t = parseInt(r, 10); b < r; b++)b && n(x, g, d), _ && t == b && (e = o(x), y < x && (e += A), e > _ && (x = new U((+m)))), l._dates.push(o(x)), T += k(w(x, u, s.culture)); l._html(T) }, bind: function () { var e = this, t = e.options.dates; t && t[0] ? e.dataBind(t) : e.refresh() }, _html: function (e) { var t = this; t.ul[0].innerHTML = e, t.popup.unbind(k, t._heightHandler), t.popup.one(k, t._heightHandler), t.current(null), t.select(t._value) }, scroll: function (e) { if (e) { var t = this.list[0], n = e.offsetTop, i = e.offsetHeight, o = t.scrollTop, a = t.clientHeight, r = n + i; o > n ? o = n : r > o + a && (o = r - a), t.scrollTop = o } }, select: function (t) { var n, i = this, o = i.options, a = i._current; t instanceof Date && (t = p.toString(t, o.format, o.culture)), "string" == typeof t && (a && a.text() === t ? t = a : (t = e.grep(i.ul[0].childNodes, function (e) { return (e.textContent || e.innerText) == t }), t = t[0] ? t : null)), n = i._distinctSelection(t), i.current(n) }, _distinctSelection: function (t) { var n, i, a = this; return t && t.length > 1 && (n = o(a._value), i = e.inArray(n, a._dates), t = a.ul.children()[i]), t }, setOptions: function (e) { var t = this.options; e.min = f(e.min), e.max = f(e.max), this.options = K(t, e, { active: t.active, change: t.change, close: t.close, open: t.open }), this.bind() }, toggle: function () { var e = this; e.popup.visible() ? e.close() : e.open() }, value: function (e) { var t = this; t._value = e, t.ul[0].firstChild && t.select(e) }, _click: function (t) { var n = this, i = e(t.currentTarget), o = i.text(), a = n.options.dates; a && a.length > 0 && (o = a[i.index()]), t.isDefaultPrevented() || (n.select(i), n.options.change(o, !0), n.close()) }, _height: function () { var e = this, t = e.list, n = t.parent(".k-animation-container"), i = e.options.height; e.ul[0].children.length && t.add(n).show().height(e.ul[0].scrollHeight > i ? i : "auto").hide() }, _parse: function (e) { var t = this, n = t.options, i = o(n.min) != o(q) ? n.min : null, a = o(n.max) != o(q) ? n.max : null, r = t._value || i || a || q; return e instanceof U ? e : (e = f(e, n.parseFormats, n.culture), e && (e = new U(r.getFullYear(), r.getMonth(), r.getDate(), e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds())), e) }, _adjustListWidth: function () { var e, t, n = this.list, i = n[0].style.width, o = this.options.anchor, a = p._outerWidth; !n.data("width") && i || (e = window.getComputedStyle ? window.getComputedStyle(o[0], null) : 0, t = e ? parseFloat(e.width) : a(o), e && (v.mozilla || v.msie) && (t += parseFloat(e.paddingLeft) + parseFloat(e.paddingRight) + parseFloat(e.borderLeftWidth) + parseFloat(e.borderRightWidth)), i = t - (a(n) - n.width()), n.css({ fontFamily: o.css("font-family"), width: i }).data("width", i)) }, _popup: function () { var e = this, t = e.list, n = e.options, i = n.anchor; e.popup = new g.Popup(t, K(n.popup, { anchor: i, open: n.open, close: n.close, animation: n.animation, isRtl: _.isRtl(n.anchor) })) }, move: function (e) { var n = this, i = e.keyCode, o = n.ul[0], a = n._current, r = i === d.DOWN; if (i === d.UP || r) { if (e.altKey) return n.toggle(r), t; a = r ? a ? a[0].nextSibling : o.firstChild : a ? a[0].previousSibling : o.lastChild, a && n.select(a), n.options.change(n._current.text()), e.preventDefault() } else i !== d.ENTER && i !== d.TAB && i !== d.ESC || (e.preventDefault(), a && n.options.change(a.text(), !0), n.close()) } }, u.getMilliseconds = o, p.TimeView = u, c = w.extend({ init: function (t, n) { var i, a, r, s, c, d, m = this; w.fn.init.call(m, t, n), t = m.element, n = m.options, n.min = f(t.attr("min")) || f(n.min), n.max = f(t.attr("max")) || f(n.max), l(n), m._initialOptions = K({}, n), m._wrapper(), m.timeView = a = new u(K({}, n, { id: t.attr(L), anchor: m.wrapper, format: n.format, change: function (e, n) { n ? m._change(e) : t.val(e) }, open: function (e) { m.timeView._adjustListWidth(), m.trigger(k) ? e.preventDefault() : (t.attr(N, !0), i.attr(R, !1)) }, close: function (e) { m.trigger(x) ? e.preventDefault() : (t.attr(N, !1), i.attr(R, !0)) }, active: function (e) { t.removeAttr(z), e && t.attr(z, a._optionID) } })), i = a.ul, m._icon(), m._reset(); try { t[0].setAttribute("type", "text") } catch (h) { t[0].type = "text" } t.addClass("k-input").attr({ role: "combobox", "aria-expanded": !1, "aria-owns": a._timeViewID }), r = t.is("[disabled]") || e(m.element).parents("fieldset").is(":disabled"), r ? m.enable(!1) : m.readonly(t.is("[readonly]")), n.dateInput && (s = n.min, c = n.max, d = new U, o(s) == o(c) && (s = new U(d.getFullYear(), d.getMonth(), d.getDate(), 0, 0, 0), c = new U(d.getFullYear(), d.getMonth(), d.getDate(), 24, 0, 0)), m._dateInput = new g.DateInput(t, { culture: n.culture, format: n.format, min: s, max: c, value: n.value })), m._old = m._update(n.value || m.element.val()), m._oldText = t.val(), p.notify(m) }, options: { name: "TimePicker", min: q, max: q, format: "", dates: [], parseFormats: [], value: null, interval: 30, height: 200, animation: {}, dateInput: !1 }, events: [k, x, y], setOptions: function (e) { var t = this, n = t._value; w.fn.setOptions.call(t, e), e = t.options, l(e), t.timeView.setOptions(e), n && t.element.val(p.toString(n, e.format, e.culture)) }, dataBind: function (e) { j(e) && this.timeView.dataBind(e) }, _editable: function (e) { var t = this, n = e.disable, i = e.readonly, o = t._arrow.off(b), a = t.element.off(b), r = t._inputWrapper.off(b); i || n ? (r.addClass(n ? B : C).removeClass(n ? C : B), a.attr(D, n).attr(V, i).attr(Y, n)) : (r.addClass(C).removeClass(B).on(M, t._toggleHover), a.removeAttr(D).removeAttr(V).attr(Y, !1).on("keydown" + b, Q(t._keydown, t)).on("focusout" + b, Q(t._blur, t)).on("focus" + b, function () { t._inputWrapper.addClass(S) }), o.on(T, Q(t._click, t)).on(W, s)) }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, destroy: function () { var e = this; w.fn.destroy.call(e), e.timeView.destroy(), e.element.off(b), e._arrow.off(b), e._inputWrapper.off(b), e._form && e._form.off("reset", e._resetHandler) }, close: function () { this.timeView.close() }, open: function () { this.timeView.open() }, min: function (e) { return this._option("min", e) }, max: function (e) { return this._option("max", e) }, value: function (e) { var n = this; return e === t ? n._value : (n._old = n._update(e), null === n._old && n.element.val(""), n._oldText = n.element.val(), t) }, _blur: function () { var e = this, t = e.element.val(); e.close(), t !== e._oldText && e._change(t), e._inputWrapper.removeClass(S) }, _click: function () { var e = this, t = e.element; e.timeView.toggle(), _.touch || t[0] === m() || t.focus() }, _change: function (e) { var t = this; e = t._update(e), +t._old != +e && (t._old = e, t._oldText = t.element.val(), t._typing || t.element.trigger(y), t.trigger(y)), t._typing = !1 }, _icon: function () { var t, n = this, i = n.element; t = i.next("span.k-select"), t[0] || (t = e('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(i)), n._arrow = t.attr({ role: "button", "aria-controls": n.timeView._timeViewID }) }, _keydown: function (e) { var t = this, n = e.keyCode, i = t.timeView, o = t.element.val(); i.popup.visible() || e.altKey ? (i.move(e), t._dateInput && e.stopImmediatePropagation && e.stopImmediatePropagation()) : n === d.ENTER && o !== t._oldText ? t._change(o) : t._typing = !0 }, _option: function (e, n) { var i = this, o = i.options; return n === t ? o[e] : (n = i.timeView._parse(n), n && (n = new U((+n)), o[e] = n, i.timeView.options[e] = n, i.timeView.bind()), t) }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(H, "mouseenter" === t.type) }, _update: function (e) { var t, n = this, i = n.options, o = n.timeView, a = o._parse(e), l = n._value, s = null === a && null === l || a instanceof Date && l instanceof Date; return r(a, i.min, i.max) || (a = null), +a === +l && s ? (t = p.toString(a, i.format, i.culture), t !== e && n.element.val(null === a ? e : t), a) : (n._value = a, n._dateInput && a ? n._dateInput.value(a || e) : n.element.val(p.toString(a || e, i.format, i.culture)), o.value(a), a) }, _wrapper: function () { var t, n = this, i = n.element; t = i.parents(".k-timepicker"), t[0] || (t = i.wrap(I).parent().addClass("k-picker-wrap k-state-default"), t = t.wrap(I).parent()), t[0].style.cssText = i[0].style.cssText, n.wrapper = t.addClass("k-widget k-timepicker k-header").addClass(i[0].className), i.css({ width: "100%", height: i[0].style.height }), n._inputWrapper = e(t[0].firstChild) }, _reset: function () { var t = this, n = t.element, i = n.attr("form"), o = i ? e("#" + i) : n.closest("form"); o[0] && (t._resetHandler = function () { t.value(n[0].defaultValue), t.max(t._initialOptions.max), t.min(t._initialOptions.min) }, t._form = o.on("reset", t._resetHandler)) } }), g.plugin(c) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.datetimepicker.min", ["kendo.datepicker.min", "kendo.timepicker.min"], e) }(function () { return function (e, t) { function a(e) { var t = new Date(2100, 0, 1); return t.setMinutes(-e), t } function n(e) { e.preventDefault() } function i(t) { var a, n = r.getCulture(t.culture).calendars.standard.patterns, i = !t.parseFormats.length; t.format = m(t.format || n.g), t.timeFormat = a = m(t.timeFormat || n.t), r.DateView.normalize(t), i && t.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"), e.inArray(a, t.parseFormats) === -1 && t.parseFormats.push(a) } var r = window.kendo, o = r.TimeView, l = r.parseDate, s = r.support, u = r._activeElement, m = r._extractFormat, d = r.calendar, c = d.isInRange, p = d.restrictValue, f = d.isEqualDatePart, _ = o.getMilliseconds, v = r.ui, g = v.Widget, h = "open", w = "close", x = "change", k = ".kendoDateTimePicker", y = "click" + k, b = s.mouseAndTouchPresent ? r.applyEventMap("up", k.slice(1)) : y, V = "disabled", D = "readonly", T = "k-state-default", I = "k-state-focused", A = "k-state-hover", F = "k-state-disabled", C = "mouseenter" + k + " mouseleave" + k, M = "mousedown" + k, O = "month", R = "<span/>", E = "aria-activedescendant", H = "aria-expanded", W = "aria-hidden", B = "aria-owns", P = "aria-disabled", S = Date, N = new S(1800, 0, 1), q = new S(2099, 11, 31), j = { view: "date" }, Y = { view: "time" }, z = e.extend, K = g.extend({ init: function (t, a) { var n, o = this; g.fn.init.call(o, t, a), t = o.element, a = o.options, a.disableDates = r.calendar.disabled(a.disableDates), a.min = l(t.attr("min")) || l(a.min), a.max = l(t.attr("max")) || l(a.max), i(a), o._initialOptions = z({}, a), o._wrapper(), o._views(), o._icons(), o._reset(), o._template(); try { t[0].setAttribute("type", "text") } catch (s) { t[0].type = "text" } t.addClass("k-input").attr({ role: "combobox", "aria-expanded": !1 }), o._midnight = o._calculateMidnight(a.min, a.max), n = t.is("[disabled]") || e(o.element).parents("fieldset").is(":disabled"), n ? o.enable(!1) : o.readonly(t.is("[readonly]")), a.dateInput && (o._dateInput = new v.DateInput(t, { culture: a.culture, format: a.format, min: a.min, max: a.max, value: a.value })), o._old = o._update(a.value || o.element.val()), o._oldText = t.val(), r.notify(o) }, options: { name: "DateTimePicker", value: null, format: "", timeFormat: "", culture: "", parseFormats: [], dates: [], disableDates: null, min: new S(N), max: new S(q), interval: 30, height: 200, footer: "", start: O, depth: O, animation: {}, month: {}, ARIATemplate: 'Current focused date is #=kendo.toString(data.current, "d")#', dateButtonText: "Open the date view", timeButtonText: "Open the time view", dateInput: !1, weekNumber: !1 }, events: [h, w, x], setOptions: function (e) { var t, a, n, o = this, s = o._value; g.fn.setOptions.call(o, e), e = o.options, e.min = t = l(e.min), e.max = a = l(e.max), i(e), o._midnight = o._calculateMidnight(e.min, e.max), n = e.value || o._value || o.dateView._current, t && !f(t, n) && (t = new S(N)), a && !f(a, n) && (a = new S(q)), o.dateView.setOptions(e), o.timeView.setOptions(z({}, e, { format: e.timeFormat, min: t, max: a })), s && (o.element.val(r.toString(s, e.format, e.culture)), o._updateARIA(s)) }, _editable: function (t) { var a = this, i = a.element.off(k), r = a._dateIcon.off(k), o = a._timeIcon.off(k), l = a._inputWrapper.off(k), s = t.readonly, u = t.disable; s || u ? (l.addClass(u ? F : T).removeClass(u ? T : F), i.attr(V, u).attr(D, s).attr(P, u)) : (l.addClass(T).removeClass(F).on(C, a._toggleHover), i.removeAttr(V).removeAttr(D).attr(P, !1).on("keydown" + k, e.proxy(a._keydown, a)).on("focus" + k, function () { a._inputWrapper.addClass(I) }).on("focusout" + k, function () { a._inputWrapper.removeClass(I), i.val() !== a._oldText && a._change(i.val()), a.close("date"), a.close("time") }), r.on(M, n).on(b, function (e) { a.toggle("date"), a._focusElement(e.type) }), o.on(M, n).on(b, function (e) { a.toggle("time"), a._focusElement(e.type) })) }, _focusElement: function (e) { var t = this.element; s.touch && (!s.mouseAndTouchPresent || (e || "").match(/touch/i)) || t[0] === u() || t.focus() }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, destroy: function () { var e = this; g.fn.destroy.call(e), e.dateView.destroy(), e.timeView.destroy(), e.element.off(k), e._dateIcon.off(k), e._timeIcon.off(k), e._inputWrapper.off(k), e._form && e._form.off("reset", e._resetHandler) }, close: function (e) { "time" !== e && (e = "date"), this[e + "View"].close() }, open: function (e) { "time" !== e && (e = "date"), this[e + "View"].open() }, min: function (e) { return this._option("min", e) }, max: function (e) { return this._option("max", e) }, toggle: function (e) { var t = "timeView"; "time" !== e ? e = "date" : t = "dateView", this[e + "View"].toggle(), this[t].close() }, value: function (e) { var a = this; return e === t ? a._value : (a._old = a._update(e), null === a._old && a.element.val(""), a._oldText = a.element.val(), t) }, _change: function (e) { var t, a, n, i = this, r = i.element.val(); e = i._update(e), t = +i._old != +e, a = t && !i._typing, n = r !== i.element.val(), (a || n) && i.element.trigger(x), t && (i._old = e, i._oldText = i.element.val(), i.trigger(x)), i._typing = !1 }, _option: function (e, n) { var i, r, o = this, s = o.options, u = o.timeView, m = u.options, d = o._value || o._old; if (n === t) return s[e]; if (n = l(n, s.parseFormats, s.culture)) { if (s.min.getTime() === s.max.getTime() && (m.dates = []), s[e] = new S(n.getTime()), o.dateView[e](n), o._midnight = o._calculateMidnight(s.min, s.max), d && (i = f(s.min, d), r = f(s.max, d)), i || r) { if (m[e] = n, i && !r && (m.max = a(s.interval)), r) { if (o._midnight) return u.dataBind([q]), t; i || (m.min = N) } } else m.max = q, m.min = N; u.bind() } }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(A, "mouseenter" === t.type) }, _update: function (t) { var n, i, o, s, u, m = this, d = m.options, _ = d.min, v = d.max, g = d.dates, h = m.timeView, w = m._value, k = l(t, d.parseFormats, d.culture), y = null === k && null === w || k instanceof Date && w instanceof Date; return d.disableDates && d.disableDates(k) && (k = null, m._old || m.element.val() || (t = null)), +k === +w && y ? (u = r.toString(k, d.format, d.culture), u !== t && (m.element.val(null === k ? t : u), t instanceof String && m.element.trigger(x)), k) : (null !== k && f(k, _) ? k = p(k, _, v) : c(k, _, v) || (k = null), m._value = k, h.value(k), m.dateView.value(k), k && (o = m._old, i = h.options, g[0] && (g = e.grep(g, function (e) { return f(k, e) }), g[0] && (h.dataBind(g), s = !0)), s || (f(k, _) && (i.min = _, i.max = a(d.interval), n = !0), f(k, v) && (m._midnight ? (h.dataBind([q]), s = !0) : (i.max = v, n || (i.min = N), n = !0))), !s && (!o && n || o && !f(o, k)) && (n || (i.max = q, i.min = N), h.bind())), m._dateInput && k ? m._dateInput.value(k || t) : m.element.val(r.toString(k || t, d.format, d.culture)), m._updateARIA(k), k) }, _keydown: function (e) { var t = this, a = t.dateView, n = t.timeView, i = t.element.val(), o = a.popup.visible(), l = t._dateInput && e.stopImmediatePropagation; e.altKey && e.keyCode === r.keys.DOWN ? t.toggle(o ? "time" : "date") : o ? (a.move(e), t._updateARIA(a._current)) : n.popup.visible() ? n.move(e) : e.keyCode === r.keys.ENTER && i !== t._oldText ? t._change(i) : (t._typing = !0, l = !1), l && e.stopImmediatePropagation() }, _views: function () { var e, t, a, n, i, s, u = this, m = u.element, d = u.options, p = m.attr("id"); u.dateView = e = new r.DateView(z({}, d, { id: p, anchor: u.wrapper, change: function () { var t, a, n = e.calendar.value(), i = +n, o = +d.min, l = +d.max; i !== o && i !== l || (t = i === o ? o : l, t = new S(u._value || t), t.setFullYear(n.getFullYear(), n.getMonth(), n.getDate()), c(t, o, l) && (n = t)), u._value && (a = r.date.setHours(new Date(n), u._value), c(a, o, l) && (n = a)), u._change(n), u.close("date") }, close: function (e) { u.trigger(w, j) ? e.preventDefault() : (m.attr(H, !1), a.attr(W, !0), t.popup.visible() || m.removeAttr(B)) }, open: function (t) { u.trigger(h, j) ? t.preventDefault() : (m.val() !== u._oldText && (s = l(m.val(), d.parseFormats, d.culture), u.dateView[s ? "current" : "value"](s)), a.attr(W, !1), m.attr(H, !0).attr(B, e._dateViewID), u._updateARIA(s)) } })), a = e.div, i = d.min.getTime(), u.timeView = t = new o({ id: p, value: d.value, anchor: u.wrapper, animation: d.animation, format: d.timeFormat, culture: d.culture, height: d.height, interval: d.interval, min: new S(N), max: new S(q), dates: i === d.max.getTime() ? [new Date(i)] : [], parseFormats: d.parseFormats, change: function (a, n) { a = t._parse(a), a < d.min ? (a = new S((+d.min)), t.options.min = a) : a > d.max && (a = new S((+d.max)), t.options.max = a), n ? (u._timeSelected = !0, u._change(a)) : (m.val(r.toString(a, d.format, d.culture)), e.value(a), u._updateARIA(a)) }, close: function (t) { u.trigger(w, Y) ? t.preventDefault() : (n.attr(W, !0), m.attr(H, !1), e.popup.visible() || m.removeAttr(B)) }, open: function (e) { t._adjustListWidth(), u.trigger(h, Y) ? e.preventDefault() : (m.val() !== u._oldText && (s = l(m.val(), d.parseFormats, d.culture), u.timeView.value(s)), n.attr(W, !1), m.attr(H, !0).attr(B, t._timeViewID), t.options.active(t.current())) }, active: function (e) { m.removeAttr(E), e && m.attr(E, t._optionID) } }), n = t.ul }, _icons: function () { var t = this, a = t.element, n = t.options, i = a.next("span.k-select"); i[0] || (i = e('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="' + n.dateButtonText + '"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="' + n.timeButtonText + '"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(a)), i = i.children(), i = i.children(), t._dateIcon = i.eq(0).attr("aria-controls", t.dateView._dateViewID), t._timeIcon = i.eq(1).attr("aria-controls", t.timeView._timeViewID) }, _wrapper: function () { var t, a = this, n = a.element; t = n.parents(".k-datetimepicker"), t[0] || (t = n.wrap(R).parent().addClass("k-picker-wrap k-state-default"), t = t.wrap(R).parent()), t[0].style.cssText = n[0].style.cssText, n.css({ width: "100%", height: n[0].style.height }), a.wrapper = t.addClass("k-widget k-datetimepicker k-header").addClass(n[0].className), a._inputWrapper = e(t[0].firstChild) }, _reset: function () { var t = this, a = t.element, n = a.attr("form"), i = n ? e("#" + n) : a.closest("form"); i[0] && (t._resetHandler = function () { t.value(a[0].defaultValue), t.max(t._initialOptions.max), t.min(t._initialOptions.min) }, t._form = i.on("reset", t._resetHandler)) }, _template: function () { this._ariaTemplate = r.template(this.options.ARIATemplate) }, _calculateMidnight: function (e, t) { return _(e) + _(t) === 0 }, _updateARIA: function (e) { var t, a = this, n = a.dateView.calendar; a.element.removeAttr(E), n && (t = n._cell, t.attr("aria-label", a._ariaTemplate({ current: e || n.current() })), a.element.attr(E, t.attr("id"))) } }); v.plugin(K) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (t, define) { define("kendo.dialog.min", ["kendo.core.min", "kendo.popup.min"], t) }(function () { return function (t, e) { function n(t) { return e !== t } function i(t, e, n) { return Math.max(Math.min(parseInt(t, 10), n === 1 / 0 ? n : parseInt(n, 10)), parseInt(e, 10)) } function o(t) { return t.keyCode == v.ENTER || t.keyCode == v.SPACEBAR } var a, r, s, l, c, d, p, u, h = window.kendo, f = h.ui.Widget, g = h.ui.Popup.TabKeyTrap, _ = t.proxy, m = h.template, v = h.keys, k = t.isFunction, w = "kendoWindow", y = ".k-dialog", b = ".k-window", x = ".k-dialog-close", C = "k-content k-window-content k-dialog-content", O = ".k-content", T = "k-scroll", A = "k-dialog-titleless", F = ".k-dialog-title", H = F + "bar", I = ".k-dialog-buttongroup", z = ".k-button", E = "k-alert", S = "k-confirm", W = "k-prompt", B = ".k-textbox", D = ".k-overlay", R = ":visible", N = "zIndex", M = "body", K = "initOpen", j = "open", P = "close", L = "show", Q = "hide", V = "width", q = 100, G = { okText: "OK", cancel: "Cancel", promptInput: "Input" }, J = Math.ceil, U = ":not(link,meta,script,style)", X = f.extend({ init: function (t, e) { var n = this; f.fn.init.call(n, t, e), n._init(n.element, n.options), h.notify(n) }, _init: function (i, o) { var r, s = this; s._centerCallback = _(s._center, s), s.appendTo = t(M), n(o.visible) && null !== o.visible || (o.visible = i.is(R)), s.wrapperTemplate === e && (s.wrapperTemplate = a.wrapper), s._createDialog(), r = s.wrapper = i.closest(y), o._defaultFocus === e && (s._defaultFocus = i[0]), s._tabindex(i), s._dimensions(), this._tabKeyTrap = new g(r), s.options.visible ? s._triggerOpen() : s.wrapper.hide() }, setOptions: function (n) { var i = this; n = t.extend(i.options, n), f.fn.setOptions.call(i, n), n.title !== e && i.title(n.title), n.content && (h.destroy(i.element.children()), i.element.html(n.content)), n.actions && (i.wrapper.children(I).remove(), i._createActionbar(i.wrapper)), i.wrapper.show(), i._closable(i.wrapper), i._dimensions(), n.visible ? i._triggerOpen() : i.wrapper.hide() }, _dimensions: function () { var t, e, n = this, o = n.wrapper, a = n.options, r = a.width, s = a.height, l = ["minWidth", "minHeight", "maxWidth", "maxHeight"]; for (t = 0; t < l.length; t++)e = a[l[t]], e && e != 1 / 0 && o.css(l[t], e); this._setElementMaxHeight(), r && (("" + r).indexOf("%") > 0 ? o.width(r) : o.outerWidth(i(r, a.minWidth, a.maxWidth))), s && (("" + s).indexOf("%") > 0 ? o.height(s) : o.outerHeight(i(s, a.minHeight, a.maxHeight)), this._setElementHeight()) }, _setElementMaxHeight: function () { var t, e, n = this, i = n.element, o = n.options.maxHeight; o != 1 / 0 && (t = n._paddingBox(i), e = parseFloat(o, 10) - n._uiHeight() - t.vertical, e > 0 && i.css({ maxHeight: J(e) + "px" })) }, _paddingBox: function (t) { var e = parseFloat(t.css("padding-top"), 10), n = parseFloat(t.css("padding-left"), 10), i = parseFloat(t.css("padding-bottom"), 10), o = parseFloat(t.css("padding-right"), 10); return { vertical: e + i, horizontal: n + o } }, _setElementHeight: function () { var t = this, e = t.element, n = t.options.height, i = t._paddingBox(e), o = parseFloat(n, 10) - t._uiHeight() - i.vertical; o < 0 && (o = 0), e.css({ height: J(o) + "px" }), this._applyScrollClassName(e) }, _applyScrollClassName: function (t) { var e = t.get(0).scrollHeight > t.outerHeight(); e ? t.addClass(T) : t.removeClass(T) }, _uiHeight: function () { var t = this, e = t.wrapper, n = e.children(I), i = n[0] && n[0].offsetHeight || 0, o = e.children(H), a = o[0] && o[0].offsetHeight || 0; return i + a }, _overlay: function (e) { var n = this.appendTo.children(D), i = this.wrapper; return n.length || (n = t(a.overlay)), n.insertBefore(i[0]).toggle(e).css(N, parseInt(i.css(N), 10) - 1), e ? this._waiAriaOverlay() : this._removeWaiAriaOverlay(), n }, _waiAriaOverlay: function () { var e = this.wrapper; this._overlayedNodes = e.prevAll(U).add(e.nextAll(U)).each(function () { var e = t(this); e.data("ariaHidden", e.attr("aria-hidden")), e.attr("aria-hidden", "true") }) }, _removeWaiAriaOverlay: function () { return this._overlayedNodes && this._overlayedNodes.each(function () { var e = t(this), n = e.data("ariaHidden"); n ? e.attr("aria-hidden", n) : e.removeAttr("aria-hidden") }) }, _closeClick: function (t) { t.preventDefault(), this.close() }, _closeKeyHandler: function (t) { (o(t) || t.keyCode == v.ESC) && this.close() }, _keydown: function (t) { var e = this, n = e.options, i = t.keyCode; i == v.ESC && !e._closing && n.closable && e.close() }, _createDialog: function () { var e = this, n = e.element, i = e.options, o = h.support.isRtl(n), r = t(a.titlebar(i)), s = (n.id || h.guid()) + "_title", l = t(e.wrapperTemplate(i)); l.toggleClass("k-rtl", o), n.addClass(C), e.appendTo.append(l), i.title !== !1 ? (l.append(r), r.attr("id", s), l.attr("aria-labelledby", s)) : l.addClass(A), e._closable(l), l.append(n), i.content && (h.destroy(n.children()), n.html(i.content)), i.actions.length && e._createActionbar(l) }, _closable: function (t) { var e = this, n = e.options, i = t.children(H), o = i.find(".k-window-actions"), r = o.length ? o.find(".k-dialog-close") : t.find(".k-dialog-close"); r.remove(), n.closable !== !1 && (n.title !== !1 && o.length ? o.append(a.close(n)) : t.prepend(a.close(n)), t.autoApplyNS(w), e.element.autoApplyNS(w), t.find(x).on("click", _(e._closeClick, e)).on("keydown", _(e._closeKeyHandler, e)), e.element.on("keydown", _(e._keydown, e))) }, _createActionbar: function (e) { var n = "stretched" === this.options.buttonLayout, i = n ? "stretched" : "normal", o = t(a.actionbar({ buttonLayout: i })); this._addButtons(o), n && this._normalizeButtonSize(o), e.append(o) }, _addButtons: function (e) { var n, i, o, r, s = this, l = s.options, c = _(s._actionClick, s), d = _(s._actionKeyHandler, s), p = s.options.actions, u = p.length, h = Math.round(q / u); for (o = 0; o < u; o++)n = p[o], i = s._mergeTextWithOptions(n), r = t(a.action(n)).autoApplyNS(w).html(i).appendTo(e).data("action", n.action).on("click", c).on("keydown", d), "stretched" === l.buttonLayout && (o == u - 1 && (h = q - o * h), r.css(V, h + "%")) }, _mergeTextWithOptions: function (t) { var e = t.text; return e ? m(e)(this.options) : "" }, _normalizeButtonSize: function (t) { var e = this, n = e.options, i = t.children(z + ":last"), o = parseFloat(i[0] ? i[0].style[V] : 0), a = q - n.actions.length * o; a > 0 && i.css(V, o + a + "%") }, _tabindex: function (t) { var e, n = this, i = n.wrapper, o = i.find(x), a = i.find(I + " " + z); f.fn._tabindex.call(this, t), e = t.attr("tabindex"), o.attr("tabIndex", e), a.attr("tabIndex", e) }, _actionClick: function (t) { this._runActionBtn(t.currentTarget) }, _actionKeyHandler: function (t) { o(t) ? this._runActionBtn(t.currentTarget) : t.keyCode == v.ESC && this.close() }, _runActionBtn: function (e) { var n, i, o = this; o._closing || (n = t(e).data("action"), i = k(n) && n({ sender: o }) === !1, i || o.close()) }, _triggerOpen: function () { var t = this, e = t.options, n = t.wrapper; t.toFront(), t._triggerInitOpen(), t.trigger(j), e.modal && (t._overlay(n.is(R)).css({ opacity: .5 }), t._focusDialog()) }, open: function () { var t, e, n, i = this, o = i.wrapper, a = this._animationOptions(j), r = i.options; return this._triggerInitOpen(), i.trigger(j) || (i._closing && o.kendoStop(!0, !0), i._closing = !1, i.toFront(), r.visible = !0, r.modal && (e = !!i._modals().length, t = i._overlay(e), t.kendoStop(!0, !0), a.duration && h.effects.Fade && !e ? (n = h.fx(t).fadeIn(), n.duration(a.duration || 0), n.endValue(.5), n.play()) : t.css("opacity", .5), t.show()), o.show().kendoStop().kendoAnimate({ effects: a.effects, duration: a.duration, complete: _(i._openAnimationEnd, i) }), o.show()), i }, _animationOptions: function (t) { var e = this.options.animation, n = { open: { effects: {} }, close: { hide: !0, effects: {} } }; return e && e[t] || n[t] }, _openAnimationEnd: function () { this.options.modal && this._focusDialog(), this.trigger(L) }, _triggerInitOpen: function () { n(this._initOpenTriggered) || (this._initOpenTriggered = !0, this.trigger(K)) }, toFront: function () { var e = this, n = e.wrapper, i = +n.css(N), o = i; return e.center(), t(b).each(function (e, n) { var o = t(n), a = o.css(N); isNaN(a) || (i = Math.max(+a, i)) }), (!n[0].style.zIndex || o < i) && n.css(N, i + 2), e.element.find("> .k-overlay").remove(), n = null, e }, close: function () { return this._close(!0), this._stopCenterOnResize(), this }, _close: function (t) { var e = this, n = e.wrapper, i = e.options, o = this._animationOptions("open"), a = this._animationOptions("close"); if (n.is(R) && !e.trigger(P, { userTriggered: !t })) { if (e._closing) return; e._closing = !0, i.visible = !1, this._removeOverlay(), n.kendoStop().kendoAnimate({ effects: a.effects || o.effects, reverse: a.reverse === !0, duration: a.duration, complete: _(this._closeAnimationEnd, this) }) } return e }, center: function () { this._center(), this._centerOnResize() }, _center: function () { var e = this, n = e.wrapper, i = t(window), o = 0, a = 0, r = a + Math.max(0, (i.width() - n.width()) / 2), s = o + Math.max(0, (i.height() - n.height() - parseInt(n.css("paddingTop"), 10)) / 2); return n.css({ left: r, top: s }), e }, _centerOnResize: function () { this._trackResize || (h.onResize(this._centerCallback), this._trackResize = !0) }, _stopCenterOnResize: function () { h.unbindResize(this._centerCallback), this._trackResize = !1 }, _removeOverlay: function () { var t = this._modals(), e = this.options, n = e.modal && !t.length; n ? this._overlay(!1).remove() : t.length && this._object(t.last())._overlay(!0) }, _closeAnimationEnd: function () { var t, e = this; e._closing = !1, e.wrapper.hide().css("opacity", ""), e.trigger(Q), e.options.modal && (t = e._object(e._modals().last()), t && t.toFront()) }, _modals: function () { var e = this, n = t(b).filter(function () { var n = t(this), i = e._object(n), o = i && i.options; return o && o.modal && e.options.appendTo == o.appendTo && o.visible && n.is(R) }).sort(function (e, n) { return +t(e).css("zIndex") - +t(n).css("zIndex") }); return e = null, n }, _object: function (t) { var n = t.children(O), i = h.widgetInstance(n); return i ? i : e }, destroy: function () { var e = this; e._destroy(), f.fn.destroy.call(e), e.wrapper.remove(), e.wrapper = e.element = t() }, _destroy: function () { var t = this, e = "." + w; t.wrapper.off(e), t.element.off(e), t.wrapper.find(x + "," + I + " > " + z).off(e), t._stopCenterOnResize() }, title: function (e) { var n = this, i = n.wrapper, o = n.options, r = i.children(H), s = r.children(F), l = h.htmlEncode(e); return arguments.length ? (e === !1 ? (r.remove(), i.addClass(A)) : (r.length || (r = t(a.titlebar(o)).prependTo(i), s = r.children(F), i.removeClass(A)), s.html(l)), n.options.title = l, n) : s.html() }, content: function (t, e) { var i = this, o = i.wrapper.children(O); return n(t) ? (this.angular("cleanup", function () { return { elements: o.children() } }), h.destroy(o.children()), o.html(t), this.angular("compile", function () { var t, n = []; for (t = o.length; --t >= 0;)n.push({ dataItem: e }); return { elements: o.children(), data: n } }), i.options.content = t, i) : o.html() }, _focusDialog: function () { this._defaultFocus && this._focus(this._defaultFocus), this._tabKeyTrap.trap() }, _focus: function (t) { t && t.focus() }, events: [K, j, P, L, Q], options: { title: "", buttonLayout: "stretched", actions: [], modal: !0, width: null, height: null, minWidth: 0, minHeight: 0, maxWidth: 1 / 0, maxHeight: 1 / 0, content: null, visible: null, appendTo: M, closable: !0 } }), Y = X.extend({ options: { name: "Dialog", messages: { close: "Close" } } }); h.ui.plugin(Y), r = X.extend({ _init: function (t, e) { var n = this; n.wrapperTemplate = a.alertWrapper, e._defaultFocus = null, n._ensureContentId(t), X.fn._init.call(n, t, e), n.bind(Q, _(n.destroy, n)), n._ariaDescribedBy(), n._initFocus() }, _ensureContentId: function (e) { var n = t(e); n.attr("id") || n.attr("id", h.guid() + "_k-popup") }, _ariaDescribedBy: function () { this.wrapper.attr("aria-describedby", this.element.attr("id")) }, _initFocus: function () { var t = this.options; this._defaultFocus = this._chooseEntryFocus(), this._defaultFocus && t.visible && t.modal && this._focusDialog() }, _chooseEntryFocus: function () { return this.wrapper.find(I + " > " + z)[0] }, options: { title: window.location.host, closable: !1, messages: G } }), s = r.extend({ _init: function (t, e) { var n = this; r.fn._init.call(n, t, e), n.wrapper.addClass(E) }, options: { name: "Alert", modal: !0, actions: [{ text: "#: messages.okText #" }] } }), h.ui.plugin(s), l = function (e) { return t(a.alert).kendoAlert({ content: e }).data("kendoAlert").open() }, c = r.extend({ _init: function (e, n) { var i = this; r.fn._init.call(i, e, n), i.wrapper.addClass(S), i.result = t.Deferred() }, options: { name: "Confirm", modal: !0, actions: [{ text: "#: messages.okText #", primary: !0, action: function (t) { t.sender.result.resolve() } }, { text: "#: messages.cancel #", action: function (t) { t.sender.result.reject() } }] } }), h.ui.plugin(c), d = function (e) { var n = t(a.confirm).kendoConfirm({ content: e }).data("kendoConfirm").open(); return n.result }, p = r.extend({ _init: function (e, n) { var i = this; r.fn._init.call(i, e, n), i.wrapper.addClass(W), i._createPrompt(), i.result = t.Deferred() }, _createPrompt: function () { var e = this.options.value, n = t(a.promptInputContainer(this.options)).insertAfter(this.element); e && n.children(B).val(e), this._defaultFocus = this._chooseEntryFocus(), this._focusDialog() }, _chooseEntryFocus: function () { return this.wrapper.find(B)[0] }, options: { name: "Prompt", modal: !0, value: "", actions: [{ text: "#: messages.okText #", primary: !0, action: function (t) { var e = t.sender, n = e.wrapper.find(B).val(); e.result.resolve(n) } }, { text: "#: messages.cancel #", action: function (t) { var e = t.sender, n = e.wrapper.find(B).val(); t.sender.result.reject(n) } }] } }), h.ui.plugin(p), u = function (e, n) { var i = t(a.prompt).kendoPrompt({ content: e, value: n }).data("kendoPrompt").open(); return i.result }, a = { wrapper: m("<div class='k-widget k-window k-dialog' role='dialog' />"), action: m("<button type='button' class='k-button# if (data.primary) { # k-primary# } role='button' #'></button>"), titlebar: m("<div class='k-window-titlebar k-dialog-titlebar k-header'><span class='k-window-title k-dialog-title'>#: title #</span><div class='k-window-actions k-dialog-actions' /></div>"), close: m("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'><span class='k-icon k-i-close'></span></a>"), actionbar: m("<div class='k-button-group k-dialog-buttongroup k-dialog-button-layout-#: buttonLayout #' role='toolbar' />"), overlay: "<div class='k-overlay' />", alertWrapper: m("<div class='k-widget k-window k-dialog' role='alertdialog' />"), alert: "<div />", confirm: "<div />", prompt: "<div />", promptInputContainer: m("<div class='k-prompt-container'><input type='text' class='k-textbox' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>") }, h.alert = l, h.confirm = d, h.prompt = u }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.dropdownlist.min", ["kendo.list.min", "kendo.mobile.scroller.min", "kendo.virtuallist.min"], e) }(function () { return function (e, t) { function i(e, t, i) { for (var n, s = 0, o = t.length - 1; s < o; ++s)n = t[s], n in e || (e[n] = {}), e = e[n]; e[t[o]] = i } function n(e, t) { return e >= t && (e -= t), e } function s(e, t) { for (var i = 0; i < e.length; i++)if (e.charAt(i) !== t) return !1; return !0 } var o = window.kendo, a = o.ui, l = a.List, r = a.Select, p = o.support, u = o._activeElement, c = o.data.ObservableObject, d = o.keys, _ = ".kendoDropDownList", f = _ + "FocusEvent", h = "disabled", m = "readonly", b = "change", v = "k-state-focused", w = "k-state-default", g = "k-state-disabled", I = "aria-disabled", x = "mouseenter" + _ + " mouseleave" + _, L = "tabindex", k = "filter", y = "accept", T = "The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel", V = e.proxy, C = r.extend({ init: function (i, n) { var s, a, l, p = this, u = n && n.index; p.ns = _, n = e.isArray(n) ? { dataSource: n } : n, r.fn.init.call(p, i, n), n = p.options, i = p.element.on("focus" + _, V(p._focusHandler, p)), p._focusInputHandler = e.proxy(p._focusInput, p), p.optionLabel = e(), p._optionLabel(), p._inputTemplate(), p._reset(), p._prev = "", p._word = "", p._wrapper(), p._tabindex(), p.wrapper.data(L, p.wrapper.attr(L)), p._span(), p._popup(), p._mobile(), p._dataSource(), p._ignoreCase(), p._filterHeader(), p._aria(), p.wrapper.attr("aria-live", "polite"), p._enable(), p._attachFocusHandlers(), p._oldIndex = p.selectedIndex = -1, u !== t && (n.index = u), p._initialIndex = n.index, p.requireValueMapper(p.options), p._initList(), p._cascade(), p.one("set", function (e) { !e.sender.listView.bound() && p.hasOptionLabel() && p._textAccessor(p._optionLabelText()) }), n.autoBind ? p.dataSource.fetch() : p.selectedIndex === -1 && (a = n.text || "", a || (s = n.optionLabel, s && 0 === n.index ? a = s : p._isSelect && (a = i.children(":selected").text())), p._textAccessor(a)), l = e(p.element).parents("fieldset").is(":disabled"), l && p.enable(!1), p.listView.bind("click", function (e) { e.preventDefault() }), o.notify(p) }, options: { name: "DropDownList", enabled: !0, autoBind: !0, index: 0, text: null, value: null, delay: 500, height: 200, dataTextField: "", dataValueField: "", optionLabel: "", cascadeFrom: "", cascadeFromField: "", ignoreCase: !0, animation: {}, filter: "none", minLength: 1, enforceMinLength: !1, virtual: !1, template: null, valueTemplate: null, optionLabelTemplate: null, groupTemplate: "#:data#", fixedGroupTemplate: "#:data#", autoWidth: !1 }, events: ["open", "close", b, "select", "filtering", "dataBinding", "dataBound", "cascade", "set"], setOptions: function (e) { r.fn.setOptions.call(this, e), this.listView.setOptions(this._listOptions(e)), this._optionLabel(), this._inputTemplate(), this._accessors(), this._filterHeader(), this._enable(), this._aria(), !this.value() && this.hasOptionLabel() && this.select(0) }, destroy: function () { var e = this; r.fn.destroy.call(e), e.wrapper.off(_), e.wrapper.off(f), e.element.off(_), e._inputWrapper.off(_), e._arrow.off(), e._arrow = null, e._arrowIcon = null, e.optionLabel.off() }, open: function () { var e = this, t = !!e.dataSource.filter() && e.dataSource.filter().filters.length > 0; e.popup.visible() || (e.listView.bound() && e._state !== y ? e._allowOpening() && (e._focusFilter = !0, e.popup.one("activate", e._focusInputHandler), e.popup._hovered = !0, e.popup.open(), e._resizeFilterInput(), e._focusItem()) : (e._open = !0, e._state = "rebind", e.filterInput && (e.filterInput.val(""), e._prev = ""), e.filterInput && 1 !== e.options.minLength && !t ? (e.refresh(), e.popup.one("activate", e._focusInputHandler), e.popup.open(), e._resizeFilterInput()) : e._filterSource())) }, _focusInput: function () { this._focusElement(this.filterInput) }, _resizeFilterInput: function () { var e, t, i = this.filterInput, n = this._prevent; i && (e = this.filterInput[0] === u(), t = o.caret(this.filterInput[0])[0], this._prevent = !0, i.css("display", "none").css("width", this.popup.element.css("width")).css("display", "inline-block"), e && (i.focus(), o.caret(i[0], t)), this._prevent = n) }, _allowOpening: function () { return this.hasOptionLabel() || this.filterInput || r.fn._allowOpening.call(this) }, toggle: function (e) { this._toggle(e, !0) }, current: function (e) { var i; return e === t ? (i = this.listView.focus(), !i && 0 === this.selectedIndex && this.hasOptionLabel() ? this.optionLabel : i) : (this._focus(e), t) }, dataItem: function (i) { var n = this, s = null; if (null === i) return i; if (i === t) s = n.listView.selectedDataItems()[0]; else { if ("number" != typeof i) { if (n.options.virtual) return n.dataSource.getByUid(e(i).data("uid")); i = i.hasClass("k-list-optionlabel") ? -1 : e(n.items()).index(i) } else n.hasOptionLabel() && (i -= 1); s = n.dataSource.flatView()[i] } return s || (s = n._optionLabelDataItem()), s }, refresh: function () { this.listView.refresh() }, text: function (e) { var i, n = this, s = n.options.ignoreCase; return e = null === e ? "" : e, e === t ? n._textAccessor() : "string" != typeof e ? (n._textAccessor(e), t) : (i = s ? e.toLowerCase() : e, n._select(function (e) { return e = n._text(e), s && (e = (e + "").toLowerCase()), e === i }).done(function () { n._textAccessor(n.dataItem() || e) }), t) }, _clearFilter: function () { e(this.filterInput).val(""), r.fn._clearFilter.call(this) }, value: function (e) { var i = this, n = i.listView, s = i.dataSource; return e === t ? (e = i._accessor() || i.listView.value()[0], e === t || null === e ? "" : e) : (i.requireValueMapper(i.options, e), !e && i.hasOptionLabel() || (i._initialIndex = null), this.trigger("set", { value: e }), i._request && i.options.cascadeFrom && i.listView.bound() ? (i._valueSetter && s.unbind(b, i._valueSetter), i._valueSetter = V(function () { i.value(e) }, i), s.one(b, i._valueSetter), t) : (i._isFilterEnabled() && n.bound() && n.isFiltered() ? i._clearFilter() : i._fetchData(), n.value(e).done(function () { i._old = i._accessor(), i._oldIndex = i.selectedIndex }), t)) }, hasOptionLabel: function () { return this.optionLabel && !!this.optionLabel[0] }, _optionLabel: function () { var i = this, n = i.options, s = n.optionLabel, a = n.optionLabelTemplate; return s ? (a || (a = "#:", a += "string" == typeof s ? "data" : o.expr(n.dataTextField, "data"), a += "#"), "function" != typeof a && (a = o.template(a)), i.optionLabelTemplate = a, i.hasOptionLabel() || (i.optionLabel = e('<div class="k-list-optionlabel"></div>').prependTo(i.list)), i.optionLabel.html(a(s)).off().click(V(i._click, i)).on(x, i._toggleHover), i.angular("compile", function () { return { elements: i.optionLabel, data: [{ dataItem: i._optionLabelDataItem() }] } }), t) : (i.optionLabel.off().remove(), i.optionLabel = e(), t) }, _optionLabelText: function () { var e = this.options.optionLabel; return "string" == typeof e ? e : this._text(e) }, _optionLabelDataItem: function () { var i = this, n = i.options.optionLabel; return i.hasOptionLabel() ? e.isPlainObject(n) ? new c(n) : i._assignInstance(i._optionLabelText(), "") : t }, _buildOptions: function (e) { var i, n, s, o = this; o._isSelect && (i = o.listView.value()[0], n = o._optionLabelDataItem(), s = n && o._value(n), i !== t && null !== i || (i = ""), n && (s !== t && null !== s || (s = ""), n = '<option value="' + s + '">' + o._text(n) + "</option>"), o._options(e, n, i), i !== l.unifyType(o._accessor(), typeof i) && (o._customOption = null, o._custom(i))) }, _listBound: function () { var e, t = this, i = t._initialIndex, n = t._state === k, s = t.dataSource.flatView(); t._presetValue = !1, t._renderFooter(), t._renderNoData(), t._toggleNoData(!s.length), t._resizePopup(!0), t.popup.position(), t._buildOptions(s), t._makeUnselectable(), n || (t._open && t.toggle(t._allowOpening()), t._open = !1, t._fetch || (s.length ? (!t.listView.value().length && i > -1 && null !== i && t.select(i), t._initialIndex = null, e = t.listView.selectedDataItems()[0], e && t.text() !== t._text(e) && t._selectValue(e)) : t._textAccessor() !== t._optionLabelText() && (t.listView.value(""), t._selectValue(null), t._oldIndex = t.selectedIndex))), t._hideBusy(), t.trigger("dataBound") }, _listChange: function () { this._selectValue(this.listView.selectedDataItems()[0]), (this._presetValue || this._old && this._oldIndex === -1) && (this._oldIndex = this.selectedIndex) }, _filterPaste: function () { this._search() }, _attachFocusHandlers: function () { var e = this, t = e.wrapper; t.on("focusin" + f, V(e._focusinHandler, e)).on("focusout" + f, V(e._focusoutHandler, e)) }, _focusHandler: function () { this.wrapper.focus() }, _focusinHandler: function () { this._inputWrapper.addClass(v), this._prevent = !1 }, _focusoutHandler: function () { var e = this, t = window.self !== window.top; e._prevent || (clearTimeout(e._typingTimeout), p.mobileOS.ios && t ? e._change() : e._blur(), e._inputWrapper.removeClass(v), e._prevent = !0, e._open = !1, e.element.blur()) }, _wrapperMousedown: function () { this._prevent = !!this.filterInput }, _wrapperClick: function (e) { e.preventDefault(), this.popup.unbind("activate", this._focusInputHandler), this._focused = this.wrapper, this._prevent = !1, this._toggle() }, _editable: function (e) { var t = this, i = t.element, n = e.disable, s = e.readonly, o = t.wrapper.add(t.filterInput).off(_), a = t._inputWrapper.off(x); s || n ? n ? (o.removeAttr(L), a.addClass(g).removeClass(w)) : a.addClass(w).removeClass(g) : (i.removeAttr(h).removeAttr(m), a.addClass(w).removeClass(g).on(x, t._toggleHover), o.attr(L, o.data(L)).attr(I, !1).on("keydown" + _, V(t._keydown, t)).on("mousedown" + _, V(t._wrapperMousedown, t)).on("paste" + _, V(t._filterPaste, t)), t.wrapper.on("click" + _, V(t._wrapperClick, t)), t.filterInput ? o.on("input" + _, V(t._search, t)) : o.on("keypress" + _, V(t._keypress, t))), i.attr(h, n).attr(m, s), o.attr(I, n) }, _keydown: function (e) { var i, n, s, o = this, a = e.keyCode, l = e.altKey, r = o.popup.visible(); if (o.filterInput && (i = o.filterInput[0] === u()), a === d.LEFT ? (a = d.UP, n = !0) : a === d.RIGHT && (a = d.DOWN, n = !0), !n || !i) { if (e.keyCode = a, (l && a === d.UP || a === d.ESC) && o._focusElement(o.wrapper), o._state === k && a === d.ESC && (o._clearFilter(), o._open = !1, o._state = y), a === d.ENTER && o._typingTimeout && o.filterInput && r) return e.preventDefault(), t; if (a !== d.SPACEBAR || i || (o.toggle(!r), e.preventDefault()), n = o._move(e), !n) { if ((!r || !o.filterInput) && (s = o._focus(), a === d.HOME ? (n = !0, o._firstItem()) : a === d.END && (n = !0, o._lastItem()), n)) { if (o.trigger("select", { dataItem: o._getElementDataItem(o._focus()), item: o._focus() })) return o._focus(s), t; o._select(o._focus(), !0).done(function () { r || o._blur() }), e.preventDefault() } l || n || !o.filterInput || o._search() } } }, _matchText: function (e, i) { var n = this.options.ignoreCase; return e !== t && null !== e && (e += "", n && (e = e.toLowerCase()), 0 === e.indexOf(i)) }, _shuffleData: function (e, t) { var i = this._optionLabelDataItem(); return i && (e = [i].concat(e)), e.slice(t).concat(e.slice(0, t)) }, _selectNext: function () { var e, t, i, o = this, a = o.dataSource.flatView(), l = a.length + (o.hasOptionLabel() ? 1 : 0), r = s(o._word, o._last), p = o.selectedIndex; for (p === -1 ? p = 0 : (p += r ? 1 : 0, p = n(p, l)), a = a.toJSON ? a.toJSON() : a.slice(), a = o._shuffleData(a, p), i = 0; i < l && (t = o._text(a[i]), !r || !o._matchText(t, o._last)) && !o._matchText(t, o._word); i++); i !== l && (e = o._focus(), o._select(n(p + i, l)).done(function () { var t = function () { o.popup.visible() || o._change() }; o.trigger("select", { dataItem: o._getElementDataItem(o._focus()), item: o._focus() }) ? o._select(e).done(t) : t() })) }, _keypress: function (e) { var t, i = this; 0 !== e.which && e.keyCode !== o.keys.ENTER && (t = String.fromCharCode(e.charCode || e.keyCode), i.options.ignoreCase && (t = t.toLowerCase()), " " === t && e.preventDefault(), i._word += t, i._last = t, i._search()) }, _popupOpen: function () { var e = this.popup; e.wrapper = o.wrap(e.element), e.element.closest(".km-root")[0] && (e.wrapper.addClass("km-popup km-widget"), this.wrapper.addClass("km-widget")) }, _popup: function () { r.fn._popup.call(this), this.popup.one("open", V(this._popupOpen, this)) }, _getElementDataItem: function (e) { return e && e[0] ? e[0] === this.optionLabel[0] ? this._optionLabelDataItem() : this.listView.dataItemByIndex(this.listView.getElementIndex(e)) : null }, _click: function (i) { var n = this, s = i.item || e(i.currentTarget); return i.preventDefault(), n.trigger("select", { dataItem: n._getElementDataItem(s), item: s }) ? (n.close(), t) : (n._userTriggered = !0, n._select(s).done(function () { n._focusElement(n.wrapper), n._blur() }), t) }, _focusElement: function (e) { var t = u(), i = this.wrapper, n = this.filterInput, s = e === n ? i : n, o = p.mobileOS && (p.touch || p.MSPointers || p.pointers); n && n[0] === e[0] && o || n && (s[0] === t || this._focusFilter) && (this._focusFilter = !1, this._prevent = !0, this._focused = e.focus()) }, _searchByWord: function (e) { var t, i; e && (t = this, i = t.options.ignoreCase, i && (e = e.toLowerCase()), t._select(function (i) { return t._matchText(t._text(i), e) })) }, _inputValue: function () { return this.text() }, _search: function () { var e = this, i = e.dataSource; if (clearTimeout(e._typingTimeout), e._isFilterEnabled()) e._typingTimeout = setTimeout(function () { var t = e.filterInput.val(); e._prev !== t && (e._prev = t, e.search(t), e._resizeFilterInput()), e._typingTimeout = null }, e.options.delay); else { if (e._typingTimeout = setTimeout(function () { e._word = "" }, e.options.delay), !e.listView.bound()) return i.fetch().done(function () { e._selectNext() }), t; e._selectNext() } }, _get: function (t) { var i, n, s, o = "function" == typeof t, a = o ? e() : e(t); if (this.hasOptionLabel() && ("number" == typeof t ? t > -1 && (t -= 1) : a.hasClass("k-list-optionlabel") && (t = -1)), o) { for (i = this.dataSource.flatView(), s = 0; s < i.length; s++)if (t(i[s])) { t = s, n = !0; break } n || (t = -1) } return t }, _firstItem: function () { this.hasOptionLabel() ? this._focus(this.optionLabel) : this.listView.focusFirst() }, _lastItem: function () { this._resetOptionLabel(), this.listView.focusLast() }, _nextItem: function () { this.optionLabel.hasClass("k-state-focused") ? (this._resetOptionLabel(), this.listView.focusFirst()) : this.listView.focusNext() }, _prevItem: function () { this.optionLabel.hasClass("k-state-focused") || (this.listView.focusPrev(), this.listView.focus() || this._focus(this.optionLabel)) }, _focusItem: function () { var e = this.options, i = this.listView, n = i.focus(), s = i.select(); s = s[s.length - 1], s === t && e.highlightFirst && !n && (s = 0), s !== t ? i.focus(s) : !e.optionLabel || e.virtual && "dataItem" === e.virtual.mapValueTo ? i.scrollToIndex(0) : (this._focus(this.optionLabel), this._select(this.optionLabel)) }, _resetOptionLabel: function (e) { this.optionLabel.removeClass("k-state-focused" + (e || "")).removeAttr("id") }, _focus: function (e) { var i = this.listView, n = this.optionLabel; return e === t ? (e = i.focus(), !e && n.hasClass("k-state-focused") && (e = n), e) : (this._resetOptionLabel(), e = this._get(e), i.focus(e), e === -1 && (n.addClass("k-state-focused").attr("id", i._optionID), this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant", i._optionID)), t) }, _select: function (e, t) { var i = this; return e = i._get(e), i.listView.select(e).done(function () { t || i._state !== k || (i._state = y), e === -1 && i._selectValue(null) }) }, _selectValue: function (e) { var i = this, n = i.options.optionLabel, s = i.listView.select(), o = "", a = ""; s = s[s.length - 1], s === t && (s = -1), this._resetOptionLabel(" k-state-selected"), e || 0 === e ? (a = e, o = i._dataValue(e), n && (s += 1)) : n && (i._focus(i.optionLabel.addClass("k-state-selected")), a = i._optionLabelText(), o = "string" == typeof n ? "" : i._value(n), s = 0), i.selectedIndex = s, null === o && (o = ""), i._textAccessor(a), i._accessor(o, s), i._triggerCascade() }, _mobile: function () { var e = this, t = e.popup, i = p.mobileOS, n = t.element.parents(".km-root").eq(0); n.length && i && (t.options.animation.open.effects = i.android || i.meego ? "fadeIn" : i.ios || i.wp ? "slideIn:up" : t.options.animation.open.effects) }, _filterHeader: function () { var t; this.filterInput && (this.filterInput.off(_).parent().remove(), this.filterInput = null), this._isFilterEnabled() && (t = '<span class="k-icon k-i-zoom"></span>', this.filterInput = e('<input class="k-textbox"/>').attr({ placeholder: this.element.attr("placeholder"), title: this.element.attr("title"), role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add(t)))) }, _span: function () { var t, i = this, n = i.wrapper, s = "span.k-input"; t = n.find(s), t[0] || (n.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(i.element), t = n.find(s)), i.span = t, i._inputWrapper = e(n[0].firstChild), i._arrow = n.find(".k-select"), i._arrowIcon = i._arrow.find(".k-icon") }, _wrapper: function () { var e, t = this, i = t.element, n = i[0]; e = i.parent(), e.is("span.k-widget") || (e = i.wrap("<span />").parent(), e[0].style.cssText = n.style.cssText, e[0].title = n.title), t._focused = t.wrapper = e.addClass("k-widget k-dropdown k-header").addClass(n.className).css("display", "").attr({ accesskey: i.attr("accesskey"), unselectable: "on", role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), i.hide().removeAttr("accesskey") }, _clearSelection: function (e) { this.select(e.value() ? 0 : -1) }, _inputTemplate: function () { var t = this, i = t.options.valueTemplate; if (i = i ? o.template(i) : e.proxy(o.template("#:this._text(data)#", { useWithBlock: !1 }), t), t.valueTemplate = i, t.hasOptionLabel() && !t.options.optionLabelTemplate) try { t.valueTemplate(t._optionLabelDataItem()) } catch (n) { throw Error(T) } }, _textAccessor: function (i) { var n, s = null, o = this.valueTemplate, a = this._optionLabelText(), l = this.span; if (i === t) return l.text(); e.isPlainObject(i) || i instanceof c ? s = i : a && a === i && (s = this.options.optionLabel), s || (s = this._assignInstance(i, this._accessor())), this.hasOptionLabel() && (s !== a && this._text(s) !== a || (o = this.optionLabelTemplate, "string" != typeof this.options.optionLabel || this.options.optionLabelTemplate || (s = a))), n = function () { return { elements: l.get(), data: [{ dataItem: s }] } }, this.angular("cleanup", n); try { l.html(o(s)) } catch (r) { l.html("") } this.angular("compile", n) }, _preselect: function (e, t) { e || t || (t = this._optionLabelText()), this._accessor(e), this._textAccessor(t), this._old = this._accessor(), this._oldIndex = this.selectedIndex, this.listView.setValue(e), this._initialIndex = null, this._presetValue = !0 }, _assignInstance: function (e, t) { var n = this.options.dataTextField, s = {}; return n ? (i(s, n.split("."), e), i(s, this.options.dataValueField.split("."), t), s = new c(s)) : s = e, s } }); a.plugin(C) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.treeview.min", ["kendo.data.min", "kendo.treeview.draganddrop.min"], e) }(function () { return function (e, t) { function n(e) { return function (t) { var n = t.children(".k-animation-container"); return n.length || (n = t), n.children(e) } } function i(e) { return p.template(e, { useWithBlock: !1 }) } function a(e) { return e.find("> div .k-checkbox-wrapper [type=checkbox]") } function r(e) { return function (t, n) { n = n.closest(G); var i, a = n.parent(); return a.parent().is("li") && (i = a.parent()), this._dataSourceMove(t, a, i, function (t, i) { var a = this.dataItem(n), r = a ? a.parent().indexOf(a) : n.index(); return this._insert(t.data(), i, r + e) }) } } function s(t, n) { for (var i; t && "ul" != t.nodeName.toLowerCase();)i = t, t = t.nextSibling, 3 == i.nodeType && (i.nodeValue = e.trim(i.nodeValue)), u.test(i.className) ? n.insertBefore(i, n.firstChild) : n.appendChild(i) } function o(t) { var n = t.children("div"), i = t.children("ul"), a = n.children(".k-icon"), r = t.children(":checkbox"), o = n.children(".k-in"); t.hasClass("k-treeview") || (n.length || (n = e("<div />").prependTo(t)), !a.length && i.length ? a = e("<span class='k-icon' />").prependTo(n) : i.length && i.children().length || (a.remove(), i.remove()), r.length && e("<span class='k-checkbox-wrapper' />").appendTo(n).append(r), o.length || (o = t.children("a").eq(0).addClass("k-in k-link"), o.length || (o = e("<span class='k-in' />")), o.appendTo(n), n.length && s(n[0].nextSibling, o[0]))) } var d, l, c, h, u, p = window.kendo, f = p.ui, g = p.data, m = e.extend, k = p.template, v = e.isArray, _ = f.Widget, x = g.HierarchicalDataSource, b = e.proxy, C = p.keys, y = ".kendoTreeView", w = ".kendoTreeViewTemp", S = "select", N = "check", T = "navigate", I = "expand", D = "change", B = "error", A = "checked", E = "indeterminate", O = "collapse", L = "dragstart", H = "drag", U = "drop", q = "dragend", V = "dataBound", F = "click", R = "undefined", j = "k-state-hover", P = "k-treeview", M = ":visible", G = ".k-item", Q = "string", W = "aria-label", X = "aria-selected", Y = "aria-disabled", $ = "k-state-disabled", J = { text: "dataTextField", url: "dataUrlField", spriteCssClass: "dataSpriteCssClassField", imageUrl: "dataImageUrlField" }, z = function (e) { return e instanceof p.jQuery || e instanceof window.jQuery }, K = function (e) { return "object" == typeof HTMLElement ? e instanceof HTMLElement : e && "object" == typeof e && 1 === e.nodeType && typeof e.nodeName === Q }; l = n(".k-group"), c = n(".k-group,.k-content"), h = function (e) { return e.children("div").children(".k-icon") }, u = /k-sprite/, d = p.ui.DataBoundWidget.extend({ init: function (e, t) { var n, i = this, a = !1, r = t && !!t.dataSource; v(t) && (t = { dataSource: t }), t && typeof t.loadOnDemand == R && v(t.dataSource) && (t.loadOnDemand = !1), _.prototype.init.call(i, e, t), e = i.element, t = i.options, n = e.is("ul") && e || e.hasClass(P) && e.children("ul"), a = !r && n.length, a && (t.dataSource.list = n), i._animation(), i._accessors(), i._templates(), e.hasClass(P) ? (i.wrapper = e, i.root = e.children("ul").eq(0)) : (i._wrapper(), n && (i.root = e, i._group(i.wrapper))), i._tabindex(), i.root.attr("role", "tree"), i._dataSource(a), i._attachEvents(), i._dragging(), a ? i._syncHtmlAndDataSource() : t.autoBind && (i._progress(!0), i.dataSource.fetch()), t.checkboxes && t.checkboxes.checkChildren && i.updateIndeterminate(), i.element[0].id && (i._ariaId = p.format("{0}_tv_active", i.element[0].id)), p.notify(i) }, _attachEvents: function () { var t = this, n = ".k-in:not(.k-state-selected,.k-state-disabled)", i = "mouseenter"; t.wrapper.on(i + y, ".k-in.k-state-selected", function (e) { e.preventDefault() }).on(i + y, n, function () { e(this).addClass(j) }).on("mouseleave" + y, n, function () { e(this).removeClass(j) }).on(F + y, n, b(t._click, t)).on("dblclick" + y, ".k-in:not(.k-state-disabled)", b(t._toggleButtonClick, t)).on(F + y, ".k-i-expand,.k-i-collapse", b(t._toggleButtonClick, t)).on("keydown" + y, b(t._keydown, t)).on("keypress" + y, b(t._keypress, t)).on("focus" + y, b(t._focus, t)).on("blur" + y, b(t._blur, t)).on("mousedown" + y, ".k-in,.k-checkbox-wrapper :checkbox,.k-i-expand,.k-i-collapse", b(t._mousedown, t)).on("change" + y, ".k-checkbox-wrapper :checkbox", b(t._checkboxChange, t)).on("click" + y, ".checkbox-span", b(t._checkboxLabelClick, t)).on("click" + y, ".k-request-retry", b(t._retryRequest, t)).on("click" + y, ".k-link.k-state-disabled", function (e) { e.preventDefault() }).on("click" + y, function (n) { e(n.target).is(":kendoFocusable") || t.focus() }) }, _checkboxLabelClick: function (t) { var n = e(t.target.previousSibling); n.is("[disabled]") || (n.prop("checked", !n.prop("checked")), n.trigger("change")) }, _syncHtmlAndDataSource: function (e, t) { e = e || this.root, t = t || this.dataSource; var n, i, r, s, o, d = t.view(), l = p.attr("uid"), c = p.attr("expanded"), h = this.options.checkboxes, u = e.children("li"); for (n = 0; n < u.length; n++)r = d[n], s = r.uid, i = u.eq(n), i.attr("role", "treeitem").attr(l, s).attr(X, i.hasClass("k-state-selected")), r.expanded = "true" === i.attr(c), h && (o = a(i), r.checked = o.prop(A), o.attr("id", "_" + s), o.next(".k-checkbox-label").attr("for", "_" + s)), this._syncHtmlAndDataSource(i.children("ul"), r.children) }, _animation: function () { var e = this.options, t = e.animation, n = t.collapse && "effects" in t.collapse, i = m({}, t.expand, t.collapse); n || (i = m(i, { reverse: !0 })), t === !1 && (t = { expand: { effects: {} }, collapse: { hide: !0, effects: {} } }), t.collapse = m(i, { hide: !0 }), e.animation = t }, _dragging: function () { var t, n = this.options.dragAndDrop, i = this.dragging; n && !i ? (t = this, this.dragging = new f.HierarchicalDragAndDrop(this.element, { reorderable: !0, $angular: this.options.$angular, autoScroll: this.options.autoScroll, filter: "div:not(.k-state-disabled) .k-in", allowedContainers: ".k-treeview", itemSelector: ".k-treeview .k-item", hintText: b(this._hintText, this), contains: function (t, n) { return e.contains(t, n) }, dropHintContainer: function (e) { return e }, itemFromTarget: function (e) { var t = e.closest(".k-top,.k-mid,.k-bot"); return { item: t, content: e.closest(".k-in"), first: t.hasClass("k-top"), last: t.hasClass("k-bot") } }, dropPositionFrom: function (e) { return e.prevAll(".k-in").length > 0 ? "after" : "before" }, dragstart: function (e) { return t.trigger(L, { sourceNode: e[0] }) }, drag: function (e) { t.trigger(H, { originalEvent: e.originalEvent, sourceNode: e.source[0], dropTarget: e.target[0], pageY: e.pageY, pageX: e.pageX, statusClass: e.status, setStatusClass: e.setStatus }) }, drop: function (n) { var i = e(n.dropTarget), a = i.closest("a"); return a && a.attr("href") && t._tempPreventNavigation(a), t.trigger(U, { originalEvent: n.originalEvent, sourceNode: n.source, destinationNode: n.destination, valid: n.valid, setValid: function (e) { this.valid = e, n.setValid(e) }, dropTarget: n.dropTarget, dropPosition: n.position }) }, dragend: function (e) { function n(n) { t.options.checkboxes && t.options.checkboxes.checkChildren && t.updateIndeterminate(), t.trigger(q, { originalEvent: e.originalEvent, sourceNode: n && n[0], destinationNode: a[0], dropPosition: r }) } var i = e.source, a = e.destination, r = e.position; "over" == r ? t.append(i, a, n) : ("before" == r ? i = t.insertBefore(i, a) : "after" == r && (i = t.insertAfter(i, a)), n(i)) } })) : !n && i && (i.destroy(), this.dragging = null) }, _tempPreventNavigation: function (e) { e.on(F + y + w, function (t) { t.preventDefault(), e.off(F + y + w) }) }, _hintText: function (e) { return this.templates.dragClue({ item: this.dataItem(e), treeview: this.options }) }, _templates: function () { var e = this, t = e.options, n = b(e._fieldAccessor, e); t.template && typeof t.template == Q ? t.template = k(t.template) : t.template || (t.template = i("# var text = " + n("text") + "(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")), e._checkboxes(), e.templates = { wrapperCssClass: function (e, t) { var n = "k-item", i = t.index; return e.firstLevel && 0 === i && (n += " k-first"), i == e.length - 1 && (n += " k-last"), n }, cssClass: function (e, t) { var n = "", i = t.index, a = e.length - 1; return e.firstLevel && 0 === i && (n += "k-top "), n += 0 === i && i != a ? "k-top" : i == a ? "k-bot" : "k-mid" }, textClass: function (e, t) { var n = "k-in"; return t && (n += " k-link"), e.enabled === !1 && (n += " k-state-disabled"), e.selected === !0 && (n += " k-state-selected"), n }, toggleButtonClass: function (e) { var t = "k-icon"; return t += e.expanded !== !0 ? " k-i-expand" : " k-i-collapse" }, groupAttributes: function (e) { var t = ""; return e.firstLevel || (t = "role='group'"), t + (e.expanded !== !0 ? " style='display:none'" : "") }, groupCssClass: function (e) { var t = "k-group"; return e.firstLevel && (t += " k-treeview-lines"), t }, dragClue: i("#= data.treeview.template(data) #"), group: i("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"), itemContent: i("# var imageUrl = " + n("imageUrl") + "(data.item); ## var spriteCssClass = " + n("spriteCssClass") + "(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"), itemElement: i("# var item = data.item, r = data.r; ## var url = " + n("url") + "(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #'/># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox-wrapper' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag# class='#= r.textClass(item, !!url) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"), item: i("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' " + p.attr("uid") + "='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false\" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"), loading: i("<div class='k-icon k-i-loading' /> #: data.messages.loading #"), retry: i("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>") } }, items: function () { return this.element.find(".k-item > div:first-child") }, setDataSource: function (t) { var n = this.options; n.dataSource = t, this._dataSource(), n.checkboxes && n.checkboxes.checkChildren && this.dataSource.one("change", e.proxy(this.updateIndeterminate, this, null)), this.options.autoBind && this.dataSource.fetch() }, _bindDataSource: function () { this._refreshHandler = b(this.refresh, this), this._errorHandler = b(this._error, this), this.dataSource.bind(D, this._refreshHandler), this.dataSource.bind(B, this._errorHandler) }, _unbindDataSource: function () { var e = this.dataSource; e && (e.unbind(D, this._refreshHandler), e.unbind(B, this._errorHandler)) }, _dataSource: function (e) { function t(e) { for (var n = 0; n < e.length; n++)e[n]._initChildren(), e[n].children.fetch(), t(e[n].children.view()) } var n = this, i = n.options, a = i.dataSource; a = v(a) ? { data: a } : a, n._unbindDataSource(), a.fields || (a.fields = [{ field: "text" }, { field: "url" }, { field: "spriteCssClass" }, { field: "imageUrl" }]), n.dataSource = a = x.create(a), e && (a.fetch(), t(a.view())), n._bindDataSource() }, events: [L, H, U, q, V, I, O, S, D, T, N], options: { name: "TreeView", dataSource: {}, animation: { expand: { effects: "expand:vertical", duration: 200 }, collapse: { duration: 100 } }, messages: { loading: "Loading...", requestFailed: "Request failed.", retry: "Retry" }, dragAndDrop: !1, checkboxes: !1, autoBind: !0, autoScroll: !1, loadOnDemand: !0, template: "", dataTextField: null }, _accessors: function () { var e, t, n, i = this, a = i.options, r = i.element; for (e in J) t = a[J[e]], n = r.attr(p.attr(e + "-field")), !t && n && (t = n), t || (t = e), v(t) || (t = [t]), a[J[e]] = t }, _fieldAccessor: function (t) { var n = this.options[J[t]], i = n.length, a = "(function(item) {"; return 0 === i ? a += "return item['" + t + "'];" : (a += "var levels = [" + e.map(n, function (e) { return "function(d){ return " + p.expr(e) + "}" }).join(",") + "];", a += "return levels[Math.min(item.level(), " + i + "-1)](item)"), a += "})" }, setOptions: function (e) { _.fn.setOptions.call(this, e), this._animation(), this._dragging(), this._templates() }, _trigger: function (e, t) { return this.trigger(e, { node: t.closest(G)[0] }) }, _setChecked: function (t, n) { if (t && e.isFunction(t.view)) for (var i = 0, a = t.view(); i < a.length; i++)a[i].enabled !== !1 && a[i].set(A, n), a[i].children && this._setChecked(a[i].children, n) }, _setIndeterminate: function (e) { var t, n, i, r = l(e), s = !0; if (r.length && (t = a(r.children()), n = t.length)) { if (n > 1) { for (i = 1; i < n; i++)if (t[i].checked != t[i - 1].checked || t[i].indeterminate || t[i - 1].indeterminate) { s = !1; break } } else s = !t[0].indeterminate; return a(e).data(E, !s).prop(E, !s).prop(A, s && t[0].checked) } }, updateIndeterminate: function (e) { var t, n, i, a; if (e = e || this.wrapper, t = l(e).children(), t.length) { for (n = 0; n < t.length; n++)this.updateIndeterminate(t.eq(n)); i = this._setIndeterminate(e), a = this.dataItem(e), i && i.prop(A) ? a.checked = !0 : a && delete a.checked } }, _bubbleIndeterminate: function (e, t) { if (e.length) { t || this.updateIndeterminate(e); var n, i = this.parent(e); i.length && (this._setIndeterminate(i), n = i.children("div").find(".k-checkbox-wrapper :checkbox"), this._skip = !0, n.prop(E) === !1 ? this.dataItem(i).set(A, n.prop(A)) : this.dataItem(i).set(A, !1), this._skip = !1, this._bubbleIndeterminate(i, !0)) } }, _checkboxChange: function (t) { var n = e(t.target), i = n.prop(A), a = n.closest(G), r = this.dataItem(a); r.checked != i && (r.set(A, i), this._trigger(N, a)) }, _toggleButtonClick: function (t) { var n = e(t.currentTarget).closest(G); n.is("[aria-disabled='true']") || this.toggle(n) }, _mousedown: function (t) { var n = e(t.currentTarget).closest(G); n.is("[aria-disabled='true']") || (this._clickTarget = n, this.current(n)) }, _focusable: function (e) { return e && e.length && e.is(":visible") && !e.find(".k-in:first").hasClass($) }, _focus: function () { var t = this.select(), n = this._clickTarget; p.support.touch || (n && n.length && (t = n), this._focusable(t) || (t = this.current()), this._focusable(t) || (t = this._nextVisible(e())), this.current(t)) }, focus: function () { var e, t = this.wrapper, n = t[0], i = [], a = [], r = document.documentElement; do n = n.parentNode, n.scrollHeight > n.clientHeight && (i.push(n), a.push(n.scrollTop)); while (n != r); for (t.focus(), e = 0; e < i.length; e++)i[e].scrollTop = a[e] }, _blur: function () { this.current().find(".k-in:first").removeClass("k-state-focused") }, _enabled: function (e) { return !e.children("div").children(".k-in").hasClass($) }, parent: function (t) { var n, i, a = /\bk-treeview\b/, r = /\bk-item\b/; typeof t == Q && (t = this.element.find(t)), K(t) || (t = t[0]), i = r.test(t.className); do t = t.parentNode, r.test(t.className) && (i ? n = t : i = !0); while (!a.test(t.className) && !n); return e(n) }, _nextVisible: function (e) { function t(e) { for (; e.length && !e.next().length;)e = i.parent(e); return e.next().length ? e.next() : e } var n, i = this, a = i._expanded(e); return e.length && e.is(":visible") ? a ? (n = l(e).children().first(), n.length || (n = t(e))) : n = t(e) : n = i.root.children().eq(0), n }, _previousVisible: function (e) { var t, n, i = this; if (!e.length || e.prev().length) for (n = e.length ? e.prev() : i.root.children().last(); i._expanded(n) && (t = l(n).children().last(), t.length);)n = t; else n = i.parent(e) || e; return n }, _keydown: function (n) { var i, a = this, r = n.keyCode, s = a.current(), o = a._expanded(s), d = s.find(".k-checkbox-wrapper:first :checkbox"), l = p.support.isRtl(a.element); n.target == n.currentTarget && (!l && r == C.RIGHT || l && r == C.LEFT ? o ? i = a._nextVisible(s) : s.find(".k-in:first").hasClass($) || a.expand(s) : !l && r == C.LEFT || l && r == C.RIGHT ? o && !s.find(".k-in:first").hasClass($) ? a.collapse(s) : (i = a.parent(s), a._enabled(i) || (i = t)) : r == C.DOWN ? i = a._nextVisible(s) : r == C.UP ? i = a._previousVisible(s) : r == C.HOME ? i = a._nextVisible(e()) : r == C.END ? i = a._previousVisible(e()) : r != C.ENTER || s.find(".k-in:first").hasClass($) ? r == C.SPACEBAR && d.length && !s.find(".k-in:first").hasClass($) && (d.prop(A, !d.prop(A)).data(E, !1).prop(E, !1), a._checkboxChange({ target: d }), i = s) : s.find(".k-in:first").hasClass("k-state-selected") || a._trigger(S, s) || a.select(s), i && (n.preventDefault(), s[0] != i[0] && (a._trigger(T, i), a.current(i)))) }, _keypress: function (e) { var t, n = this, i = 300, a = n._getSelectedNode(); e.keyCode !== C.ENTER && e.keyCode !== C.SPACEBAR && (n._match || (n._match = ""), n._match += String.fromCharCode(e.keyCode), clearTimeout(n._matchTimer), n._matchTimer = setTimeout(function () { n._match = "" }, i), t = a && n._matchNextByText(Array.prototype.indexOf.call(this.element.find(".k-item"), a[0]), n._match), t || (t = n._matchNextByText(-1, n._match)), n.select(t)) }, _matchNextByText: function (t, n) { return e(this.element).find(".k-in").filter(function (i, a) { return i > t && e(a).is(":visible") && !e(a).hasClass($) && 0 === e(a).text().toLowerCase().indexOf(n) }).closest(G)[0] }, _click: function (t) { var n, i = this, a = e(t.currentTarget), r = c(a.closest(G)), s = a.attr("href"); n = s ? "#" == s || s.indexOf("#" + this.element.id + "-") >= 0 : r.length && !r.children().length, n && t.preventDefault(), a.hasClass(".k-state-selected") || i._trigger(S, a) || i.select(a) }, _wrapper: function () { var e, t, n = this, i = n.element, a = "k-widget k-treeview"; i.is("ul") ? (e = i.wrap("<div />").parent(), t = i) : (e = i, t = e.children("ul").eq(0)), n.wrapper = e.addClass(a), n.root = t }, _getSelectedNode: function () { return this.element.find(".k-state-selected").closest(G) }, _group: function (e) { var t = this, n = e.hasClass(P), i = { firstLevel: n, expanded: n || t._expanded(e) }, a = e.children("ul"); a.addClass(t.templates.groupCssClass(i)).css("display", i.expanded ? "" : "none"), t._nodes(a, i) }, _nodes: function (t, n) { var i, a = this, r = t.children("li"); n = m({ length: r.length }, n), r.each(function (t, r) { r = e(r), i = { index: t, expanded: a._expanded(r) }, o(r), a._updateNodeClasses(r, n, i), a._group(r) }) }, _checkboxes: function () { var e, t = this.options, n = t.checkboxes; n && (e = "<input type='checkbox' tabindex='-1' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #", n.name && (e += " name='" + n.name + "'"), e += " id='_#= item.uid #' class='k-checkbox' /><span class='k-checkbox-label checkbox-span'></span>", n = m({ template: e }, t.checkboxes), typeof n.template == Q && (n.template = k(n.template)), t.checkboxes = n) }, _updateNodeClasses: function (e, t, n) { var i, a, r = e.children("div"), s = e.children("ul"), o = this.templates; e.hasClass("k-treeview") || (n = n || {}, n.expanded = typeof n.expanded != R ? n.expanded : this._expanded(e), n.index = typeof n.index != R ? n.index : e.index(), n.enabled = typeof n.enabled != R ? n.enabled : !r.children(".k-in").hasClass("k-state-disabled"), t = t || {}, t.firstLevel = typeof t.firstLevel != R ? t.firstLevel : e.parent().parent().hasClass(P), t.length = typeof t.length != R ? t.length : e.parent().children().length, e.removeClass("k-first k-last").addClass(o.wrapperCssClass(t, n)), r.removeClass("k-top k-mid k-bot").addClass(o.cssClass(t, n)), i = r.children(".k-in"), a = i[0] && "a" == i[0].nodeName.toLowerCase(), i.removeClass("k-in k-link k-state-default k-state-disabled").addClass(o.textClass(n, a)), (s.length || "true" == e.attr("data-hasChildren")) && (r.children(".k-icon").removeClass("k-i-expand k-i-collapse").addClass(o.toggleButtonClass(n)), s.addClass("k-group")), this._checkboxAria(e)) }, _processNodes: function (t, n) { var i = this; i.element.find(t).each(function (t, a) { n.call(i, t, e(a).closest(G)) }) }, dataItem: function (t) { var n = e(t).closest(G).attr(p.attr("uid")), i = this.dataSource; return i && i.getByUid(n) }, _insertNode: function (t, n, i, a, r) { var s, d, c, h, u = this, p = l(i), f = p.children().length + 1, g = { firstLevel: i.hasClass(P), expanded: !r, length: f }, m = "", k = function (e, t) { e.appendTo(t) }; for (c = 0; c < t.length; c++)h = t[c], h.index = n + c, m += u._renderItem({ group: g, item: h }); if (d = e(m), d.length) { for (u.angular("compile", function () { return { elements: d.get(), data: t.map(function (e) { return { dataItem: e } }) } }), p.length || (p = e(u._renderGroup({ group: g })).appendTo(i)), a(d, p), i.hasClass("k-item") && (o(i), u._updateNodeClasses(i)), u._updateNodeClasses(d.prev().first()), u._updateNodeClasses(d.next().last()), u._checkboxAria(d), c = 0; c < t.length; c++)h = t[c], h.hasChildren && (s = h.children.data(), s.length && u._insertNode(s, h.index, d.eq(c), k, !u._expanded(d.eq(c)))); return d } }, _checkboxAria: function (t) { var n; t.each(function (t, i) { i = e(i), n = i.find(".k-in:first").text(), e(i).find("> div .k-checkbox-wrapper [type=checkbox]").attr(W, n) }) }, _updateNodes: function (t, n) { function i(e, t) { e.find(".k-checkbox-wrapper :checkbox").not("[disabled]").prop(A, t).data(E, !1).prop(E, !1) } var a, r, s, o, d, l, h, u = this, p = { treeview: u.options, item: o }, g = "expanded" != n && "checked" != n; if ("selected" == n) o = t[0], r = u.findByUid(o.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected", o[n]).end(), o[n] && u.current(r), r.attr(X, !!o[n]); else { for (h = e.map(t, function (e) { return u.findByUid(e.uid).children("div") }), g && u.angular("cleanup", function () { return { elements: h } }), a = 0; a < t.length; a++)p.item = o = t[a], s = h[a], r = s.parent(), g && s.children(".k-in").html(u.templates.itemContent(p)), n == A ? (d = o[n], i(s, d), u.options.checkboxes.checkChildren && (i(r.children(".k-group"), d), u._setChecked(o.children, d), u._bubbleIndeterminate(r))) : "expanded" == n ? u._toggle(r, o, o[n]) : "enabled" == n && (r.find(".k-checkbox-wrapper :checkbox").prop("disabled", !o[n]), l = !c(r).is(M), r.removeAttr(Y), o[n] || (o.selected && o.set("selected", !1), o.expanded && o.set("expanded", !1), l = !0, r.attr(X, !1).attr(Y, !0)), u._updateNodeClasses(r, {}, { enabled: o[n], expanded: !l })), s.length && this.trigger("itemChange", { item: s, data: o, ns: f }); g && u.angular("compile", function () { return { elements: h, data: e.map(t, function (e) { return [{ dataItem: e }] }) } }) } }, _appendItems: function (e, t, n) { var i = l(n), a = i.children(), r = !this._expanded(n); this.element === n ? e = this.dataSource.view().indexOf(t[0]) : t.length && (e = t[0].parent().indexOf(t[0])), typeof e == R && (e = a.length), this._insertNode(t, e, n, function (t, n) { e >= a.length ? t.appendTo(n) : t.insertBefore(a.eq(e)) }, r), this._expanded(n) && (this._updateNodeClasses(n), l(n).css("display", "block")) }, _refreshChildren: function (e, t, n) { var i, a, r, s = this.options, d = s.loadOnDemand, c = s.checkboxes && s.checkboxes.checkChildren; if (l(e).empty(), t.length) for (this._appendItems(n, t, e), a = l(e).children(), d && c && this._bubbleIndeterminate(a.last()), i = 0; i < a.length; i++)r = a.eq(i), this.trigger("itemChange", { item: r.children("div"), data: this.dataItem(r), ns: f }); else o(e) }, _refreshRoot: function (t) { var n, i, a, r = this._renderGroup({ items: t, group: { firstLevel: !0, expanded: !0 } }); for (this.root.length ? (this._angularItems("cleanup"), n = e(r), this.root.attr("class", n.attr("class")).html(n.html())) : this.root = this.wrapper.html(r).children("ul"), this.root.attr("role", "tree"), i = this.root.children(".k-item"), a = 0; a < t.length; a++)this.trigger("itemChange", { item: i.eq(a), data: t[a], ns: f }); this._angularItems("compile") }, refresh: function (e) { var n, i, a = e.node, r = e.action, s = e.items, o = this.wrapper, d = this.options, l = d.loadOnDemand, c = d.checkboxes && d.checkboxes.checkChildren; if (!this._skip) { if (e.field) { if (!s[0] || !s[0].level) return; return this._updateNodes(s, e.field) } if (a && (o = this.findByUid(a.uid), this._progress(o, !1)), c && "remove" != r) { for (i = !1, n = 0; n < s.length; n++)if ("checked" in s[n]) { i = !0; break } if (!i && a && a.checked) for (n = 0; n < s.length; n++)s[n].checked = !0 } if ("add" == r ? this._appendItems(e.index, s, o) : "remove" == r ? this._remove(this.findByUid(s[0].uid), !1) : "itemchange" == r ? this._updateNodes(s) : "itemloaded" == r ? this._refreshChildren(o, s, e.index) : this._refreshRoot(s), "remove" != r) for (n = 0; n < s.length; n++)l && !s[n].expanded || s[n].load(); this.trigger(V, { node: a ? o : t }), this.options.checkboxes.checkChildren && this.updateIndeterminate() } }, _error: function (e) { var t = e.node && this.findByUid(e.node.uid), n = this.templates.retry({ messages: this.options.messages }); t ? (this._progress(t, !1), this._expanded(t, !1), h(t).addClass("k-i-reload"), e.node.loaded(!1)) : (this._progress(!1), this.element.html(n)) }, _retryRequest: function (e) { e.preventDefault(), this.dataSource.fetch() }, expand: function (e) { this._processNodes(e, function (e, t) { this.toggle(t, !0) }) }, collapse: function (e) { this._processNodes(e, function (e, t) { this.toggle(t, !1) }) }, enable: function (e, t) { "boolean" == typeof e ? (t = e, e = this.items()) : t = 2 != arguments.length || !!t, this._processNodes(e, function (e, n) { this.dataItem(n).set("enabled", t) }) }, current: function (n) { var i = this, a = i._current, r = i.element, s = i._ariaId; return arguments.length > 0 && n && n.length ? (a && (a[0].id === s && a.removeAttr("id"), a.find(".k-in:first").removeClass("k-state-focused")), a = i._current = e(n, r).closest(G), a.find(".k-in:first").addClass("k-state-focused"), s = a[0].id || s, s && (i.wrapper.removeAttr("aria-activedescendant"), a.attr("id", s), i.wrapper.attr("aria-activedescendant", s)), t) : (a || (a = i._nextVisible(e())), a) }, select: function (n) { var i = this, a = i.element; return arguments.length ? (n = e(n, a).closest(G), a.find(".k-state-selected").each(function () { var t = i.dataItem(this); t ? (t.set("selected", !1), delete t.selected) : e(this).removeClass("k-state-selected") }), n.length && (i.dataItem(n).set("selected", !0), i._clickTarget = n), i.trigger(D), t) : a.find(".k-state-selected").closest(G) }, _toggle: function (e, t, n) { var i, a = this.options, r = c(e), s = n ? "expand" : "collapse"; r.data("animating") || (i = t && t.loaded(), n && !i ? (a.loadOnDemand && this._progress(e, !0), r.remove(), t.load()) : (this._updateNodeClasses(e, {}, { expanded: n }), n || r.css("height", r.height()).css("height"), r.kendoStop(!0, !0).kendoAnimate(m({ reset: !0 }, a.animation[s], { complete: function () { n && r.css("height", "") } })))) }, toggle: function (t, n) { t = e(t), h(t).is(".k-i-expand, .k-i-collapse") && (1 == arguments.length && (n = !this._expanded(t)), this._expanded(t, n)) }, destroy: function () { var e = this; _.fn.destroy.call(e), e.wrapper.off(y), e._unbindDataSource(), e.dragging && e.dragging.destroy(), p.destroy(e.element), e.root = e.wrapper = e.element = null }, _expanded: function (e, n) { var i = p.attr("expanded"), a = this.dataItem(e), r = n, s = r ? "expand" : "collapse"; return 1 == arguments.length ? "true" === e.attr(i) || a && a.expanded : (c(e).data("animating") || this._trigger(s, e) || (a && (a.set("expanded", r), r = a.expanded), r ? (e.attr(i, "true"), e.attr("aria-expanded", "true")) : (e.removeAttr(i), e.attr("aria-expanded", "false"))), t) }, _progress: function (e, t) { var n = this.element, i = this.templates.loading({ messages: this.options.messages }); 1 == arguments.length ? (t = e, t ? n.html(i) : n.empty()) : h(e).toggleClass("k-i-loading", t).removeClass("k-i-reload") }, text: function (e, n) { var i = this.dataItem(e), a = this.options[J.text], r = i.level(), s = a.length, o = a[Math.min(r, s - 1)]; return n ? (i.set(o, n), t) : i[o] }, _objectOrSelf: function (t) { return e(t).closest("[data-role=treeview]").data("kendoTreeView") || this }, _dataSourceMove: function (t, n, i, a) { var r, s = this._objectOrSelf(i || n), o = s.dataSource, d = e.Deferred().resolve().promise(); return i && i[0] != s.element[0] && (r = s.dataItem(i), r.loaded() || (s._progress(i, !0), d = r.load()), i != this.root && (o = r.children, o && o instanceof x || (r._initChildren(), r.loaded(!0), o = r.children))), t = this._toObservableData(t), a.call(s, o, t, d) }, _toObservableData: function (t) { var n, i, a = t; return (z(t) || K(t)) && (n = this._objectOrSelf(t).dataSource, i = e(t).attr(p.attr("uid")), a = n.getByUid(i), a && (a = n.remove(a))), a }, _insert: function (e, t, n) { t instanceof p.data.ObservableArray ? t = t.toJSON() : v(t) || (t = [t]); var i = e.parent(); return i && i._initChildren && (i.hasChildren = !0, i._initChildren()), e.splice.apply(e, [n, 0].concat(t)), this.findByUid(e[n].uid) }, insertAfter: r(1), insertBefore: r(0), append: function (t, n, i) { var a = this.root; if (!(n && t instanceof jQuery && n[0] === t[0])) return n = n && n.length ? n : null, n && (a = l(n)), this._dataSourceMove(t, a, n, function (t, a, r) { function s() { n && d._expanded(n, !0); var e = t.data(), i = Math.max(e.length, 0); return d._insert(e, a, i) } var o, d = this; return r.done(function () { o = s(), (i = i || e.noop)(o) }), o || null }) }, _remove: function (t, n) { var i, a, r, s = this; return t = e(t, s.element), this.angular("cleanup", function () { return { elements: t.get() } }), i = t.parent().parent(), a = t.prev(), r = t.next(), t[n ? "detach" : "remove"](), i.hasClass("k-item") && (o(i), s._updateNodeClasses(i)), s._updateNodeClasses(a), s._updateNodeClasses(r), t }, remove: function (e) { var t = this.dataItem(e); t && this.dataSource.remove(t) }, detach: function (e) { return this._remove(e, !0) }, findByText: function (t) { return e(this.element).find(".k-in").filter(function (n, i) { return e(i).text() == t }).closest(G) }, findByUid: function (t) { var n, i, a = this.element.find(".k-item"), r = p.attr("uid"); for (i = 0; i < a.length; i++)if (a[i].getAttribute(r) == t) { n = a[i]; break } return e(n) }, expandPath: function (t, n) { function i() { s.shift(), s.length ? a(s[0]).then(i) : o.call(r) } function a(t) { var n = e.Deferred(), i = r.dataSource.get(t); return i ? i.loaded() ? (i.set("expanded", !0), n.resolve()) : (r._progress(r.findByUid(i.uid), !0), i.load().then(function () { i.set("expanded", !0), n.resolve() })) : n.resolve(), n.promise() } var r = this, s = t.slice(0), o = n || e.noop; a(s[0]).then(i) }, _parentIds: function (e) { for (var t = e && e.parentNode(), n = []; t && t.parentNode;)n.unshift(t.id), t = t.parentNode(); return n }, expandTo: function (e) { e instanceof p.data.Node || (e = this.dataSource.get(e)); var t = this._parentIds(e); this.expandPath(t) }, _renderItem: function (e) { return e.group || (e.group = {}), e.treeview = this.options, e.r = this.templates, this.templates.item(e) }, _renderGroup: function (e) { var t = this; return e.renderItems = function (e) { var n = "", i = 0, a = e.items, r = a ? a.length : 0, s = e.group; for (s.length = r; i < r; i++)e.group = s, e.item = a[i], e.item.index = i, n += t._renderItem(e); return n }, e.r = t.templates, t.templates.group(e) } }), f.plugin(d) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("dropdowntree/treeview.min", ["kendo.treeview.min"], e) }(function () { return function (e, t) { function i(e) { return function (t) { var i = t.children(".k-animation-container"); return i.length || (i = t), i.children(e) } } var s = window.kendo, a = s.ui, n = s.keys, r = "k-state-disabled", l = "select", o = "checked", h = "dataBound", c = "indeterminate", d = "navigate", p = a.TreeView, u = i(".k-group"), f = p.extend({ init: function (e, t, i) { var s = this, a = ".k-in:not(.k-state-disabled)"; s.dropdowntree = i, p.fn.init.call(s, e, t), this.dropdowntree._isMultipleSelection() && s.wrapper.on("click.kendoTreeView", a, function (e) { s._clickItem(e) }) }, _clickItem: function (t) { var i = e(t.currentTarget), s = this.dataItem(i); s.set("checked", !s.checked) }, defaultrefresh: function (e) { var i, s, a = e.node, n = e.action, r = e.items, l = this.wrapper, o = this.options, c = o.loadOnDemand, d = o.checkboxes && o.checkboxes.checkChildren; if (!this._skip) { if (e.field) { if (!r[0] || !r[0].level) return; return this._updateNodes(r, e.field) } if (a && (l = this.findByUid(a.uid), this._progress(l, !1)), d && "remove" != n) { for (s = !1, i = 0; i < r.length; i++)if ("checked" in r[i]) { s = !0; break } if (!s && a && a.checked) for (i = 0; i < r.length; i++)r[i].checked = !0 } if ("add" == n ? this._appendItems(e.index, r, l) : "remove" == n ? this._remove(this.findByUid(r[0].uid), !1) : "itemchange" == n ? this._updateNodes(r) : "itemloaded" == n ? this._refreshChildren(l, r, e.index) : this._refreshRoot(r), "remove" != n) for (i = 0; i < r.length; i++)c && !r[i].expanded || r[i].load(); this.trigger(h, { node: a ? l : t }), this.dropdowntree._treeViewDataBound({ node: a ? l : t, sender: this }), this.options.checkboxes.checkChildren && this.updateIndeterminate() } }, _previousVisible: function (e) { var t, i, s = this; if (!e.length || e.prev().length) for (i = e.length ? e.prev() : s.root.children().last(); s._expanded(i) && (t = u(i).children().last(), t.length);)i = t; else i = s.parent(e) || e, i.length || (s.dropdowntree.checkAll && s.dropdowntree.checkAll.is(":visible") ? s.dropdowntree.checkAll.find(".k-checkbox").focus() : s.dropdowntree.filterInput ? s.dropdowntree.filterInput.focus() : s.dropdowntree.wrapper.focus()); return i }, _keydown: function (i) { var a, h = this, p = i.keyCode, u = h.current(), f = h._expanded(u), _ = u.find(".k-checkbox-wrapper:first :checkbox"), g = s.support.isRtl(h.element); i.target == i.currentTarget && (!g && p == n.RIGHT || g && p == n.LEFT ? f ? a = h._nextVisible(u) : u.find(".k-in:first").hasClass(r) || h.expand(u) : !g && p == n.LEFT || g && p == n.RIGHT ? f && !u.find(".k-in:first").hasClass(r) ? h.collapse(u) : (a = h.parent(u), h._enabled(a) || (a = t)) : p == n.DOWN ? a = h._nextVisible(u) : p != n.UP || i.altKey ? p == n.HOME ? a = h._nextVisible(e()) : p == n.END ? a = h._previousVisible(e()) : p != n.ENTER || u.find(".k-in:first").hasClass(r) ? p == n.SPACEBAR && _.length && !u.find(".k-in:first").hasClass(r) ? (_.prop(o, !_.prop(o)).data(c, !1).prop(c, !1), h._checkboxChange({ target: _ }), a = u) : (i.altKey && p === n.UP || p === n.ESC) && h._closePopup() : u.find(".k-in:first").hasClass("k-state-selected") || h._trigger(l, u) || h.select(u) : a = h._previousVisible(u), a && (i.preventDefault(), u[0] != a[0] && (h._trigger(d, a), h.current(a)))) }, _closePopup: function () { this.dropdowntree.close(), this.dropdowntree.wrapper.focus() }, refresh: function (e) { this.defaultrefresh(e), this.dropdowntree.options.skipUpdateOnBind || ("itemchange" === e.action ? this.dropdowntree._isMultipleSelection() ? "checked" === e.field && this.dropdowntree._checkValue(e.items[0]) : "checked" !== e.field && "expanded" !== e.field && e.items[0].selected && this.dropdowntree._selectValue(e.items[0]) : this.dropdowntree.refresh(e)) } }); s.ui._dropdowntree = f }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() }), function (e, define) { define("kendo.dropdowntree.min", ["dropdowntree/treeview.min", "kendo.popup.min"], e) }(function () {
    return function (e, t) {
        function i(e, t, i) { for (var s, a = 0, n = t.length - 1; a < n; ++a)s = t[a], s in e || (e[s] = {}), e = e[s]; e[t[n]] = i } var s, a, n = window.kendo, r = n.ui, l = r.Widget, o = r._dropdowntree, h = n.data.ObservableArray, c = n.data.ObservableObject, d = e.extend, p = n._activeElement, u = ".kendoDropDownTree", f = n.keys, _ = n.support, g = "k-hidden", v = "width", k = _.browser, m = n._outerWidth, w = ".", b = "disabled", C = "readonly", x = "k-state-disabled", T = "aria-disabled", A = "k-state-hover", I = "k-state-focused", y = "mouseenter" + u + " mouseleave" + u, V = "tabindex", D = "click", S = "open", F = "close", E = "change", L = e.proxy, B = n.ui.Widget.extend({ init: function (t, i) { var s, a, r; this.ns = u, n.ui.Widget.fn.init.call(this, t, i), this._selection = this._getSelection(), this._focusInputHandler = e.proxy(this._focusInput, this), this._initial = this.element.val(), this._values = [], s = this.options.value, s && (this._values = e.isArray(s) ? s.slice(0) : [s]), this._inputTemplate(), this._accessors(), this._setTreeViewOptions(this.options), this._dataSource(), this._selection._initWrapper(), this._placeholder(!0), this._tabindex(), this.wrapper.data(V, this.wrapper.attr(V)), this.tree = e("<div/>").attr({ tabIndex: -1, "aria-hidden": !0 }), this.list = e("<div class='k-list-container'/>").append(this.tree), this._header(), this._noData(), this._footer(), this._reset(), this._popup(), this.popup.one("open", L(this._popupOpen, this)), this._clearButton(), this._filterHeader(), this._treeview(), this._renderFooter(), this._checkAll(), this._enable(), this._toggleCloseVisibility(), this.options.autoBind || (a = i.text || "", i.value ? this._preselect(i.value) : a ? this._textAccessor(a) : i.placeholder && this._placeholder(!0)), r = e(this.element).parents("fieldset").is(":disabled"), r && this.enable(!1), n.notify(this) }, _preselect: function (e, t) { this._selection._preselect(e, t) }, _setTreeViewOptions: function (t) { var i = { autoBind: t.autoBind, checkboxes: t.checkboxes, dataImageUrlField: t.dataImageUrlField, dataSpriteCssClassField: t.dataSpriteCssClassField, dataTextField: t.dataTextField, dataUrlField: t.dataUrlField, loadOnDemand: t.loadOnDemand }; this.options.treeview = e.extend({}, i, this.options.treeview), t.template && (this.options.treeview.template = t.template) }, _dataSource: function () { var t = this.options.dataSource; this.dataSource = n.data.HierarchicalDataSource.create(t), t && e.extend(this.options.treeview, { dataSource: this.dataSource }) }, _popupOpen: function () { var e = this.popup; e.wrapper = n.wrap(e.element) }, _getSelection: function () { return this._isMultipleSelection() ? new r.DropDownTree.MultipleSelection(this) : new r.DropDownTree.SingleSelection(this) }, setDataSource: function (e) { this.dataSource = e, this.treeview.setDataSource(e) }, _isMultipleSelection: function () { return this.options && (this.options.treeview.checkboxes || this.options.checkboxes) }, options: { name: "DropDownTree", animation: {}, autoBind: !0, autoClose: !0, autoWidth: !1, clearButton: !0, dataTextField: "", dataValueField: "", dataImageUrlField: "", dataSpriteCssClassField: "", dataUrlField: "", delay: 500, enabled: !0, enforceMinLength: !1, filter: "none", height: 200, ignoreCase: !0, index: 0, loadOnDemand: !1, messages: { singleTag: "item(s) selected", clear: "clear", deleteTag: "delete" }, minLength: 1, checkboxes: !1, noDataTemplate: "No data found.", placeholder: "", checkAllTemplate: "Check all", tagMode: "multiple", template: null, text: null, treeview: {}, valuePrimitive: !1, footerTemplate: "", headerTemplate: "", value: null, valueTemplate: null }, events: ["open", "close", "dataBound", E, "filtering"], focus: function () { this.wrapper.focus() }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, toggle: function (e) { this._toggle(e) }, open: function () { var e = this.popup; !e.visible() && this._allowOpening() && (this._isMultipleSelection() && e.element.addClass("k-multiple-selection"), e.element.addClass("k-popup-dropdowntree"), e.one("activate", this._focusInputHandler), e._hovered = !0, e.open()) }, close: function () { this.popup.close() }, search: function (t) { var i, s = this.options; if (clearTimeout(this._typingTimeout), !s.enforceMinLength && !t.length || t.length >= s.minLength) { if (i = this._getFilter(t), this.trigger("filtering", { filter: i }) || e.isArray(this.options.dataTextField)) return; this._filtering = !0, this.treeview.dataSource.filter(i) } }, _getFilter: function (e) { return { field: this.options.dataTextField, operator: this.options.filter, value: e, ignoreCase: this.options.ignoreCase } }, refresh: function () { var t = this.treeview.dataSource.flatView(); this._renderFooter(), this._renderNoData(), this.filterInput && this.checkAll && this.checkAll.toggle(!this.filterInput.val().length), this.tree.toggle(!!t.length), e(this.noData).toggle(!t.length) }, setOptions: function (e) { l.fn.setOptions.call(this, e), this._setTreeViewOptions(e), this._dataSource(), this.options.treeview && this.treeview.setOptions(this.options.treeview), e.height && this.tree && this.tree.css("max-height", e.height), this._header(), this._noData(), this._footer(), this._renderFooter(), this._renderNoData(), this.span && (this._isMultipleSelection() || this.span.hasClass("k-readonly")) && this._placeholder(!0), this._inputTemplate(), this._accessors(), this._filterHeader(), this._checkAll(), this._enable(), e && (e.enable || e.enabled) && this.enable(!0), this._clearButton() }, destroy: function () { n.ui.Widget.fn.destroy.call(this), this.treeview && this.treeview.destroy(), this.popup.destroy(), this.wrapper.off(u), this._clear.off(u), this._inputWrapper.off(u), this.filterInput && this.filterInput.off(u), this.tagList && this.tagList.off(u), n.unbind(this.tagList), this.options.checkAll && this.checkAll && this.checkAll.off(u), this._form && this._form.off("reset", this._resetHandler) }, setValue: function (t) { t = e.isArray(t) || t instanceof h ? t.slice(0) : [t], this._values = t }, items: function () { this.treeview.dataItems() }, value: function (e) { return e && (this.filterInput && this.dataSource._filter ? (this._filtering = !0, this.dataSource.filter({})) : this.dataSource.data().length || this.dataSource.fetch()), this._selection._setValue(e) }, text: function (e) { var i, s = this.options.ignoreCase; return e = null === e ? "" : e, e === t || this._isMultipleSelection() ? this._textAccessor() : "string" != typeof e ? (this._textAccessor(e), t) : (i = s ? e : e.toLowerCase(), this._selectItemByText(i), this._textAccessor(i), t) }, _header: function () { var i, s = this, a = e(s.header), r = s.options.headerTemplate; return this._angularElement(a, "cleanup"), n.destroy(a), a.remove(), r ? (i = "function" != typeof r ? n.template(r) : r, a = e(i({})), s.header = a[0] ? a : null, s.list.prepend(a), this._angularElement(s.header, "compile"), t) : (s.header = null, t) }, _noData: function () { var i = this, s = e(i.noData), a = i.options.noDataTemplate; return i.angular("cleanup", function () { return { elements: s } }), n.destroy(s), s.remove(), a ? (i.noData = e('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(i.list), i.noDataTemplate = "function" != typeof a ? n.template(a) : a, t) : (i.noData = null, t) }, _renderNoData: function () { var e = this, t = e.noData; t && (this._angularElement(t, "cleanup"), t.children(":first").html(e.noDataTemplate({ instance: e })), this._angularElement(t, "compile")) }, _footer: function () { var i = this, s = e(i.footer), a = i.options.footerTemplate; return this._angularElement(s, "cleanup"), n.destroy(s), s.remove(), a ? (i.footer = e('<div class="k-footer"></div>').appendTo(i.list), i.footerTemplate = "function" != typeof a ? n.template(a) : a, t) : (i.footer = null, t) }, _renderFooter: function () { var e = this, t = e.footer; t && (this._angularElement(t, "cleanup"), t.html(e.footerTemplate({ instance: e })), this._angularElement(t, "compile")) }, _enable: function () { var e = this, i = e.options, s = e.element.is("[disabled]"); i.enable !== t && (i.enabled = i.enable), !i.enabled || s ? e.enable(!1) : e.readonly(e.element.is("[readonly]")) }, _adjustListWidth: function () { var e, t, i = this, s = i.list, a = s[0].style.width, n = i.wrapper; if (s.data(v) || !a) return e = window.getComputedStyle ? window.getComputedStyle(n[0], null) : 0, t = parseFloat(e && e.width) || m(n), e && k.msie && (t += parseFloat(e.paddingLeft) + parseFloat(e.paddingRight) + parseFloat(e.borderLeftWidth) + parseFloat(e.borderRightWidth)), a = "border-box" !== s.css("box-sizing") ? t - (m(s) - s.width()) : t, s.css({ fontFamily: n.css("font-family"), width: i.options.autoWidth ? "auto" : a, minWidth: a, whiteSpace: i.options.autoWidth ? "nowrap" : "normal" }).data(v, a), !0 }, _reset: function () { var t = this, i = t.element, s = i.attr("form"), a = s ? e("#" + s) : i.closest("form"); a[0] && (t._resetHandler = function () { setTimeout(function () { t.value(t._initial) }) }, t._form = a.on("reset", t._resetHandler)) }, _popup: function () { var e = this; e.popup = new r.Popup(e.list, d({}, e.options.popup, { anchor: e.wrapper, open: L(e._openHandler, e), close: L(e._closeHandler, e), animation: e.options.animation, isRtl: _.isRtl(e.wrapper), autosize: e.options.autoWidth })) }, _angularElement: function (e, t) { e && this.angular(t, function () { return { elements: e } }) }, _allowOpening: function () { return this.options.noDataTemplate || this.treeview.dataSource.flatView().length }, _placeholder: function (e) { this.span && this.span.toggleClass("k-readonly", e).text(e ? this.options.placeholder : "") }, _deselect: function () { var e = this.treeview.select(); this.treeview.dataItem(e) && this.treeview.dataItem(e).set("selected", !1) }, _currentValue: function (e) { var t = this._value(e); return t || (t = e), t }, _checkValue: function (e) { var i, s, a, n = "", r = "", l = -1, o = this.value(), h = "multiple" === this.options.tagMode; if ((e || 0 === e) && (e.level && (e._level = e.level()), r = this._text(e), n = this._currentValue(e), l = o.indexOf(n)), e.checked) i = new c(e.toJSON()), e._tagUid = i.uid, this._tags.push(i), 1 === this._tags.length && (this.span.hide(), h || this._multipleTags.push(i)), l === -1 && (o.push(n), this.setValue(o)); else { if (s = this._tags.find(function (t) { return t.uid === e._tagUid }), a = this._tags.indexOf(s), a === -1) return this._treeViewCheckAllCheck(e), t; this._tags.splice(a, 1), 0 === this._tags.length && (this.span.show(), h || this._multipleTags.splice(0, 1)), l !== -1 && (o.splice(l, 1), this.setValue(o)) } this._treeViewCheckAllCheck(e), this._preventChangeTrigger || this.trigger(E), this.options.autoClose && this.popup.visible() && (this.close(), this.wrapper.focus()), this.popup.position(), this._toggleCloseVisibility() }, _selectValue: function (e) { var t = "", i = ""; (e || 0 === e) && (e.level && (e._level = e.level()), i = this._text(e), t = this._currentValue(e)), null === t && (t = ""), this.setValue(t), this._textAccessor(i, e), this._accessor(t), this.trigger(E), this.options.autoClose && this.popup.visible() && (this.close(), this.wrapper.focus()), this.popup.position(), this._toggleCloseVisibility() }, _clearClick: function (e) { e.stopPropagation(), this._clearTextAndValue() }, _clearTextAndValue: function () { this._selection._clearValue(), this.setValue([]), this._clearInput(), this._clearText(), this.popup.position(), this._toggleCloseVisibility() }, _clearText: function () { this.options.placeholder ? this._placeholder(!0) : this.span && this.span.html("") }, _inputTemplate: function () { var t = this.options.valueTemplate; t = t ? n.template(t) : e.proxy(n.template("#:this._text(data)#", { useWithBlock: !1 }), this), this.valueTemplate = t }, _assignInstance: function (e, t) { var s = this.options.dataTextField, a = {}; return s ? (i(a, s.split(w), e), i(a, this.options.dataValueField.split(w), t), a = new c(a)) : a = e, a }, _textAccessor: function (i, s) { var a, n = this.valueTemplate, r = this.span; if (i === t) return r.text(); r.removeClass("k-readonly"), !s && (e.isPlainObject(i) || i instanceof c) && (s = i), s || (s = this._assignInstance(i, this._accessor())), a = function () { return { elements: r.get(), data: [{ dataItem: s }] } }, this.angular("cleanup", a); try { r.html(n(s)) } catch (l) { r && r.html("") } this.angular("compile", a) }, _accessors: function () { var t = this.element, i = this.options, s = n.getter, a = t.attr(n.attr("text-field")), r = t.attr(n.attr("value-field")), l = function (t) { var i, a; return e.isArray(t) ? (i = t.length, a = e.map(t, function (e) { return function (t) { return t[e] } }), function (e) { var t = e._level; if (t || 0 === t) return a[Math.min(t, i - 1)](e) }) : s(t) }; !i.dataTextField && a && (i.dataTextField = a), !i.dataValueField && r && (i.dataValueField = r), i.dataTextField = i.dataTextField || "text", i.dataValueField = i.dataValueField || "value", this._text = l(i.dataTextField), this._value = l(i.dataValueField) }, _accessor: function (e, t) { return this[this._isSelect ? "_accessorSelect" : "_accessorInput"](e, t) }, _accessorInput: function (e) { var i = this.element[0]; return e === t ? i.value : (null === e && (e = ""), i.value = e, t) }, _clearInput: function () { var e = this.element[0]; e.value = "" }, _clearButton: function () { var t = this.options.messages && this.options.messages.clear ? this.options.messages.clear : "clear"; this._clear || (this._clear = e('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="' + t + '"></span>').attr({ role: "button", tabIndex: -1 })), this.options.clearButton ? (this._clear.insertAfter(this.span), this.wrapper.addClass("k-dropdowntree-clearable")) : this.options.clearButton || this._clear.remove() }, _toggleCloseVisibility: function () { this.value() && !this._isMultipleSelection() || this.value().length || this.element.val() && this.element.val() !== this.options.placeholder ? this._showClear() : this._hideClear() }, _showClear: function () { this._clear && this._clear.removeClass(g) }, _hideClear: function () { this._clear && this._clear.addClass(g) }, _openHandler: function (e) { this._adjustListWidth(), this.trigger(S) ? e.preventDefault() : (this.wrapper.attr("aria-expanded", !0), this.tree.attr("aria-hidden", !1).attr("role", "tree")) }, _closeHandler: function (e) { this.trigger(F) ? e.preventDefault() : (this.wrapper.attr("aria-expanded", !1), this.tree.attr("aria-hidden", !0)) }, _treeview: function () { this.options.height && this.tree.css("max-height", this.options.height), this.tree.attr("id", n.guid()), this.treeview = new o(this.tree, d({}, this.options.treeview), this), this.dataSource = this.treeview.dataSource }, _treeViewDataBound: function (e) { var i, s, a; return e.node && this._prev && this._prev.length && e.sender.expand(e.node), this._filtering ? (e.node || (this._filtering = !1), t) : (this.treeview || (this.treeview = e.sender), e.node ? (s = e.sender.dataItem(e.node), s && (a = s.children.data(), this._checkLoadedItems(a))) : (i = e.sender.dataSource.data(), this._checkLoadedItems(i)), this.trigger("dataBound", e), t) }, _checkLoadedItems: function (e) { var t, i = this.value(), s = i.length; if (e) for (t = 0; t < e.length; t++)this._selection._checkLoadedItem(e[t], i, s) }, _treeViewCheckAllCheck: function (e) { this.options.checkAll && this.checkAll && (this._getAllChecked(), e.checked ? this._checkCheckAll() : this._uncheckCheckAll()) }, _checkCheckAll: function () { var e = this.checkAll.find(".k-checkbox"); this._allItemsAreChecked ? e.prop("checked", !0).prop("indeterminate", !1) : e.prop("indeterminate", !0) }, _uncheckCheckAll: function () { var e = this.checkAll.find(".k-checkbox"); this._allItemsAreUnchecked ? e.prop("checked", !1).prop("indeterminate", !1) : e.prop("indeterminate", !0) }, _filterHeader: function () { var t; this.filterInput && (this.filterInput.off(u).parent().remove(), this.filterInput = null), this._isFilterEnabled() && (this._disableCheckChildren(), t = '<span class="k-icon k-i-zoom"></span>', this.filterInput = e('<input class="k-textbox"/>').attr({ placeholder: this.element.attr("placeholder"), title: this.element.attr("title"), role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), this.filterInput.on("input", L(this._filterChange, this)), e('<span class="k-list-filter" />').insertBefore(this.tree).append(this.filterInput.add(t))) }, _filterChange: function () { this.filterInput && this._search() }, _disableCheckChildren: function () { this._isMultipleSelection() && this.options.treeview.checkboxes && this.options.treeview.checkboxes.checkChildren && (this.options.treeview.checkboxes.checkChildren = !1) }, _checkAll: function () { this.checkAll && (this.checkAll.find(".k-checkbox-label, .k-checkbox").off(u), this.checkAll.remove(), this.checkAll = null), this._isMultipleSelection() && this.options.checkAll && (this.checkAll = e('<div class="k-check-all"><input type="checkbox" class="k-checkbox"/><span class="k-checkbox-label">Check All</span></div>').insertBefore(this.tree), this.checkAll.find(".k-checkbox-label").html(n.template(this.options.checkAllTemplate)({ instance: this })), this.checkAll.find(".k-checkbox-label").on(D + u, L(this._clickCheckAll, this)), this.checkAll.find(".k-checkbox").on("change" + u, L(this._changeCheckAll, this)).on("keydown" + u, L(this._keydownCheckAll, this)), this._disabledCheckedItems = [], this._disabledUnCheckedItems = [], this._getAllChecked(), this._allItemsAreUnchecked || this._checkCheckAll()) }, _changeCheckAll: function () { var e = this.checkAll.find(".k-checkbox"), t = e.prop("checked"); k.msie || k.edge || this._updateCheckAll(t) }, _updateCheckAll: function (e) { var t = this.checkAll.find(".k-checkbox"); this._toggleCheckAllItems(e), t.prop("checked", e), this._disabledCheckedItems.length && this._disabledUnCheckedItems.length ? t.prop("indeterminate", !0) : this._disabledCheckedItems.length ? t.prop("indeterminate", !e) : this._disabledUnCheckedItems.length ? t.prop("indeterminate", e) : t.prop("indeterminate", !1), this._disabledCheckedItems = [], this._disabledUnCheckedItems = [] }, _keydownCheckAll: function (e) { var i = e.keyCode, s = e.altKey; return s && i === f.UP || i === f.ESC ? (this.close(), this.wrapper.focus(), e.preventDefault(), t) : (i === f.UP && (this.filterInput ? this.filterInput.focus() : this.wrapper.focus(), e.preventDefault()), i === f.DOWN && (this.tree && this.tree.is(":visible") && this.tree.focus(), e.preventDefault()), i === f.SPACEBAR && (k.msie || k.edge) && (this._clickCheckAll(), e.preventDefault()), t) }, _clickCheckAll: function () { var e = this.checkAll.find(".k-checkbox"), t = e.prop("checked"); this._updateCheckAll(!t), e.focus() }, _dfs: function (e, t, i) { for (var s = 0; s < e.length && this[t](e[s], i); s++)this._traverceChildren(e[s], t, i) }, _uncheckItemByUid: function (e) { this._dfs(this.dataSource.data(), "_uncheckItemEqualsUid", e) }, _uncheckItemEqualsUid: function (e, t) { return e.enabled === !1 || e._tagUid != t || (e.set("checked", !1), !1) }, _selectItemByText: function (e) { this._dfs(this.dataSource.data(), "_itemEqualsText", e) }, _itemEqualsText: function (e, t) { return e.enabled === !1 || this._text(e) !== t || (this.treeview.select(this.treeview.findByUid(e.uid)), this._selectValue(e), !1) }, _selectItemByValue: function (e) { this._dfs(this.dataSource.data(), "_itemEqualsValue", e) }, _itemEqualsValue: function (e, t) { return e.enabled === !1 || !this._valueComparer(e, t) || (this.treeview.select(this.treeview.findByUid(e.uid)), this._selectValue(e), !1) }, _checkItemByValue: function (e) { var t, i = this.treeview.dataItems(); for (t = 0; t < e.length; t++)this._dfs(i, "_checkItemEqualsValue", e[t]) }, _checkItemEqualsValue: function (e, t) { return e.enabled === !1 || !this._valueComparer(e, t) || (e.set("checked", !0), !1) }, _valueComparer: function (e, t) { var i, s, a = this._value(e); return a ? !!t && (s = this._value(t), s ? a == s : a == t) : (i = this._text(e), !!i && (this._text(t) ? i == this._text(t) : i == t)) }, _getAllChecked: function () { return this._allCheckedItems = [], this._allItemsAreChecked = !0, this._allItemsAreUnchecked = !0, this._dfs(this.dataSource.data(), "_getAllCheckedItems"), this._allCheckedItems }, _getAllCheckedItems: function (e) { return this._allItemsAreChecked && (this._allItemsAreChecked = e.checked), this._allItemsAreUnchecked && (this._allItemsAreUnchecked = !e.checked), e.checked && this._allCheckedItems.push(e), !0 }, _traverceChildren: function (e, t, i) { var s = e._childrenOptions && e._childrenOptions.schema ? e._childrenOptions.schema.data : null, a = e[s] || e.items || e.children; a && this._dfs(a, t, i) }, _toggleCheckAllItems: function (e) { this._dfs(this.dataSource.data(), "_checkAllCheckItem", e) }, _checkAllCheckItem: function (e, t) { return e.enabled === !1 ? e.checked ? this._disabledCheckedItems.push(e) : this._disabledUnCheckedItems.push(e) : e.set("checked", t), !0 }, _isFilterEnabled: function () { var e = this.options.filter; return e && "none" !== e }, _editable: function (t) { var i = this, s = i.element, a = t.disable, n = t.readonly, r = i.wrapper.add(i.filterInput).off(u), l = i._inputWrapper.off(y); n || a ? a ? (r.removeAttr(V), l.addClass(x)) : (l.removeClass(x), r.on("focusin" + u, L(i._focusinHandler, i)).on("focusout" + u, L(i._focusoutHandler, i))) : (s.removeAttr(b).removeAttr(C), l.removeClass(x).on(y, i._toggleHover), i._clear.on("click" + u, L(i._clearClick, i)), r.attr(V, r.data(V)).attr(T, !1).on("keydown" + u, L(i._keydown, i)).on("focusin" + u, L(i._focusinHandler, i)).on("focusout" + u, L(i._focusoutHandler, i)), i.wrapper.on(D + u, L(i._wrapperClick, i)), this._isMultipleSelection() && (i.tagList.on(D + u, "li.k-button", function (t) { e(t.currentTarget).addClass(I) }), i.tagList.on(D + u, ".k-select", function (e) { i._removeTagClick(e) }))), s.attr(b, a).attr(C, n), r.attr(T, a) }, _focusinHandler: function () { this._inputWrapper.addClass(I) }, _focusoutHandler: function () { this._inputWrapper.removeClass(I), this._isMultipleSelection() && this.tagList.find(w + I).removeClass(I) }, _toggle: function (e) { e = e !== t ? e : !this.popup.visible(), this[e ? S : F]() }, _wrapperClick: function (e) { e.preventDefault(), this.popup.unbind("activate", this._focusInputHandler), this._focused = this.wrapper, this._prevent = !1, this._toggle() }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(A, "mouseenter" === t.type) }, _focusInput: function () { this.filterInput ? this.filterInput.focus() : this.checkAll ? this.checkAll.find(".k-checkbox").focus() : this.tree.is(":visible") && this.tree.focus() }, _keydown: function (e) { var i, s, a, n, r = e.keyCode, l = e.altKey, o = this.popup.visible(); if (this.filterInput && (i = this.filterInput[0] === p()), this.wrapper && (s = this.wrapper[0] === p()), s) { if (r === f.ESC) return this._clearTextAndValue(), e.preventDefault(), t; if (this._isMultipleSelection()) { if (r === f.LEFT) return this._focusPrevTag(), e.preventDefault(), t; if (r === f.RIGHT) return this._focusNextTag(), e.preventDefault(), t; if (r === f.HOME) return this._focusFirstTag(), e.preventDefault(), t; if (r === f.END) return this._focusLastTag(), e.preventDefault(), t; if (r === f.DELETE) return a = this.tagList.find(w + I).first(), a.length && (n = this._tags[a.index()], this._removeTag(n)), e.preventDefault(), t; if (r === f.BACKSPACE) return a = this.tagList.find(w + I).first(), a.length ? (n = this._tags[a.index()], this._removeTag(n)) : (a = this._focusLastTag(), a.length && (n = this._tags[a.index()], this._removeTag(n))), e.preventDefault(), t } } return i && (r === f.ESC && this._clearFilter(), r !== f.UP || l || (this.wrapper.focus(), e.preventDefault()), k.msie && k.version < 10 && (r !== f.BACKSPACE && r !== f.DELETE || this._search())), l && r === f.UP || r === f.ESC ? (this.wrapper.focus(), this.close(), e.preventDefault(), t) : r === f.ENTER && this._typingTimeout && this.filterInput && o ? (e.preventDefault(), t) : (r !== f.SPACEBAR || i || (this._toggle(!o), e.preventDefault()), l && r === f.DOWN && !o && (this.open(), e.preventDefault()), r === f.DOWN && o && (this.filterInput && !i ? this.filterInput.focus() : this.checkAll && this.checkAll.is(":visible") ? this.checkAll.find("input").focus() : this.tree.is(":visible") && this.tree.focus(), e.preventDefault()), t) }, _focusPrevTag: function () { var e, t = this.tagList.find(w + I); t.length ? (e = this.wrapper.attr("aria-activedescendant"), t.first().removeClass(I).removeAttr("id").prev().addClass(I).attr("id", e), this.wrapper.attr("aria-activedescendant", e)) : this._focusLastTag() }, _focusNextTag: function () { var e, t = this.tagList.find(w + I); t.length ? (e = this.wrapper.attr("aria-activedescendant"), t.first().removeClass(I).removeAttr("id").next().addClass(I).attr("id", e), this.wrapper.attr("aria-activedescendant", e)) : this._focusFirstTag() }, _focusFirstTag: function () { var e, t = this.wrapper.attr("aria-activedescendant"); return this._clearDisabledTag(), e = this.tagList.children("li").first().addClass(I).attr("id", t), this.wrapper.attr("aria-activedescendant", t), e }, _focusLastTag: function () { var e, t = this.wrapper.attr("aria-activedescendant"); return this._clearDisabledTag(), e = this.tagList.children("li").last().addClass(I).attr("id", t), this.wrapper.attr("aria-activedescendant", t), e }, _clearDisabledTag: function () { this.tagList.find(w + I).removeClass(I).removeAttr("id") }, _search: function () { var e = this; clearTimeout(e._typingTimeout), e._typingTimeout = setTimeout(function () { var t = e.filterInput.val(); e._prev !== t && (e._prev = t, e.search(t)), e._typingTimeout = null }, e.options.delay) }, _clearFilter: function () { this.filterInput.val().length && (this.filterInput.val(""), this._prev = "", this._filtering = !0, this.treeview.dataSource.filter({})) }, _removeTagClick: function (t) { t.stopPropagation(); var i = this._tags[e(t.currentTarget.parentElement).index()]; this._removeTag(i) }, _removeTag: function (e) { if (e) { var t = e.uid; this._uncheckItemByUid(t) } } }); r.plugin(B), s = n.Class.extend({ init: function (e) { this._dropdowntree = e }, _initWrapper: function () { this._wrapper(), this._span() }, _preselect: function (e) { var t = this._dropdowntree; t._selectValue(e) }, _wrapper: function () { var e, t = this._dropdowntree, i = t.element, s = i[0]; e = i.parent(), e.is("span.k-widget") || (e = i.wrap("<span />").parent(), e[0].style.cssText = s.style.cssText, e[0].title = s.title), t._focused = t.wrapper = e.addClass("k-widget k-dropdowntree").addClass(s.className).css("display", "").attr({ accesskey: i.attr("accesskey"), unselectable: "on", role: "listbox", "aria-haspopup": !0, "aria-expanded": !1 }), i.hide().removeAttr("accesskey") }, _span: function () { var t, i = this._dropdowntree, s = i.wrapper, a = "span.k-input"; t = s.find(a), t[0] || (s.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(i.element), t = s.find(a)), i.span = t, i._inputWrapper = e(s[0].firstChild), i._arrow = s.find(".k-select"), i._arrowIcon = i._arrow.find(".k-icon") }, _setValue: function (e) { var i, s = this._dropdowntree; return e === t || null === e ? (i = s._values.slice()[0], e = "object" == typeof i ? i : s._accessor() || i, e === t || null === e ? "" : e) : 0 === e.length ? (s._clearTextAndValue(), t) : (s._selectItemByValue(e), s._toggleCloseVisibility(), t) }, _clearValue: function () { var e = this._dropdowntree; e.value() && (e._deselect(), e.trigger(E)) }, _checkLoadedItem: function (e, t) { var i = this._dropdowntree; (t && i._valueComparer(e, t) || !t && e.selected) && (i._selectValue(e), i.treeview.select(i.treeview.findByUid(e.uid))) } }), a = n.Class.extend({
            init: function (e) { this._dropdowntree = e }, _initWrapper: function () { var t = this._dropdowntree; this._tagTemplate(), t.element.attr("multiple", "multiple").hide(), this._wrapper(), t._tags = new h([]), t._multipleTags = new h([]), this._tagList(), t.span = e('<span unselectable="on" class="k-input">&nbsp;</span>').insertAfter(t.tagList), t._inputWrapper = e(t.wrapper[0].firstChild) }, _preselect: function (t, i) { var s = this._dropdowntree, a = i || s.options.value; e.isArray(t) || t instanceof n.data.ObservableArray || (t = [t]), (e.isPlainObject(t[0]) || t[0] instanceof n.data.ObservableObject || !s.options.dataValueField) && (s.dataSource.data(t), s.value(a)) }, _tagTemplate: function () { var e = this._dropdowntree, t = e.options, i = t.valueTemplate, s = "multiple" === t.tagMode, a = t.messages.singleTag; i = i ? n.template(i) : e.valueTemplate, e.valueTemplate = function (t) { return s ? '<li class="k-button ' + (t.enabled === !1 ? "k-state-disabled" : "") + '" unselectable="on" role="option" ' + (t.enabled === !1 ? 'aria-disabled="true"' : "") + '><span unselectable="on">' + i(t) + '</span><span title="' + e.options.messages.deleteTag + '" aria-label="' + e.options.messages.deleteTag + '" class="k-select"><span class="k-icon k-i-close"></span></span></li>' : '<li class="k-button" unselectable="on" role="option"><span unselectable="on" data-bind="text: tags.length"></span><span unselectable="on">&nbsp;' + a + "</span></li>" } }, _wrapper: function () { var t = this._dropdowntree, i = t.element, s = i.parent("span.k-dropdowntree"); s[0] || (s = i.wrap('<div class="k-widget k-dropdowntree" unselectable="on" />').parent(), s[0].style.cssText = i[0].style.cssText, s[0].title = i[0].title, e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(i)), t.wrapper = s.addClass(i[0].className).css("display", "").attr({ role: "listbox", "aria-activedescendant": n.guid(), "aria-haspopup": !0, "aria-expanded": !1 }), t._innerWrapper = e(s[0].firstChild) }, _tagList: function () { var t, i, s, a = this._dropdowntree, r = a._innerWrapper.children("ul"); r[0] || (t = "multiple" === a.options.tagMode, i = t ? "tags" : "multipleTag", r = e('<ul role="listbox" unselectable="on" data-template="tagTemplate" data-bind="source: ' + i + '" class="k-reset"/>').appendTo(a._innerWrapper)), a.tagList = r, a.tagList.attr("id", n.guid() + "_tagList"), a.wrapper.attr("aria-owns", a.tagList.attr("id")), s = n.observable({ multipleTag: a._multipleTags, tags: a._tags, tagTemplate: a.valueTemplate }), n.bind(a.tagList, s) }, _setValue: function (e) { var i = this._dropdowntree, s = i._values; return e === t || null === e ? i._values.slice() : (i.setValue(e), e.length ? (this._removeValues(s, e), i._checkItemByValue(e)) : i._clearTextAndValue(), i._toggleCloseVisibility(), t) }, _removeValues: function (e, t) { var i, s, a = this._dropdowntree, n = this._getNewValues(e, t); for (i = 0; i < n.length; i++)for (s = 0; s < a._tags.length; s++)a._valueComparer(a._tags[s], n[i]) && a._uncheckItemByUid(a._tags[s].uid) }, _getNewValues: function (e, t) { var i, s = []; for (i = 0; i < e.length; i++)t.indexOf(e[i]) === -1 && s.push(e[i]); return s }, _clearValue: function () { var e, t, i = this._dropdowntree, s = i._tags.slice(); for (e = 0; e < s.length; e++)t = s[e].uid, i._preventChangeTrigger = !0, i._uncheckItemByUid(t); s.length && (i._preventChangeTrigger = !1, i.trigger(E)) }, _checkLoadedItem: function (e, t, i) {
                var s = this._dropdowntree; !i && e.checked && s._checkValue(e), i && (t.indexOf(s._currentValue(e)) !== -1 || t.indexOf(e)) !== -1 && !this._findTag(s._currentValue(e)) && (e.checked ? s._checkValue(e) : e.set("checked", !0));
            }, _findTag: function (e) { var t = this._dropdowntree; return t._tags.find(function (i) { return t._valueComparer(i, e) }) }
        }), n.ui.DropDownTree.SingleSelection = s, n.ui.DropDownTree.MultipleSelection = a
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.listview.min", ["kendo.data.min", "kendo.editable.min", "kendo.selectable.min"], e) }(function () { return function (e, t) { var n = window.kendo, a = "change", i = "cancel", r = "dataBound", l = "dataBinding", o = n.ui.Widget, s = n.keys, d = ">*:not(.k-loading-mask)", c = "progress", u = "error", m = "k-state-focused", f = "k-state-selected", p = "k-edit-item", g = "edit", h = "remove", _ = "save", b = "click", v = ".kendoListView", S = e.proxy, E = n._activeElement, w = n.ui.progress, k = n.data.DataSource, y = n.ui.DataBoundWidget.extend({ init: function (t, a) { var i = this; a = e.isArray(a) ? { dataSource: a } : a, o.fn.init.call(i, t, a), a = i.options, i.wrapper = t = i.element, t[0].id && (i._itemId = t[0].id + "_lv_active"), i._element(), i._dataSource(), i._templates(), i._navigatable(), i._selectable(), i._pageable(), i._crudHandlers(), i.options.autoBind && i.dataSource.fetch(), n.notify(i) }, events: [a, i, l, r, g, h, _], options: { name: "ListView", autoBind: !0, selectable: !1, navigatable: !1, template: "", altTemplate: "", editTemplate: "" }, setOptions: function (e) { o.fn.setOptions.call(this, e), this._templates(), this.selectable && (this.selectable.destroy(), this.selectable = null), this._selectable() }, _templates: function () { var e = this.options; this.template = n.template(e.template || ""), this.altTemplate = n.template(e.altTemplate || e.template), this.editTemplate = n.template(e.editTemplate || "") }, _item: function (e) { return this.element.children()[e]() }, items: function () { return this.element.children() }, dataItem: function (t) { var a = n.attr("uid"), i = e(t).closest("[" + a + "]").attr(a); return this.dataSource.getByUid(i) }, setDataSource: function (e) { this.options.dataSource = e, this._dataSource(), this.options.autoBind && e.fetch() }, _unbindDataSource: function () { var e = this; e.dataSource.unbind(a, e._refreshHandler).unbind(c, e._progressHandler).unbind(u, e._errorHandler) }, _dataSource: function () { var e = this; e.dataSource && e._refreshHandler ? e._unbindDataSource() : (e._refreshHandler = S(e.refresh, e), e._progressHandler = S(e._progress, e), e._errorHandler = S(e._error, e)), e.dataSource = k.create(e.options.dataSource).bind(a, e._refreshHandler).bind(c, e._progressHandler).bind(u, e._errorHandler) }, _progress: function () { w(this.element, !0) }, _error: function () { w(this.element, !1) }, _element: function () { this.element.addClass("k-widget k-listview").attr("role", "listbox") }, refresh: function (e) { var a, i, o, s, d, c = this, u = c.dataSource.view(), m = "", f = c.template, p = c.altTemplate, g = E(); if (e = e || {}, "itemchange" === e.action) return c._hasBindingTarget() || c.editable || (a = e.items[0], o = c.items().filter("[" + n.attr("uid") + "=" + a.uid + "]"), o.length > 0 && (s = o.index(), c.angular("cleanup", function () { return { elements: [o] } }), o.replaceWith(f(a)), o = c.items().eq(s), o.attr(n.attr("uid"), a.uid), c.angular("compile", function () { return { elements: [o], data: [{ dataItem: a }] } }), c.trigger("itemChange", { item: o, data: a }))), t; if (!c.trigger(l, { action: e.action || "rebind", items: e.items, index: e.index })) { for (c._angularItems("cleanup"), c._destroyEditable(), s = 0, d = u.length; s < d; s++)m += s % 2 ? p(u[s]) : f(u[s]); for (c.element.html(m), i = c.items(), s = 0, d = u.length; s < d; s++)i.eq(s).attr(n.attr("uid"), u[s].uid).attr("role", "option").attr("aria-selected", "false"); c.element[0] === g && c.options.navigatable && c.current(i.eq(0)), c._angularItems("compile"), c.trigger(r, { action: e.action || "rebind", items: e.items, index: e.index }) } }, _pageable: function () { var t, a, i = this, r = i.options.pageable; e.isPlainObject(r) && (a = r.pagerId, t = e.extend({}, r, { dataSource: i.dataSource, pagerId: null }), i.pager = new n.ui.Pager(e("#" + a), t)) }, _selectable: function () { var e, i, r = this, l = r.options.selectable, o = r.options.navigatable; l && (e = n.ui.Selectable.parseOptions(l).multiple, r.selectable = new n.ui.Selectable(r.element, { aria: !0, multiple: e, filter: d, change: function () { r.trigger(a) } }), o && r.element.on("keydown" + v, function (n) { if (n.keyCode === s.SPACEBAR) { if (i = r.current(), n.target == n.currentTarget && n.preventDefault(), e) if (n.ctrlKey) { if (i && i.hasClass(f)) return i.removeClass(f), t } else r.selectable.clear(); else r.selectable.clear(); r.selectable.value(i) } })) }, current: function (e) { var n = this, a = n.element, i = n._current, r = n._itemId; return e === t ? i : (i && i[0] && (i[0].id === r && i.removeAttr("id"), i.removeClass(m), a.removeAttr("aria-activedescendant")), e && e[0] && (r = e[0].id || r, n._scrollTo(e[0]), a.attr("aria-activedescendant", r), e.addClass(m).attr("id", r)), n._current = e, t) }, _scrollTo: function (t) { var n, a, i = this, r = !1, l = "scroll"; "auto" == i.wrapper.css("overflow") || i.wrapper.css("overflow") == l ? n = i.wrapper[0] : (n = window, r = !0), a = function (a, i) { var o = r ? e(t).offset()[a.toLowerCase()] : t["offset" + a], s = t["client" + i], d = e(n)[l + a](), c = e(n)[i.toLowerCase()](); o + s > d + c ? e(n)[l + a](o + s - c) : o < d && e(n)[l + a](o) }, a("Top", "Height"), a("Left", "Width") }, _navigatable: function () { var t = this, a = t.options.navigatable, i = t.element, r = function (a) { t.current(e(a.currentTarget)), e(a.target).is(":button,a,:input,a>.k-icon,textarea") || n.focusElement(i) }; a && (t._tabindex(), i.on("focus" + v, function () { var e = t._current; e && e.is(":visible") || (e = t._item("first")), t.current(e) }).on("focusout" + v, function () { t._current && t._current.removeClass(m) }).on("keydown" + v, function (a) { var r, l, o = a.keyCode, d = t.current(), c = e(a.target), u = !c.is(":button,textarea,a,a>.t-icon,input"), m = c.is(":text,:password"), f = n.preventDefault, g = i.find("." + p), h = E(); if (!(!u && !m && s.ESC != o || m && s.ESC != o && s.ENTER != o)) if (s.UP === o || s.LEFT === o) d && (d = d.prev()), t.current(d && d[0] ? d : t._item("last")), f(a); else if (s.DOWN === o || s.RIGHT === o) d && (d = d.next()), t.current(d && d[0] ? d : t._item("first")), f(a); else if (s.PAGEUP === o) t.current(null), t.dataSource.page(t.dataSource.page() - 1), f(a); else if (s.PAGEDOWN === o) t.current(null), t.dataSource.page(t.dataSource.page() + 1), f(a); else if (s.HOME === o) t.current(t._item("first")), f(a); else if (s.END === o) t.current(t._item("last")), f(a); else if (s.ENTER === o) 0 !== g.length && (u || m) ? (r = t.items().index(g), h && h.blur(), t.save(), l = function () { t.element.trigger("focus"), t.current(t.items().eq(r)) }, t.one("dataBound", l)) : "" !== t.options.editTemplate && t.edit(d); else if (s.ESC === o) { if (g = i.find("." + p), 0 === g.length) return; r = t.items().index(g), t.cancel(), t.element.trigger("focus"), t.current(t.items().eq(r)) } }), i.on("mousedown" + v + " touchstart" + v, d, S(r, t))) }, clearSelection: function () { var e = this; e.selectable.clear(), e.trigger(a) }, select: function (n) { var a = this, i = a.selectable; return n = e(n), n.length ? (i.options.multiple || (i.clear(), n = n.first()), i.value(n), t) : i.value() }, _destroyEditable: function () { var e = this; e.editable && (e.editable.destroy(), delete e.editable) }, _modelFromElement: function (e) { var t = e.attr(n.attr("uid")); return this.dataSource.getByUid(t) }, _closeEditable: function () { var e, t, a, i = this, r = i.editable, l = i.template; return r && (r.element.index() % 2 && (l = i.altTemplate), i.angular("cleanup", function () { return { elements: [r.element] } }), e = i._modelFromElement(r.element), i._destroyEditable(), a = r.element.index(), r.element.replaceWith(l(e)), t = i.items().eq(a), t.attr(n.attr("uid"), e.uid), i._hasBindingTarget() && n.bind(t, e), i.angular("compile", function () { return { elements: [t], data: [{ dataItem: e }] } })), !0 }, edit: function (e) { var t, a, i = this, r = i._modelFromElement(e), l = r.uid; i.cancel(), e = i.items().filter("[" + n.attr("uid") + "=" + l + "]"), a = e.index(), e.replaceWith(i.editTemplate(r)), t = i.items().eq(a).addClass(p).attr(n.attr("uid"), r.uid), i.editable = t.kendoEditable({ model: r, clearContainer: !1, errorTemplate: !1, target: i }).data("kendoEditable"), i.trigger(g, { model: r, item: t }) }, save: function () { var e, t, n = this, a = n.editable; a && (t = a.element, e = n._modelFromElement(t), a.end() && !n.trigger(_, { model: e, item: t }) && (n._closeEditable(), n.dataSource.sync())) }, remove: function (e) { var t = this, n = t.dataSource, a = t._modelFromElement(e); t.editable && (n.cancelChanges(t._modelFromElement(t.editable.element)), t._closeEditable()), t.trigger(h, { model: a, item: e }) || (e.hide(), n.remove(a), n.sync()) }, add: function () { var e, t = this, n = t.dataSource, a = n.indexOf((n.view() || [])[0]); a < 0 && (a = 0), t.cancel(), e = n.insert(a, {}), t.edit(t.element.find("[data-uid='" + e.uid + "']")) }, cancel: function () { var e, t, n = this, a = n.dataSource; n.editable && (e = n.editable.element, t = n._modelFromElement(e), n.trigger(i, { model: t, container: e }) || (a.cancelChanges(t), n._closeEditable())) }, _crudHandlers: function () { var t = this, a = b + v; t.element.on(a, ".k-edit-button", function (a) { var i = e(this).closest("[" + n.attr("uid") + "]"); t.edit(i), a.preventDefault() }), t.element.on(a, ".k-delete-button", function (a) { var i = e(this).closest("[" + n.attr("uid") + "]"); t.remove(i), a.preventDefault() }), t.element.on(a, ".k-update-button", function (e) { t.save(), e.preventDefault() }), t.element.on(a, ".k-cancel-button", function (e) { t.cancel(), e.preventDefault() }) }, destroy: function () { var e = this; o.fn.destroy.call(e), e._unbindDataSource(), e._destroyEditable(), e.element.off(v), e.pager && e.pager.destroy(), n.destroy(e.element) } }); n.ui.plugin(y) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.upload.min", ["kendo.core.min"], e) }(function () {
    return function (e, t) {
        function a(t) { return e.map(n(t), function (e) { return e.name }).join(", ") } function n(e) { var t = e[0]; return t.files ? i(t.files) : [{ name: s(t.value), extension: r(t.value), size: null }] } function i(t) { return e.map(t, function (e) { return o(e) }) } function o(e) { var t = e.name || e.fileName; return { name: U.htmlEncode(t), extension: r(t), size: "number" == typeof e.size ? e.size : e.fileSize, rawFile: e } } function r(e) { var t = e.match(x); return t ? t[0] : "" } function s(e) { var t = e.lastIndexOf("\\"); return t != -1 ? e.substr(t + 1) : e } function l(t, a) { var n = U.guid(); return e.map(t, function (e) { return e.uid = a ? U.guid() : n, e }) } function p(e, t) { var a, n = d(t.allowedExtensions), i = t.maxFileSize, o = t.minFileSize; for (a = 0; a < e.length; a++)u(e[a], n), c(e[a], o, i) } function d(t) { var a = e.map(t, function (e) { var t = "." === e.substring(0, 1) ? e : "." + e; return t.toLowerCase() }); return a } function u(t, a) { a.length > 0 && a.indexOf(t.extension.toLowerCase()) < 0 && (t.validationErrors = t.validationErrors || [], e.inArray(j, t.validationErrors) === -1 && t.validationErrors.push(j)) } function c(t, a, n) { 0 !== a && t.size < a && (t.validationErrors = t.validationErrors || [], e.inArray(V, t.validationErrors) === -1 && t.validationErrors.push(V)), 0 !== n && t.size > n && (t.validationErrors = t.validationErrors || [], e.inArray(O, t.validationErrors) === -1 && t.validationErrors.push(O)) } function f(e) { var t, a = 0; if ("number" != typeof e[0].size) return ""; for (t = 0; t < e.length; t++)e[t].size && (a += e[t].size); return a /= 1024, a < 1024 ? a.toFixed(2) + " KB" : (a / 1024).toFixed(2) + " MB" } function h(t) { return !t.multiple && e(".k-file", t.wrapper).length > 1 } function m(a, n, i, o) { var r, s; return n._supportsRemove() ? (r = a.data("fileNames"), s = e.map(r, function (e) { return e.name }), o === !1 ? (n._removeFileEntry(a), t) : (n._submitRemove(s, i, function (e, t, i) { var o = n.trigger(R, { operation: "remove", files: r, response: e, XMLHttpRequest: i }); o || n._removeFileEntry(a) }, function (e) { h(n) && n._removeFileEntry(a), n.trigger(I, { operation: "remove", files: r, XMLHttpRequest: e }), z("Server response: " + e.responseText) }), t)) : (!h(n) && o || n._removeFileEntry(a), t) } function k(t, a, n) { var i = !1, o = ""; try { o = e.parseJSON(v(t)), i = !0 } catch (r) { n() } i && a(o) } function v(e) { return t !== e && "" !== e || (e = "{}"), e } function g(e) { e.stopPropagation(), e.preventDefault() } function _(e, t, a, n) { var i, o; e.on("dragenter" + t, function (e) { a(e), o = new Date, i || (i = setInterval(function () { var e = new Date - o; e > 100 && (n(), clearInterval(i), i = null) }, 100)) }).on("dragover" + t, function () { o = new Date }) } function y(e) { return e.is(".k-file-progress, .k-file-success, .k-file-error") } function F(t) { return e(t.target).closest(".k-file") } var w, C, U = window.kendo, S = U.ui.Widget, b = U.antiForgeryTokens, z = U.logToConsole, x = /\.([^\.]+)$/, E = ".kendoUpload", D = "select", A = "upload", R = "success", I = "error", P = "complete", T = "cancel", N = "clear", B = "pause", H = "resume", q = "progress", M = "remove", L = "validationErrors", O = "invalidMaxFileSize", V = "invalidMinFileSize", j = "invalidFileExtension", X = 1e3, Z = 2e3, W = { loading: "k-i-loading", warning: "k-i-warning", success: "k-i-check" }, K = S.extend({ init: function (t, a) { var n, i, o, r = this; S.fn.init.call(r, t, a), r.name = t.name, r.multiple = r.options.multiple, r.directory = r.options.directory, r.localization = r.options.localization, n = r.element, r.wrapper = n.closest(".k-upload"), 0 === r.wrapper.length && (r.wrapper = r._wrapInput(n)), r._activeInput(n), r.toggle(r.options.enabled), i = r._ns = E + "-" + U.guid(), n.closest("form").on("submit" + i, e.proxy(r._onParentFormSubmit, r)).on("reset" + i, e.proxy(r._onParentFormReset, r)), r.options.async.saveUrl ? (r._module = r._supportsFormData() ? new C(r) : new w(r), r._async = !0, o = r.options.files, o.length > 0 && r._renderInitialFiles(o)) : r._module = new G(r), r._supportsDrop() && ("" !== r.options.dropZone ? r._setupCustomDropZone() : r._setupDropZone()), r.wrapper.on("click", ".k-upload-action", e.proxy(r._onFileAction, r)).on("click", ".k-clear-selected", e.proxy(r._onClearSelected, r)).on("click", ".k-upload-selected", e.proxy(r._onUploadSelected, r)), r.element.val() && r._onInputChange({ target: r.element }) }, events: [D, A, R, I, P, T, N, q, M, B, H], options: { name: "Upload", enabled: !0, multiple: !0, directory: !1, showFileList: !0, template: "", files: [], async: { autoRetryAfter: 0, bufferChunkSize: 1e7, maxAutoRetries: 1, removeVerb: "POST", autoUpload: !0, withCredentials: !0, accept: "*/*; q=0.5, application/json", useArrayBuffer: !1 }, localization: { select: "Select files...", cancel: "Cancel", retry: "Retry", remove: "Remove", pause: "Pause", resume: "Resume", clearSelectedFiles: "Clear", uploadSelectedFiles: "Upload", dropFilesHere: "Drop files here to upload", invalidFiles: "Invalid file(s). Please check file upload requirements.", statusUploading: "uploading", statusUploaded: "uploaded", statusWarning: "warning", statusFailed: "failed", headerStatusUploading: "Uploading...", headerStatusPaused: "Paused", headerStatusUploaded: "Done", invalidMaxFileSize: "File size too large.", invalidMinFileSize: "File size too small.", invalidFileExtension: "File type not allowed." }, validation: { allowedExtensions: [], maxFileSize: 0, minFileSize: 0 }, dropZone: "" }, setOptions: function (e) { var t = this, a = t.element; S.fn.setOptions.call(t, e), t.multiple = t.options.multiple, t.directory = t.options.directory, a.attr("multiple", !!t._supportsMultiple() && t.multiple), t.directory && (a.attr("webkitdirectory", t.directory), a.attr("directory", t.directory)), t.toggle(t.options.enabled) }, enable: function (e) { e = t === e || e, this.toggle(e) }, disable: function () { this.toggle(!1) }, toggle: function (e) { e = t === e ? e : !e, this.wrapper.toggleClass("k-state-disabled", e), this.element.prop("disabled", e) }, focus: function () { this.element.focus() }, destroy: function () { var t = this, a = e(t.options.dropZone); e(document).add(e(".k-dropzone", t.wrapper)).add(t.wrapper.closest("form")).off(t._ns), a.length > 0 && a.off(t._ns), e(t.element).off(E), S.fn.destroy.call(t) }, pause: function (t) { this._module.onPause({ target: e(t, this.wrapper) }); var a = t.find(".k-i-pause-sm"); a.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title", this.localization.resume), e(a).parent().attr("aria-label", this.localization.resume) }, resume: function (t) { this._module.onResume({ target: e(t, this.wrapper) }); var a = t.find(".k-i-play-sm"); a.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title", this.localization.pause), e(a).parent().attr("aria-label", this.localization.pause) }, upload: function () { var e = this; e._module.onSaveSelected() }, getFiles: function () { var t, a, n, i = this, o = [], r = i.wrapper.find(".k-file"); for (a = 0; a < r.length; a++)if (t = e(r[a]).data("fileNames")) for (n = 0; n < t.length; n++)o.push(t[n]); return o }, clearAllFiles: function () { var e = this, t = e.wrapper.find(".k-file"); t.each(function (t, a) { e._removeFileByDomElement(a, !1) }) }, removeAllFiles: function () { var e = this, t = e.wrapper.find(".k-file"); t.each(function (t, a) { e._removeFileByDomElement(a, !0) }) }, removeFileByUid: function (e) { this._removeFileByUid(e, !0) }, clearFileByUid: function (e) { this._removeFileByUid(e, !1) }, _removeFileByUid: function (t, a) { var n, i = this; "string" == typeof t && (n = e(".k-file[" + U.attr("uid") + '="' + t + '"]', i.wrapper), n.length > 0 && i._removeFileByDomElement(n, a)) }, clearFile: function (e) { this._removeFile(e, !1) }, removeFile: function (e) { this._removeFile(e, !0) }, _removeFile: function (t, a) { var n, i = this, o = i.wrapper.find(".k-file"); "function" == typeof t && o.each(function (o, r) { n = e(r).data("fileNames"), t(n) && i._removeFileByDomElement(r, a) }) }, _removeFileByDomElement: function (t, a) { var n, i = this, o = { target: e(t, i.wrapper) }; i.options.async.saveUrl ? (e(t).hasClass("k-file-progress") ? i._module.onCancel(o) : i._module.onRemove(o, {}, a), n = e(".k-file", i.wrapper), 0 === n.length ? i._hideHeaderUploadstatus() : i._updateHeaderUploadStatus()) : i._module.onRemove(o, {}, a) }, _addInput: function (t) { if (t[0].nodeType) { var a = this, n = t.clone().val(""); n.insertAfter(a.element).data("kendo" + a.options.prefix + a.options.name, a), e(a.element).hide().attr("tabindex", "-1").removeAttr("id").off(E), a._activeInput(n), a.element.focus() } }, _activeInput: function (t) { var a = this, n = a.wrapper; a.element = t, a.directory && (t.attr("webkitdirectory", a.directory), t.attr("directory", a.directory)), t.attr("multiple", !!a._supportsMultiple() && a.multiple).attr("autocomplete", "off").on("click" + E, function (e) { n.hasClass("k-state-disabled") && e.preventDefault() }).on("focus" + E, function () { e(this).parent().addClass("k-state-focused") }).on("blur" + E, function () { e(this).parent().removeClass("k-state-focused") }).on("change" + E, e.proxy(a._onInputChange, a)).on("keydown" + E, e.proxy(a._onInputKeyDown, a)) }, _onInputKeyDown: function (e) { var t = this, a = t.wrapper.find(".k-upload-action:visible:first"); e.keyCode === U.keys.TAB && a.length > 0 && !e.shiftKey && (e.preventDefault(), a.focus()) }, _onInputChange: function (t) { var a, n = this, i = e(t.target), o = l(n._inputFiles(i), n._isAsyncNonBatch()); p(o, n.options.validation), a = n.trigger(D, { files: o }), a ? (n._addInput(i), i.remove()) : n._module.onSelect({ target: i }, o) }, _readDirectory: function (t) { var a = new e.Deferred, n = t.createReader(), i = [], o = function () { n.readEntries(function (e) { e.length ? (i = i.concat(e), o()) : a.resolve(i) }, a.reject) }; return o(), a.promise() }, _readFile: function (e) { var t = this, a = e.fullPath; e.file(function (e) { e.relativePath = a.slice(1), t.droppedFolderFiles.push(e), t.droppedFolderCounter-- , 0 === t.droppedFolderCounter && setTimeout(function () { 0 === t.droppedFolderCounter && t.droppedFolderFiles.length && (t._proceedDroppedItems(t.droppedFolderFiles), t.droppedFolderFiles = []) }, 0) }, function () { z("File error.") }) }, _traverseFileTree: function (e, t) { var a = this; t || a.droppedFolderCounter-- , this._readDirectory(e).then(function (e) { a.droppedFolderCounter += e.length; for (var t = 0; t < e.length; t++)e[t].isFile ? a._readFile(e[t]) : e[t].isDirectory && a._traverseFileTree(e[t]) }) }, _onDrop: function (e) { var t, a, n, i = e.originalEvent.dataTransfer, o = this, r = i.files; if (g(e), o.options.directoryDrop && i.items) for (t = i.items.length, o.droppedFolderCounter = 0, o.droppedFolderFiles = [], a = 0; a < t; a++)i.items[a].webkitGetAsEntry ? (n = i.items[a].webkitGetAsEntry(), n.isDirectory ? o._traverseFileTree(n, !0) : n.isFile && o.droppedFolderFiles.push(i.files[a])) : o._proceedDroppedItems(r); else o._proceedDroppedItems(r) }, _proceedDroppedItems: function (t) { var a, n = this, o = l(i(t), n._isAsyncNonBatch()); t.length > 0 && !n.wrapper.hasClass("k-state-disabled") && (!n.multiple && o.length > 1 && o.splice(1, o.length - 1), p(o, n.options.validation), a = n.trigger(D, { files: o }), a || n._module.onSelect({ target: e(".k-dropzone", n.wrapper) }, o)) }, _filesContainValidationErrors: function (t) { var a = !1; return e(t).each(function (e, t) { if (t[L] && t[L].length > 0) return a = !0, !1 }), a }, _isAsyncNonBatch: function () { return this._async && !this.options.async.batch || !1 }, _renderInitialFiles: function (e) { var t, a, n = this, i = 0; for (e = l(e, !0), i = 0; i < e.length; i++)t = e[i], a = n._enqueueFile(t.name, { fileNames: [t] }), a.addClass("k-file-success").data("files", [e[i]]), n._supportsRemove() && n._fileAction(a, M) }, _prepareTemplateData: function (e, t) { var a = t.fileNames, n = {}, i = 0, o = 0; for (o = 0; o < a.length; o++)i += a[o].size; return n.name = e, n.size = i, n.files = t.fileNames, n }, _prepareDefaultSingleFileEntryTemplate: function (t) { var a = this, n = t.fileNames[0], i = f(t.fileNames), o = n[L], r = ""; return r += o && o.length > 0 ? "<li class='k-file k-file-invalid'><span class='k-progress'></span><span class='k-file-invalid-extension-wrapper'><span class='k-file-invalid-icon'>!</span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name k-file-name-invalid' title='" + n.name + "'>" + n.name + "</span><span class='k-file-validation-message'>" + a.localization[o[0]] + "</span></span>" : "<li class='k-file'><span class='k-progress'></span><span class='k-file-extension-wrapper'><span class='k-file-extension'>" + n.extension.substring(1) + "</span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name' title='" + n.name + "'>" + n.name + "</span><span class='k-file-size'>" + i + "</span></span>", r += "<strong class='k-upload-status'></strong>", e(r) }, _prepareDefaultMultipleFileEntriesTemplate: function (t) { var a, n, i = this, o = t.fileNames, r = i._filesContainValidationErrors(o), s = f(o), l = ""; for (l += r ? "<li class='k-file k-file-invalid'><span class='k-progress'></span><span class='k-multiple-files-invalid-extension-wrapper'><span class='k-file-invalid-icon'>!</span>" : "<li class='k-file'><span class='k-progress'></span><span class='k-multiple-files-extension-wrapper'>", l += "<span class='k-file-state'></span></span>", o.sort(function (e, t) { return e[L] ? -1 : t[L] ? 1 : 0 }), l += "<span class='k-file-name-size-wrapper'>", a = 0; a < o.length; a++)n = o[a], l += n[L] && n[L].length > 0 ? "<span class='k-file-name k-file-name-invalid' title='" + n.name + "'>" + n.name + "</span>" : "<span class='k-file-name' title='" + n.name + "'>" + n.name + "</span>"; return l += r ? "<span class='k-file-validation-message'>" + i.localization.invalidFiles + "</span>" : "<span class='k-file-information'>Total: " + o.length + " files, " + s + "</span>", l += "</span><strong class='k-upload-status'></strong>", e(l) }, _enqueueFile: function (t, a) { var n, i, o, r, s = this, l = a.fileNames[0].uid, p = e(".k-upload-files", s.wrapper), d = s.options, u = d.template; return 0 === p.length && (p = e("<ul class='k-upload-files k-reset'></ul>").appendTo(s.wrapper), s.options.showFileList || p.hide(), s.wrapper.removeClass("k-upload-empty")), n = e(".k-file", p), u ? (o = s._prepareTemplateData(t, a), u = U.template(u), i = e("<li class='k-file'>" + u(o) + "</li>"), i.find(".k-upload-action").addClass("k-button"), s.angular("compile", function () { return { elements: i, data: [o] } })) : i = 1 === a.fileNames.length ? s._prepareDefaultSingleFileEntryTemplate(a) : s._prepareDefaultMultipleFileEntriesTemplate(a), i.attr(U.attr("uid"), l).appendTo(p).data(a), s._async || e(".k-progress", i).width("100%"), !s.multiple && n.length > 0 && (r = { files: n.data("fileNames"), headers: {} }, s.trigger(M, r) || s._module.onRemove({ target: e(n, s.wrapper) }, r)), i }, _removeFileEntry: function (t) { var a, n, i, o = this, r = t.closest(".k-upload-files"); t.remove(), a = e(".k-file", r), n = e(".k-file-success, .k-file-error", r), i = e(".k-file-invalid", r), n.length !== a.length && i.length !== a.length || this._hideUploadButton(), 0 === a.length ? (r.remove(), o.wrapper.addClass("k-upload-empty"), o._hideHeaderUploadstatus()) : o._updateHeaderUploadStatus() }, _fileAction: function (e, t, a) { var n, i = { remove: "k-i-x", cancel: "k-i-cancel", retry: "k-i-retry", pause: "k-i-pause-sm" }, o = { remove: "k-i-close", cancel: "k-i-close", retry: "k-i-reload-sm", pause: "k-i-pause-sm" }; i.hasOwnProperty(t) && (a || this._clearFileAction(e), this.options.template ? (n = e.find(".k-upload-action").first(), n.find(".k-icon").length ? n.next(".k-upload-action").length && n.next(".k-upload-action").addClass("k-button").append("<span class='k-icon " + o[t] + " " + i[t] + "' title='" + this.localization[t] + "'aria-label='" + this.localization[t] + "'></span>").show() : n.addClass("k-button").append("<span class='k-icon " + o[t] + " " + i[t] + "' title='" + this.localization[t] + "'aria-label='" + this.localization[t] + "'></span>").show()) : (a || e.find(".k-upload-status .k-upload-action").remove(), e.find(".k-upload-status").append(this._renderAction(i[t], this.localization[t], o[t])))) }, _fileState: function (t, a) { var n = this.localization, i = { uploading: { text: n.statusUploading }, uploaded: { text: n.statusUploaded }, failed: { text: n.statusFailed } }, o = i[a]; o && e("span.k-file-state", t).text(o.text) }, _renderAction: function (t, a, n) { return "" !== t ? e("<button type='button' class='k-button k-upload-action' aria-label='" + a + "'><span class='k-icon " + n + " " + t + "' title='" + a + "'></span></button>").on("focus", function () { e(this).addClass("k-state-focused") }).on("blur", function () { e(this).removeClass("k-state-focused") }) : e("<button type='button' class='k-button'>" + a + "</button>") }, _clearFileAction: function (t) { e(".k-upload-action", t).empty().hide() }, _onFileAction: function (t) { var a, n, i, o, r, s, l = this; return l.wrapper.hasClass("k-state-disabled") || (a = e(t.target).closest(".k-upload-action"), n = a.find(".k-icon"), i = a.closest(".k-file"), o = i.data("fileNames"), r = l._filesContainValidationErrors(o), s = { files: o, headers: {} }, l._retryClicked = !1, n.hasClass("k-i-x") ? l.trigger(M, s) || l._module.onRemove({ target: e(i, l.wrapper) }, s, !r) : n.hasClass("k-i-cancel") ? (l.trigger(T, s), l._module.onCancel({ target: e(i, l.wrapper) }), l._checkAllComplete(), l._updateHeaderUploadStatus()) : n.hasClass("k-i-pause-sm") ? (l.trigger(B, s), l.pause(i), l._updateHeaderUploadStatus()) : n.hasClass("k-i-play-sm") ? (l.trigger(H, s), l.resume(i)) : n.hasClass("k-i-retry") && (e(".k-i-warning", i).remove(), e(".k-progress", i).finish().show(), l._module.onRetry({ target: e(i, l.wrapper) }), l._retryClicked = !0)), !1 }, _onUploadSelected: function () { var e = this, t = e.wrapper; return t.hasClass("k-state-disabled") || this._module.onSaveSelected(), !1 }, _onClearSelected: function () { var e = this, t = e.wrapper, a = {}; return t.hasClass("k-state-disabled") || e.trigger(N, a) || e.clearAllFiles(), !1 }, _onFileProgress: function (t, a) { var n, i; a > 100 && (a = 100), this.options.template ? e(".k-progress", t.target).width(a + "%") : (n = e(".k-upload-pct", t.target), i = e(".k-i-warning", t.target), i.length ? i.removeClass("k-i-warning").removeClass("k-icon").addClass("k-upload-pct") : 0 === n.length && e(".k-upload-status", t.target).prepend("<span class='k-upload-pct'></span>"), 100 !== a ? e(".k-upload-pct", t.target).text(a + "%") : e(".k-upload-pct", t.target).remove(), e(".k-progress", t.target).width(a + "%")), this.trigger(q, { files: F(t).data("fileNames"), percentComplete: a }) }, _onUploadSuccess: function (e, t, a) { var n = this, i = F(e), o = n.trigger(R, { files: i.data("fileNames"), response: t, operation: "upload", XMLHttpRequest: a }); o ? n._setUploadErrorState(i) : (n._fileState(i, "uploaded"), i.removeClass("k-file-progress").addClass("k-file-success"), n._updateHeaderUploadStatus(), n._supportsRemove() ? n._fileAction(i, M) : n._clearFileAction(i)), n._hideUploadProgress(i), n._checkAllComplete() }, _onUploadError: function (e, t) { var a = this, n = a._module, i = F(e), o = i.data("uid"); a._setUploadErrorState(i), a.trigger(I, { operation: "upload", files: i.data("fileNames"), XMLHttpRequest: t }), z("Server response: " + t.responseText), a.options.async.chunkSize ? n._decreasePosition && n._decreasePosition(o) : a._hideUploadProgress(i), a._checkAllComplete(), this.options.async.autoRetryAfter && this._autoRetryAfter(i) }, _autoRetryAfter: function (e) { var t = this, a = this._module.retries; a && (a[e.data("uid")] || (a[e.data("uid")] = 1), a[e.data("uid")] <= this.options.async.maxAutoRetries && (a[e.data("uid")]++ , setTimeout(function () { t._module.performUpload(e) }, this.options.async.autoRetryAfter))) }, _setUploadErrorState: function (t) { var a, n = this; n._fileState(t, "failed"), t.removeClass("k-file-progress").addClass("k-file-error"), n._updateUploadProgress(t), a = e(".k-upload-pct", t), a.length > 0 ? (a.parent().find(".k-i-warning").length || a.removeClass("k-upload-pct").addClass("k-icon k-i-warning"), a.empty()) : e(".k-upload-status", t).prepend("<span class='k-icon k-i-warning'></span>"), this._updateHeaderUploadStatus(), this._fileAction(t, "retry"), this._fileAction(t, M, !0), n._retryClicked && t.find(".k-i-retry").parent().focus() }, _updateUploadProgress: function (t) { var a, n, i, o = this; o.options.async.chunkSize ? (a = t.data("uid"), o._module.metaData && (n = o._module.metaData[a], n && (i = n.totalChunks ? Math.round(n.chunkIndex / n.totalChunks * 100) : 100, o._onFileProgress({ target: e(t, o.wrapper) }, i)))) : e(".k-progress", t).width("100%") }, _hideUploadProgress: function (t) { e(".k-progress", t).delay(X).fadeOut(Z, function () { e(this).css("width", "0%") }) }, _showUploadButton: function () { var t = this, a = e(".k-upload-selected", t.wrapper), n = e(".k-clear-selected", t.wrapper); 0 === a.length && (a = t._renderAction("", this.localization.uploadSelectedFiles).addClass("k-upload-selected"), n = t._renderAction("", this.localization.clearSelectedFiles).addClass("k-clear-selected")), this.wrapper.append(n, a) }, _hideUploadButton: function () { e(".k-upload-selected, .k-clear-selected", this.wrapper).remove() }, _showHeaderUploadStatus: function (t) { var a = this, n = a.localization, i = e(".k-dropzone", a.wrapper), o = e(".k-upload-status-total", a.wrapper); 0 !== o.length && o.remove(), o = '<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>', t ? (o = e(o).append(n.headerStatusUploading), o.find(".k-icon").addClass(W.loading)) : (o = e(o).append(n.headerStatusUploaded), o.find(".k-icon").addClass(W.warning)), i.length > 0 ? i.append(o) : e(".k-upload-button", a.wrapper).after(o) }, _updateHeaderUploadStatus: function () { var t, a, n = this, i = e(".k-upload-status-total", this.wrapper), o = e(".k-file", n.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid"), r = e(".k-file-invalid", n.wrapper), s = e(".k-file-error", n.wrapper), l = e(".k-file", n.wrapper).find(".k-i-play-sm"); !l.length || l.length !== o.length && n.options.async.concurrent ? (0 === o.length || r.length > 0 || s.length > 0) && (t = e(".k-file.k-file-error, .k-file.k-file-invalid", n.wrapper), i = e(".k-upload-status-total", n.wrapper), a = e(".k-icon", i).removeClass().addClass("k-icon").addClass(0 !== t.length ? W.warning : W.success), i.html(a).append(n.localization.headerStatusUploaded)) : (a = e(".k-icon", i).removeClass().addClass("k-icon").addClass("k-i-pause-sm"), i.html(a).append(n.localization.headerStatusPaused)) }, _hideHeaderUploadstatus: function () { e(".k-upload-status-total", this.wrapper).remove() }, _onParentFormSubmit: function () { var a, n = this, i = n.element; t !== this._module.onAbort && this._module.onAbort(), i.value || (a = e(i), a.attr("disabled", "disabled"), window.setTimeout(function () { a.removeAttr("disabled") }, 0)) }, _onParentFormReset: function () { e(".k-upload-files", this.wrapper).remove() }, _supportsFormData: function () { return "undefined" != typeof FormData }, _supportsMultiple: function () { var e = this._userAgent().indexOf("Windows") > -1; return !(U.support.browser.opera || U.support.browser.safari && e) }, _supportsDrop: function () { var e = this._userAgent().toLowerCase(), t = /chrome/.test(e), a = !t && /safari/.test(e), n = a && /windows/.test(e); return !n && this._supportsFormData() && this.options.async.saveUrl }, _userAgent: function () { return navigator.userAgent }, _setupDropZone: function () { var t, a, n = this; e(".k-upload-button", n.wrapper).wrap("<div class='k-dropzone'></div>"), t = n._ns, a = e(".k-dropzone", n.wrapper).append(e("<em>" + n.localization.dropFilesHere + "</em>")).on("dragenter" + t, g).on("dragover" + t, function (e) { e.preventDefault() }).on("drop" + t, e.proxy(n._onDrop, n)), _(a, t, function () { a.closest(".k-upload").hasClass("k-state-disabled") || a.addClass("k-dropzone-hovered") }, function () { a.removeClass("k-dropzone-hovered") }), n._bindDocumentDragEventWrappers(a) }, _setupCustomDropZone: function () { var t, a = this, n = e(a.options.dropZone); e(".k-upload-button", a.wrapper).wrap("<div class='k-dropzone'></div>").after(e("<em>" + a.localization.dropFilesHere + "</em>")), t = a._ns, n.on("dragenter" + t, g).on("dragover" + t, function (e) { e.preventDefault() }).on("drop" + t, e.proxy(a._onDrop, a)), _(n, t, function (t) { a.wrapper.hasClass("k-state-disabled") || (n.removeClass("k-dropzone-hovered"), e(t.target).addClass("k-dropzone-hovered")) }, function () { n.removeClass("k-dropzone-hovered"), n.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered") }), a._bindDocumentDragEventWrappers(n) }, _bindDocumentDragEventWrappers: function (t) { var a = this, n = a._ns; _(e(document), n, function () { a.wrapper.hasClass("k-state-disabled") || (t.addClass("k-dropzone-active"), t.closest(".k-upload").removeClass("k-upload-empty")) }, function () { t.removeClass("k-dropzone-active"), 0 === e("li.k-file", t.closest(".k-upload")).length && t.closest(".k-upload").addClass("k-upload-empty") }) }, _supportsRemove: function () { return !!this.options.async.removeUrl }, _submitRemove: function (t, a, n, i) { var o = this, r = o.options.async.removeField || "fileNames", s = e.extend(a.data, b()); s[r] = t, jQuery.ajax({ type: this.options.async.removeVerb, dataType: "json", dataFilter: v, url: this.options.async.removeUrl, traditional: !0, data: s, headers: a.headers, success: n, error: i, xhrFields: { withCredentials: this.options.async.withCredentials } }) }, _wrapInput: function (e) { var t = this, a = t.options; return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button' aria-label='" + this.localization.select + "'></div></div>"), a.async.saveUrl || e.closest(".k-upload").addClass("k-upload-sync"), e.closest(".k-upload").addClass("k-upload-empty"), e.closest(".k-button").append("<span>" + this.localization.select + "</span>"), e.closest(".k-upload") }, _checkAllComplete: function () { 0 === e(".k-file.k-file-progress", this.wrapper).length && this.trigger(P) }, _inputFiles: function (e) { return n(e) } }), G = function (e) { this.name = "syncUploadModule", this.element = e.wrapper, this.upload = e, this.element.closest("form").attr("enctype", "multipart/form-data").attr("encoding", "multipart/form-data") }; G.prototype = { onSelect: function (t, n) { var i, o, r = this.upload, s = e(t.target), l = r._filesContainValidationErrors(n); r._addInput(s), i = { fileNames: n }, l ? s.remove() : i.relatedInput = s, o = r._enqueueFile(a(s), i), l && r._hideUploadProgress(o), r._fileAction(o, M) }, onRemove: function (e) { var t = F(e), a = t.data("relatedInput"); a && a.remove(), this.upload._removeFileEntry(t) } }, w = function (e) { this.name = "iframeUploadModule", this.element = e.wrapper, this.upload = e, this.iframes = [] }, K._frameId = 0, w.prototype = { onSelect: function (t, a) { var n = this.upload, i = e(t.target), o = n._filesContainValidationErrors(a), r = this.prepareUpload(i, a, o); n.options.async.autoUpload ? o ? (n._fileAction(r, M), n._showHeaderUploadStatus(!1)) : this.performUpload(r) : (n._fileAction(r, M), o ? n._updateHeaderUploadStatus() : n._showUploadButton()), o && n._hideUploadProgress(r) }, prepareUpload: function (t, n, i) { var o, r, s, l, p = this.upload, d = e(p.element), u = p.options.async.saveField || t.attr("name"); return p._addInput(t), t.attr("name", u), i ? (t.remove(), r = { fileNames: n }) : (s = this.createFrame(p.name + "_" + K._frameId++), this.registerFrame(s), l = this.createForm(p.options.async.saveUrl, s.attr("name")).append(d), r = { frame: s, relatedInput: d, fileNames: n }), o = p._enqueueFile(a(t), r), s && s.data({ form: l, file: o }), o }, performUpload: function (t) { var a, n, i, o = { files: t.data("fileNames") }, r = t.data("frame"), s = this.upload; if (s.trigger(A, o)) s._removeFileEntry(r.data("file")), this.cleanupFrame(r), this.unregisterFrame(r); else { s._hideUploadButton(), s._showHeaderUploadStatus(!0), r.appendTo(document.body), a = r.data("form").attr("action", s.options.async.saveUrl).appendTo(document.body), o.data = e.extend({}, o.data, b()); for (n in o.data) i = a.find("input[name='" + n + "']"), 0 === i.length && (i = e("<input>", { type: "hidden", name: n }).prependTo(a)), i.val(o.data[n]); s._fileAction(t, T), s._fileState(t, "uploading"), e(t).removeClass("k-file-error").addClass("k-file-progress"), r.one("load", e.proxy(this.onIframeLoad, this)), a[0].submit() } }, onSaveSelected: function () { var t = this, a = t.upload; e(".k-file", this.element).each(function () { var n = e(this), i = y(n), o = a._filesContainValidationErrors(n.data("fileNames")); i || o || t.performUpload(n) }) }, onIframeLoad: function (t) { var a, n = e(t.target); try { a = n.contents().text() } catch (i) { a = "Error trying to get server response: " + i } this.processResponse(n, a) }, processResponse: function (t, a) { var n = t.data("file"), i = this, o = { responseText: a }; k(a, function (a) { e.extend(o, { statusText: "OK", status: "200" }), i.upload._onFileProgress({ target: e(n, i.upload.wrapper) }, 100), i.upload._onUploadSuccess({ target: e(n, i.upload.wrapper) }, a, o), i.cleanupFrame(t), i.unregisterFrame(t) }, function () { e.extend(o, { statusText: "error", status: "500" }), i.upload._onUploadError({ target: e(n, i.upload.wrapper) }, o) }) }, onCancel: function (t) { var a = e(t.target).data("frame"); this.stopFrameSubmit(a), this.cleanupFrame(a), this.unregisterFrame(a), this.upload._removeFileEntry(a.data("file")) }, onRetry: function (e) { var t = F(e); this.performUpload(t) }, onRemove: function (e, t, a) { var n = this, i = n.upload, o = F(e), r = o.data("frame"); r ? (n.unregisterFrame(r), i._removeFileEntry(o), n.cleanupFrame(r)) : o.hasClass("k-file-success") ? m(o, i, t, a) : i._removeFileEntry(o) }, onAbort: function () { var t = this.element, a = this; e.each(this.iframes, function () { e("input", this.data("form")).appendTo(t), a.stopFrameSubmit(this[0]), this.data("form").remove(), this.remove() }), this.iframes = [] }, createFrame: function (t) { return e("<iframe name='" + t + "' id='" + t + "' style='display:none;' />") }, createForm: function (t, a) { return e("<form enctype='multipart/form-data' method='POST' action='" + t + "' target='" + a + "'/>") }, stopFrameSubmit: function (e) { t !== e.stop ? e.stop() : e.document && e.document.execCommand("Stop") }, registerFrame: function (e) { this.iframes.push(e) }, unregisterFrame: function (t) { this.iframes = e.grep(this.iframes, function (e) { return e.attr("name") != t.attr("name") }) }, cleanupFrame: function (e) { var t = e.data("form"); e.data("file").data("frame", null), setTimeout(function () { t.remove(), e.remove() }, 1) } }, C = function (e) { this.name = "formDataUploadModule", this.element = e.wrapper, this.upload = e, this.position = {}, this.metaData = {}, this.cancelled = {}, this.resume = {}, this.paused = {}, this.retries = {} }, C.prototype = {
            onSelect: function (t, a) { var n, i, o = this.upload, r = this, s = e(t.target), l = this.prepareUpload(s, a); e.each(l, function (t) { n = o._filesContainValidationErrors(e(this.data("fileNames"))), o.options.async.autoUpload ? n ? (o._fileAction(this, M), o._showHeaderUploadStatus(!1)) : o.options.async.chunkSize ? (r.prepareChunk(this), i = this.prev(), (o.options.async.concurrent || 0 === t && !i.length || 0 === t && i.hasClass("k-file-success")) && r.performUpload(this)) : r.performUpload(this) : (o._fileAction(this, M), n ? o._updateHeaderUploadStatus() : (o._showUploadButton(), this.addClass("k-toupload"))), n && o._hideUploadProgress(this) }) }, prepareUpload: function (t, a) { var n = this.enqueueFiles(a); return t.is("input") && (e.each(n, function () { e(this).data("relatedInput", t) }), t.data("relatedFileEntries", n), this.upload._addInput(t)), n }, enqueueFiles: function (t) { var a, n, i, o, r = this.upload, s = t.length, l = []; if (r.options.async.batch === !0) a = e.map(t, function (e) { return e.name }).join(", "), (r.directory || r.options.directoryDrop) && e(t).each(function () { (this.rawFile.webkitRelativePath || this.rawFile.relativePath) && (this.name = this.rawFile.webkitRelativePath || this.rawFile.relativePath) }), o = r._enqueueFile(a, { fileNames: t }), o.data("files", t), l.push(o); else for (n = 0; n < s; n++)i = t[n], a = i.name, (r.directory || r.options.directoryDrop) && (i.rawFile.webkitRelativePath || i.rawFile.relativePath) && (i.name = i.rawFile.webkitRelativePath || i.rawFile.relativePath), o = r._enqueueFile(a, { fileNames: [i] }), o.data("files", [i]), l.push(o); return l }, performUpload: function (t) { var a, n, i = this.upload, o = this.createFormData(), r = this.createXHR(), s = { files: t.data("fileNames"), XMLHttpRequest: r }; if (i.trigger(A, s)) this.removeFileEntry(t); else { if (0 === t.find(".k-i-cancel").length && (i.options.async.chunkSize && i._fileAction(t, B), i._fileAction(t, T, i.options.async.chunkSize)), i.wrapper.find(".k-toupload").length || i._hideUploadButton(), i._showHeaderUploadStatus(!0), s.formData) o = s.formData; else { s.data = e.extend({}, s.data, b()); for (n in s.data) o.append(n, s.data[n]); a = t.data("files"), a && this.populateFormData(o, a) } i._fileState(t, "uploading"), e(t).removeClass("k-file-error").addClass("k-file-progress"), i.options.async.useArrayBuffer && window.FileReader ? this._readFile(i.options.async.saveUrl, o, t, r) : this.postFormData(i.options.async.saveUrl, o, t, r) } }, _readFile: function (a, n, i, o) { var r = this, s = r.upload, l = i.data("files")[0], p = new FileReader; p.onload = function (p) { try { r.fileArrayBuffer = r.fileArrayBuffer ? r._appendBuffer(r.fileArrayBuffer, p.target.result) : p.target.result } catch (d) { return s._onUploadError({ target: e(i, s.wrapper) }, o), t } r.position[l.uid] > l.size ? (r.postFormData(s.options.async.saveUrl, r.fileArrayBuffer, i, o), r.fileArrayBuffer = null) : r._readFile(a, n, i, o) }, p.onerror = function () { s._onUploadError({ target: e(i, s.wrapper) }, o) }, p.readAsArrayBuffer(r._getCurrentChunk(l.rawFile, l.uid)) }, _appendBuffer: function (e, t) { var a = new Uint8Array(e.byteLength + t.byteLength); return a.set(new Uint8Array(e), 0), a.set(new Uint8Array(t), e.byteLength), a.buffer }, onSaveSelected: function () { var t = this, a = t.upload; e(".k-toupload", this.element).filter(function () { var t = e(this), n = y(t), i = a._filesContainValidationErrors(t.data("fileNames")); return !n && !i }).each(function (n) { var i = e(this), o = i.prev(); i.removeClass("k-toupload"), a.options.async.chunkSize ? (t.prepareChunk(i), (a.options.async.concurrent || 0 === n && !o.length || 0 === n && o.hasClass("k-file-success") || o.hasClass("k-file-error")) && t.performUpload(i)) : t.performUpload(i) }) }, onCancel: function (e) { var t = F(e); this.upload.options.async.chunkSize && (this.cancelled[t.data("uid")] = !0), this.stopUploadRequest(t), this.removeFileEntry(t) }, onPause: function (e) { var t = F(e), a = t.data("uid"), n = this.upload.options.async; n.chunkSize && (this.retries[a] = n.maxAutoRetries + 1, this.paused[a] = !0, this.resume[a] = !1) }, onResume: function (e) {
                var t = F(e), a = t.data("uid"); this.upload.options.async.chunkSize && (delete this.paused[a], this.resume[a] = !0, this.retries[t.data("uid")] = 1, this._increaseChunkIndex(a), this.performUpload(t));
            }, onRetry: function (e) { var t = F(e), a = this.upload.options.async; a.chunkSize && (this.retries[t.data("uid")] = a.maxAutoRetries + 1, delete this.paused[t.data("uid")]), this.performUpload(t) }, onRemove: function (e, t, a) { var n = this, i = n.upload, o = F(e), r = this.upload.options.async; r.chunkSize && (this.retries[o.data("uid")] = r.maxAutoRetries + 1), o.hasClass("k-file-success") ? m(o, i, t, a) : n.removeFileEntry(o) }, createXHR: function () { return new XMLHttpRequest }, postFormData: function (e, t, a, n) { var i, o = this; a.data("request", n), n.addEventListener("load", function (e) { o.onRequestSuccess.call(o, e, a) }, !1), n.addEventListener(I, function (e) { o.onRequestError.call(o, e, a) }, !1), n.upload.addEventListener("progress", function (e) { o.onRequestProgress.call(o, e, a) }, !1), n.open("POST", e, !0), n.withCredentials = this.upload.options.async.withCredentials, i = this.upload.options.async.accept, i && n.setRequestHeader("Accept", i), n.send(t) }, createFormData: function () { return new FormData }, populateFormData: function (e, t) { var a, n, i, o, r = t.length, s = this.upload; if (s.options.async.chunkSize) i = t[0].uid, a = this._getCurrentChunk(t[0].rawFile, i), e.append(s.options.async.saveField || s.name, a), o = JSON.stringify(this.metaData[i]), e.append("metadata", o); else for (n = 0; n < r; n++)e.append(s.options.async.saveField || s.name, t[n].rawFile); return e }, onRequestSuccess: function (t, a) { function n() { r.upload._onUploadError({ target: e(a, r.upload.wrapper) }, o) } function i(t) { var n = r.upload.options.async.batch, i = r.upload.options.async.chunkSize, s = r.upload.options.async.concurrent, l = t.fileUid; r.paused[l] || r.cancelled[l] || (delete r.retries[l], !i || n || t.uploaded ? !i || n || s || !a.next().length || a.next().hasClass("k-toupload") ? (r.upload._onFileProgress({ target: e(a, r.upload.wrapper) }, 100), r.upload._onUploadSuccess({ target: e(a, r.upload.wrapper) }, t, o), r.cleanupFileEntry(a)) : (r.upload._onFileProgress({ target: e(a, r.upload.wrapper) }, 100), r._resetChunkIndex(l), r.upload._onUploadSuccess({ target: e(a, r.upload.wrapper) }, t, o), r.performUpload(a.next())) : (r._increaseChunkIndex(l), r.performUpload(a))) } var o = t.target, r = this; o.status >= 200 && o.status <= 299 ? k(o.responseText, i, n) : n() }, onRequestError: function (t, a) { var n = t.target; this.upload._onUploadError({ target: e(a, this.upload.wrapper) }, n) }, cleanupFileEntry: function (t) { var a = t.data("relatedInput"), n = !0; a && (e.each(a.data("relatedFileEntries") || [], function () { this.parent().length > 0 && this[0] != t[0] && (n = n && this.hasClass("k-file-success")) }), n && a.remove()) }, removeFileEntry: function (e) { var t = this.upload.options.async.chunkSize, a = this.upload.options.async.concurrent, n = this.upload.wrapper.find(".k-upload-selected").length > 0; this.cleanupFileEntry(e), !t || a || n || e.next().length && this.performUpload(e.next()), this.upload._removeFileEntry(e) }, onRequestProgress: function (t, a) { var n, i = Math.round(100 * t.loaded / t.total), o = a.data("uid"); this.upload.options.async.chunkSize && (n = this.metaData[o], i = n && n.totalChunks ? Math.round(n.chunkIndex / n.totalChunks * 100) : 100), this.upload._onFileProgress({ target: e(a, this.upload.wrapper) }, i) }, stopUploadRequest: function (e) { e.data("request").abort() }, prepareChunk: function (e) { var t = e.data("files")[0].rawFile, a = e.data("files")[0].uid, n = this.upload.options.async.chunkSize; this.position[a] = 0, this.metaData[a] = { chunkIndex: 0, contentType: t.type, fileName: t.name, totalFileSize: t.size, totalChunks: Math.ceil(t.size / n), uploadUid: a } }, _decreaseChunkIndex: function (e) { this.metaData[e].chunkIndex-- }, _increaseChunkIndex: function (e) { this.metaData[e].chunkIndex++ }, _resetChunkIndex: function (e) { this.metaData[e].chunkIndex = 0 }, _decreasePosition: function (e) { this.position[e] -= this.upload.options.async.chunkSize }, _getCurrentChunk: function (e, t) { var a, n = this.position[t], i = this.upload.options.async, o = i.chunkSize || i.bufferChunkSize; return this.position[t] || (this.position[t] = 0), this.position[t] += o, (a = this._getChunker(e)) ? e[a](n, this.position[t]) : e }, _getChunker: function (e) { return e.slice ? "slice" : e.mozSlice ? "mozSlice" : e.webkitSlice ? "webkitSlice" : null }
        }, U.ui.plugin(K)
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (e, define) { define("kendo.filebrowser.min", ["kendo.listview.min", "kendo.dropdownlist.min", "kendo.upload.min"], e) }(function () { return function (e, t) { function a(e, t, a) { var i, r; e.on("dragenter" + S, function () { t(), r = new Date, i || (i = setInterval(function () { var e = new Date - r; e > 100 && (a(), clearInterval(i), i = null) }, 100)) }).on("dragover" + S, function () { r = new Date }) } function i(e, a) { return e !== t && e.match(/\/$/) || (e = (e || "") + "/"), e + a } function r(e) { if (!e) return ""; var t = " bytes"; return e >= 1073741824 ? (t = " GB", e /= 1073741824) : e >= 1048576 ? (t = " MB", e /= 1048576) : e >= 1024 && (t = " KB", e /= 1024), Math.round(100 * e) / 100 + t } function o(e, t) { var a = e[t]; return p(a) ? a.from || a.field || t : a } var n, s, l, d, u = window.kendo, c = u.ui.Widget, p = e.isPlainObject, f = e.proxy, h = e.extend, v = u.support.placeholder, m = u.support.browser, k = u.isFunction, _ = /(^\/|\/$)/g, g = "change", w = "apply", b = "error", y = "click", S = ".kendoFileBrowser", x = ".kendoBreadcrumbs", T = ".kendoSearchBox", B = "name", F = "size", C = "type", D = { field: C, dir: "asc" }, z = u.template('<li class="k-tile-empty"><strong>${text}</strong></li>'), L = '<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-i-plus"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-i-folder-add" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-i-close" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></div></div>'; h(!0, u.data, { schemas: { filebrowser: { data: function (e) { return e.items || e || [] }, model: { id: "name", fields: { name: "name", size: "size", type: "type" } } } } }), h(!0, u.data, { transports: { filebrowser: u.data.RemoteTransport.extend({ init: function (t) { u.data.RemoteTransport.fn.init.call(this, e.extend(!0, {}, this.options, t)) }, _call: function (t, a) { a.data = e.extend({}, a.data, { path: this.options.path() }), k(this.options[t]) ? this.options[t].call(this, a) : u.data.RemoteTransport.fn[t].call(this, a) }, read: function (e) { this._call("read", e) }, create: function (e) { this._call("create", e) }, destroy: function (e) { this._call("destroy", e) }, update: function () { }, options: { read: { type: "POST" }, update: { type: "POST" }, create: { type: "POST" }, destroy: { type: "POST" } } }) } }), n = m.msie && m.version < 8 ? function (e) { return e.offsetTop } : function (t) { return t.offsetTop - e(t).height() }, s = c.extend({ init: function (e, t) { var a = this; t = t || {}, c.fn.init.call(a, e, t), a.element.addClass("k-filebrowser"), a.element.on(y + S, ".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-close)", f(a._deleteClick, a)).on(y + S, ".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-folder-add)", f(a._addClick, a)).on("keydown" + S, "li.k-state-selected input", f(a._directoryKeyDown, a)).on("blur" + S, "li.k-state-selected input", f(a._directoryBlur, a)), a._dataSource(), a.refresh(), a.path(a.options.path) }, options: { name: "FileBrowser", messages: { uploadFile: "Upload", orderBy: "Arrange by", orderByName: "Name", orderBySize: "Size", directoryNotFound: "A directory with this name was not found.", emptyFolder: "Empty Folder", deleteFile: 'Are you sure you want to delete "{0}"?', invalidFileType: 'The selected file "{0}" is not valid. Supported file types are {1}.', overwriteFile: 'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?', dropFilesHere: "drop file here to upload", search: "Search" }, transport: {}, path: "/", fileTypes: "*.*" }, events: [b, g, w], destroy: function () { var e = this; c.fn.destroy.call(e), e.dataSource.unbind(b, e._errorHandler), e.element.add(e.list).add(e.toolbar).off(S), u.destroy(e.element) }, value: function () { var e, t = this, a = t._selectedItem(), r = t.options.transport.fileUrl; if (a && "f" === a.get(C)) return e = i(t.path(), a.get(B)).replace(_, ""), r && (e = k(r) ? r(e) : u.format(r, encodeURIComponent(e))), e }, _selectedItem: function () { var e = this.listView, t = e.select(); if (t.length) return this.dataSource.getByUid(t.attr(u.attr("uid"))) }, _toolbar: function () { var t = this, a = u.template(L), i = t.options.messages, r = [{ text: i.orderByName, value: "name" }, { text: i.orderBySize, value: "size" }]; t.toolbar = e(a({ messages: i, showUpload: t.options.transport.uploadUrl, showCreate: t.options.transport.create, showDelete: t.options.transport.destroy })).appendTo(t.element).find(".k-upload input").kendoUpload({ multiple: !1, localization: { dropFilesHere: i.dropFilesHere }, async: { saveUrl: t.options.transport.uploadUrl, autoUpload: !0 }, upload: f(t._fileUpload, t), error: function (e) { t._error({ xhr: e.XMLHttpRequest, status: "error" }) } }).end(), t.upload = t.toolbar.find(".k-upload input").data("kendoUpload"), t.arrangeBy = t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({ dataSource: r, dataTextField: "text", dataValueField: "value", change: function () { t.orderBy(this.value()) } }).data("kendoDropDownList"), t._attachDropzoneEvents() }, _attachDropzoneEvents: function () { var t = this; t.options.transport.uploadUrl && (a(e(document.documentElement), e.proxy(t._dropEnter, t), e.proxy(t._dropLeave, t)), t._scrollHandler = f(t._positionDropzone, t)) }, _dropEnter: function () { this._positionDropzone(), e(document).on("scroll" + S, this._scrollHandler) }, _dropLeave: function () { this._removeDropzone(), e(document).off("scroll" + S, this._scrollHandler) }, _positionDropzone: function () { var e = this, t = e.element, a = t.offset(); e.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(a).css({ width: t[0].clientWidth, height: t[0].clientHeight, lineHeight: t[0].clientHeight + "px" }) }, _removeDropzone: function () { this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({ width: "", height: "", lineHeight: "", top: "", left: "" }) }, _deleteClick: function () { var e = this, t = e.listView.select(), a = u.format(e.options.messages.deleteFile, t.find("strong").text()); t.length && e._showMessage(a, "confirm") && e.listView.remove(t) }, _addClick: function () { this.createDirectory() }, _getFieldName: function (e) { return o(this.dataSource.reader.model.fields, e) }, _fileUpload: function (e) { var t, a = this, i = a.options, r = i.fileTypes, o = RegExp(("(" + r.split(",").join(")|(") + ")").replace(/\*\./g, ".*."), "i"), n = e.files[0].name, s = B, l = F; o.test(n) ? (e.data = { path: a.path() }, t = a._createFile(n), t ? a.upload.one("success", function (e) { var i = a._insertFileToList(t); i.set(s, e.response[a._getFieldName(s)]), i.set(l, e.response[a._getFieldName(l)]), a._tiles = a.listView.items().filter("[" + u.attr("type") + "=f]") }) : e.preventDefault()) : (e.preventDefault(), a._showMessage(u.format(i.messages.invalidFileType, n, r))) }, _findFile: function (e) { var t, a, i, r = this.dataSource.data(), o = C, n = B; for (e = e.toLowerCase(), t = 0, i = r.length; t < i; t++)if ("f" === r[t].get(o) && r[t].get(n).toLowerCase() === e) { a = r[t]; break } return a }, _createFile: function (e) { var t = this, a = {}, i = C, r = t._findFile(e); return r ? t._showMessage(u.format(t.options.messages.overwriteFile, e), "confirm") ? (r._override = !0, r) : null : (a[i] = "f", a[B] = e, a[F] = 0, a) }, _insertFileToList: function (e) { var t, a, i, r, o; if (e._override) return e; for (a = this.dataSource, i = a.view(), r = 0, o = i.length; r < o; r++)if ("f" === i[r].get(C)) { t = r; break } return a.insert(++t, e) }, createDirectory: function () { var e, t, a = this, i = 0, r = C, o = B, n = a.dataSource.data(), s = a._nameDirectory(), l = new a.dataSource.reader.model; for (e = 0, t = n.length; e < t; e++)"d" === n[e].get(r) && (i = e); l.set(r, "d"), l.set(o, s), a.listView.one("dataBound", function () { var e = a.listView.items().filter("[" + u.attr("uid") + "=" + l.uid + "]"), t = e.find("input"); e.length && this.edit(e), this.element.scrollTop(e.attr("offsetTop") - this.element[0].offsetHeight), setTimeout(function () { t.select() }) }).one("save", function (e) { var t = e.model.get(o); t ? e.model.set(o, a._nameExists(t, l.uid) ? a._nameDirectory() : t) : e.model.set(o, s) }), a.dataSource.insert(++i, l) }, _directoryKeyDown: function (e) { 13 == e.keyCode && e.currentTarget.blur() }, _directoryBlur: function () { this.listView.save() }, _nameExists: function (e, t) { var a, i, r = this.dataSource.data(), o = C, n = B; for (a = 0, i = r.length; a < i; a++)if ("d" === r[a].get(o) && r[a].get(n).toLowerCase() === e.toLowerCase() && r[a].uid !== t) return !0; return !1 }, _nameDirectory: function () { var t, a, i, r = "New folder", o = this.dataSource.data(), n = [], s = C, l = B; for (a = 0, i = o.length; a < i; a++)"d" === o[a].get(s) && o[a].get(l).toLowerCase().indexOf(r.toLowerCase()) > -1 && n.push(o[a].get(l)); if (e.inArray(r, n) > -1) { a = 2; do t = r + " (" + a + ")", a++; while (e.inArray(t, n) > -1); r = t } return r }, orderBy: function (e) { this.dataSource.sort([{ field: C, dir: "asc" }, { field: e, dir: "asc" }]) }, search: function (e) { this.dataSource.filter({ field: B, operator: "contains", value: e }) }, _content: function () { var t = this; t.list = e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("dblclick" + S, "li", f(t._dblClick, t)), t.listView = new u.ui.ListView(t.list, { dataSource: t.dataSource, template: t._itemTmpl(), editTemplate: t._editTmpl(), selectable: !0, autoBind: !1, dataBinding: function (e) { t.toolbar.find(".k-i-close").parent().addClass("k-state-disabled"), "remove" !== e.action && "sync" !== e.action || (e.preventDefault(), u.ui.progress(t.listView.element, !1)) }, dataBound: function () { t.dataSource.view().length ? t._tiles = this.items().filter("[" + u.attr("type") + "=f]") : this.wrapper.append(z({ text: t.options.messages.emptyFolder })) }, change: f(t._listViewChange, t) }) }, _dblClick: function (t) { var a, r = this, o = e(t.currentTarget); o.hasClass("k-edit-item") && r._directoryBlur(), o.filter("[" + u.attr("type") + "=d]").length ? (a = r.dataSource.getByUid(o.attr(u.attr("uid"))), a && (r.path(i(r.path(), a.get(B))), r.breadcrumbs.value(r.path()))) : o.filter("[" + u.attr("type") + "=f]").length && r.trigger(w) }, _listViewChange: function () { var e = this._selectedItem(); e && (this.toolbar.find(".k-i-close").parent().removeClass("k-state-disabled"), this.trigger(g, { selected: e })) }, _dataSource: function () { var e, t = this, a = t.options, i = a.transport, r = h({}, D), o = { field: B, dir: "asc" }, n = { type: i.type || "filebrowser", sort: [r, o] }; p(i) && (i.path = f(t.path, t), n.transport = i), p(a.schema) ? n.schema = a.schema : i.type && p(u.data.schemas[i.type]) && (e = u.data.schemas[i.type]), t.dataSource && t._errorHandler ? t.dataSource.unbind(b, t._errorHandler) : t._errorHandler = f(t._error, t), t.dataSource = u.data.DataSource.create(n).bind(b, t._errorHandler) }, _navigation: function () { var t = this, a = e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element); t.breadcrumbs = a.find("input:first").kendoBreadcrumbs({ value: t.options.path, change: function () { t.path(this.value()) } }).data("kendoBreadcrumbs"), t.searchBox = a.parent().find("input:last").kendoSearchBox({ label: t.options.messages.search, change: function () { t.search(this.value()) } }).data("kendoSearchBox") }, _error: function (e) { var t, a, i = this; i.trigger(b, e) || (t = e.xhr.status, "error" == e.status ? "404" == t ? i._showMessage(i.options.messages.directoryNotFound) : "0" != t && i._showMessage("Error! The requested URL returned " + t + " - " + e.xhr.statusText) : "timeout" == t && i._showMessage("Error! Server timeout."), a = i.dataSource, a.hasChanges() && a.cancelChanges()) }, _showMessage: function (e, t) { return window[t || "alert"](e) }, refresh: function () { var e = this; e._navigation(), e._toolbar(), e._content() }, _editTmpl: function () { var e = '<li class="k-tile k-state-selected" ' + u.attr("uid") + '="#=uid#" '; return e += u.attr("type") + '="${' + C + '}">', e += "#if(" + C + ' == "d") { #', e += '<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>', e += "#}else{#", e += '<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>', e += "#}#", e += "#if(" + C + ' == "d") { #', e += '<input class="k-input" ' + u.attr("bind") + '="value:' + B + '"/>', e += "#}#", e += "</li>", f(u.template(e), { sizeFormatter: r }) }, _itemTmpl: function () { var e = '<li class="k-tile" ' + u.attr("uid") + '="#=uid#" '; return e += u.attr("type") + '="${' + C + '}">', e += "#if(" + C + ' == "d") { #', e += '<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>', e += "#}else{#", e += '<div class="k-thumb"><span class="k-icon k-i-file"></span></div>', e += "#}#", e += "<strong>${" + B + "}</strong>", e += "#if(" + C + ' == "f") { # <span class="k-filesize">${this.sizeFormatter(' + F + ")}</span> #}#", e += "</li>", f(u.template(e), { sizeFormatter: r }) }, path: function (e) { var a = this, i = a._path || ""; return e !== t ? (a._path = e.replace(_, "") + "/", a.dataSource.read({ path: a._path }), t) : (i && (i = i.replace(_, "")), "/" === i || "" === i ? "" : i + "/") } }), l = c.extend({ init: function (e, t) { var a = this; t = t || {}, c.fn.init.call(a, e, t), v && a.element.attr("placeholder", a.options.label), a._wrapper(), a.element.on("keydown" + T, f(a._keydown, a)).on("change" + T, f(a._updateValue, a)), a.wrapper.on(y + T, "a", f(a._click, a)), v || a.element.on("focus" + T, f(a._focus, a)).on("blur" + T, f(a._blur, a)) }, options: { name: "SearchBox", label: "Search", value: "" }, events: [g], destroy: function () { var e = this; e.wrapper.add(e.element).add(e.label).off(T), c.fn.destroy.call(e) }, _keydown: function (e) { 13 === e.keyCode && this._updateValue() }, _click: function (e) { e.preventDefault(), this._updateValue() }, _updateValue: function () { var e = this, t = e.element.val(); t !== e.value() && (e.value(t), e.trigger(g)) }, _blur: function () { this._updateValue(), this._toggleLabel() }, _toggleLabel: function () { v || this.label.toggle(!this.element.val()) }, _focus: function () { this.label.hide() }, _wrapper: function () { var t = this.element, a = t.parents(".k-search-wrap"); t[0].style.width = "", t.addClass("k-input"), a.length || (a = t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(), v || e('<label style="display:block">' + this.options.label + "</label>").insertBefore(t), e('<a href="#" class="k-icon k-i-zoom k-search"/>').appendTo(a)), this.wrapper = a, this.label = a.find(">label") }, value: function (e) { var a = this; return e !== t ? (a.options.value = e, a.element.val(e), a._toggleLabel(), t) : a.options.value } }), d = c.extend({ init: function (e, t) { var a = this; t = t || {}, c.fn.init.call(a, e, t), a._wrapper(), a.wrapper.on("focus" + x, "input", f(a._focus, a)).on("blur" + x, "input", f(a._blur, a)).on("keydown" + x, "input", f(a._keydown, a)).on(y + x, "a.k-i-arrow-60-up:first", f(a._rootClick, a)).on(y + x, "a:not(.k-i-arrow-60-up)", f(a._click, a)), a.value(a.options.value) }, options: { name: "Breadcrumbs", gap: 50 }, events: [g], destroy: function () { var e = this; c.fn.destroy.call(e), e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(x) }, _update: function (e) { e = "/" === (e || "").charAt(0) ? e : "/" + (e || ""), e !== this.value() && (this.value(e), this.trigger(g)) }, _click: function (t) { t.preventDefault(), this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-60-up)").addBack())) }, _rootClick: function (e) { e.preventDefault(), this._update("") }, _focus: function () { var e = this, t = e.element; e.overlay.hide(), e.element.val(e.value()), setTimeout(function () { t.select() }) }, _blur: function () { if (!this.overlay.is(":visible")) { var e = this, t = e.element, a = t.val().replace(/\/{2,}/g, "/"); e.overlay.show(), t.val(""), e._update(a) } }, _keydown: function (e) { var t = this; 13 === e.keyCode && (t._blur(), setTimeout(function () { t.overlay.find("a:first").focus() })) }, _wrapper: function () { var t, a = this.element, i = a.parents(".k-breadcrumbs"); a[0].style.width = "", a.addClass("k-input"), i.length || (i = a.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()), t = i.find(".k-breadcrumbs-wrap"), t.length || (t = e('<div class="k-breadcrumbs-wrap"/>').appendTo(i)), this.wrapper = i, this.overlay = t }, refresh: function () { var a, i, r, o, n = "", s = this.value(); for (s !== t && s.match(/^\//) || (s = "/" + (s || "")), a = s.split("/"), r = 0, o = a.length; r < o; r++)i = a[r], i && (n || (n += '<a href="#" class="k-icon k-i-arrow-60-up" title="Go to parent folder"></a>'), n += '<a class="k-link" href="#">' + a[r] + "</a>", n += '<span class="k-icon k-i-arrow-60-right" title="Go to child folder"></span>'); this.overlay.empty().append(e(n)), this._adjustSectionWidth() }, _adjustSectionWidth: function () { var t, a = this, i = a.wrapper, r = i.width() - a.options.gap, o = a.overlay.find("a"); o.each(function (a) { t = e(this), t.parent().width() > r && (a == o.length - 1 ? t.width(r) : t.prev().addBack().hide()) }) }, value: function (e) { return e !== t ? (this._value = e.replace(/\/{2,}/g, "/"), this.refresh(), t) : this._value }, _path: function (t) { return "/" + e.map(t, function (t) { return e(t).text() }).join("/") } }), u.ui.plugin(s), u.ui.plugin(d), u.ui.plugin(l) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (e, define) { define("kendo.imagebrowser.min", ["kendo.filebrowser.min"], e) }(function () { return function (e, t) { function i(e, i) { return e !== t && e.match(/\/$/) || (e = (e || "") + "/"), e + i } function a(e) { if (!e) return ""; var t = " bytes"; return e >= 1073741824 ? (t = " GB", e /= 1073741824) : e >= 1048576 ? (t = " MB", e /= 1048576) : e >= 1024 && (t = " KB", e /= 1024), Math.round(100 * e) / 100 + t } var n, o, s = window.kendo, r = s.ui.FileBrowser, l = e.isPlainObject, d = e.proxy, p = e.extend, c = s.support.browser, u = s.isFunction, f = /(^\/|\/$)/g, m = "error", h = ".kendoImageBrowser", g = "name", _ = "size", v = "type", y = { field: v, dir: "asc" }, k = s.template('<li class="k-tile-empty"><strong>${text}</strong></li>'); p(!0, s.data, { schemas: { imagebrowser: { data: function (e) { return e.items || e || [] }, model: { id: "name", fields: { name: "name", size: "size", type: "type" } } } } }), p(!0, s.data, { transports: { imagebrowser: s.data.RemoteTransport.extend({ init: function (t) { s.data.RemoteTransport.fn.init.call(this, e.extend(!0, {}, this.options, t)) }, _call: function (t, i) { i.data = e.extend({}, i.data, { path: this.options.path() }), u(this.options[t]) ? this.options[t].call(this, i) : s.data.RemoteTransport.fn[t].call(this, i) }, read: function (e) { this._call("read", e) }, create: function (e) { this._call("create", e) }, destroy: function (e) { this._call("destroy", e) }, update: function () { }, options: { read: { type: "POST" }, update: { type: "POST" }, create: { type: "POST" }, destroy: { type: "POST" } } }) } }), n = c.msie && c.version < 8 ? function (e) { return e.offsetTop } : function (t) { return t.offsetTop - e(t).height() }, o = r.extend({ init: function (e, t) { var i = this; t = t || {}, r.fn.init.call(i, e, t), i.element.addClass("k-imagebrowser") }, options: { name: "ImageBrowser", fileTypes: "*.png,*.gif,*.jpg,*.jpeg" }, value: function () { var e, t = this, a = t._selectedItem(), n = t.options.transport.imageUrl; if (a && "f" === a.get(v)) return e = i(t.path(), a.get(g)).replace(f, ""), n && (e = u(n) ? n(e) : s.format(n, encodeURIComponent(e))), e }, _fileUpload: function (e) { var t, i = this, a = i.options, n = a.fileTypes, o = RegExp(("(" + n.split(",").join(")|(") + ")").replace(/\*\./g, ".*."), "i"), r = e.files[0].name, l = g, d = _; o.test(r) ? (e.data = { path: i.path() }, t = i._createFile(r), t ? (t._uploading = !0, i.upload.one("success", function (e) { delete t._uploading; var a = i._insertFileToList(t); a.set(l, e.response[i._getFieldName(l)]), a.set(d, e.response[i._getFieldName(d)]), i._tiles = i.listView.items().filter("[" + s.attr("type") + "=f]"), i._scroll() })) : e.preventDefault()) : (e.preventDefault(), i._showMessage(s.format(a.messages.invalidFileType, r, n))) }, _content: function () { var t = this; t.list = e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll" + h, d(t._scroll, t)).on("dblclick" + h, "li", d(t._dblClick, t)), t.listView = new s.ui.ListView(t.list, { dataSource: t.dataSource, template: t._itemTmpl(), editTemplate: t._editTmpl(), selectable: !0, autoBind: !1, dataBinding: function (e) { t.toolbar.find(".k-i-close").parent().addClass("k-state-disabled"), "remove" !== e.action && "sync" !== e.action || (e.preventDefault(), s.ui.progress(t.listView.element, !1)) }, dataBound: function () { t.dataSource.view().length ? (t._tiles = this.items().filter("[" + s.attr("type") + "=f]"), t._scroll()) : this.wrapper.append(k({ text: t.options.messages.emptyFolder })) }, change: d(t._listViewChange, t) }) }, _dataSource: function () { var e, t = this, i = t.options, a = i.transport, n = p({}, y), o = { field: g, dir: "asc" }, r = { type: a.type || "imagebrowser", sort: [n, o] }; l(a) && (a.path = d(t.path, t), r.transport = a), l(i.schema) ? r.schema = i.schema : a.type && l(s.data.schemas[a.type]) && (e = s.data.schemas[a.type]), t.dataSource && t._errorHandler ? t.dataSource.unbind(m, t._errorHandler) : t._errorHandler = d(t._error, t), t.dataSource = s.data.DataSource.create(r).bind(m, t._errorHandler) }, _loadImage: function (t) { var i = this, a = e(t), n = i.dataSource.getByUid(a.attr(s.attr("uid"))), o = n.get(g), r = i.options.transport.thumbnailUrl, l = e("<img />", { alt: o }), d = "?"; n._uploading || (l.hide().on("load" + h, function () { e(this).prev().remove().end().addClass("k-image").fadeIn() }), a.find(".k-i-loading").after(l), u(r) ? r = r(i.path(), encodeURIComponent(o)) : (r.indexOf("?") >= 0 && (d = "&"), r = r + d + "path=" + encodeURIComponent(i.path() + o), n._override && (r += "&_=" + (new Date).getTime(), delete n._override)), l.attr("src", r), t.loaded = !0) }, _scroll: function () { var e = this; e.options.transport && e.options.transport.thumbnailUrl && (clearTimeout(e._timeout), e._timeout = setTimeout(function () { var t = s._outerHeight(e.list), i = e.list.scrollTop(), a = i + t; e._tiles.each(function () { var t = n(this), o = t + this.offsetHeight; if ((t >= i && t < a || o >= i && o < a) && e._loadImage(this), t > a) return !1 }), e._tiles = e._tiles.filter(function () { return !this.loaded }) }, 250)) }, _itemTmpl: function () { var e = this, t = '<li class="k-tile" ' + s.attr("uid") + '="#=uid#" '; return t += s.attr("type") + '="${' + v + '}">', t += "#if(" + v + ' == "d") { #', t += '<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>', t += "#}else{#", t += e.options.transport && e.options.transport.thumbnailUrl ? '<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>' : '<div class="k-thumb"><span class="k-icon k-i-file"></span></div>', t += "#}#", t += "<strong>${" + g + "}</strong>", t += "#if(" + v + ' == "f") { # <span class="k-filesize">${this.sizeFormatter(' + _ + ")}</span> #}#", t += "</li>", d(s.template(t), { sizeFormatter: a }) } }), s.ui.plugin(o) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (i, define) { define("kendo.resizable.min", ["kendo.core.min", "kendo.draganddrop.min"], i) }(function () { return function (i, t) { var n = window.kendo, o = n.ui, e = o.Widget, s = i.proxy, r = n.isFunction, a = i.extend, l = "horizontal", c = "vertical", d = "start", u = "resize", p = "resizeend", g = e.extend({ init: function (i, t) { var n = this; e.fn.init.call(n, i, t), n.orientation = n.options.orientation.toLowerCase() != c ? l : c, n._positionMouse = n.orientation == l ? "x" : "y", n._position = n.orientation == l ? "left" : "top", n._sizingDom = n.orientation == l ? "outerWidth" : "outerHeight", n.draggable = new o.Draggable(t.draggableElement || i, { distance: 1, filter: t.handle, drag: s(n._resize, n), dragcancel: s(n._cancel, n), dragstart: s(n._start, n), dragend: s(n._stop, n) }), n.userEvents = n.draggable.userEvents }, events: [u, p, d], options: { name: "Resizable", orientation: l }, resize: function () { }, _max: function (i) { var n = this, o = n.hint ? n.hint[n._sizingDom]() : 0, e = n.options.max; return r(e) ? e(i) : e !== t ? n._initialElementPosition + e - o : e }, _min: function (i) { var n = this, o = n.options.min; return r(o) ? o(i) : o !== t ? n._initialElementPosition + o : o }, _start: function (t) { var n = this, o = n.options.hint, e = i(t.currentTarget); n._initialElementPosition = e.position()[n._position], n._initialMousePosition = t[n._positionMouse].startLocation, o && (n.hint = r(o) ? i(o(e)) : o, n.hint.css({ position: "absolute" }).css(n._position, n._initialElementPosition).appendTo(n.element)), n.trigger(d, t), n._maxPosition = n._max(t), n._minPosition = n._min(t), i(document.body).css("cursor", e.css("cursor")) }, _resize: function (i) { var n, o = this, e = o._maxPosition, s = o._minPosition, r = o._initialElementPosition + (i[o._positionMouse].location - o._initialMousePosition); n = s !== t ? Math.max(s, r) : r, o.position = n = e !== t ? Math.min(e, n) : n, o.hint && o.hint.toggleClass(o.options.invalidClass || "", n == e || n == s).css(o._position, n), o.resizing = !0, o.trigger(u, a(i, { position: n })) }, _stop: function (t) { var n = this; n.hint && n.hint.remove(), n.resizing = !1, n.trigger(p, a(t, { position: n.position })), i(document.body).css("cursor", "") }, _cancel: function (i) { var n = this; n.hint && (n.position = t, n.hint.css(n._position, n._initialElementPosition), n._stop(i)) }, destroy: function () { var i = this; e.fn.destroy.call(i), i.draggable && i.draggable.destroy() }, press: function (i) { if (i) { var t = i.position(), n = this; n.userEvents.press(t.left, t.top, i[0]), n.targetPosition = t, n.target = i } }, move: function (i) { var n = this, o = n._position, e = n.targetPosition, s = n.position; s === t && (s = e[o]), e[o] = s + i, n.userEvents.move(e.left, e.top) }, end: function () { this.userEvents.end(), this.target = this.position = t } }); n.ui.plugin(g) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (i, t, n) { (n || t)() });; !function (t, define) { define("kendo.tabstrip.min", ["kendo.data.min"], t) }(function () { return function (t, e) { function n(e) { e.children(_).addClass(S), e.children("a").addClass(y).children(_).addClass(S), e.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(N), e.filter("li[disabled]").addClass(H).attr("aria-disabled", "true").removeAttr("disabled"), e.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(L + " " + z), e.attr("role", "tab"), e.filter("." + L).attr("aria-selected", !0), e.each(function () { var e = t(this); e.children("." + y).length || e.contents().filter(function () { return !(this.nodeName.match(g) || 3 == this.nodeType && !d(this.nodeValue)) }).wrapAll("<span UNSELECTABLE='on' class='" + y + "'/>") }) } function r(t) { var e = t.children(".k-item"); e.filter(".k-first:not(:first-child)").removeClass(E), e.filter(".k-last:not(:last-child)").removeClass(G), e.filter(":first-child").addClass(E), e.filter(":last-child").addClass(G) } function a(t, e) { return "<span class='k-button k-button-icon k-bare k-tabstrip-" + t + "' unselectable='on'><span class='k-icon " + e + "'></span></span>" } var i = window.kendo, s = i.ui, o = i.keys, l = t.map, c = t.each, d = t.trim, p = t.extend, u = i.isFunction, f = i.template, h = i._outerWidth, m = i._outerHeight, b = s.Widget, g = /^(a|div)$/i, v = ".kendoTabStrip", _ = "img", k = "href", w = "prev", C = "next", x = "show", y = "k-link", G = "k-last", U = "click", T = "error", A = ":empty", S = "k-image", E = "k-first", I = "select", P = "activate", R = "k-content", B = "contentUrl", W = "mouseenter", D = "mouseleave", F = "contentLoad", H = "k-state-disabled", N = "k-state-default", L = "k-state-active", q = "k-state-focused", M = "k-state-hover", z = "k-tab-on-top", O = ".k-item:not(." + H + ")", j = ".k-item", Q = ".k-tabstrip-items > " + O + ":not(." + L + ")", V = 200, X = { content: f("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"), itemWrapper: f("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"), item: f("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"), image: f("<img class='k-image' alt='' src='#= imageUrl #' />"), sprite: f("<span class='k-sprite #= spriteCssClass #'></span>"), empty: f("") }, J = { wrapperCssClass: function (t, e) { var n = "k-item", r = e.index; return n += e.enabled === !1 ? " k-state-disabled" : " k-state-default", 0 === r && (n += " k-first"), r == t.length - 1 && (n += " k-last"), n }, textAttributes: function (t) { return t.url ? " href='" + t.url + "'" : "" }, text: function (t) { return t.encoded === !1 ? t.text : i.htmlEncode(t.text) }, tag: function (t) { return t.url ? "a" : "span" }, contentAttributes: function (t) { return t.active !== !0 ? " style='display:none' aria-hidden='true' aria-expanded='false'" : "" }, content: function (t) { return t.content ? t.content : t.contentUrl ? "" : "&nbsp;" }, contentUrl: function (t) { return t.contentUrl ? i.attr("content-url") + '="' + t.contentUrl + '"' : "" } }, $ = b.extend({ init: function (e, n) { var r, a, s, o = this; b.fn.init.call(o, e, n), o._animations(o.options), n = o.options, o._contentUrls = n.contentUrls || [], o._wrapper(), o._isRtl = i.support.isRtl(o.wrapper), o._tabindex(), o._updateClasses(), o._dataSource(), n.dataSource && o.dataSource.fetch(), o._tabPosition(), o._scrollable(), o._contentUrls.length ? o.wrapper.find(".k-tabstrip-items > .k-item").each(function (e, n) { var r = o._contentUrls[e]; "string" == typeof r && t(n).find(">." + y).data(B, r) }) : o._contentUrls.length = o.tabGroup.find("li.k-item").length, o.wrapper.on(W + v + " " + D + v, Q, o._toggleHover).on("focus" + v, t.proxy(o._active, o)).on("blur" + v, function () { o._current(null) }), o._keyDownProxy = t.proxy(o._keydown, o), n.navigatable && o.wrapper.on("keydown" + v, o._keyDownProxy), o.options.value && (r = o.options.value), o.wrapper.children(".k-tabstrip-items").on(U + v, ".k-state-disabled .k-link", !1).on(U + v, " > " + O, function (e) { var n, r = o.wrapper[0]; if (r !== document.activeElement) if (n = i.support.browser.msie) try { r.setActive() } catch (a) { r.focus() } else r.focus(); o._click(t(e.currentTarget)) && e.preventDefault() }), a = o.tabGroup.children("li." + L), s = o.contentHolder(a.index()), a[0] && s.length > 0 && 0 === s[0].childNodes.length && o.activateTab(a.eq(0)), o.element.attr("role", "tablist"), o.element[0].id && (o._ariaId = o.element[0].id + "_ts_active"), o.value(r), i.notify(o) }, _active: function () { var t = this.tabGroup.children().filter("." + L); t = t[0] ? t : this._endItem("first"), t[0] && this._current(t) }, _endItem: function (t) { return this.tabGroup.children(O)[t]() }, _getItem: function (t) { return this.tabGroup.children(j)[t]() }, _item: function (t, e) { var n; return n = e === w ? "last" : "first", t ? (t = t[e](), t[0] || (t = this.tabGroup.children(j)[n]()), t.hasClass(H) && t.addClass(q), (t.hasClass(H) || t.hasClass(L)) && (this._focused = t), t) : this._endItem(n) }, _current: function (t) { var n = this, r = n._focused, a = n._ariaId; return t === e ? r : (r && (n.tabGroup.children("#" + a).removeAttr("id"), r.removeClass(q)), t && (t.hasClass(L) || t.addClass(q), n.element.removeAttr("aria-activedescendant"), a = t[0].id || a, a && (t.attr("id", a), n.element.attr("aria-activedescendant", a))), n._focused = t, e) }, _keydown: function (t) { var n, r = this, a = t.keyCode, i = r._current(), s = r._isRtl, l = /top|bottom/.test(r.options.tabPosition); if (t.target == t.currentTarget) { if (a !== o.DOWN || l) if (a !== o.UP || l) if (a === o.RIGHT && l) n = s ? w : C; else if (a === o.LEFT && l) n = s ? C : w; else if (a == o.ENTER || a == o.SPACEBAR) r._click(i), t.preventDefault(); else { if (a == o.HOME) return r._click(r._getItem("first")), t.preventDefault(), e; if (a == o.END) return r._click(r._getItem("last")), t.preventDefault(), e } else n = w; else n = C; n && (r._click(r._item(i, n)), t.preventDefault()) } }, _dataSource: function () { var e = this; e.dataSource && e._refreshHandler ? e.dataSource.unbind("change", e._refreshHandler) : e._refreshHandler = t.proxy(e.refresh, e), e.dataSource = i.data.DataSource.create(e.options.dataSource).bind("change", e._refreshHandler) }, setDataSource: function (t) { var e = this; e.options.dataSource = t, e._dataSource(), e.dataSource.fetch() }, _animations: function (t) { t && "animation" in t && !t.animation && (t.animation = { open: { effects: {} }, close: { effects: {} } }) }, refresh: function (t) { var e, n, r, a, s = this, o = s.options, l = i.getter(o.dataEncodedField), c = i.getter(o.dataTextField), d = i.getter(o.dataContentField), p = i.getter(o.dataContentUrlField), u = i.getter(o.dataImageUrlField), f = i.getter(o.dataUrlField), h = i.getter(o.dataSpriteCssClass), m = [], b = s.dataSource.view(); for (t = t || {}, r = t.action, r && (b = t.items), e = 0, a = b.length; e < a; e++)n = { text: c(b[e]) }, o.dataEncodedField && (n.encoded = l(b[e])), o.dataContentField && (n.content = d(b[e])), o.dataContentUrlField && (n.contentUrl = p(b[e])), o.dataUrlField && (n.url = f(b[e])), o.dataImageUrlField && (n.imageUrl = u(b[e])), o.dataSpriteCssClass && (n.spriteCssClass = h(b[e])), m[e] = n; if ("add" == t.action) t.index < s.tabGroup.children().length ? s.insertBefore(m, s.tabGroup.children().eq(t.index)) : s.append(m); else if ("remove" == t.action) for (e = 0; e < b.length; e++)s.remove(t.index); else "itemchange" == t.action ? (e = s.dataSource.view().indexOf(b[0]), t.field === o.dataTextField && s.tabGroup.children().eq(e).find(".k-link").text(b[0].get(t.field)), t.field === o.dataUrlField && (s._contentUrls[e] = b[0].get(t.field))) : (s.trigger("dataBinding"), s.remove("li"), s._contentUrls = [], s.append(m), s.trigger("dataBound")) }, value: function (n) { var r = this; return n === e ? r.select().text() : (n != r.value() && r.tabGroup.children().each(function () { t.trim(t(this).text()) == n && r.select(this) }), e) }, items: function () { return this.tabGroup[0].children }, setOptions: function (t) { var e = this, n = e.options.animation; e._animations(t), t.contentUrls && (e._contentUrls = t.contentUrls), t.animation = p(!0, n, t.animation), t.navigatable ? e.wrapper.on("keydown" + v, e._keyDownProxy) : e.wrapper.off("keydown" + v, e._keyDownProxy), b.fn.setOptions.call(e, t) }, events: [I, P, x, T, F, "change", "dataBinding", "dataBound"], options: { name: "TabStrip", dataEncodedField: "", dataTextField: "", dataContentField: "", dataImageUrlField: "", dataUrlField: "", dataSpriteCssClass: "", dataContentUrlField: "", tabPosition: "top", animation: { open: { effects: "expand:vertical fadeIn", duration: 200 }, close: { duration: 200 } }, collapsible: !1, navigatable: !0, contentUrls: !1, scrollable: { distance: V } }, destroy: function () { var t = this, e = t.scrollWrap; b.fn.destroy.call(t), t._refreshHandler && t.dataSource.unbind("change", t._refreshHandler), t.wrapper.off(v), t.wrapper.children(".k-tabstrip-items").off(v), t._scrollableModeActive && (t._scrollPrevButton.off().remove(), t._scrollNextButton.off().remove()), i.destroy(t.wrapper), e.children(".k-tabstrip").unwrap() }, select: function (e) { var n = this; return 0 === arguments.length ? n.tabGroup.children("li." + L) : (isNaN(e) || (e = n.tabGroup.children().get(e)), e = n.tabGroup.find(e), t(e).each(function (e, r) { r = t(r), r.hasClass(L) || n.trigger(I, { item: r[0], contentElement: n.contentHolder(r.index())[0] }) || n.activateTab(r) }), n) }, enable: function (t, e) { return this._toggleDisabled(t, e !== !1), this }, disable: function (t) { return this._toggleDisabled(t, !1), this }, reload: function (e) { var n, r; return e = this.tabGroup.find(e), n = this, r = n._contentUrls, e.each(function () { var e = t(this), a = e.find("." + y).data(B) || r[e.index()], i = n.contentHolder(e.index()); a && n.ajaxRequest(e, i, null, a) }), n }, append: function (t) { var e = this, n = e._create(t); return c(n.tabs, function (t) { var r = n.contents[t]; e.tabGroup.append(this), "bottom" == e.options.tabPosition ? e.tabGroup.before(r) : e._scrollableModeActive ? e._scrollPrevButton.before(r) : e.wrapper.append(r), e.angular("compile", function () { return { elements: [r] } }) }), r(e.tabGroup), e._updateContentElements(), e.resize(!0), e }, _appendUrlItem: function (t) { this._contentUrls.push(t) }, _moveUrlItem: function (t, e) { this._contentUrls.splice(e, 0, this._contentUrls.splice(t, 1)[0]) }, _removeUrlItem: function (t) { this._contentUrls.splice(t, 1) }, insertBefore: function (e, n) { n = t(e).is(t(n)) ? this.tabGroup.find(n).next() : this.tabGroup.find(n); var a = this, i = a._create(e), s = a.element.find("[id='" + n.attr("aria-controls") + "']"); return c(i.tabs, function (e) { var r = i.contents[e], o = i.newTabsCreated ? a._contentUrls.length - (i.tabs.length - e) : t(r).index() - 1; n.before(this), s.before(r), a._moveUrlItem(o, t(this).index()), a.angular("compile", function () { return { elements: [r] } }) }), r(a.tabGroup), a._updateContentElements(i.newTabsCreated), a.resize(!0), a }, insertAfter: function (e, n) { n = t(e).is(t(n)) ? this.tabGroup.find(n).prev() : this.tabGroup.find(n); var a = this, i = a._create(e), s = a.element.find("[id='" + n.attr("aria-controls") + "']"); return c(i.tabs, function (e) { var r = i.contents[e], o = i.newTabsCreated ? a._contentUrls.length - (i.tabs.length - e) : t(r).index() - 1; n.after(this), s.after(r), a._moveUrlItem(o, t(this).index()), a.angular("compile", function () { return { elements: [r] } }) }), r(a.tabGroup), a._updateContentElements(i.newTabsCreated), a.resize(!0), a }, remove: function (e) { var n, r = this, a = typeof e; return "string" === a ? e = r.tabGroup.find(e) : "number" === a && (e = r.tabGroup.children().eq(e)), n = e.map(function () { var e = t(this).index(), n = r.contentElement(e); return i.destroy(n), r._removeUrlItem(e), n }), e.remove(), n.empty(), n.remove(), r._updateContentElements(), r.resize(!0), r }, _create: function (e) { var r, a, s, o = this, c = !1; return e = e instanceof i.data.ObservableArray ? e.toJSON() : e, t.isPlainObject(e) || t.isArray(e) ? (e = t.isArray(e) ? e : [e], c = !0, r = l(e, function (n, r) { return o._appendUrlItem(e[r].contentUrl || null), t($.renderItem({ group: o.tabGroup, item: p(n, { index: r }) })) }), a = l(e, function (e, n) { if ("string" == typeof e.content || e.contentUrl) return t($.renderContent({ item: p(e, { index: n }) })) })): (r = "string" == typeof e && "<" != e[0] ? o.element.find(e) : t(e), a = t(), r.each(function(){ if (/k-tabstrip-items/.test(this.parentNode.className)) { var e = o.element.find("[id='" + this.getAttribute("aria-controls") + "']"); s = e } else s = t("<div class='" + R + "'/>"); a = a.add(s) }), n(r)), { tabs: r, contents: a, newTabsCreated: c }}, _toggleDisabled: function(e, n) { e = this.tabGroup.find(e), e.each(function () { t(this).toggleClass(N, n).toggleClass(H, !n).attr("aria-disabled", !n) }) }, _updateClasses: function() { var a, i, s, o = this; o.wrapper.addClass("k-widget k-header k-tabstrip"), o.tabGroup = o.wrapper.children("ul").addClass("k-tabstrip-items k-reset"), o.tabGroup[0] || (o.tabGroup = t("<ul class='k-tabstrip-items k-reset'/>").appendTo(o.wrapper)), a = o.tabGroup.find("li").addClass("k-item"), a.length && (i = a.filter("." + L).index(), s = i >= 0 ? i : e, o.tabGroup.contents().filter(function () { return 3 == this.nodeType && !d(this.nodeValue) }).remove()), i >= 0 && a.eq(i).addClass(z), o.contentElements = o.wrapper.children("div"), o.contentElements.addClass(R).eq(s).addClass(L).css({ display: "block" }), a.length && (n(a), r(o.tabGroup), o._updateContentElements(!0)) }, _elementId: function(t, e) { var n, r = t.attr("id"), a = this.element.attr("id"); return !r || r.indexOf(a + "-") > -1 ? (n = (a || i.guid()) + "-", n + (e + 1)) : r }, _updateContentElements: function(e) { var n = this, r = n._contentUrls, a = n.tabGroup.children(".k-item"), s = n.wrapper.children("div"), o = n._elementId.bind(n); s.length && a.length > s.length ? s.each(function (n) { var r = o(t(this), n), i = a.filter("[aria-controls=" + (this.id || 0) + "]")[0]; !i && e && (i = a[n]), i && i.setAttribute("aria-controls", r), this.setAttribute("id", r) }) : a.each(function (e) { var a = s.eq(e), i = o(a, e); this.setAttribute("aria-controls", i), !a.length && r[e] ? t("<div class='" + R + "'/>").appendTo(n.wrapper).attr("id", i) : (a.attr("id", i), t(this).children(".k-loading")[0] || r[e] || t("<span class='k-loading k-complete'/>").prependTo(this)), a.attr("role", "tabpanel"), a.filter(":not(." + L + ")").attr("aria-hidden", !0).attr("aria-expanded", !1), a.filter("." + L).attr("aria-expanded", !0) }), n.contentElements = n.contentAnimators = n.wrapper.children("div"), n.tabsHeight = m(n.tabGroup) + parseInt(n.wrapper.css("border-top-width"), 10) + parseInt(n.wrapper.css("border-bottom-width"), 10), i.kineticScrollNeeded && i.mobile.ui.Scroller && (i.touchScroller(n.contentElements), n.contentElements = n.contentElements.children(".km-scroll-container")) }, _wrapper: function() { var t = this; t.wrapper = t.element.is("ul") ? t.element.wrapAll("<div />").parent() : t.element, t.scrollWrap = t.wrapper.parent(".k-tabstrip-wrapper"), t.scrollWrap[0] || (t.scrollWrap = t.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()) }, _tabPosition: function() { var t = this, e = t.options.tabPosition; t.wrapper.addClass("k-floatwrap k-tabstrip-" + e), "bottom" == e && t.tabGroup.appendTo(t.wrapper), t.resize(!0) }, _setContentElementsDimensions: function() { var t, e, n, r, a, i, s = this, o = s.options.tabPosition; "left" != o && "right" != o || (t = s.wrapper.children(".k-content"), e = t.filter(":visible"), n = "margin-" + o, r = s.tabGroup, a = h(r), i = Math.ceil(r.height()) - parseInt(e.css("padding-top"), 10) - parseInt(e.css("padding-bottom"), 10) - parseInt(e.css("border-top-width"), 10) - parseInt(e.css("border-bottom-width"), 10), setTimeout(function () { t.css(n, a).css("min-height", i) })) }, _resize: function() { this._setContentElementsDimensions(), this._scrollable() }, _sizeScrollWrap: function(t) { var e, n; t.is(":visible") && (e = this.options.tabPosition, n = Math.floor(m(t, !0)) + ("left" === e || "right" === e ? 2 : this.tabsHeight), this.scrollWrap.css("height", n).css("height")) }, _toggleHover: function(e) { t(e.currentTarget).toggleClass(M, e.type == W) }, _click: function(t) { var e, n, r = this, a = t.find("." + y), i = a.attr(k), s = r.options.collapsible, o = t.index(), l = r.contentHolder(o), c = t.parent().children(), d = c.filter("." + q); if (t.closest(".k-widget")[0] == r.wrapper[0]) { if (t.is("." + H + (s ? "" : ",." + L))) return d.removeClass(q), r._focused = t, t.addClass(q), r._current(t), r._scrollableModeActive && r._scrollTabsToItem(t), !0; if (n = a.data(B) || r._contentUrls[o] || i && ("#" == i.charAt(i.length - 1) || i.indexOf("#" + r.element[0].id + "-") != -1), e = !i || n, r.tabGroup.children("[data-animating]").length) return e; if (r.trigger(I, { item: t[0], contentElement: l[0] })) return !0; if (e !== !1) return s && t.is("." + L) ? (r.deactivateTab(t), !0) : (r.activateTab(t) && (e = !0), e) } }, _scrollable: function() { var t, e, n, r, s, o, l = this, c = l.options; l._scrollableAllowed() && (l.wrapper.addClass("k-tabstrip-scrollable"), t = l.wrapper[0].offsetWidth, e = l.tabGroup[0].scrollWidth, e > t && !l._scrollableModeActive ? (l._nowScrollingTabs = !1, l._isRtl = i.support.isRtl(l.element), s = i.support.mobileOS ? "touchstart" : "mousedown", o = i.support.mobileOS ? "touchend" : "mouseup", l.wrapper.append(a("prev", "k-i-arrow-60-left") + a("next", "k-i-arrow-60-right")), n = l._scrollPrevButton = l.wrapper.children(".k-tabstrip-prev"), r = l._scrollNextButton = l.wrapper.children(".k-tabstrip-next"), l.tabGroup.css({ marginLeft: h(n) + 9, marginRight: h(r) + 12 }), n.on(s + v, function () { l._nowScrollingTabs = !0, l._scrollTabsByDelta(c.scrollable.distance * (l._isRtl ? 1 : -1)) }), r.on(s + v, function () { l._nowScrollingTabs = !0, l._scrollTabsByDelta(c.scrollable.distance * (l._isRtl ? -1 : 1)) }), n.add(r).on(o + v, function () { l._nowScrollingTabs = !1 }), l._scrollableModeActive = !0, l._toggleScrollButtons()) : l._scrollableModeActive && e <= t ? (l._scrollableModeActive = !1, l.wrapper.removeClass("k-tabstrip-scrollable"), l._scrollPrevButton.off().remove(), l._scrollNextButton.off().remove(), l.tabGroup.css({ marginLeft: "", marginRight: "" })) : l._scrollableModeActive ? l._toggleScrollButtons() : l.wrapper.removeClass("k-tabstrip-scrollable")) }, _scrollableAllowed: function() { var t = this.options; return t.scrollable && !t.scrollable.distance && (t.scrollable = { distance: V }), t.scrollable && !isNaN(t.scrollable.distance) && ("top" == t.tabPosition || "bottom" == t.tabPosition) }, _scrollTabsToItem: function(t) { var e, n = this, r = n.tabGroup, a = r.scrollLeft(), i = h(t), s = n._isRtl ? t.position().left : t.position().left - r.children().first().position().left, o = r[0].offsetWidth, l = Math.ceil(parseFloat(r.css("padding-left"))); n._isRtl ? s < 0 ? e = a + s - (o - a) - l : s + i > o && (e = a + s - i + 2 * l) : a + o < s + i ? e = s + i - o + 2 * l : a > s && (e = s - l), r.finish().animate({ scrollLeft: e }, "fast", "linear", function () { n._toggleScrollButtons() }) }, _scrollTabsByDelta: function(t) { var e = this, n = e.tabGroup, r = n.scrollLeft(); n.finish().animate({ scrollLeft: r + t }, "fast", "linear", function () { e._nowScrollingTabs && !jQuery.fx.off ? e._scrollTabsByDelta(t) : e._toggleScrollButtons() }) }, _toggleScrollButtons: function() { var t = this, e = t.tabGroup, n = e.scrollLeft(); t._scrollPrevButton.toggle(t._isRtl ? n < e[0].scrollWidth - e[0].offsetWidth - 1 : 0 !== n), t._scrollNextButton.toggle(t._isRtl ? 0 !== n : n < e[0].scrollWidth - e[0].offsetWidth - 1) }, deactivateTab: function(t) { var e = this, n = e.options.animation, r = n.open, a = p({}, n.close), s = a && "effects" in a; t = e.tabGroup.find(t), a = p(s ? a : p({ reverse: !0 }, r), { hide: !0 }), i.size(r.effects) ? (t.kendoAddClass(N, { duration: r.duration }), t.kendoRemoveClass(L, { duration: r.duration })) : (t.addClass(N), t.removeClass(L)), t.removeAttr("aria-selected"), e.contentAnimators.filter("." + L).kendoStop(!0, !0).kendoAnimate(a).removeClass(L).attr("aria-hidden", !0) }, activateTab: function(t) { var e, n, r, a, s, o, l, c, d, u, f, h, b, g, v, _; if (!this.tabGroup.children("[data-animating]").length) return t = this.tabGroup.find(t), e = this, n = e.options.animation, r = n.open, a = p({}, n.close), s = a && "effects" in a, o = t.parent().children(), l = o.filter("." + L), c = o.index(t), d = r && "duration" in r && "effects" in r, a = p(s ? a : p({ reverse: !0 }, r), { hide: !0 }), i.size(r.effects) ? (l.kendoRemoveClass(L, { duration: a.duration }), t.kendoRemoveClass(M, { duration: a.duration })) : (l.removeClass(L), t.removeClass(M)), u = e.contentAnimators, e.inRequest && (e.xhr.abort(), e.inRequest = !1), 0 === u.length ? (e.tabGroup.find("." + z).removeClass(z), t.addClass(z).css("z-index"), t.addClass(L), e._current(t), e.trigger("change"), e._scrollableModeActive && e._scrollTabsToItem(t), !1) : (f = u.filter("." + L), h = e.contentHolder(c), b = h.closest(".k-content"), e.tabsHeight = m(e.tabGroup) + parseInt(e.wrapper.css("border-top-width"), 10) + parseInt(e.wrapper.css("border-bottom-width"), 10), e._sizeScrollWrap(f), 0 === h.length ? (f.removeClass(L).attr("aria-hidden", !0).kendoStop(!0, !0).kendoAnimate(a), !1) : (t.attr("data-animating", !0), g = (t.children("." + y).data(B) || e._contentUrls[c] || !1) && h.is(A), v = function () { l.removeAttr("aria-selected"), t.attr("aria-selected", !0), e._current(t), e._sizeScrollWrap(b), b.addClass(L).removeAttr("aria-hidden").kendoStop(!0, !0).attr("aria-expanded", !0).kendoAnimate(p({ init: function () { e.trigger(x, { item: t[0], contentElement: h[0] }), i.resize(h) } }, r, { complete: function () { t.removeAttr("data-animating"), e.trigger(P, { item: t[0], contentElement: h[0] }), i.resize(h), e.scrollWrap.css("height", "").css("height"), d && (i.support.browser.msie || i.support.browser.edge) && h.finish().animate({ opacity: .9 }, "fast", "linear", function () { h.finish().animate({ opacity: 1 }, "fast", "linear") }) } })) }, _ = function () { g ? (t.removeAttr("data-animating"), e.ajaxRequest(t, h, function () { t.attr("data-animating", !0), v(), e.trigger("change") })) : (v(), e.trigger("change")), e._scrollableModeActive && e._scrollTabsToItem(t) }, f.removeClass(L), e.tabGroup.find("." + z).removeClass(z), t.addClass(z).css("z-index"), i.size(r.effects) ? (l.kendoAddClass(N, { duration: r.duration }), t.kendoAddClass(L, { duration: r.duration })) : (l.addClass(N), t.addClass(L)), f.attr("aria-hidden", !0), f.attr("aria-expanded", !1), f.length ? f.kendoStop(!0, !0).kendoAnimate(p({ complete: _ }, a)) : _(), !0)) }, contentElement: function(n) { var r, a, s, o; if (isNaN(n - 0)) return e; if (r = this.contentElements && this.contentElements[0] && !i.kineticScrollNeeded ? this.contentElements : this.contentAnimators, a = t(this.tabGroup.children()[n]).attr("aria-controls"), r) for (s = 0, o = r.length; s < o; s++)if (r.eq(s).closest(".k-content")[0].id == a) return r[s]; return e }, contentHolder: function(e) { var n = t(this.contentElement(e)), r = n.children(".km-scroll-container"); return i.support.touch && r[0] ? r : n }, ajaxRequest: function(e, n, r, a) { var s, o, l, c, d, p, f, h, m, b; e = this.tabGroup.find(e), s = this, o = t.ajaxSettings.xhr, l = e.find("." + y), c = {}, d = e.width() / 2, p = !1, f = e.find(".k-loading").removeClass("k-complete"), f[0] || (f = t("<span class='k-loading'/>").prependTo(e)), h = 2 * d - f.width(), m = function () { f.animate({ marginLeft: (parseInt(f.css("marginLeft"), 10) || 0) < d ? h : 0 }, 500, m) }, i.support.browser.msie && i.support.browser.version < 10 && setTimeout(m, 40), a = a || l.data(B) || s._contentUrls[e.index()] || l.attr(k), s.inRequest = !0, b = { type: "GET", cache: !1, url: a, dataType: "html", data: c, xhr: function () { var e = this, n = o(), r = e.progressUpload ? "progressUpload" : !!e.progress && "progress"; return n && t.each([n, n.upload], function () { this.addEventListener && this.addEventListener("progress", function (t) { r && e[r](t) }, !1) }), e.noProgress = !(window.XMLHttpRequest && "upload" in new XMLHttpRequest), n }, progress: function (t) { if (t.lengthComputable) { var e = parseInt(t.loaded / t.total * 100, 10) + "%"; f.stop(!0).addClass("k-progress").css({ width: e, marginLeft: 0 }) } }, error: function (t, e) { s.trigger("error", { xhr: t, status: e }) && this.complete() }, stopProgress: function () { clearInterval(p), f.stop(!0).addClass("k-progress")[0].style.cssText = "" }, complete: function (t) { s.inRequest = !1, this.noProgress ? setTimeout(this.stopProgress, 500) : this.stopProgress(), "abort" == t.statusText && f.remove() }, success: function (t) { var o, l, c; f.addClass("k-complete"); try { o = this, l = 10, o.noProgress && (f.width(l + "%"), p = setInterval(function () { o.progress({ lengthComputable: !0, loaded: Math.min(l, 100), total: 100 }), l += 10 }, 40)), s.angular("cleanup", function () { return { elements: n.get() } }), i.destroy(n), n.html(t) } catch (d) { c = window.console, c && c.error && c.error(d.name + ": " + d.message + " in " + a), this.error(this.xhr, "error") } r && r.call(s, n), s.angular("compile", function () { return { elements: n.get() } }), s.trigger(F, { item: e[0], contentElement: n[0] }) } }, "object" == typeof a && (b = t.extend(!0, {}, b, a), u(b.url) && (b.url = b.url())), s.xhr = t.ajax(b) }}); p($, { renderItem: function (t) { t = p({ tabStrip: {}, group: {} }, t); var e = X.empty, n = t.item; return X.item(p(t, { image: n.imageUrl ? X.image : e, sprite: n.spriteCssClass ? X.sprite : e, itemWrapper: X.itemWrapper }, J)) }, renderContent: function (t) { return X.content(p(t, J)) } }), i.ui.plugin($)}(window.kendo.jQuery), window.kendo}, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.numerictextbox.min", ["kendo.core.min", "kendo.userevents.min"], e) }(function () { return function (e, t) { function n(e, t) { var n = "k-i-arrow-" + ("increase" === e ? "60-up" : "60-down"); return '<span unselectable="on" class="k-link k-link-' + e + '" aria-label="' + t + '" title="' + t + '"><span unselectable="on" class="' + H + " " + n + '"></span></span>' } function a(e, t) { var n = ("" + parseFloat(e, 10)).split(E); return n[1] && (n[1] = n[1].substring(0, t)), n.join(E) } var r = window.kendo, o = r.caret, i = r.keys, s = r.ui, l = s.Widget, p = r._activeElement, u = r._extractFormat, d = r.parseFloat, c = r.support.placeholder, _ = r.getCulture, f = "change", m = "disabled", v = "readonly", x = "k-input", h = "spin", g = ".kendoNumericTextBox", w = "touchend", y = "mouseleave" + g, k = "mouseenter" + g + " " + y, b = "k-state-default", A = "k-state-focused", T = "k-state-hover", C = "focus", E = ".", H = "k-icon", W = "k-state-selected", O = "k-state-disabled", D = "k-state-invalid", I = "aria-disabled", R = /^(-)?(\d*)$/, S = null, F = e.proxy, N = e.extend, j = l.extend({ init: function (n, a) { var o, i, s, p, d, c = this, _ = a && a.step !== t; l.fn.init.call(c, n, a), a = c.options, n = c.element.on("focusout" + g, F(c._focusout, c)).attr("role", "spinbutton"), a.placeholder = a.placeholder || n.attr("placeholder"), o = c.min(n.attr("min")), i = c.max(n.attr("max")), s = c._parse(n.attr("step")), a.min === S && o !== S && (a.min = o), a.max === S && i !== S && (a.max = i), _ || s === S || (a.step = s), c._initialOptions = N({}, a), c._reset(), c._wrapper(), c._arrows(), c._validation(), c._input(), r.support.mobileOS ? c._text.on(w + g + " " + C + g, function () { r.support.browser.edge ? c._text.one(C + g, function () { c._toggleText(!1), n.focus() }) : (c._toggleText(!1), n.focus()) }) : c._text.on(C + g, F(c._click, c)), n.attr("aria-valuemin", a.min !== S ? a.min * a.factor : a.min).attr("aria-valuemax", a.max !== S ? a.max * a.factor : a.max), a.format = u(a.format), p = a.value, c.value(p !== S ? p : n.val()), d = n.is("[disabled]") || e(c.element).parents("fieldset").is(":disabled"), d ? c.enable(!1) : c.readonly(n.is("[readonly]")), r.notify(c) }, options: { name: "NumericTextBox", decimals: S, restrictDecimals: !1, min: S, max: S, value: S, step: 1, round: !0, culture: "", format: "n", spinners: !0, placeholder: "", factor: 1, upArrowText: "Increase value", downArrowText: "Decrease value" }, events: [f, h], _editable: function (e) { var t = this, n = t.element, a = e.disable, r = e.readonly, o = t._text.add(n), i = t._inputWrapper.off(k); t._toggleText(!0), t._upArrowEventHandler.unbind("press"), t._downArrowEventHandler.unbind("press"), n.off("keydown" + g).off("keypress" + g).off("keyup" + g).off("paste" + g), r || a ? (i.addClass(a ? O : b).removeClass(a ? b : O), o.attr(m, a).attr(v, r).attr(I, a)) : (i.addClass(b).removeClass(O).on(k, t._toggleHover), o.removeAttr(m).removeAttr(v).attr(I, !1), t._upArrowEventHandler.bind("press", function (e) { e.preventDefault(), t._spin(1), t._upArrow.addClass(W) }), t._downArrowEventHandler.bind("press", function (e) { e.preventDefault(), t._spin(-1), t._downArrow.addClass(W) }), t.element.on("keydown" + g, F(t._keydown, t)).on("keypress" + g, F(t._keypress, t)).on("keyup" + g, F(t._keyup, t)).on("paste" + g, F(t._paste, t))) }, readonly: function (e) { this._editable({ readonly: e === t || e, disable: !1 }) }, enable: function (e) { this._editable({ readonly: !1, disable: !(e = e === t || e) }) }, setOptions: function (e) { var n = this; l.fn.setOptions.call(n, e), n._arrowsWrap.toggle(n.options.spinners), n._inputWrapper.toggleClass("k-expand-padding", !n.options.spinners), n._text.prop("placeholder", n.options.placeholder), n._placeholder(n.options.placeholder), n.element.attr({ "aria-valuemin": n.options.min !== S ? n.options.min * n.options.factor : n.options.min, "aria-valuemax": n.options.max !== S ? n.options.max * n.options.factor : n.options.max }), n.options.format = u(n.options.format), e.value !== t && n.value(e.value) }, destroy: function () { var e = this; e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(g), e._upArrowEventHandler.destroy(), e._downArrowEventHandler.destroy(), e._form && e._form.off("reset", e._resetHandler), l.fn.destroy.call(e) }, min: function (e) { return this._option("min", e) }, max: function (e) { return this._option("max", e) }, step: function (e) { return this._option("step", e) }, value: function (e) { var n, a = this; return e === t ? a._value : (e = a._parse(e), n = a._adjust(e), e === n && (a._update(e), a._old = a._value), t) }, focus: function () { this._focusin() }, _adjust: function (e) { var t = this, n = t.options, a = n.min, r = n.max; return e === S ? e : (a !== S && e < a ? e = a : r !== S && e > r && (e = r), e) }, _arrows: function () { var t, a = this, o = function () { clearTimeout(a._spinning), t.removeClass(W) }, i = a.options, s = i.spinners, l = a.element; t = l.siblings("." + H), t[0] || (t = e(n("increase", i.upArrowText) + n("decrease", i.downArrowText)).insertAfter(l), a._arrowsWrap = t.wrapAll('<span class="k-select"/>').parent()), s || (t.parent().toggle(s), a._inputWrapper.addClass("k-expand-padding")), a._upArrow = t.eq(0), a._upArrowEventHandler = new r.UserEvents(a._upArrow, { release: o }), a._downArrow = t.eq(1), a._downArrowEventHandler = new r.UserEvents(a._downArrow, { release: o }) }, _validation: function () { var t = this, n = t.element; t._validationIcon = e("<span class='" + H + " k-i-warning'></span>").hide().insertAfter(n) }, _blur: function () { var e = this; e._toggleText(!0), e._change(e.element.val()) }, _click: function (e) { var t = this; clearTimeout(t._focusing), t._focusing = setTimeout(function () { var n, a, r, i = e.target, s = o(i)[0], l = i.value.substring(0, s), p = t._format(t.options.format), u = p[","], d = 0; u && (a = RegExp("\\" + u, "g"), r = RegExp("([\\d\\" + u + "]+)(\\" + p[E] + ")?(\\d+)?")), r && (n = r.exec(l)), n && (d = n[0].replace(a, "").length, l.indexOf("(") != -1 && t._value < 0 && d++), t._focusin(), o(t.element[0], d) }) }, _change: function (e) { var t = this, n = t.options.factor; n && 1 !== n && (e = r.parseFloat(e), null !== e && (e /= n)), t._update(e), e = t._value, t._old != e && (t._old = e, t._typing || t.element.trigger(f), t.trigger(f)), t._typing = !1 }, _culture: function (e) { return e || _(this.options.culture) }, _focusin: function () { var e = this; e._inputWrapper.addClass(A), e._toggleText(!1), e.element[0].focus() }, _focusout: function () { var e = this; clearTimeout(e._focusing), e._inputWrapper.removeClass(A).removeClass(T), e._blur(), e._removeInvalidState() }, _format: function (e, t) { var n = this._culture(t).numberFormat; return e = e.toLowerCase(), e.indexOf("c") > -1 ? n = n.currency : e.indexOf("p") > -1 && (n = n.percent), n }, _input: function () { var t, n = this, a = n.options, r = "k-formatted-value", o = n.element.addClass(x).show()[0], i = o.accessKey, s = n.wrapper; t = s.find(E + r), t[0] || (t = e('<input type="text"/>').insertBefore(o).addClass(r)); try { o.setAttribute("type", "text") } catch (l) { o.type = "text" } n._initialTitle = o.title, t[0].title = o.title, t[0].tabIndex = o.tabIndex, t[0].style.cssText = o.style.cssText, t.prop("placeholder", a.placeholder), i && (t.attr("accesskey", i), o.accessKey = ""), n._text = t.addClass(o.className).attr({ role: "spinbutton", "aria-valuemin": a.min !== S ? a.min * a.factor : a.min, "aria-valuemax": a.max !== S ? a.max * a.factor : a.max }) }, _keydown: function (e) { var t = this, n = e.keyCode; t._key = n, n == i.DOWN ? t._step(-1) : n == i.UP ? t._step(1) : n == i.ENTER ? t._change(t.element.val()) : n != i.TAB && (t._typing = !0) }, _keypress: function (e) { var t, n, a, r, s, l, p, u, d, c, _; 0 === e.which || e.metaKey || e.ctrlKey || e.keyCode === i.BACKSPACE || e.keyCode === i.ENTER || (t = this, n = t.options.min, a = t.element, r = o(a), s = r[0], l = r[1], p = String.fromCharCode(e.which), u = t._format(t.options.format), d = t._key === i.NUMPAD_DOT, c = a.val(), d && (p = u[E]), c = c.substring(0, s) + p + c.substring(l), _ = t._numericRegex(u).test(c), _ && d ? (a.val(c), o(a, s + p.length), e.preventDefault()) : (null !== n && n >= 0 && "-" === c.charAt(0) || !_) && (t._addInvalidState(), e.preventDefault()), t._key = 0) }, _keyup: function () { this._removeInvalidState() }, _addInvalidState: function () { var e = this; e._inputWrapper.addClass(D), e._validationIcon.show() }, _removeInvalidState: function () { var e = this; e._inputWrapper.removeClass(D), e._validationIcon.hide() }, _numericRegex: function (e) { var t = this, n = e[E], a = t.options.decimals, r = "*"; return n === E && (n = "\\" + n), a === S && (a = e.decimals), 0 === a && t.options.restrictDecimals ? R : (t.options.restrictDecimals && (r = "{0," + a + "}"), t._separator !== n && (t._separator = n, t._floatRegExp = RegExp("^(-)?(((\\d+(" + n + "\\d" + r + ")?)|(" + n + "\\d" + r + ")))?$")), t._floatRegExp) }, _paste: function (e) { var t = this, n = e.target, a = n.value, r = t._format(t.options.format); setTimeout(function () { var e = t._parse(n.value); e === S ? t._update(a) : (n.value = ("" + e).replace(E, r[E]), t._adjust(e) === e && t._numericRegex(r).test(n.value) || t._update(a)) }) }, _option: function (e, n) { var a = this, r = a.element, o = a.options; return n === t ? o[e] : (n = a._parse(n), (n || "step" !== e) && (o[e] = n, r.add(a._text).attr("aria-value" + e, n), r.attr(e, n)), t) }, _spin: function (e, t) { var n = this; t = t || 500, clearTimeout(n._spinning), n._spinning = setTimeout(function () { n._spin(e, 50) }, t), n._step(e) }, _step: function (e) { var t = this, n = t.element, a = t._parse(n.val()) || 0, r = t.options.decimals || 2; p() != n[0] && t._focusin(), t.options.factor && a && (a /= t.options.factor), a = +(a + t.options.step * e).toFixed(r), t._update(t._adjust(a)), t._typing = !1, t.trigger(h) }, _toggleHover: function (t) { e(t.currentTarget).toggleClass(T, "mouseenter" === t.type) }, _toggleText: function (e) { var t = this; t._text.toggle(e), t.element.toggle(!e) }, _parse: function (e, t) { return d(e, this._culture(t), this.options.format) }, _round: function (e, t) { var n = this.options.round ? r._round : a; return n(e, t) }, _update: function (e) { var t, n = this, a = n.options, o = a.factor, i = a.format, s = a.decimals, l = n._culture(), p = n._format(i, l); s === S && (s = p.decimals), e = n._parse(e, l), t = e !== S, t && (e = parseFloat(n._round(e, s), 10)), n._value = e = n._adjust(e), n._placeholder(r.toString(e, i, l)), t ? (o && (e = parseFloat(n._round(e * o, s), 10)), e = "" + e, e.indexOf("e") !== -1 && (e = n._round(+e, s)), e = e.replace(E, p[E])) : e = null, n.element.val(e), n.element.add(n._text).attr("aria-valuenow", e) }, _placeholder: function (e) { var t = this._text; t.val(e), c || e || t.val(this.options.placeholder), t.attr("title", this._initialTitle || t.val()) }, _wrapper: function () { var t, n = this, a = n.element, r = a[0]; t = a.parents(".k-numerictextbox"), t.is("span.k-numerictextbox") || (t = a.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(), t = t.wrap("<span/>").parent()), t[0].style.cssText = r.style.cssText, r.style.width = "", n.wrapper = t.addClass("k-widget k-numerictextbox").addClass(r.className).css("display", ""), n._inputWrapper = e(t[0].firstChild) }, _reset: function () { var t = this, n = t.element, a = n.attr("form"), r = a ? e("#" + a) : n.closest("form"); r[0] && (t._resetHandler = function () { setTimeout(function () { t.value(n[0].value), t.max(t._initialOptions.max), t.min(t._initialOptions.min) }) }, t._form = r.on("reset", t._resetHandler)) } }); s.plugin(j) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (i, define) { define("kendo.window.min", ["kendo.draganddrop.min", "kendo.popup.min"], i) }(function () { return function (i, t) { function e(i) { return t !== i } function n(i, t, e) { return Math.max(Math.min(parseInt(i, 10), e === 1 / 0 ? e : parseInt(e, 10)), parseInt(t, 10)) } function o() { return !this.type || this.type.toLowerCase().indexOf("script") >= 0 } function s(i) { var t = this; t.owner = i, t._preventDragging = !1, t._draggable = new p(i.wrapper, { filter: ">" + M, group: i.wrapper.id + "-resizing", dragstart: m(t.dragstart, t), drag: m(t.drag, t), dragend: m(t.dragend, t) }), t._draggable.userEvents.bind("press", m(t.addOverlay, t)), t._draggable.userEvents.bind("release", m(t.removeOverlay, t)) } function r(t) { for (var e, n, o = { top: t.offsetTop, left: t.offsetLeft }, s = t.offsetParent; s;)o.top += s.offsetTop, o.left += s.offsetLeft, e = i(s).css("overflowX"), n = i(s).css("overflowY"), "auto" !== n && "scroll" !== n || (o.top -= s.scrollTop), "auto" !== e && "scroll" !== e || (o.left -= s.scrollLeft), s = s.offsetParent; return o } function a(i, t) { var e = this; e.owner = i, e._preventDragging = !1, e._draggable = new p(i.wrapper, { filter: t, group: i.wrapper.id + "-moving", dragstart: m(e.dragstart, e), drag: m(e.drag, e), dragend: m(e.dragend, e), dragcancel: m(e.dragcancel, e) }), e._draggable.userEvents.stopPropagation = !1 } var l = window.kendo, d = l.ui.Widget, c = l.ui.Popup.TabKeyTrap, p = l.ui.Draggable, h = i.isPlainObject, f = l._activeElement, u = l._outerWidth, g = l._outerHeight, m = i.proxy, w = i.extend, _ = i.each, v = l.template, b = "body", k = ".kendoWindow", z = ".k-window", x = ".k-window-title", y = x + "bar", T = ".k-window-content", O = ".k-dialog-content", M = ".k-resize-handle", P = ".k-overlay", S = "k-content-frame", L = "k-i-loading", I = "k-state-hover", D = "k-state-focused", C = "k-window-maximized", H = ":visible", W = "hidden", E = "cursor", F = "open", N = "activate", R = "deactivate", j = "close", A = "refresh", K = "minimize", q = "maximize", U = "resizeStart", G = "resize", J = "resizeEnd", V = "dragstart", B = "dragend", Q = "error", X = "overflow", Y = "original-overflow-rule", $ = "zIndex", Z = ".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize", ii = ".k-i-pin", ti = ".k-i-unpin", ei = ii + "," + ti, ni = ".k-window-titlebar .k-window-action", oi = ".k-window-titlebar .k-i-refresh", si = "WindowEventsHandled", ri = /^0[a-z]*$/i, ai = l.isLocalUrl, li = d.extend({ init: function (n, s) { var r, a, p, f, u, g, w, _, v, b = this, M = {}, P = !1, L = s && s.actions && !s.actions.length; d.fn.init.call(b, n, s), s = b.options, f = s.position, n = b.element, u = s.content, _ = i(window), L && (s.actions = []), b.appendTo = i(s.appendTo), u && !h(u) && (u = s.content = { url: u }), n.find("script").filter(o).remove(), n.parent().is(b.appendTo) || f.top !== t && f.left !== t || (n.is(H) ? (M = n.offset(), P = !0) : (a = n.css("visibility"), p = n.css("display"), n.css({ visibility: W, display: "" }), M = n.offset(), n.css({ visibility: a, display: p })), f.top === t && (f.top = M.top), f.left === t && (f.left = M.left)), e(s.visible) && null !== s.visible || (s.visible = n.is(H)), r = b.wrapper = n.closest(z), n.is(".k-content") && r[0] || (n.addClass("k-window-content k-content"), b._createWindow(n, s), r = b.wrapper = n.closest(z), b._dimensions()), b._position(), u && b.refresh(u), s.visible && b.toFront(), g = r.children(T), b._tabindex(g), s.visible && s.modal && b._overlay(r.is(H)).css({ opacity: .5 }), r.on("mouseenter" + k, ni, m(b._buttonEnter, b)).on("mouseleave" + k, ni, m(b._buttonLeave, b)).on("click" + k, "> " + ni, m(b._windowActionHandler, b)).on("keydown" + k, m(b._keydown, b)).on("focus" + k, m(b._focus, b)).on("blur" + k, m(b._blur, b)), g.on("keydown" + k, m(b._keydown, b)).on("focus" + k, m(b._focus, b)).on("blur" + k, m(b._blur, b)), w = g.find("." + S)[0], w && !_.data(si) && (_.on("blur" + k, function () { var t, e = i(document.activeElement).parent(T); e.length && (t = l.widgetInstance(e), t._focus()) }), _.on("focus" + k, function () { i(T).not(O).each(function (t, e) { l.widgetInstance(i(e))._blur() }) }), _.data(si, !0)), this._resizable(), this._draggable(), s.pinned && this.wrapper.is(":visible") && b.pin(), v = n.attr("id"), v && (v += "_wnd_title", r.children(y).children(x).attr("id", v), g.attr({ role: "dialog", "aria-labelledby": v })), r.add(r.children(".k-resize-handle," + y)).on("mousedown" + k, m(b.toFront, b)), b.touchScroller = l.touchScroller(n), b._resizeHandler = m(b._onDocumentResize, b), b._marker = l.guid().substring(0, 8), i(window).on("resize" + k + b._marker, b._resizeHandler), s.visible && (b.trigger(F), b.trigger(N)), l.notify(b), this.options.modal && (this._tabKeyTrap = new c(r), this._tabKeyTrap.trap(), this._tabKeyTrap.shouldTrap = function () { return g.data("isFront") }) }, _buttonEnter: function (t) { i(t.currentTarget).addClass(I) }, _buttonLeave: function (t) { i(t.currentTarget).removeClass(I) }, _focus: function () { this.wrapper.addClass(D) }, _blur: function () { this.wrapper.removeClass(D) }, _dimensions: function () { var i, t, e = this.wrapper, o = this.options, s = o.width, r = o.height, a = o.maxHeight, l = ["minWidth", "minHeight", "maxWidth", "maxHeight"]; for (this.title(o.title), i = 0; i < l.length; i++)t = o[l[i]] || "", t != 1 / 0 && e.css(l[i], t); a != 1 / 0 && this.element.css("maxHeight", a), e.width(s ? isNaN(s) && ("" + s).indexOf("px") < 0 ? s : n(s, o.minWidth, o.maxWidth) : ""), e.height(r ? isNaN(r) && ("" + r).indexOf("px") < 0 ? r : n(r, o.minHeight, o.maxHeight) : ""), o.visible || e.hide() }, _position: function () { var i = this.wrapper, t = this.options.position; 0 === t.top && (t.top = "" + t.top), 0 === t.left && (t.left = "" + t.left), i.css({ top: t.top || "", left: t.left || "" }) }, _animationOptions: function (i) { var t = this.options.animation, e = { open: { effects: {} }, close: { hide: !0, effects: {} } }; return t && t[i] || e[i] }, _resize: function () { l.resize(this.element.children()) }, _resizable: function () { var t = this.options.resizable, e = this.wrapper; this.resizing && (e.off("dblclick" + k).children(M).remove(), this.resizing.destroy(), this.resizing = null), t && (e.on("dblclick" + k, y, m(function (t) { i(t.target).closest(".k-window-action").length || this.toggleMaximization() }, this)), _("n e s w se sw ne nw".split(" "), function (i, t) { e.append(di.resizeHandle(t)) }), this.resizing = new s(this)), e = null }, _draggable: function () { var i = this.options.draggable; this.dragging && (this.dragging.destroy(), this.dragging = null), i && (this.dragging = new a(this, i.dragHandle || y)) }, _actions: function () { var t = this.options, e = t.actions, n = t.pinned, o = this.wrapper.children(y), s = o.find(".k-window-actions"), r = ["maximize", "minimize"]; e = i.map(e, function (i) { return i = n && "pin" === i.toLowerCase() ? "unpin" : i, { name: r.indexOf(i.toLowerCase()) > -1 ? "window-" + i : i } }), s.html(l.render(di.action, e)) }, setOptions: function (i) { var e, n, o = JSON.parse(JSON.stringify(i)); w(i.position, this.options.position), w(i.position, o.position), d.fn.setOptions.call(this, i), e = this.options.scrollable !== !1, this.restore(), this._dimensions(), this._position(), this._resizable(), this._draggable(), this._actions(), t !== i.modal && (n = this.options.visible !== !1, this._overlay(i.modal && n)), this.element.css(X, e ? "" : "hidden") }, events: [F, N, R, j, K, q, A, U, G, J, V, B, Q], options: { name: "Window", animation: { open: { effects: { zoom: { direction: "in" }, fade: { direction: "in" } }, duration: 350 }, close: { effects: { zoom: { direction: "out", properties: { scale: .7 } }, fade: { direction: "out" } }, duration: 350, hide: !0 } }, title: "", actions: ["Close"], autoFocus: !0, modal: !1, resizable: !0, draggable: !0, minWidth: 90, minHeight: 50, maxWidth: 1 / 0, maxHeight: 1 / 0, pinned: !1, scrollable: !0, position: {}, content: null, visible: null, height: null, width: null, appendTo: "body", isMaximized: !1, isMinimized: !1 }, _closable: function () { return i.inArray("close", i.map(this.options.actions, function (i) { return i.toLowerCase() })) > -1 }, _keydown: function (i) { var t, e, o, s, r, a, d = this, c = d.options, p = l.keys, h = i.keyCode, f = d.wrapper, u = 10, g = d.options.isMaximized, m = d.options.isMinimized; h == p.ESC && d._closable() && (i.stopPropagation(), d._close(!1)), i.target != i.currentTarget || d._closing || (i.altKey && 82 == h && d.refresh(), i.altKey && 80 == h && (d.options.pinned ? d.unpin() : d.pin()), i.altKey && h == p.UP ? m ? (d.restore(), d.element.focus()) : g || (d.maximize(), d.element.focus()) : i.altKey && h == p.DOWN && (m || g ? g && (d.restore(), d.element.focus()) : (d.minimize(), d.wrapper.focus())), !c.draggable || i.ctrlKey || i.altKey || g || (t = l.getOffset(f), h == p.UP ? e = f.css("top", t.top - u) : h == p.DOWN ? e = f.css("top", t.top + u) : h == p.LEFT ? e = f.css("left", t.left - u) : h == p.RIGHT && (e = f.css("left", t.left + u))), c.resizable && i.ctrlKey && !g && !m && (h == p.UP ? (e = !0, s = f.height() - u) : h == p.DOWN && (e = !0, s = f.height() + u), h == p.LEFT ? (e = !0, o = f.width() - u) : h == p.RIGHT && (e = !0, o = f.width() + u), e && (r = n(o, c.minWidth, c.maxWidth), a = n(s, c.minHeight, c.maxHeight), isNaN(r) || (f.width(r), d.options.width = r + "px"), isNaN(a) || (f.height(a), d.options.height = a + "px"), d.resize())), e && i.preventDefault()) }, _overlay: function (t) { var e = this.appendTo.children(P), n = this.wrapper; return e.length || (e = i("<div class='k-overlay' />")), e.insertBefore(n[0]).toggle(t).css($, parseInt(n.css($), 10) - 1), e }, _actionForIcon: function (i) { var t = /\bk-i(-\w+)+\b/.exec(i[0].className)[0]; return { "k-i-close": "_close", "k-i-window-maximize": "maximize", "k-i-window-minimize": "minimize", "k-i-window-restore": "restore", "k-i-refresh": "refresh", "k-i-pin": "pin", "k-i-unpin": "unpin" }[t] }, _windowActionHandler: function (e) { var n, o; if (!this._closing) return n = i(e.target).closest(".k-window-action").find(".k-icon"), o = this._actionForIcon(n), o ? (e.preventDefault(), this[o](), !1) : t }, _modals: function () { var t = this, e = i(z).filter(function () { var e = i(this), n = t._object(e), o = n && n.options; return o && o.modal && o.visible && o.appendTo === t.options.appendTo && e.is(H) }).sort(function (t, e) { return +i(t).css("zIndex") - +i(e).css("zIndex") }); return t = null, e }, _object: function (i) { var e = i.children(T), n = l.widgetInstance(e); return n ? n : t }, center: function () { var t, e, n = this, o = n.options.position, s = n.wrapper, r = i(window), a = 0, l = 0; return n.options.isMaximized ? n : (n.options.pinned && !n._isPinned && n.pin(), n.options.pinned || (a = r.scrollTop(), l = r.scrollLeft()), e = l + Math.max(0, (r.width() - s.width()) / 2), t = a + Math.max(0, (r.height() - s.height() - parseInt(s.css("paddingTop"), 10)) / 2), s.css({ left: e, top: t }), o.top = t, o.left = e, n) }, title: function (i) { var t, e = this, n = e.wrapper, o = e.options, s = n.children(y), r = s.children(x); return arguments.length ? (i === !1 ? (n.addClass("k-window-titleless"), s.remove()) : (s.length ? r.html(l.htmlEncode(i)) : (n.prepend(di.titlebar(o)), e._actions(), s = n.children(y)), t = parseInt(g(s), 10), n.css("padding-top", t), s.css("margin-top", -t)), e.options.title = i, e) : r.html() }, content: function (i, t) { var n = this.wrapper.children(T), o = n.children(".km-scroll-container"); return n = o[0] ? o : n, e(i) ? (this.angular("cleanup", function () { return { elements: n.children() } }), l.destroy(this.element.children()), n.empty().html(i), this.angular("compile", function () { var i, e = []; for (i = n.length; --i >= 0;)e.push({ dataItem: t }); return { elements: n.children(), data: e } }), this) : n.html() }, open: function () { var t, e, n, o = this, s = o.wrapper, r = o.options, a = this._animationOptions("open"), d = s.children(T), c = i(document); return o.trigger(F) || (o._closing && s.kendoStop(!0, !0), o._closing = !1, o.toFront(), r.autoFocus && o.element.focus(), r.visible = !0, r.modal && (e = !!o._modals().length, t = o._overlay(e), t.kendoStop(!0, !0), a.duration && l.effects.Fade && !e ? (n = l.fx(t).fadeIn(), n.duration(a.duration || 0), n.endValue(.5), n.play()) : t.css("opacity", .5), t.show(), i(window).on("focus", function () { d.data("isFront") && !i(document.activeElement).closest(d).length && o.element.focus() })), s.is(H) || (d.css(X, W), s.show().kendoStop().kendoAnimate({ effects: a.effects, duration: a.duration, complete: m(this._activate, this) }))), r.isMaximized && (o._documentScrollTop = c.scrollTop(), o._documentScrollLeft = c.scrollLeft(), o._stopDocumentScrolling()), r.pinned && !o._isPinned && o.pin(), o }, _activate: function () { var i = this.options.scrollable !== !1; this.options.autoFocus && this.element.focus(), this.element.css(X, i ? "" : "hidden"), l.resize(this.element.children()), this.trigger(N) }, _removeOverlay: function (e) { var n, o = this._modals(), s = this.options, r = s.modal && !o.length, a = s.modal ? this._overlay(!0) : i(t), d = this._animationOptions("close"); r ? !e && d.duration && l.effects.Fade ? (n = l.fx(a).fadeOut(), n.duration(d.duration || 0), n.startValue(.5), n.play()) : this._overlay(!1).remove() : o.length && this._object(o.last())._overlay(!0) }, _close: function (t) { var e, n = this, o = n.wrapper, s = n.options, r = this._animationOptions("open"), a = this._animationOptions("close"), l = i(document); n._closing || (e = n.trigger(j, { userTriggered: !t }), n._closing = !e, o.is(H) && !e && (s.visible = !1, i(z).each(function (t, e) { var n = i(e).children(T); e != o && n.find("> ." + S).length > 0 && n.children(P).remove() }), this._removeOverlay(), o.kendoStop().kendoAnimate({ effects: a.effects || r.effects, reverse: a.reverse === !0, duration: a.duration, complete: m(this._deactivate, this) })), n.options.isMaximized && (n._enableDocumentScrolling(), n._documentScrollTop && n._documentScrollTop > 0 && l.scrollTop(n._documentScrollTop), n._documentScrollLeft && n._documentScrollLeft > 0 && l.scrollLeft(n._documentScrollLeft))) }, _deactivate: function () { var i, t = this; t.wrapper.hide().css("opacity", ""), t.trigger(R), t.options.modal && (i = t._object(t._modals().last()), i && i.toFront()) }, close: function () { return this._close(!0), this }, _actionable: function (t) { return i(t).is(ni + "," + ni + " .k-icon,:input,a") }, _shouldFocus: function (t) { var e = f(), n = this.element; return this.options.autoFocus && !i(e).is(n) && !this._actionable(t) && (!n.find(e).length || !n.find(t).length) }, toFront: function (t) { var e, n, o = this, s = o.wrapper, r = s[0], a = +s.css($), l = a, d = t && t.target || null; return i(z).each(function (t, e) { var n = i(e), o = n.css($), s = n.children(T); isNaN(o) || (a = Math.max(+o, a)), s.data("isFront", e == r), e != r && s.find("> ." + S).length > 0 && s.append(di.overlay) }), (!s[0].style.zIndex || l < a) && s.css($, a + 2), o.element.find("> .k-overlay").remove(), o._shouldFocus(d) && (o.isMinimized() ? o.wrapper.focus() : i(d).is(P) ? setTimeout(function () { o.element.focus() }) : o.element.focus(), e = i(window).scrollTop(), n = parseInt(s.position().top, 10), !o.options.pinned && n > 0 && n < e && (e > 0 ? i(window).scrollTop(n) : s.css("top", e))), s = null, o }, toggleMaximization: function () { return this._closing ? this : this[this.options.isMaximized ? "restore" : "maximize"]() }, restore: function () { var t = this, e = t.options, n = e.minHeight, o = t.restoreOptions, s = i(document); return e.isMaximized || e.isMinimized ? (n && n != 1 / 0 && t.wrapper.css("min-height", n), t.wrapper.css({ position: e.pinned ? "fixed" : "absolute", left: o.left, top: o.top, width: o.width, height: o.height }).removeClass(C).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(Z).parent().show().end().end().find(ei).parent().show(), e.isMaximized ? t.wrapper.find(".k-i-window-maximize").parent().focus() : e.isMinimized && t.wrapper.find(".k-i-window-minimize").parent().focus(), t.options.width = o.width, t.options.height = o.height, t._enableDocumentScrolling(), this._documentScrollTop && this._documentScrollTop > 0 && s.scrollTop(this._documentScrollTop), this._documentScrollLeft && this._documentScrollLeft > 0 && s.scrollLeft(this._documentScrollLeft), e.isMaximized = e.isMinimized = !1, this.wrapper.removeAttr("tabindex"), this.wrapper.removeAttr("aria-labelled-by"), t.resize(), t) : t }, _sizingAction: function (i, t) { var e = this, n = e.wrapper, o = n[0].style, s = e.options; return s.isMaximized || s.isMinimized ? e : (e.restoreOptions = { width: o.width, height: o.height }, n.children(M).hide().end().children(y).find(Z).parent().hide().eq(0).before(di.action({ name: "window-restore" })), t.call(e), e.wrapper.children(y).find(ei).parent().toggle("maximize" !== i), e.trigger(i), n.find(".k-i-window-restore").parent().focus(), e) }, maximize: function () { return this._sizingAction("maximize", function () { var t = this, e = t.wrapper, n = e.position(), o = i(document); w(t.restoreOptions, { left: n.left, top: n.top }), e.css({ left: 0, top: 0, position: "fixed" }).addClass(C), this._documentScrollTop = o.scrollTop(), this._documentScrollLeft = o.scrollLeft(), t._stopDocumentScrolling(), t.options.isMaximized = !0, t._onDocumentResize() }), this }, _stopDocumentScrolling: function () { var t, e = this, n = i("body"); e._storeOverflowRule(n), n.css(X, W), t = i("html"), e._storeOverflowRule(t), t.css(X, W) }, _enableDocumentScrolling: function () { var t = this; t._restoreOverflowRule(i(document.body)), t._restoreOverflowRule(i("html")) }, _storeOverflowRule: function (i) { if (!this._isOverflowStored(i)) { var t = i.get(0).style.overflow; "string" == typeof t && i.data(Y, t) } }, _isOverflowStored: function (i) { return "string" == typeof i.data(Y) }, _restoreOverflowRule: function (i) { var e = i.data(Y); null !== e && e !== t ? (i.css(X, e), i.removeData(Y)) : i.css(X, "") }, isMaximized: function () { return this.options.isMaximized }, minimize: function () { return this._sizingAction("minimize", function () { var i = this; i.wrapper.css({ height: "", minHeight: "" }), i.element.hide(), i.options.isMinimized = !0 }), this.wrapper.attr("tabindex", 0), this.wrapper.attr("aria-labelled-by", this.element.attr("aria-labelled-by")), this }, isMinimized: function () { return this.options.isMinimized }, pin: function () { var t = this, e = i(window), n = t.wrapper, o = parseInt(n.css("top"), 10), s = parseInt(n.css("left"), 10); t.options.isMaximized || (n.css({ position: "fixed", top: o - e.scrollTop(), left: s - e.scrollLeft() }), n.children(y).find(ii).addClass("k-i-unpin").removeClass("k-i-pin"), t._isPinned = !0, t.options.pinned = !0) }, unpin: function () { var t = this, e = i(window), n = t.wrapper, o = parseInt(n.css("top"), 10), s = parseInt(n.css("left"), 10); t.options.isMaximized || (n.css({ position: "", top: o + e.scrollTop(), left: s + e.scrollLeft() }), n.children(y).find(ti).addClass("k-i-pin").removeClass("k-i-unpin"), t._isPinned = !1, t.options.pinned = !1) }, _onDocumentResize: function () { var t, e, n, o, s = this, r = s.wrapper, a = i(window), d = l.support.zoomLevel(); s.options.isMaximized && (n = parseInt(r.css("border-left-width"), 10) + parseInt(r.css("border-right-width"), 10), o = parseInt(r.css("border-top-width"), 10) + parseInt(r.css("border-bottom-width"), 10), t = a.width() / d - n, e = a.height() / d - parseInt(r.css("padding-top"), 10) - o, r.css({ width: t, height: e }), s.options.width = t, s.options.height = e, s.resize()) }, refresh: function (t) { var n, o, s, r = this, a = r.options, l = i(r.element); return h(t) || (t = { url: t }), t = w({}, a.content, t), o = e(a.iframe) ? a.iframe : t.iframe, s = t.url, s ? (e(o) || (o = !ai(s)), o ? (n = l.find("." + S)[0], n ? n.src = s || n.src : l.html(di.contentFrame(w({}, a, { content: t }))), l.find("." + S).unbind("load" + k).on("load" + k, m(this._triggerRefresh, this))) : r._ajaxRequest(t)) : (t.template && r.content(v(t.template)({})), r.trigger(A)), l.toggleClass("k-window-iframecontent", !!o), r }, _triggerRefresh: function () { this.trigger(A) }, _ajaxComplete: function () { clearTimeout(this._loadingIconTimeout), this.wrapper.find(oi).removeClass(L) }, _ajaxError: function (i, t) { this.trigger(Q, { status: t, xhr: i }) }, _ajaxSuccess: function (i) { return function (t) { var e = t; i && (e = v(i)(t || {})), this.content(e, t), this.element.prop("scrollTop", 0), this.trigger(A) } }, _showLoading: function () { this.wrapper.find(oi).addClass(L) }, _ajaxRequest: function (t) { this._loadingIconTimeout = setTimeout(m(this._showLoading, this), 100), i.ajax(w({ type: "GET", dataType: "html", cache: !1, error: m(this._ajaxError, this), complete: m(this._ajaxComplete, this), success: m(this._ajaxSuccess(t.template), this) }, t)) }, _destroy: function () { this.resizing && this.resizing.destroy(), this.dragging && this.dragging.destroy(), this.wrapper.off(k).children(T).off(k).end().find(".k-resize-handle,.k-window-titlebar").off(k), i(window).off("resize" + k + this._marker), i(window).off(k), clearTimeout(this._loadingIconTimeout), d.fn.destroy.call(this), this.unbind(t), l.destroy(this.wrapper), this._removeOverlay(!0) }, destroy: function () { this._destroy(), this.wrapper.empty().remove(), this.wrapper = this.appendTo = this.element = i() }, _createWindow: function () { var t, e, n = this.element, o = this.options, s = l.support.isRtl(n); o.scrollable === !1 && n.css("overflow", "hidden"), e = i(di.wrapper(o)), t = n.find("iframe:not(.k-content)").map(function () { var i = this.getAttribute("src"); return this.src = "", i }), e.toggleClass("k-rtl", s).appendTo(this.appendTo).append(n).find("iframe:not(.k-content)").each(function (i) { this.src = t[i] }), e.find(".k-window-title").css(s ? "left" : "right", u(e.find(".k-window-actions")) + 10), n.css("visibility", "").show(), n.find("[data-role=editor]").each(function () { var t = i(this).data("kendoEditor"); t && t.refresh() }), e = n = null } }), di = { wrapper: v("<div class='k-widget k-window' />"), action: v("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"), titlebar: v("<div class='k-window-titlebar k-header'><span class='k-window-title'>#: title #</span><div class='k-window-actions' /></div>"), overlay: "<div class='k-overlay' />", contentFrame: v("<iframe frameborder='0' title='#= title #' class='" + S + "' src='#= content.url #'>This page requires frames in order to show content</iframe>"), resizeHandle: v("<div class='k-resize-handle k-resize-#= data #'></div>") }; s.prototype = { addOverlay: function () { this.owner.wrapper.append(di.overlay) }, removeOverlay: function () { this.owner.wrapper.find(P).remove() }, dragstart: function (t) { var e, n, o, s, a, d, c, p = this, h = p.owner, f = h.wrapper; p._preventDragging = h.trigger(U), p._preventDragging || (p.elementPadding = parseInt(f.css("padding-top"), 10), p.initialPosition = l.getOffset(f, "position"), p.resizeDirection = t.currentTarget.prop("className").replace("k-resize-handle k-resize-", ""), p.initialSize = { width: f.width(), height: f.height() }, p.containerOffset = l.getOffset(h.appendTo, "position"), e = f.offsetParent(), e.is("html") ? p.containerOffset.top = p.containerOffset.left = 0 : (n = e.css("margin-top"), o = e.css("margin-left"), s = !ri.test(n) || !ri.test(o), s && (a = r(f[0]), d = a.left - p.containerOffset.left - p.initialPosition.left, c = a.top - p.containerOffset.top - p.initialPosition.top, p._relativeElMarginLeft = d > 1 ? d : 0, p._relativeElMarginTop = c > 1 ? c : 0, p.initialPosition.left += p._relativeElMarginLeft, p.initialPosition.top += p._relativeElMarginTop)), f.children(M).not(t.currentTarget).hide(), i(b).css(E, t.currentTarget.css(E))) }, drag: function (t) { var e, o, s, r, a, l, d, c, p, h, f, u, g, m, w; this._preventDragging || (e = this, o = e.owner, s = o.wrapper, r = o.options, a = e.resizeDirection, l = e.containerOffset, d = e.initialPosition, c = e.initialSize, g = Math.max(t.x.location, 0), m = Math.max(t.y.location, 0), a.indexOf("e") >= 0 ? (p = g - d.left - l.left, s.width(n(p, r.minWidth, r.maxWidth))) : a.indexOf("w") >= 0 && (u = d.left + c.width + l.left, p = n(u - g, r.minWidth, r.maxWidth), s.css({ left: u - p - l.left - (e._relativeElMarginLeft || 0), width: p })), w = m, o.options.pinned && (w -= i(window).scrollTop()), a.indexOf("s") >= 0 ? (h = w - d.top - e.elementPadding - l.top, s.height(n(h, r.minHeight, r.maxHeight))) : a.indexOf("n") >= 0 && (f = d.top + c.height + l.top, h = n(f - w, r.minHeight, r.maxHeight), s.css({ top: f - h - l.top - (e._relativeElMarginTop || 0), height: h })), p && (o.options.width = p + "px"), h && (o.options.height = h + "px"), o.resize()) }, dragend: function (t) { if (!this._preventDragging) { var e = this, n = e.owner, o = n.wrapper; return o.children(M).not(t.currentTarget).show(), i(b).css(E, ""), n.touchScroller && n.touchScroller.reset(), 27 == t.keyCode && o.css(e.initialPosition).css(e.initialSize), n.trigger(J), !1 } }, destroy: function () { this._draggable && this._draggable.destroy(), this._draggable = this.owner = null } }, a.prototype = { dragstart: function (t) { var e = this.owner, n = e.element, o = n.find(".k-window-actions"), s = l.getOffset(e.appendTo); this._preventDragging = e.trigger(V) || !e.options.draggable, this._preventDragging || (e.initialWindowPosition = l.getOffset(e.wrapper, "position"), e.initialPointerPosition = { left: t.x.client, top: t.y.client }, e.startPosition = { left: t.x.client - e.initialWindowPosition.left, top: t.y.client - e.initialWindowPosition.top }, e.minLeftPosition = o.length > 0 ? u(o) + parseInt(o.css("right"), 10) - u(n) : 20 - u(n), e.minLeftPosition -= s.left, e.minTopPosition = -s.top, e.wrapper.append(di.overlay).children(M).hide(), i(b).css(E, t.currentTarget.css(E))) }, drag: function (t) { var e, n; this._preventDragging || (e = this.owner, n = e.options.position, n.top = Math.max(t.y.client - e.startPosition.top, e.minTopPosition), n.left = Math.max(t.x.client - e.startPosition.left, e.minLeftPosition), l.support.transforms ? i(e.wrapper).css("transform", "translate(" + (t.x.client - e.initialPointerPosition.left) + "px, " + (t.y.client - e.initialPointerPosition.top) + "px)") : i(e.wrapper).css(n)) }, _finishDrag: function () { var t = this.owner; t.wrapper.children(M).toggle(!t.options.isMinimized).end().find(P).remove(), i(b).css(E, "") }, dragcancel: function (i) { this._preventDragging || (this._finishDrag(), i.currentTarget.closest(z).css(this.owner.initialWindowPosition)) }, dragend: function () { if (!this._preventDragging) return i(this.owner.wrapper).css(this.owner.options.position).css("transform", ""), this._finishDrag(), this.owner.trigger(B), !1 }, destroy: function () { this._draggable && this._draggable.destroy(), this._draggable = this.owner = null } }, l.ui.plugin(li) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (i, t, e) { (e || t)() });; !function (e, define) { define("util/undoredostack.min", ["kendo.core.min"], e) }(function () { !function (e) { var t = e.Observable.extend({ init: function (t) { e.Observable.fn.init.call(this, t), this.clear() }, events: ["undo", "redo"], push: function (e) { this.stack = this.stack.slice(0, this.currentCommandIndex + 1), this.currentCommandIndex = this.stack.push(e) - 1 }, undo: function () { if (this.canUndo()) { var e = this.stack[this.currentCommandIndex--]; e.undo(), this.trigger("undo", { command: e }) } }, redo: function () { if (this.canRedo()) { var e = this.stack[++this.currentCommandIndex]; e.redo(), this.trigger("redo", { command: e }) } }, clear: function () { this.stack = [], this.currentCommandIndex = -1 }, canUndo: function () { return this.currentCommandIndex >= 0 }, canRedo: function () { return this.currentCommandIndex != this.stack.length - 1 } }); e.deepExtend(e, { util: { UndoRedoStack: t } }) }(kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/main.min", ["util/undoredostack.min", "kendo.combobox.min", "kendo.dropdownlist.min", "kendo.window.min", "kendo.colorpicker.min"], e) }(function () { !function (e, t) { var n, i, o, r, a = window.kendo, s = a.Class, l = a.ui.Widget, d = a.support.mobileOS, c = a.support.browser, u = e.extend, f = e.proxy, p = a.deepExtend, m = a.keys, h = "select", g = "select.k-select-overlay", b = s.extend({ init: function (e) { this.options = e }, getHtml: function () { var e = this.options; return a.template(e.template, { useWithBlock: !1 })(e) } }), v = { editorWrapperTemplate: '<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>', buttonTemplate: '# var iconCssClass= "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#<a tabindex="0" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= iconCssClass #"></span><span class="k-tool-text">#= data.title #</span></a>', colorPickerTemplate: '<div class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />', comboBoxTemplate: '<select title="#= data.title #" class="#= data.cssClass #" />', dropDownListTemplate: '<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>', separatorTemplate: '<span class="k-separator" />', overflowAnchorTemplate: '<a tabindex="0" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on" title="#= data.title #" aria-haspopup="true" aria-expanded="false"><span unselectable="on" class="k-icon k-i-more-vertical"></span><span class="k-tool-text">#= data.title #</span></a>', formatByName: function (t, n) { for (var i = 0; i < n.length; i++)if (e.inArray(t, n[i].tags) >= 0) return n[i] }, getToolCssClass: function (e) { var t = { superscript: "sup-script", subscript: "sub-script", justifyLeft: "align-left", justifyCenter: "align-center", justifyRight: "align-right", justifyFull: "align-justify", insertUnorderedList: "list-unordered", insertOrderedList: "list-ordered", "import": "login", indent: "indent-increase", outdent: "indent-decrease", createLink: "link-horizontal", unlink: "unlink-horizontal", insertImage: "image", insertFile: "file-add", viewHtml: "html", foreColor: "foreground-color", backColor: "paint", createTable: "table-insert", addColumnLeft: "table-column-insert-left", addColumnRight: "table-column-insert-right", addRowAbove: "table-row-insert-above", addRowBelow: "table-row-insert-below", deleteRow: "table-row-delete", deleteColumn: "table-column-delete", tableWizard: "table-properties", tableWizardInsert: "table-wizard", cleanFormatting: "clear-css" }, n = t[e]; return n ? n : e }, registerTool: function (e, t) { var n = t.options; n && n.template && (n.template.options.cssClass = "k-" + v.getToolCssClass(e)), t.name || (t.options.name = e, t.name = e.toLowerCase()), x.defaultTools[e] = t }, registerFormat: function (e, t) { x.fn.options.formats[e] = t }, cacheComments: function (e, t) { for (var n in t) e = e.replace(t[n], "{" + n + "}"); return e }, retrieveComments: function (e, t) { for (var n in t) e = e.replace("{" + n + "}", t[n]); return e } }, k = { bold: "Bold", italic: "Italic", underline: "Underline", strikethrough: "Strikethrough", superscript: "Superscript", subscript: "Subscript", justifyCenter: "Center text", justifyLeft: "Align text left", justifyRight: "Align text right", justifyFull: "Justify", insertUnorderedList: "Insert unordered list", insertOrderedList: "Insert ordered list", indent: "Indent", outdent: "Outdent", createLink: "Insert hyperlink", unlink: "Remove hyperlink", insertImage: "Insert image", insertFile: "Insert file", insertHtml: "Insert HTML", viewHtml: "View HTML", fontName: "Select font family", fontNameInherit: "(inherited font)", fontSize: "Select font size", fontSizeInherit: "(inherited size)", formatBlock: "Format", formatting: "Format", foreColor: "Color", backColor: "Background color", style: "Styles", emptyFolder: "Empty Folder", editAreaTitle: "Editable area. Press F10 for toolbar.", uploadFile: "Upload", overflowAnchor: "More tools", orderBy: "Arrange by:", orderBySize: "Size", orderByName: "Name", invalidFileType: 'The selected file "{0}" is not valid. Supported file types are {1}.', deleteFile: 'Are you sure you want to delete "{0}"?', overwriteFile: 'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?', directoryNotFound: "A directory with this name was not found.", imageWebAddress: "Web address", imageAltText: "Alternate text", imageWidth: "Width (px)", imageHeight: "Height (px)", fileWebAddress: "Web address", fileTitle: "Title", fileText: "Text", linkWebAddress: "Web address", linkText: "Text", linkToolTip: "ToolTip", linkOpenInNewWindow: "Open link in new window", dialogUpdate: "Update", dialogInsert: "Insert", dialogOk: "Ok", dialogCancel: "Cancel", cleanFormatting: "Clean formatting", createTable: "Create a table", createTableHint: "Create a {0} x {1} table", addColumnLeft: "Add column on the left", addColumnRight: "Add column on the right", addRowAbove: "Add row above", addRowBelow: "Add row below", deleteRow: "Delete row", deleteColumn: "Delete column", tableWizard: "Table Wizard", tableTab: "Table", cellTab: "Cell", accessibilityTab: "Accessibility", caption: "Caption", summary: "Summary", width: "Width", height: "Height", units: "Units", cellSpacing: "Cell Spacing", cellPadding: "Cell Padding", cellMargin: "Cell Margin", alignment: "Alignment", background: "Background", cssClass: "CSS Class", id: "ID", border: "Border", borderStyle: "Border Style", collapseBorders: "Collapse borders", wrapText: "Wrap text", associateCellsWithHeaders: "Associate cells with headers", alignLeft: "Align Left", alignCenter: "Align Center", alignRight: "Align Right", alignLeftTop: "Align Left Top", alignCenterTop: "Align Center Top", alignRightTop: "Align Right Top", alignLeftMiddle: "Align Left Middle", alignCenterMiddle: "Align Center Middle", alignRightMiddle: "Align Right Middle", alignLeftBottom: "Align Left Bottom", alignCenterBottom: "Align Center Bottom", alignRightBottom: "Align Right Bottom", alignRemove: "Remove Alignment", columns: "Columns", rows: "Rows", selectAllCells: "Select All Cells", exportAs: "Export As", "import": "Import" }, y = !d || d.ios && d.flatVersion >= 500 || !d.ios && t !== document.documentElement.contentEditable, w = { basic: ["bold", "italic", "underline"], alignment: ["justifyLeft", "justifyCenter", "justifyRight"], lists: ["insertUnorderedList", "insertOrderedList"], indenting: ["indent", "outdent"], links: ["createLink", "unlink"], tables: ["tableWizard", "createTable", "addColumnLeft", "addColumnRight", "addRowAbove", "addRowBelow", "deleteRow", "deleteColumn"] }, x = l.extend({ init: function (n, i) { var o, r, s, d, c, m, h = this, g = a.ui.editor, b = g.Dom; y && (l.fn.init.call(h, n, i), h.options = p({}, h.options, i), h.options.tools = h.options.tools.slice(), n = h.element, m = n[0], d = b.name(m), this._registerHandler(n.closest("form"), "submit", f(h.update, h, t)), s = u({}, h.options), s.editor = h, "textarea" == d ? (h._wrapTextarea(), r = h.wrapper.find(".k-editor-toolbar"), m.id && r.attr("aria-controls", m.id)) : (h.element.attr("contenteditable", !0).addClass("k-widget k-editor k-editor-inline"), s.popup = !0, r = e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(n)), h.toolbar = new g.Toolbar(r[0], s), h.toolbar.bindTo(h), "textarea" == d && setTimeout(function () { var e = h.wrapper[0].style.height, t = parseInt(e, 10), n = h.wrapper.height(); e.indexOf("px") > 0 && !isNaN(t) && n > t && h.wrapper.height(t - (n - t)) }), h._resizable(), h._initializeContentElement(h), h.keyboard = new g.Keyboard([new g.BackspaceHandler(h), new g.TypingHandler(h), new g.SystemHandler(h), new g.SelectAllHandler(h)]), h.clipboard = new g.Clipboard(this), h.undoRedoStack = new a.util.UndoRedoStack, i && i.value ? o = i.value : h.textarea ? (o = m.value, h.options.encoded && e.trim(m.defaultValue).length && (o = m.defaultValue), c = b.getAllComments(e("<div></div>").html(o)[0]), o = v.cacheComments(o, c), o = o.replace(/[\r\n\v\f\t ]+/gi, " "), o = v.retrieveComments(o, c)) : o = m.innerHTML, h.value(o || a.ui.editor.emptyElementContent), this._registerHandler(document, { mousedown: function () { h._endTyping() }, mouseup: function (e) { h._mouseup(e) } }), h._initializeImmutables(), h.toolbar.resize(), a.notify(h)) }, setOptions: function (e) { var t = this; l.fn.setOptions.call(t, e), e.tools && t.toolbar.bindTo(t) }, _endTyping: function () { var e = this.keyboard; try { e.isTypingInProgress() && (e.endTyping(!0), this.saveSelection()) } catch (t) { } }, _selectionChange: function () { this._selectionStarted = !1, this.saveSelection(), this.trigger("select", {}) }, _resizable: function () { var n, i = this.options.resizable, o = e.isPlainObject(i) ? i.content === t || i.content === !0 : i; o && this.textarea && (e("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right' /></div>").insertAfter(this.textarea), this.wrapper.addClass("k-resizable"), this.wrapper.kendoResizable(u({}, this.options.resizable, { start: function (t) { var n = this.editor = e(t.currentTarget).closest(".k-editor"); this.initialSize = n.height(), n.find("td:last").append("<div class='k-overlay' />") }, resize: function (e) { var t = e.y.initialDelta, n = this.initialSize + t, i = this.options.min || 0, o = this.options.max || 1 / 0; n = Math.min(o, Math.max(i, n)), this.editor.height(n) }, resizeend: function () { this.editor.find(".k-overlay").remove(), this.editor = null } })), a.support.mobileOS.ios && (n = this.wrapper.getKendoResizable(), n.draggable.options.ignore = g)) }, _initializeTableResizing: function () { var e = this; a.ui.editor.TableResizing.create(e), e._showTableResizeHandlesProxy = f(e._showTableResizeHandles, e), e.bind(h, e._showTableResizeHandlesProxy) }, _destroyTableResizing: function () { var e = this, t = e.tableResizing; t && (t.destroy(), e.tableResizing = null), e._showTableResizeHandlesProxy && e.unbind(h, e._showTableResizeHandlesProxy) }, _showTableResizeHandles: function () { var e = this, t = e.tableResizing; t && t.showResizeHandles() }, _initializeColumnResizing: function () { a.ui.editor.ColumnResizing.create(this) }, _destroyColumnResizing: function () { var e = this; e.columnResizing && (e.columnResizing.destroy(), e.columnResizing = null) }, _initializeRowResizing: function () { a.ui.editor.RowResizing.create(this) }, _destroyRowResizing: function () { var e = this; e.rowResizing && (e.rowResizing.destroy(), e.rowResizing = null) }, _wrapTextarea: function () { var t = this, n = t.element, i = n[0].style.width, o = n[0].style.height, r = v.editorWrapperTemplate, a = e(r).insertBefore(n).width(i).height(o), s = a.find(".k-editable-area"); n.attr("autocomplete", "off").appendTo(s).addClass("k-content k-raw-content").css("display", "none"), t.textarea = n, t.wrapper = a }, _createContentElement: function (t) { var n, i, o, r = this, s = r.textarea, l = r.options.domain, u = l || document.domain, f = "", p = 'javascript:""'; return s.hide(), n = e("<iframe />", { title: r.options.messages.editAreaTitle, frameBorder: "0" })[0], e(n).css("display", "").addClass("k-content").attr("tabindex", s[0].tabIndex).insertBefore(s), (l || u != location.hostname) && (f = '<script>document.domain="' + u + '"</script>', p = "javascript:document.write('" + f + "')", n.src = p), i = n.contentWindow || n, o = i.document || n.contentDocument, e(n).one("load", function () { r.toolbar.decorateFrom(o.body) }), o.open(), o.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;" + (a.support.isRtl(s) ? "direction:rtl;" : "") + (c.msie || c.edge ? "height:auto;" : "") + (d.ios ? "word-break:break-all;" : "") + "}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}.k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}.k-column-resize-handle {width: 100%; height: 100%;}.k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}.k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}.k-row-resize-handle {display: table; width: 100%; height: 100%;}.k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}.k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}.k-table-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}.k-table-resize-handle {width: 100%; height: 100%;}.k-table-resize-handle.k-resize-east{cursor:e-resize;}.k-table-resize-handle.k-resize-north{cursor:n-resize;}.k-table-resize-handle.k-resize-northeast{cursor:ne-resize;}.k-table-resize-handle.k-resize-northwest{cursor:nw-resize;}.k-table-resize-handle.k-resize-south{cursor:s-resize;}.k-table-resize-handle.k-resize-southeast{cursor:se-resize;}.k-table-resize-handle.k-resize-southwest{cursor:sw-resize;}.k-table-resize-handle.k-resize-west{cursor:w-resize;}.k-table.k-table-resizing{opacity:0.6;}k\\:script{display:none;}</style>" + f + e.map(t, function (e) { return "<link rel='stylesheet' href='" + e + "'>" }).join("") + "</head><body autocorrect='off' contenteditable='true'></body></html>"), o.close(), i }, _blur: function () { var e = this.textarea, t = e ? e.val() : this._oldValue, n = this.options.encoded ? this.encodedValue() : this.value(); this.update(), e && e.trigger("blur"), n != t && (this.trigger("change"), e && e.trigger("change")) }, _spellCorrect: function (e) { var n, i = !1; this._registerHandler(e.body, { contextmenu: function () { e.one("select", function () { n = null }), e._spellCorrectTimeout = setTimeout(function () { n = new a.ui.editor.RestorePoint(e.getRange(), e.body), i = !1 }, 10) }, input: function () { if (n) return a.support.browser.mozilla && !i ? (i = !0, t) : (a.ui.editor._finishUpdate(e, n), t) } }) }, _registerHandler: function (t, n, i) { var o, r, s, l = this, d = ".kendoEditor"; if (t = e(t), this._handlers || (this._handlers = []), t.length) if (e.isPlainObject(n)) for (s in n) n.hasOwnProperty(s) && this._registerHandler(t, s, n[s]); else for (o = a.applyEventMap(n).split(" "), r = 0; r < o.length; r++)l._handlers.push({ element: t, type: o[r] + d, handler: i }), t.on(o[r] + d, i) }, _deregisterHandlers: function () { var e, t, n = this._handlers; for (e = 0; e < n.length; e++)t = n[e], t.element.off(t.type, t.handler); this._handlers = [] }, _initializeContentElement: function () { var n, i, o, r, s, l = this; l.textarea ? (l.window = l._createContentElement(l.options.stylesheets), n = l.document = l.window.contentDocument || l.window.document, n.body || (r = n.createElement("body"), r.setAttribute("contenteditable", "true"), r.setAttribute("autocorrect", "off"), n.getElementsByTagName("html")[0].appendChild(r), s = setInterval(function () { e(l.document).find("body").length > 1 && (e(l.document).find("body:last").remove(), window.clearInterval(s)) }, 10)), l.body = n.body, i = l.window, o = n, this._registerHandler(n, "mouseup", f(this._mouseup, this))) : (l.window = window, n = l.document = document, l.body = l.element[0], i = l.body, o = l.body, l.toolbar.decorateFrom(l.body)), this._registerHandler(i, "blur", f(this._blur, this)), l._registerHandler(o, "down", f(l._mousedown, l)); try { n.execCommand("enableInlineTableEditing", null, !1) } catch (d) { } a.support.touch && this._registerHandler(n, { keydown: function () { a._activeElement() != n.body && l.window.focus() } }), this._spellCorrect(l), this._registerHandler(l.body, { keydown: function (e) { var n, i, o, r, a, s, d, c, u, p; return (e.keyCode !== m.BACKSPACE && e.keyCode !== m.DELETE || "true" === l.body.getAttribute("contenteditable")) && (e.keyCode === m.F10 ? (setTimeout(f(l.toolbar.focus, l.toolbar), 100), e.preventDefault(), t) : (e.keyCode != m.LEFT && e.keyCode != m.RIGHT || (n = l.getRange(), i = e.keyCode == m.LEFT, o = n[i ? "startContainer" : "endContainer"], r = n[i ? "startOffset" : "endOffset"], a = i ? -1 : 1, s = r + a, d = i ? s : r, 3 == o.nodeType && "\ufeff" == o.nodeValue[d] && (n.setStart(o, s), n.collapse(!0), l.selectRange(n))), c = l.toolbar.tools, u = l.keyboard.toolFromShortcut(c, e), p = u ? c[u].options : {}, u && !p.keyPressCommand ? (e.preventDefault(), /^(undo|redo)$/.test(u) || l.keyboard.endTyping(!0), l.trigger("keydown", e), l.exec(u), l._runPostContentKeyCommands(e), !1) : (l.keyboard.clearTimeout(), l.keyboard.keydown(e), t))) }, keypress: function (e) { setTimeout(function () { l._runPostContentKeyCommands(e), l._showTableResizeHandles() }, 0) }, keyup: function (t) { var n = [m.BACKSPACE, m.TAB, m.PAGEUP, m.PAGEDOWN, m.END, m.HOME, m.LEFT, m.UP, m.RIGHT, m.DOWN, m.INSERT, m.DELETE]; (e.inArray(t.keyCode, n) > -1 || 65 == t.keyCode && t.ctrlKey && !t.altKey && !t.shiftKey) && l._selectionChange(), l.keyboard.keyup(t) }, click: function (e) { var t, n = a.ui.editor.Dom; "img" === n.name(e.target) && (t = l.createRange(), t.selectNode(e.target), l.selectRange(t)) }, "cut copy paste drop dragover": function (e) { l.clipboard["on" + e.type](e) }, focusin: function () { l.body.hasAttribute("contenteditable") && (e(this).addClass("k-state-active"), l.toolbar.show()) }, focusout: function () { setTimeout(function () { var t, n = a._activeElement(), i = l.body, o = l.toolbar; o.options.popup && (t = o.window.element.get(0), t && !e.contains(t, n) && t != n && (o.preventPopupHide = !1)), n == i || e.contains(i, n) || e(n).is(".k-editortoolbar-dragHandle") || o.focused() || (e(i).removeClass("k-state-active"), o.hide()) }, 10) } }), l._initializeColumnResizing(), l._initializeRowResizing(), l._initializeTableResizing() }, _initializeImmutables: function () { var e = this, t = a.ui.editor; e.options.immutables && (e.immutables = new t.Immutables(e)) }, _mousedown: function (t) { var n, i = this; i._selectionStarted = !0, e(i.body).parents(".k-window").length && t.stopPropagation(), c.gecko || (n = e(t.target), (2 == t.which || 1 == t.which && t.ctrlKey) && n.is("a[href]") && window.open(n.attr("href"), "_new")) }, _mouseup: function (t) { var n = this; a.support.mobileOS.ios && t && e(t.target).is(g) || n._selectionStarted && setTimeout(function () { n._selectionChange() }, 1) }, _runPostContentKeyCommands: function (e) { var t, n, i, o, r = this.getRange(), a = this.keyboard.toolsFromShortcut(this.toolbar.tools, e); for (t = 0; t < a.length; t++)n = a[t], i = n.options, i.keyPressCommand && (o = new i.command({ range: r }), o.changesContent() && (this.keyboard.endTyping(!0), this.exec(n.name))) }, refresh: function () { var e, t = this; t.textarea && (t._destroyResizings(), e = t.value(), t.textarea.val(e), t.wrapper.find("iframe").remove(), t._initializeContentElement(t), t.value(e)) }, events: ["select", "change", "execute", "error", "paste", "keydown", "keyup"], options: { name: "Editor", messages: k, formats: {}, encoded: !0, domain: null, resizable: !1, deserialization: { custom: null }, serialization: { entities: !0, semantic: !0, scripts: !1 }, pasteCleanup: { all: !1, css: !1, custom: null, keepNewLines: !1, msAllFormatting: !1, msConvertLists: !0, msTags: !0, none: !1, span: !1 }, stylesheets: [], dialogOptions: { modal: !0, resizable: !1, draggable: !0, animation: !1 }, imageBrowser: null, fileBrowser: null, fontName: [{ text: "Arial", value: "Arial,Helvetica,sans-serif" }, { text: "Courier New", value: "'Courier New',Courier,monospace" }, { text: "Georgia", value: "Georgia,serif" }, { text: "Impact", value: "Impact,Charcoal,sans-serif" }, { text: "Lucida Console", value: "'Lucida Console',Monaco,monospace" }, { text: "Tahoma", value: "Tahoma,Geneva,sans-serif" }, { text: "Times New Roman", value: "'Times New Roman',Times,serif" }, { text: "Trebuchet MS", value: "'Trebuchet MS',Helvetica,sans-serif" }, { text: "Verdana", value: "Verdana,Geneva,sans-serif" }], fontSize: [{ text: "1 (8pt)", value: "xx-small" }, { text: "2 (10pt)", value: "x-small" }, { text: "3 (12pt)", value: "small" }, { text: "4 (14pt)", value: "medium" }, { text: "5 (18pt)", value: "large" }, { text: "6 (24pt)", value: "x-large" }, { text: "7 (36pt)", value: "xx-large" }], formatBlock: [{ text: "Paragraph", value: "p" }, { text: "Quotation", value: "blockquote" }, { text: "Heading 1", value: "h1" }, { text: "Heading 2", value: "h2" }, { text: "Heading 3", value: "h3" }, { text: "Heading 4", value: "h4" }, { text: "Heading 5", value: "h5" }, { text: "Heading 6", value: "h6" }], tools: [].concat.call(["formatting"], w.basic, w.alignment, w.lists, w.indenting, w.links, ["insertImage"], w.tables) }, destroy: function () { var e = this; l.fn.destroy.call(this), this._endTyping(!0), this._deregisterHandlers(), clearTimeout(this._spellCorrectTimeout), this._focusOutside(), this.toolbar.destroy(), e._destroyUploadWidget(), e._destroyResizings(), a.destroy(this.wrapper) }, _destroyResizings: function () { var e = this; e._destroyTableResizing(), a.ui.editor.TableResizing.dispose(e), e._destroyRowResizing(), a.ui.editor.RowResizing.dispose(e), e._destroyColumnResizing(), a.ui.editor.ColumnResizing.dispose(e) }, _focusOutside: function () { if (a.support.browser.msie && this.textarea) { var t = e("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).focus(); t.blur().remove() } }, _destroyUploadWidget: function () { var e = this; e._uploadWidget && (e._uploadWidget.destroy(), e._uploadWidget = null) }, state: function (e) { var t, n, i = x.defaultTools[e], o = i && (i.options.finder || i.finder), r = a.ui.editor.RangeUtils; return !!o && (t = this.getRange(), n = r.textNodes(t), !n.length && t.collapsed && (n = [t.startContainer]), o.getFormat ? o.getFormat(n) : o.isFormatted(n)) }, value: function (e) { var n = this.body, i = a.ui.editor, o = this.options, r = i.Serializer.domToXhtml(n, o.serialization); return e === t ? r : (e != r && (i.Serializer.htmlToDom(e, n, o.deserialization), this.selectionRestorePoint = null, this.update(), this.toolbar.refreshTools()), t) }, saveSelection: function (t) { t = t || this.getRange(); var n = t.commonAncestorContainer, i = this.body; (n == i || e.contains(i, n)) && (this.selectionRestorePoint = new a.ui.editor.RestorePoint(t, i)) }, _focusBody: function () { var e, t = this.body, n = this.wrapper && this.wrapper.find("iframe")[0], i = this.document.documentElement, o = a._activeElement(); n ? o != t && o != n && (e = i.scrollTop, t.focus(), i.scrollTop = e) : (e = t.scrollTop, t.focus(), t.scrollTop = e) }, restoreSelection: function () { this._focusBody(), this.selectionRestorePoint && this.selectRange(this.selectionRestorePoint.toRange()) }, focus: function () { this.restoreSelection() }, update: function (e) { e = e || this.options.encoded ? this.encodedValue() : this.value(), this.textarea ? this.textarea.val(e) : this._oldValue = e }, encodedValue: function () { return a.ui.editor.Dom.encode(this.value()) }, createRange: function (e) { return a.ui.editor.RangeUtils.createRange(e || this.document) }, getSelection: function () { return a.ui.editor.SelectionUtils.selectionFromDocument(this.document) }, selectRange: function (e) { this._focusBody(); var t = this.getSelection(); t.removeAllRanges(), t.addRange(e), this.saveSelection(e) }, getRange: function () { var e = this.getSelection(), t = e && e.rangeCount > 0 ? e.getRangeAt(0) : this.createRange(), n = this.document; return t.startContainer != n || t.endContainer != n || t.startOffset || t.endOffset || (t.setStart(this.body, 0), t.collapse(!0)), t }, _containsRange: function (e) { var t = a.ui.editor.Dom, n = this.body; return e && t.isAncestorOrSelf(n, e.startContainer) && t.isAncestorOrSelf(n, e.endContainer) }, _deleteSavedRange: function () { "_range" in this && delete this._range }, selectedHtml: function () { return a.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents()) }, paste: function (t, n) { this.focus(); var i = new a.ui.editor.InsertHtmlCommand(e.extend({ range: this.getRange(), html: t }, n)); i.editor = this, i.exec() }, exec: function (e, n) { var i, o, r, a, s = this, l = null; if (!e) throw Error("kendoEditor.exec(): `name` parameter cannot be empty"); if ("true" !== s.body.getAttribute("contenteditable") && "print" !== e && "pdf" !== e) return !1; if (e = e.toLowerCase(), s.keyboard.isTypingInProgress() || (s._focusBody(), s.selectRange(s._range || s.getRange())), o = s.toolbar.toolById(e), !o) for (a in x.defaultTools) if (a.toLowerCase() == e) { o = x.defaultTools[a]; break } if (o) { if (i = s.getRange(), o.command && (l = o.command(u({ range: i, body: s.body, immutables: !!s.immutables }, n))), r = s.trigger("execute", { name: e, command: l })) return; if (/^(undo|redo)$/i.test(e)) s.undoRedoStack[e](); else if (l && (s.execCommand(l), l.async)) return l.change = f(s._selectionChange, s), t; s._selectionChange() } }, execCommand: function (e) { e.managesUndoRedo || this.undoRedoStack.push(e), e.editor = this, e.exec() } }); x.defaultTools = { undo: { options: { key: "Z", ctrl: !0 } }, redo: { options: { key: "Y", ctrl: !0 } } }, a.ui.plugin(x), n = s.extend({ init: function (e) { this.options = e }, initialize: function (e, t) { e.attr({ unselectable: "on", title: t.title }), e.children(".k-tool-text").html(t.title) }, command: function (e) { return new this.options.command(e) }, update: e.noop }), n.exec = function (e, t, n) { e.exec(t, { value: n }) }, v.registerTool("separator", new n({ template: new b({ template: v.separatorTemplate }) })), i = c.msie && c.version < 9 ? "\ufeff" : "", o = "\ufeff", r = o, (c.msie || c.edge) && (r = o = "&nbsp;"), u(a.ui, { editor: { ToolTemplate: b, EditorUtils: v, Tool: n, _bomFill: i, emptyElementContent: o, emptyTableCellContent: r } }), a.PDFMixin && (a.PDFMixin.extend(x.prototype), x.prototype._drawPDF = function () { return a.drawing.drawDOM(this.body, this.options.pdf) }, x.prototype.saveAsPDF = function () { var t, n = new e.Deferred, i = n.promise(), o = { promise: i }; if (!this.trigger("pdfExport", o)) return t = this.options.pdf, this._drawPDF(n).then(function (e) { return a.drawing.exportPDF(e, t) }).done(function (e) { a.saveAs({ dataURI: e, fileName: t.fileName, proxyURL: t.proxyURL, proxyTarget: t.proxyTarget, forceProxy: t.forceProxy }), n.resolve() }).fail(function (e) { n.reject(e) }), i }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/dom.min", ["editor/main.min"], e) }(function () {
    !function (e) {
        function t(e) { var t, n, i = {}; for (t = 0, n = e.length; t < n; t++)i[e[t]] = !0; return i } var n, i, o, r, a, s, l, d, c, u, f, p = window.kendo, m = e.map, h = e.extend, g = p.support.browser, b = "style", v = "float", k = "cssFloat", y = "styleFloat", w = "class", x = "k-marker", C = t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")), T = "div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","), _ = T.concat(["ul", "ol", "li"]), N = t(_), R = "span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","), S = t(R), z = t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")), A = function (e) { 1 == e.nodeType && e.normalize() }; g.msie && g.version >= 8 && (A = function (e) { if (1 == e.nodeType && e.firstChild) for (var t = e.firstChild, n = t; ;) { if (n = n.nextSibling, !n) break; 3 == n.nodeType && 3 == t.nodeType && (n.nodeValue = t.nodeValue + n.nodeValue, f.remove(t)), t = n } }), n = /^\s+$/, i = /^[\n\r\t]+$/, o = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i, r = /\ufeff/g, a = /^(\s+|\ufeff)$/, l = "color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","), d = /[<>\&]/g, c = /[\u00A0-\u2666<>\&]/g, u = { 34: "quot", 38: "amp", 39: "apos", 60: "lt", 62: "gt", 160: "nbsp", 161: "iexcl", 162: "cent", 163: "pound", 164: "curren", 165: "yen", 166: "brvbar", 167: "sect", 168: "uml", 169: "copy", 170: "ordf", 171: "laquo", 172: "not", 173: "shy", 174: "reg", 175: "macr", 176: "deg", 177: "plusmn", 178: "sup2", 179: "sup3", 180: "acute", 181: "micro", 182: "para", 183: "middot", 184: "cedil", 185: "sup1", 186: "ordm", 187: "raquo", 188: "frac14", 189: "frac12", 190: "frac34", 191: "iquest", 192: "Agrave", 193: "Aacute", 194: "Acirc", 195: "Atilde", 196: "Auml", 197: "Aring", 198: "AElig", 199: "Ccedil", 200: "Egrave", 201: "Eacute", 202: "Ecirc", 203: "Euml", 204: "Igrave", 205: "Iacute", 206: "Icirc", 207: "Iuml", 208: "ETH", 209: "Ntilde", 210: "Ograve", 211: "Oacute", 212: "Ocirc", 213: "Otilde", 214: "Ouml", 215: "times", 216: "Oslash", 217: "Ugrave", 218: "Uacute", 219: "Ucirc", 220: "Uuml", 221: "Yacute", 222: "THORN", 223: "szlig", 224: "agrave", 225: "aacute", 226: "acirc", 227: "atilde", 228: "auml", 229: "aring", 230: "aelig", 231: "ccedil", 232: "egrave", 233: "eacute", 234: "ecirc", 235: "euml", 236: "igrave", 237: "iacute", 238: "icirc", 239: "iuml", 240: "eth", 241: "ntilde", 242: "ograve", 243: "oacute", 244: "ocirc", 245: "otilde", 246: "ouml", 247: "divide", 248: "oslash", 249: "ugrave", 250: "uacute", 251: "ucirc", 252: "uuml", 253: "yacute", 254: "thorn", 255: "yuml", 402: "fnof", 913: "Alpha", 914: "Beta", 915: "Gamma", 916: "Delta", 917: "Epsilon", 918: "Zeta", 919: "Eta", 920: "Theta", 921: "Iota", 922: "Kappa", 923: "Lambda", 924: "Mu", 925: "Nu", 926: "Xi", 927: "Omicron", 928: "Pi", 929: "Rho", 931: "Sigma", 932: "Tau", 933: "Upsilon", 934: "Phi", 935: "Chi", 936: "Psi", 937: "Omega", 945: "alpha", 946: "beta", 947: "gamma", 948: "delta", 949: "epsilon", 950: "zeta", 951: "eta", 952: "theta", 953: "iota", 954: "kappa", 955: "lambda", 956: "mu", 957: "nu", 958: "xi", 959: "omicron", 960: "pi", 961: "rho", 962: "sigmaf", 963: "sigma", 964: "tau", 965: "upsilon", 966: "phi", 967: "chi", 968: "psi", 969: "omega", 977: "thetasym", 978: "upsih", 982: "piv", 8226: "bull", 8230: "hellip", 8242: "prime", 8243: "Prime", 8254: "oline", 8260: "frasl", 8472: "weierp", 8465: "image", 8476: "real", 8482: "trade", 8501: "alefsym", 8592: "larr", 8593: "uarr", 8594: "rarr", 8595: "darr", 8596: "harr", 8629: "crarr", 8656: "lArr", 8657: "uArr", 8658: "rArr", 8659: "dArr", 8660: "hArr", 8704: "forall", 8706: "part", 8707: "exist", 8709: "empty", 8711: "nabla", 8712: "isin", 8713: "notin", 8715: "ni", 8719: "prod", 8721: "sum", 8722: "minus", 8727: "lowast", 8730: "radic", 8733: "prop", 8734: "infin", 8736: "ang", 8743: "and", 8744: "or", 8745: "cap", 8746: "cup", 8747: "int", 8756: "there4", 8764: "sim", 8773: "cong", 8776: "asymp", 8800: "ne", 8801: "equiv", 8804: "le", 8805: "ge", 8834: "sub", 8835: "sup", 8836: "nsub", 8838: "sube", 8839: "supe", 8853: "oplus", 8855: "otimes", 8869: "perp", 8901: "sdot", 8968: "lceil", 8969: "rceil", 8970: "lfloor", 8971: "rfloor", 9001: "lang", 9002: "rang", 9674: "loz", 9824: "spades", 9827: "clubs", 9829: "hearts", 9830: "diams", 338: "OElig", 339: "oelig", 352: "Scaron", 353: "scaron", 376: "Yuml", 710: "circ", 732: "tilde", 8194: "ensp", 8195: "emsp", 8201: "thinsp", 8204: "zwnj", 8205: "zwj", 8206: "lrm", 8207: "rlm", 8211: "ndash", 8212: "mdash", 8216: "lsquo", 8217: "rsquo", 8218: "sbquo", 8220: "ldquo", 8221: "rdquo", 8222: "bdquo", 8224: "dagger", 8225: "Dagger", 8240: "permil", 8249: "lsaquo", 8250: "rsaquo", 8364: "euro" }, f = {
            block: N, inline: S, findNodeIndex: function (e, t) { var n = 0; if (!e) return -1; for (; ;) { if (e = e.previousSibling, !e) break; t && 3 == e.nodeType || n++ } return n }, isDataNode: function (e) { return e && null !== e.nodeValue && null !== e.data }, isAncestorOf: function (t, n) { try { return !f.isDataNode(t) && (e.contains(t, f.isDataNode(n) ? n.parentNode : n) || n.parentNode == t) } catch (i) { return !1 } }, isAncestorOrSelf: function (e, t) { return f.isAncestorOf(e, t) || e == t }, findClosestAncestor: function (e, t) { if (f.isAncestorOf(e, t)) for (; t && t.parentNode != e;)t = t.parentNode; return t }, getAllComments: function (e) { for (var t = [], n = document.createNodeIterator(e, NodeFilter.SHOW_COMMENT, function () { return NodeFilter.FILTER_ACCEPT }, !1), i = n.nextNode(); i;)t.push(i.nodeValue), i = n.nextNode(); return t }, getNodeLength: function (e) { return f.isDataNode(e) ? e.length : e.childNodes.length }, splitDataNode: function (e, t) { for (var n, i = e.cloneNode(!1), o = "", r = e.nextSibling; r && 3 == r.nodeType && r.nodeValue;)o += r.nodeValue, n = r, r = r.nextSibling, f.remove(n); e.deleteData(t, e.length), i.deleteData(0, t), i.nodeValue += o, f.insertAfter(i, e) }, attrEquals: function (e, t) {
                var n, i; for (n in t) if (i = e[n],
                    n == v && (i = e[p.support.cssFloat ? k : y]), "object" == typeof i) { if (!f.attrEquals(i, t[n])) return !1 } else if (i != t[n]) return !1; return !0
            }, blockParentOrBody: function (e) { return f.parentOfType(e, _) || e.ownerDocument.body }, blockParents: function (t) { var n, i, o, r = []; for (n = 0, i = t.length; n < i; n++)o = f.parentOfType(t[n], f.blockElements), o && e.inArray(o, r) < 0 && r.push(o); return r }, windowFromDocument: function (e) { return e.defaultView || e.parentWindow }, normalize: A, blockElements: _, nonListBlockElements: T, inlineElements: R, empty: C, fillAttrs: z, nodeTypes: { ELEMENT_NODE: 1, ATTRIBUTE_NODE: 2, TEXT_NODE: 3, CDATA_SECTION_NODE: 4, ENTITY_REFERENCE_NODE: 5, ENTITY_NODE: 6, PROCESSING_INSTRUCTION_NODE: 7, COMMENT_NODE: 8, DOCUMENT_NODE: 9, DOCUMENT_TYPE_NODE: 10, DOCUMENT_FRAGMENT_NODE: 11, NOTATION_NODE: 12 }, toHex: function (e) { var t = o.exec(e); return t ? "#" + m(t.slice(1), function (e) { return e = parseInt(e, 10).toString(16), e.length > 1 ? e : "0" + e }).join("") : e }, encode: function (e, t) { var n = !t || t.entities ? c : d; return e.replace(n, function (e) { var t = e.charCodeAt(0), n = u[t]; return n ? "&" + n + ";" : e }) }, isBom: function (e) { return e && 3 === e.nodeType && /^[\ufeff]+$/.test(e.nodeValue) }, stripBom: function (e) { return (e || "").replace(r, "") }, stripBomNode: function (e) { f.isBom(e) && e.parentNode.removeChild(e) }, insignificant: function (e) { var t = e.attributes; return "k-marker" == e.className || f.is(e, "br") && ("k-br" == e.className || t._moz_dirty || t._moz_editor_bogus_node) }, tableCell: function (e) { return f.is(e, "td") || f.is(e, "th") }, significantNodes: function (t) { return e.grep(t, function (e) { var t = f.name(e); return "br" != t && (!f.insignificant(e) && (!f.emptyTextNode(e) && !(1 == e.nodeType && !C[t] && f.emptyNode(e)))) }) }, emptyTextNode: function (e) { return e && 3 == e.nodeType && a.test(e.nodeValue) }, emptyNode: function (e) { return 1 == e.nodeType && !f.significantNodes(e.childNodes).length }, name: function (e) { return e.nodeName.toLowerCase() }, significantChildNodes: function (t) { return e.grep(t.childNodes, function (e) { return 3 != e.nodeType || !f.isWhitespace(e) }) }, lastTextNode: function (e) { var t, n = null; if (3 == e.nodeType) return e; for (t = e.lastChild; t; t = t.previousSibling)if (n = f.lastTextNode(t)) return n; return n }, is: function (e, t) { return e && f.name(e) == t }, isMarker: function (e) { return e.className == x }, isWhitespace: function (e) { return n.test(e.nodeValue) }, allWhitespaceContent: function (e) { for (var t = e.firstChild; t && f.isWhitespace(t);)t = t.nextSibling; return !t }, isEmptyspace: function (e) { return i.test(e.nodeValue) }, htmlIndentSpace: function (t) { var n, o, a, s, l, d; return !(!f.isDataNode(t) || !f.isWhitespace(t)) && (!!i.test(t.nodeValue) || (n = function (e, t) { for (; e[t];)if (e = e[t], f.significantNodes([e]).length > 0) return e }, o = t.parentNode, a = n(t, "previousSibling"), s = n(t, "nextSibling"), r.test(t.nodeValue) ? !(!a && !s) : !!e(o).is("tr,tbody,thead,tfoot,table,ol,ul") || !!((f.isBlock(o) || f.is(o, "body")) && (l = a && f.isBlock(a), d = s && f.isBlock(s), !s && l || !a && d || l && d)))) }, isBlock: function (e) { return N[f.name(e)] }, isEmpty: function (e) { return C[f.name(e)] }, isInline: function (e) { return S[f.name(e)] }, isBr: function (e) { return "br" == f.name(e) }, list: function (e) { var t = e ? f.name(e) : ""; return "ul" == t || "ol" == t || "dl" == t }, scrollContainer: function (e) { var t = f.windowFromDocument(e), n = (t.contentWindow || t).document || t.ownerDocument || t; return n = "BackCompat" == n.compatMode ? n.body : n.scrollingElement || n.documentElement }, scrollTo: function (t, n) { var i, o, r, a, s = t.ownerDocument, l = f.windowFromDocument(s), d = l.innerHeight, c = f.scrollContainer(s); f.isDataNode(t) ? n ? (a = f.create(s, "span", { innerHTML: "&#xfeff;" }), f.insertBefore(a, t), i = e(a)) : i = e(t.parentNode) : i = e(t), o = i.offset().top, r = i[0].offsetHeight, !n && r || (r = parseInt(i.css("line-height"), 10) || Math.ceil(1.2 * parseInt(i.css("font-size"), 10)) || 15), a && f.remove(a), r + o > c.scrollTop + d && (c.scrollTop = r + o - d) }, persistScrollTop: function (e) { s = f.scrollContainer(e).scrollTop }, offset: function (e, t) { for (var n = { top: e.offsetTop, left: e.offsetLeft }, i = e.offsetParent; i && (!t || f.isAncestorOf(t, i));)n.top += i.offsetTop, n.left += i.offsetLeft, i = i.offsetParent; return n }, restoreScrollTop: function (e) { "number" == typeof s && (f.scrollContainer(e).scrollTop = s) }, insertAt: function (e, t, n) { e.insertBefore(t, e.childNodes[n] || null) }, insertBefore: function (e, t) { return t.parentNode ? t.parentNode.insertBefore(e, t) : t }, insertAfter: function (e, t) { return t.parentNode.insertBefore(e, t.nextSibling) }, remove: function (e) { e.parentNode && e.parentNode.removeChild(e) }, removeChildren: function (e) { for (; e.firstChild;)e.removeChild(e.firstChild) }, removeTextSiblings: function (e) { for (var t = e.parentNode; e.nextSibling && 3 == e.nextSibling.nodeType;)t.removeChild(e.nextSibling); for (; e.previousSibling && 3 == e.previousSibling.nodeType;)t.removeChild(e.previousSibling) }, trim: function (e) { var t, n; for (t = e.childNodes.length - 1; t >= 0; t--)n = e.childNodes[t], f.isDataNode(n) ? f.stripBom(n.nodeValue).length || f.remove(n) : n.className != x && (f.trim(n), (!f.isEmpty(n) && 0 === n.childNodes.length || f.isBlock(n) && f.allWhitespaceContent(n)) && f.remove(n)); return e }, closest: function (e, t) { for (; e && f.name(e) != t;)e = e.parentNode; return e }, closestBy: function (e, t, n) { for (; e && !t(e);) { if (n && n(e)) return null; e = e.parentNode } return e }, sibling: function (e, t) { do e = e[t]; while (e && 1 != e.nodeType); return e }, next: function (e) { return f.sibling(e, "nextSibling") }, prev: function (e) { return f.sibling(e, "previousSibling") }, parentOfType: function (e, t) { do e = e.parentNode; while (e && !f.ofType(e, t)); return e }, ofType: function (t, n) { return e.inArray(f.name(t), n) >= 0 }, changeTag: function (e, t, n) { var i, o, r, a, s, l = f.create(e.ownerDocument, t), d = e.attributes; if (!n) for (i = 0, o = d.length; i < o; i++)s = d[i], s.specified && (r = s.nodeName, a = s.nodeValue, r == w ? l.className = a : r == b ? l.style.cssText = e.style.cssText : l.setAttribute(r, a)); for (; e.firstChild;)l.appendChild(e.firstChild); return f.insertBefore(l, e), f.remove(e), l }, editableParent: function (e) { for (; e && (3 == e.nodeType || "true" !== e.contentEditable);)e = e.parentNode; return e }, wrap: function (e, t) { return f.insertBefore(t, e), t.appendChild(e), t }, unwrap: function (e) { for (var t = e.parentNode; e.firstChild;)t.insertBefore(e.firstChild, e); t.removeChild(e) }, wrapper: function (t) { var n = f.closestBy(t, function (e) { return e.parentNode && f.significantNodes(e.parentNode.childNodes).length > 1 }); return e(n).is("body,.k-editor") ? void 0 : n }, create: function (e, t, n) { return f.attr(e.createElement(t), n) }, createEmptyNode: function (e, t, n) { var i = f.attr(e.createElement(t), n); return i.innerHTML = "\ufeff", i }, attr: function (e, t) { t = h({}, t), t && b in t && (f.style(e, t.style), delete t.style); for (var n in t) null === t[n] ? (e.removeAttribute(n), delete t[n]) : "className" == n && (e[n] = t[n]); return h(e, t) }, style: function (t, n) { e(t).css(n || {}) }, unstyle: function (e, t) { for (var n in t) n == v && (n = p.support.cssFloat ? k : y), e.style[n] = ""; "" === e.style.cssText && e.removeAttribute(b) }, inlineStyle: function (t, n, i) { var o, r = e(f.create(t.ownerDocument, n, i)); return t.appendChild(r[0]), o = m(l, function (e) { return g.msie && "line-height" == e && "1px" == r.css(e) ? "line-height:1.5" : e + ":" + r.css(e) }).join(";"), r.remove(), o }, getEffectiveBackground: function (e) { var t = e.css("background-color") || ""; return t.indexOf("rgba(0, 0, 0, 0") < 0 && "transparent" !== t ? t : "html" === e[0].tagName.toLowerCase() ? "Window" : f.getEffectiveBackground(e.parent()) }, innerText: function (e) { var t = e.innerHTML; return t = t.replace(/<!--(.|\s)*?-->/gi, ""), t = t.replace(/<\/?[^>]+?\/?>/gm, "") }, removeClass: function (t, n) { var i, o, r = " " + t.className + " ", a = n.split(" "); for (i = 0, o = a.length; i < o; i++)r = r.replace(" " + a[i] + " ", " "); r = e.trim(r), r.length ? t.className = r : t.removeAttribute(w) }, commonAncestor: function () { var e, t, n, i, o, r = arguments.length, a = [], s = 1 / 0, l = null; if (!r) return null; if (1 == r) return arguments[0]; for (e = 0; e < r; e++) { for (t = [], n = arguments[e]; n;)t.push(n), n = n.parentNode; a.push(t.reverse()), s = Math.min(s, t.length) } if (1 == r) return a[0][0]; for (e = 0; e < s; e++) { for (i = a[0][e], o = 1; o < r; o++)if (i != a[o][e]) return l; l = i } return l }, closestSplittableParent: function (t) { var n, i, o; return n = 1 == t.length ? f.parentOfType(t[0], ["ul", "ol"]) : f.commonAncestor.apply(null, t), n || (n = f.parentOfType(t[0], ["p", "td"]) || t[0].ownerDocument.body), f.isInline(n) && (n = f.blockParentOrBody(n)), i = m(t, f.editableParent), o = f.commonAncestor(i)[0], e.contains(n, o) && (n = o), n }, closestEditable: function (t, n) { var i, o = f.editableParent(t); return i = f.ofType(t, n) ? t : f.parentOfType(t, n), i && o && e.contains(i, o) ? i = o : !i && o && (i = o), i }, closestEditableOfType: function (t, n) { var i = f.closestEditable(t, n); if (i && f.ofType(i, n) && !e(i).is(".k-editor")) return i }, filter: function (e, t, n) { var i = function (t) { return f.name(t) == e }; return f.filterBy(t, i, n) }, filterBy: function (e, t, n) { for (var i, o = 0, r = e.length, a = []; o < r; o++)i = t(e[o]), (i && !n || !i && n) && a.push(e[o]); return a }, ensureTrailingBreaks: function (t) { var n = e(t).find("p,td,th"), i = n.length, o = 0; if (i) for (; o < i; o++)f.ensureTrailingBreak(n[o]); else f.ensureTrailingBreak(t) }, removeTrailingBreak: function (t) { e(t).find("br[type=_moz],.k-br").remove() }, ensureTrailingBreak: function (e) { var t, n, i; f.removeTrailingBreak(e), t = e.lastChild, n = t && f.name(t), (!n || "br" != n && "img" != n || "br" == n && "k-br" != t.className) && (i = e.ownerDocument.createElement("br"), i.className = "k-br", e.appendChild(i)) }
        }, p.ui.editor.Dom = f
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/serializer.min", ["editor/dom.min"], e) }(function () { !function (e, t) { var n, i, o, r, a = window.kendo, s = a.ui.editor, l = s.Dom, d = e.extend, c = "xx-small,x-small,small,medium,large,x-large,xx-large".split(","), u = /"/g, f = /<br[^>]*>/i, p = /^\d+(\.\d*)?(px)?$/i, m = /<p>(?:&nbsp;)?<\/p>/i, h = /(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g, g = /^sizzle-\d+/i, b = /^k-script-/i, v = /\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i, k = '<br class="k-br">', y = document.createElement("div"); y.innerHTML = " <hr>", n = 3 === y.firstChild.nodeType, y = null, i = e.isFunction, o = "td", r = { toEditableHtml: function (e) { return (e || "").replace(/<!\[CDATA\[(.*)?\]\]>/g, "<!--[CDATA[$1]]-->").replace(/<(\/?)script([^>]*)>/gi, "<$1k:script$2>").replace(/<img([^>]*)>/gi, function (e) { return e.replace(v, "") }).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi, "$1").replace(/^<(table|blockquote)/i, k + "<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i, "$1").replace(/<\/(table|blockquote)>$/i, "</$1>" + k) }, _toEditableImmutables: function (t) { for (var n = s.Immutables.immutable, i = l.emptyTextNode, o = t.firstChild, r = t.lastChild; i(o);)o = o.nextSibling; for (; i(r);)r = r.previousSibling; o && n(o) && e(k).prependTo(t), r && n(r) && e(k).appendTo(t) }, _fillEmptyElements: function (t) { e(t).find("p,td").each(function () { var t, n = e(this); if (/^\s*$/g.test(n.text()) && !n.find("img,input").length) { for (t = this; t.firstChild && 3 != t.firstChild.nodeType;)t = t.firstChild; 1 != t.nodeType || l.empty[l.name(t)] || (t.innerHTML = l.is(t, "td") ? a.ui.editor.emptyTableCellContent : a.ui.editor.emptyElementContent) } }) }, _removeSystemElements: function (t) { e(".k-paste-container", t).remove() }, _resetOrderedLists: function (e) { var t, n, i, o = e.getElementsByTagName("ol"); for (t = 0; t < o.length; t++)n = o[t], i = n.getAttribute("start"), n.setAttribute("start", 1), i ? n.setAttribute("start", i) : n.removeAttribute(i) }, _preventScriptExecution: function (t) { e(t).find("*").each(function () { var e, t, n, i, o = this.attributes, r = []; for (t = 0, n = o.length; t < n; t++)e = o[t], i = e.nodeName, e.specified && /^on/i.test(i) && (this.setAttribute("k-script-" + i, e.value), r.push(i)); for (t = 0, n = r.length; t < n; t++)this.removeAttribute(r[t]) }) }, htmlToDom: function (t, n, o) { var s = a.support.browser, d = s.msie, c = d && s.version < 9, u = "originalsrc", f = "originalhref", p = o || {}, m = p.immutables; return t = r.toEditableHtml(t), c && (t = "<br/>" + t, t = t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/, f + '="$1"'), t = t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/, u + '="$1"')), i(p.custom) && (t = p.custom(t) || t), n.innerHTML = t, m && m.deserialize(n), c ? (l.remove(n.firstChild), e(n).find("k\\:script,script,link,img,a").each(function () { var e = this; e[f] && (e.setAttribute("href", e[f]), e.removeAttribute(f)), e[u] && (e.setAttribute("src", e[u]), e.removeAttribute(u)) })) : d && (l.normalize(n), r._resetOrderedLists(n)), r._preventScriptExecution(n), r._fillEmptyElements(n), r._removeSystemElements(n), r._toEditableImmutables(n), e("table", n).addClass("k-table"), n }, domToXhtml: function (i, r) { function d(t) { return e.grep(t, function (e) { return "style" != e.name }) } function v(e, t) { z.push("<" + t), x(e), z.push(">") } function k(t) { var n, i, o, r = e.trim, a = r(t), s = []; for (h.lastIndex = 0; ;) { if (n = h.exec(a), !n) break; i = r(n[1].toLowerCase()), o = r(n[2]), "font-size-adjust" != i && "font-stretch" != i && (i.indexOf("color") >= 0 ? o = l.toHex(o) : i.indexOf("font") >= 0 ? o = o.replace(u, "'") : /\burl\(/g.test(o) && (o = o.replace(u, "")), s.push({ property: i, value: o })) } return s } function y(e) { var t, n = k(e); for (t = 0; t < n.length; t++)z.push(n[t].property), z.push(":"), z.push(n[t].value), z.push(";") } function w(e) { var t, n, i, o, a, s, d = [], c = e.attributes; for (n = 0, i = c.length; n < i; n++)t = c[n], o = t.nodeName, a = t.value, s = t.specified, "value" == o && "value" in e && e.value ? s = !0 : "type" == o && "text" == a ? s = !0 : "class" != o || a ? g.test(o) ? s = !1 : "complete" == o ? s = !1 : "altHtml" == o ? s = !1 : "start" == o && l.is(e, "ul") ? s = !1 : "start" == o && l.is(e, "ol") && "1" == a ? s = !1 : o.indexOf("_moz") >= 0 ? s = !1 : b.test(o) ? s = !!r.scripts : "data-role" == o && "resizable" == a && (l.is(e, "tr") || l.is(e, "td")) && (s = !1) : s = !1, s && d.push(t); return d } function x(n, i) { var o, r, s, d, c, u, f, m; if (i = i || w(n), l.is(n, "img") && (u = n.style.width, f = n.style.height, m = e(n), u && p.test(u) && (m.attr("width", parseInt(u, 10)), l.unstyle(n, { width: t })), f && p.test(f) && (m.attr("height", parseInt(f, 10)), l.unstyle(n, { height: t }))), i.length) for (o = 0, r = i.length; o < r; o++)s = i[o], d = s.nodeName, c = s.value, "class" == d && "k-table" == c || (d = d.replace(b, ""), z.push(" "), z.push(d), z.push('="'), "style" == d ? y(c || n.style.cssText) : z.push("src" == d || "href" == d ? a.htmlEncode(n.getAttribute(d, 2)) : l.fillAttrs[d] ? d : c), z.push('"')) } function C(e, t, n) { for (var i = e.firstChild; i; i = i.nextSibling)N(i, t, n) } function T(e) { return e.nodeValue.replace(/\ufeff/g, "") } function _(e) { if (l.isBom(e)) { do { if (e = e.parentNode, l.is(e, o) && 1 === e.childNodes.length) return !0; if (1 !== e.childNodes.length) return !1 } while (!l.isBlock(e)); return !0 } return !1 } function N(i, o, a) { var d, c, u, f, p, m, h = i.nodeType; if (A && s.Immutables.immutable(i)) z.push(A.serialize(i)); else if (1 == h) { if (d = l.name(i), m = e(i), m.hasClass("k-table-resize-handle-wrapper") || m.hasClass("k-column-resize-handle-wrapper") || m.hasClass("k-row-resize-handle-wrapper")) return; if (!d || l.insignificant(i)) return; if (!r.scripts && ("script" == d || "k:script" == d)) return; if (c = E[d], c && (t === c.semantic || r.semantic ^ c.semantic)) return c.start(i), C(i, !1, c.skipEncoding), c.end(i), t; z.push("<"), z.push(d), x(i), l.empty[d] ? z.push(" />") : (z.push(">"), C(i, o || l.is(i, "pre")), z.push("</"), z.push(d), z.push(">")) } else if (3 == h) { if (_(i)) return z.push("&nbsp;"), t; f = T(i), !o && n && (u = i.parentNode, p = i.previousSibling, p || (p = (l.isInline(u) ? u : i).previousSibling), p && "" !== p.innerHTML && !l.isBlock(p) || (f = f.replace(/^[\r\n\v\f\t ]+/, "")), f = f.replace(/ +/, " ")), z.push(a ? f : l.encode(f, r)) } else 4 == h ? (z.push("<![CDATA["), z.push(i.data), z.push("]]>")) : 8 == h && (i.data.indexOf("[CDATA[") < 0 ? (z.push("<!--"), z.push(i.data), z.push("-->")) : (z.push("<!"), z.push(i.data), z.push(">"))) } function R(e) { var t = e.childNodes.length, n = t && 3 == e.firstChild.nodeType; return n && (1 == t || 2 == t && l.insignificant(e.lastChild)) } function S() { e.isFunction(r.custom) && (z = r.custom(z) || z) } var z = [], A = r && r.immutables, E = { iframe: { start: function (e) { v(e, "iframe") }, end: function () { z.push("</iframe>") } }, "k:script": { start: function (e) { v(e, "script") }, end: function () { z.push("</script>") }, skipEncoding: !0 }, span: { semantic: !0, start: function (t) { var n, i, o = t.style, r = w(t), a = d(r); a.length && (z.push("<span"), x(t, a), z.push(">")), "underline" == o.textDecoration && z.push("<u>"), n = [], o.color && n.push('color="' + l.toHex(o.color) + '"'), o.fontFamily && n.push('face="' + o.fontFamily + '"'), o.fontSize && (i = e.inArray(o.fontSize, c), n.push('size="' + i + '"')), n.length && z.push("<font " + n.join(" ") + ">") }, end: function (e) { var t = e.style; (t.color || t.fontFamily || t.fontSize) && z.push("</font>"), "underline" == t.textDecoration && z.push("</u>"), d(w(e)).length && z.push("</span>") } }, strong: { semantic: !0, start: function (e) { v(e, "b") }, end: function () { z.push("</b>") } }, em: { semantic: !0, start: function (e) { v(e, "i") }, end: function () { z.push("</i>") } }, b: { semantic: !1, start: function (e) { v(e, "strong") }, end: function () { z.push("</strong>") } }, i: { semantic: !1, start: function (e) { v(e, "em") }, end: function () { z.push("</em>") } }, u: { semantic: !1, start: function (t) { var n, i, o; z.push("<span"), n = w(t), i = e(n).filter(function (e, t) { return "style" == t.name })[0], o = { nodeName: "style", value: "text-decoration:underline;" }, i && (o.value = i.value, /text-decoration/i.test(o.value) || (o.value = "text-decoration:underline;" + o.value), n.splice(e.inArray(i, n), 1)), n.push(o), x(t, n), z.push(">") }, end: function () { z.push("</span>") } }, font: { semantic: !1, start: function (e) { var t, n, i; z.push('<span style="'), t = e.getAttribute("color"), n = c[e.getAttribute("size")], i = e.getAttribute("face"), t && (z.push("color:"), z.push(l.toHex(t)), z.push(";")), i && (z.push("font-family:"), z.push(i), z.push(";")), n && (z.push("font-size:"), z.push(n), z.push(";")), z.push('">') }, end: function () { z.push("</span>") } } }; return E.script = E["k:script"], r = r || {}, t === r.semantic && (r.semantic = !0), R(i) ? (z = l.encode(T(i.firstChild).replace(/[\r\n\v\f\t ]+/, " "), r), S(), z) : (C(i), z = z.join(""), S(), "" === z.replace(f, "").replace(m, "") ? "" : z) } }, d(s, { Serializer: r }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/components.min", ["editor/serializer.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = n.ui.DropDownList, o = n.ui.editor.Dom, r = i.extend({ init: function (t, o) { var r = this; i.fn.init.call(r, t, o), n.support.mobileOS.ios && (this._initSelectOverlay(), this.bind("dataBound", e.proxy(this._initSelectOverlay, this))), r.text(r.options.title), r.bind("open", function () { if (r.options.autoSize) { var e, t = r.list; t.css({ whiteSpace: "nowrap", width: "auto" }), e = t.width(), e > 0 ? e += 20 : e = r._listWidth, t.css("width", e + n.support.scrollbar()), r._listWidth = e } }) }, options: { name: "SelectBox", index: -1 }, _initSelectOverlay: function () { var t, i, o, r, a = this, s = a.value(), l = this.dataSource.view(), d = "", c = n.htmlEncode; for (i = 0; i < l.length; i++)t = l[i], d += "<option value='" + c(t.value) + "'", t.value == s && (d += " selected"), d += ">" + c(t.text) + "</option>"; o = e("<select class='k-select-overlay'>" + d + "</select>"), r = e(this.element).closest(".k-widget"), r.next(".k-select-overlay").remove(), o.insertAfter(r), o.on("change", function () { a.value(this.value), a.trigger("change") }) }, value: function (e) { var n = this, o = i.fn.value.call(n, e); return e === t ? o : (i.fn.value.call(n) || n.text(n.options.title), t) }, decorate: function (t) { var n, i, r, a, s = this, l = s.dataSource, d = l.data(); for (t && s.list.css("background-color", o.getEffectiveBackground(e(t))), n = 0; n < d.length; n++)i = d[n].tag || "span", r = d[n].className, a = o.inlineStyle(t, i, { className: r }), a = a.replace(/"/g, "'"), d[n].style = a + ";display:inline-block"; l.trigger("change") } }); n.ui.plugin(r), n.ui.editor.SelectBox = r }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/range.min", ["editor/components.min"], e) }(function () {
    !function (e) {
        function t(e, t, n, i) { var o, r, a, s; if (e == t) return i - n; for (o = t; o && o.parentNode != e;)o = o.parentNode; if (o) return x(o) - n; for (o = e; o && o.parentNode != t;)o = o.parentNode; if (o) return i - x(o) - 1; for (r = w.commonAncestor(e, t), a = e; a && a.parentNode != r;)a = a.parentNode; for (a || (a = r), s = t; s && s.parentNode != r;)s = s.parentNode; return s || (s = r), a == s ? 0 : x(s) - x(a) } function n(e, n) { function i(e) { try { return t(e.startContainer, e.endContainer, e.startOffset, e.endOffset) < 0 } catch (n) { return !0 } } i(e) && (n ? (e.commonAncestorContainer = e.endContainer = e.startContainer, e.endOffset = e.startOffset) : (e.commonAncestorContainer = e.startContainer = e.endContainer, e.startOffset = e.endOffset), e.collapsed = !0) } function i(e) { e.collapsed = e.startContainer == e.endContainer && e.startOffset == e.endOffset; for (var t = e.startContainer; t && t != e.endContainer && !w.isAncestorOf(t, e.endContainer);)t = t.parentNode; e.commonAncestorContainer = t } function o(e) { var t = e.duplicate(), n = e.duplicate(); return t.collapse(!0), n.collapse(!1), w.commonAncestor(e.parentElement(), t.parentElement(), n.parentElement()) } function r(e, t, n) { var i, o = t[n ? "startContainer" : "endContainer"], r = t[n ? "startOffset" : "endOffset"], a = 0, s = C(o), l = s ? o : o.childNodes[r] || null, d = s ? o.parentNode : o, c = t.ownerDocument, u = c.body.createTextRange(); 3 != o.nodeType && 4 != o.nodeType || (a = r), d || (d = c.body), "img" == d.nodeName.toLowerCase() ? (u.moveToElementText(d), u.collapse(!1), e.setEndPoint(n ? "StartToStart" : "EndToStart", u)) : (i = d.insertBefore(w.create(c, "a"), l), u.moveToElementText(i), w.remove(i), u[n ? "moveStart" : "moveEnd"]("character", a), u.collapse(!1), e.setEndPoint(n ? "StartToStart" : "EndToStart", u)) } function a(e, t, n, i) { var o, r, a, s, l, d, c, u = w.create(t.ownerDocument, "a"), f = e.duplicate(), p = i ? "StartToStart" : "StartToEnd", m = !1; u.innerHTML = "\ufeff", f.collapse(i), r = f.parentElement(), w.isAncestorOrSelf(n, r) || (r = n); do m ? r.insertBefore(u, u.previousSibling) : (r.appendChild(u), m = !0), f.moveToElementText(u); while ((o = f.compareEndPoints(p, e)) > 0 && u.previousSibling); a = u.nextSibling, o == -1 && C(a) ? (f.setEndPoint(i ? "EndToStart" : "EndToEnd", e), w.remove(u), d = [a, f.text.length]) : (s = !i && u.previousSibling, l = i && u.nextSibling, C(l) ? d = [l, 0] : C(s) ? d = [s, s.length] : (c = x(u), d = r.nextSibling && c == r.childNodes.length - 1 ? [r.nextSibling, 0] : [r, c]), w.remove(u)), t[i ? "setStart" : "setEnd"].apply(t, d) } var s, l, d, c, u, f, p, m, h, g = window.kendo, b = g.Class, v = e.extend, k = g.ui.editor, y = g.support.browser, w = k.Dom, x = w.findNodeIndex, C = w.isDataNode, T = w.findClosestAncestor, _ = w.getNodeLength, N = w.normalize, R = { selectionFromWindow: function (e) { return "getSelection" in e ? e.getSelection() : new l(e.document) }, selectionFromRange: function (e) { var t = h.documentFromRange(e); return R.selectionFromDocument(t) }, selectionFromDocument: function (e) { return R.selectionFromWindow(w.windowFromDocument(e)) } }, S = b.extend({ init: function (t) { e.extend(this, { ownerDocument: t, startContainer: t, endContainer: t, commonAncestorContainer: t, startOffset: 0, endOffset: 0, collapsed: !0 }) }, setStart: function (e, t) { this.startContainer = e, this.startOffset = t, i(this), n(this, !0) }, setEnd: function (e, t) { this.endContainer = e, this.endOffset = t, i(this), n(this, !1) }, setStartBefore: function (e) { this.setStart(e.parentNode, x(e)) }, setStartAfter: function (e) { this.setStart(e.parentNode, x(e) + 1) }, setEndBefore: function (e) { this.setEnd(e.parentNode, x(e)) }, setEndAfter: function (e) { this.setEnd(e.parentNode, x(e) + 1) }, selectNode: function (e) { this.setStartBefore(e), this.setEndAfter(e) }, selectNodeContents: function (e) { this.setStart(e, 0), this.setEnd(e, e[1 === e.nodeType ? "childNodes" : "nodeValue"].length) }, collapse: function (e) { var t = this; e ? t.setEnd(t.startContainer, t.startOffset) : t.setStart(t.endContainer, t.endOffset) }, deleteContents: function () { var e = this, t = e.cloneRange(); e.startContainer != e.commonAncestorContainer && e.setStartAfter(T(e.commonAncestorContainer, e.startContainer)), e.collapse(!0), function n(e) { for (; e.next();)e.hasPartialSubtree() ? n(e.getSubtreeIterator()) : e.remove() }(new s(t)) }, cloneContents: function () { var e = h.documentFromRange(this); return function t(n) { for (var i, o = e.createDocumentFragment(); i = n.next();)i = i.cloneNode(!n.hasPartialSubtree()), n.hasPartialSubtree() && i.appendChild(t(n.getSubtreeIterator())), o.appendChild(i); return o }(new s(this)) }, extractContents: function () { var e, t = this, n = t.cloneRange(); return t.startContainer != t.commonAncestorContainer && t.setStartAfter(T(t.commonAncestorContainer, t.startContainer)), t.collapse(!0), e = h.documentFromRange(t), function i(n) { for (var o, r = e.createDocumentFragment(); o = n.next();)n.hasPartialSubtree() ? (o = o.cloneNode(!1), o.appendChild(i(n.getSubtreeIterator()))) : n.remove(t.originalRange), r.appendChild(o); return r }(new s(n)) }, insertNode: function (e) { var t = this; C(t.startContainer) ? (t.startOffset != t.startContainer.nodeValue.length && w.splitDataNode(t.startContainer, t.startOffset), w.insertAfter(e, t.startContainer)) : w.insertAt(t.startContainer, e, t.startOffset), t.setStart(t.startContainer, t.startOffset) }, cloneRange: function () { return e.extend(new S(this.ownerDocument), { startContainer: this.startContainer, endContainer: this.endContainer, commonAncestorContainer: this.commonAncestorContainer, startOffset: this.startOffset, endOffset: this.endOffset, collapsed: this.collapsed, originalRange: this }) }, toString: function () { var e = this.startContainer.nodeName, t = this.endContainer.nodeName; return ("#text" == e ? this.startContainer.nodeValue : e) + "(" + this.startOffset + ") : " + ("#text" == t ? this.endContainer.nodeValue : t) + "(" + this.endOffset + ")" } }); S.fromNode = function (e) { return new S(e.ownerDocument) }, s = b.extend({ init: function (t) { if (e.extend(this, { range: t, _current: null, _next: null, _end: null }), !t.collapsed) { var n = t.commonAncestorContainer; this._next = t.startContainer != n || C(t.startContainer) ? T(n, t.startContainer) : t.startContainer.childNodes[t.startOffset], this._end = t.endContainer != n || C(t.endContainer) ? T(n, t.endContainer).nextSibling : t.endContainer.childNodes[t.endOffset] } }, hasNext: function () { return !!this._next }, next: function () { var e = this, t = e._current = e._next; return e._next = e._current && e._current.nextSibling != e._end ? e._current.nextSibling : null, C(e._current) && (e.range.endContainer == e._current && (t = t.cloneNode(!0), t.deleteData(e.range.endOffset, t.length - e.range.endOffset)), e.range.startContainer == e._current && (t = t.cloneNode(!0), t.deleteData(0, e.range.startOffset))), t }, traverse: function (e) { function t() { return i._current = i._next, i._next = i._current && i._current.nextSibling != i._end ? i._current.nextSibling : null, i._current } for (var n, i = this; n = t();)i.hasPartialSubtree() ? i.getSubtreeIterator().traverse(e) : e(n); return n }, remove: function (e) { var t, n, i, o, r, a = this, s = a.range.startContainer == a._current, l = a.range.endContainer == a._current; C(a._current) && (s || l) ? (t = s ? a.range.startOffset : 0, n = l ? a.range.endOffset : a._current.length, i = n - t, e && (s || l) && (a._current == e.startContainer && t <= e.startOffset && (e.startOffset -= i), a._current == e.endContainer && n <= e.endOffset && (e.endOffset -= i)), a._current.deleteData(t, i)) : (o = a._current.parentNode, !e || a.range.startContainer != o && a.range.endContainer != o || (r = x(a._current), o == e.startContainer && r <= e.startOffset && (e.startOffset -= 1), o == e.endContainer && r < e.endOffset && (e.endOffset -= 1)), w.remove(a._current)) }, hasPartialSubtree: function () { return !C(this._current) && (w.isAncestorOrSelf(this._current, this.range.startContainer) || w.isAncestorOrSelf(this._current, this.range.endContainer)) }, getSubtreeIterator: function () { return new s(this.getSubRange()) }, getSubRange: function () { var e = this, t = e.range.cloneRange(); return t.selectNodeContents(e._current), w.isAncestorOrSelf(e._current, e.range.startContainer) && t.setStart(e.range.startContainer, e.range.startOffset), w.isAncestorOrSelf(e._current, e.range.endContainer) && t.setEnd(e.range.endContainer, e.range.endOffset), t } }), l = b.extend({ init: function (e) { this.ownerDocument = e, this.rangeCount = 1 }, addRange: function (e) { var t = this.ownerDocument.body.createTextRange(); r(t, e, !1), r(t, e, !0), t.select() }, removeAllRanges: function () { var e = this.ownerDocument.selection; "None" != e.type && e.empty() }, getRangeAt: function () { var e, t, n, i, r, s, l, d, c = new S(this.ownerDocument), u = this.ownerDocument.selection; try { if (e = u.createRange(), t = e.item ? e.item(0) : e.parentElement(), t.ownerDocument != this.ownerDocument) return c } catch (f) { return c } if ("Control" == u.type) c.selectNode(e.item(0)); else if (n = o(e), a(e, c, n, !0), a(e, c, n, !1), 9 == c.startContainer.nodeType && c.setStart(c.endContainer, c.startOffset), 9 == c.endContainer.nodeType && c.setEnd(c.startContainer, c.endOffset), 0 === e.compareEndPoints("StartToEnd", e) && c.collapse(!1), i = c.startContainer, r = c.endContainer, s = this.ownerDocument.body, !(c.collapsed || 0 !== c.startOffset || c.endOffset != _(c.endContainer) || i == r && C(i) && i.parentNode == s)) { for (l = !1, d = !1; 0 === x(i) && i == i.parentNode.firstChild && i != s;)i = i.parentNode, l = !0; for (; x(r) == _(r.parentNode) - 1 && r == r.parentNode.lastChild && r != s;)r = r.parentNode, d = !0; i == s && r == s && l && d && (c.setStart(i, 0), c.setEnd(r, _(s))) } return c } }), d = b.extend({ init: function (e) { this.enumerate = function () { function t(e) { if (w.is(e, "img") || 3 == e.nodeType && (!w.isEmptyspace(e) || "\ufeff" == e.nodeValue)) n.push(e); else for (e = e.firstChild; e;)t(e), e = e.nextSibling } var n = []; return new s(e).traverse(t), n } } }), c = s.extend({ hasPartialSubtree: function () { var e = k.Immutables && k.Immutables.immutable; return e && !e(this._current) && s.fn.hasPartialSubtree.call(this) }, getSubtreeIterator: function () { return new c(this.getSubRange()) } }), u = b.extend({ init: function (e) { this.enumerate = function () { function t(e) { if (i && !i(e)) if (w.is(e, "img") || 3 == e.nodeType && (!w.isEmptyspace(e) || "\ufeff" == e.nodeValue)) n.push(e); else for (e = e.firstChild; e;)t(e), e = e.nextSibling } var n = [], i = k.Immutables && k.Immutables.immutable; return new c(e).traverse(t), n } } }), f = b.extend({ init: function (e, t, n) { var i = this; i.range = e, i.rootNode = h.documentFromRange(e), i.body = t || i.getEditable(e), "body" != w.name(i.body) && (i.rootNode = i.body), i.startContainer = i.nodeToPath(e.startContainer), i.endContainer = i.nodeToPath(e.endContainer), i.startOffset = i.offset(e.startContainer, e.startOffset), i.endOffset = i.offset(e.endContainer, e.endOffset), i.immutables = n && n.immutables, i.immutables && (i.serializedImmutables = k.Immutables.removeImmutables(i.body)), i.html = i.body.innerHTML, i.immutables && !i.serializedImmutables.empty && k.Immutables.restoreImmutables(i.body, i.serializedImmutables) }, index: function (e) { for (var t, n = 0, i = e.nodeType; e = e.previousSibling;)t = e.nodeType, 3 == t && i == t || n++ , i = t; return n }, getEditable: function (e) { for (var t = e.commonAncestorContainer; t && (3 == t.nodeType || t.attributes && (!t.attributes.contentEditable || "false" == t.attributes.contentEditable.nodeValue.toLowerCase()));)t = t.parentNode; return t }, restoreHtml: function () { var e = this; w.removeChildren(e.body), e.body.innerHTML = e.html, e.immutables && !e.serializedImmutables.empty && k.Immutables.restoreImmutables(e.body, e.serializedImmutables) }, offset: function (e, t) { if (3 == e.nodeType) for (; (e = e.previousSibling) && 3 == e.nodeType;)t += e.nodeValue.length; return t }, nodeToPath: function (e) { for (var t = []; e != this.rootNode;)t.push(this.index(e)), e = e.parentNode; return t }, toRangePoint: function (e, t, n, i) { for (var o = this.rootNode, r = n.length, a = i; r--;)o = o.childNodes[n[r]]; for (; o && 3 == o.nodeType && o.nodeValue.length < a;)a -= o.nodeValue.length, o = o.nextSibling; o && a >= 0 && e[t ? "setStart" : "setEnd"](o, a) }, toRange: function () { var e = this, t = e.range.cloneRange(); return e.toRangePoint(t, !0, e.startContainer, e.startOffset), e.toRangePoint(t, !1, e.endContainer, e.endOffset), t } }), p = b.extend({
            init: function () { this.caret = null }, addCaret: function (e) { var t = this, n = t.caret = w.create(h.documentFromRange(e), "span", { className: "k-marker" }); return e.insertNode(n), w.stripBomNode(n.previousSibling), w.stripBomNode(n.nextSibling), e.selectNode(n), n }, removeCaret: function (e) { var t, n, i, o, r = this, a = r.caret.previousSibling, s = 0; a && (s = C(a) ? a.nodeValue.length : x(a)), t = r.caret.parentNode, n = a ? x(a) : 0, w.remove(r.caret), N(t), i = t.childNodes[n], C(i) ? e.setStart(i, s) : i ? (o = w.lastTextNode(i), o ? e.setStart(o, o.nodeValue.length) : e[a ? "setStartAfter" : "setStartBefore"](i)) : (y.msie || t.innerHTML || (t.innerHTML = '<br _moz_dirty="" />'), e.selectNodeContents(t)), e.collapse(!0) }, add: function (e, t) { var n, i, o = this, r = e.collapsed && !h.isExpandable(e), a = h.documentFromRange(e); return t && e.collapsed && (o.addCaret(e), e = h.expand(e)), n = e.cloneRange(), n.collapse(!1), o.end = w.create(a, "span", { className: "k-marker" }), n.insertNode(o.end), n = e.cloneRange(), n.collapse(!0), o.start = o.end.cloneNode(!0), n.insertNode(o.start), o._removeDeadMarkers(o.start, o.end), r && (i = a.createTextNode("\ufeff"), w.insertAfter(i.cloneNode(), o.start), w.insertBefore(i, o.end)), N(e.commonAncestorContainer), e.setStartBefore(o.start), e.setEndAfter(o.end), e }, _removeDeadMarkers: function (e, t) { e.previousSibling && "\ufeff" == e.previousSibling.nodeValue && w.remove(e.previousSibling), t.nextSibling && "\ufeff" == t.nextSibling.nodeValue && w.remove(t.nextSibling) }, _normalizedIndex: function (e) { for (var t = x(e), n = e; n.previousSibling;)3 == n.nodeType && 3 == n.previousSibling.nodeType && t-- , n = n.previousSibling; return t }, remove: function (e) {
                var t, n, i, o, r, a, s, l, d, c, u, f, p = this, m = p.start, h = p.end; for (N(e.commonAncestorContainer); !m.nextSibling && m.parentNode;)m = m.parentNode; for (; !h.previousSibling && h.parentNode;)h = h.parentNode; if (t = m.previousSibling && 3 == m.previousSibling.nodeType && m.nextSibling && 3 == m.nextSibling.nodeType, n = h.previousSibling && 3 == h.previousSibling.nodeType && h.nextSibling && 3 == h.nextSibling.nodeType, i = t && n, m = m.nextSibling, h = h.previousSibling, o = m === h && w.isBom(m), o && m.length > 1 && (m.nodeValue = m.nodeValue.charAt(0)), r = o, a = !1, m == p.end && (a = !!p.start.previousSibling, m = h = p.start.previousSibling || p.end.nextSibling,
                    r = !0), w.remove(p.start), w.remove(p.end), !m || !h) return e.selectNodeContents(e.commonAncestorContainer), void e.collapse(!0); if (s = r ? C(m) ? m.nodeValue.length : m.childNodes.length : 0, l = C(h) ? h.nodeValue.length : h.childNodes.length, 3 == m.nodeType) for (; m.previousSibling && 3 == m.previousSibling.nodeType;)m = m.previousSibling, s += m.nodeValue.length; if (3 == h.nodeType) for (; h.previousSibling && 3 == h.previousSibling.nodeType;)h = h.previousSibling, l += h.nodeValue.length; d = m.parentNode, c = h.parentNode, u = this._normalizedIndex(m), f = this._normalizedIndex(h), N(d), 3 == m.nodeType && (m = d.childNodes[u]), N(c), 3 == h.nodeType && (h = c.childNodes[f]), r ? (3 == m.nodeType ? e.setStart(m, s) : e[a ? "setStartAfter" : "setStartBefore"](m), e.collapse(!0)) : (3 == m.nodeType ? e.setStart(m, s) : e.setStartBefore(m), 3 == h.nodeType ? e.setEnd(h, l) : e.setEndAfter(h)), p.caret && p.removeCaret(e)
            }
        }), m = /[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/, h = { nodes: function (e) { var t = h.textNodes(e); return t.length || (e.selectNodeContents(e.commonAncestorContainer), t = h.textNodes(e), t.length || (t = w.significantChildNodes(e.commonAncestorContainer))), t }, textNodes: function (e) { return new d(e).enumerate() }, editableTextNodes: function (e) { var t = [], n = k.Immutables && k.Immutables.immutableParent; return n && !n(e.commonAncestorContainer) && (t = new u(e).enumerate()), t }, documentFromRange: function (e) { var t = e.startContainer; return 9 == t.nodeType ? t : t.ownerDocument }, createRange: function (e) { return y.msie && y.version < 9 ? new S(e) : e.createRange() }, selectRange: function (e) { var t, n = h.image(e); n && (e.setStartAfter(n), e.setEndAfter(n)), t = R.selectionFromRange(e), t.removeAllRanges(), t.addRange(e) }, stringify: function (e) { return g.format("{0}:{1} - {2}:{3}", w.name(e.startContainer), e.startOffset, w.name(e.endContainer), e.endOffset) }, split: function (e, t, n) { function i(i) { var o, r = e.cloneRange(); r.collapse(i), r[i ? "setStartBefore" : "setEndAfter"](t), o = r.extractContents(), n && (o = w.trim(o)), w[i ? "insertBefore" : "insertAfter"](o, t) } i(!0), i(!1) }, mapAll: function (t, n) { var i = []; return new s(t).traverse(function (t) { var o = n(t); o && e.inArray(o, i) < 0 && i.push(o) }), i }, getAll: function (e, t) { var n = t; return "string" == typeof t && (t = function (e) { return w.is(e, n) }), h.mapAll(e, function (e) { if (t(e)) return e }) }, getMarkers: function (e) { return h.getAll(e, function (e) { return "k-marker" == e.className }) }, image: function (e) { var t = h.getAll(e, "img"); if (1 == t.length) return t[0] }, isStartOf: function (e, t) { var n, i, o; if (0 !== e.startOffset) return !1; for (n = e.cloneRange(); 0 === n.startOffset && n.startContainer != t;) { for (i = w.findNodeIndex(n.startContainer), o = n.startContainer.parentNode; i > 0 && o[i - 1] && w.insignificant(o[i - 1]);)i--; n.setStart(o, i) } return 0 === n.startOffset && n.startContainer == t }, isEndOf: function (e, t) { function n(e) { w.insignificant(e) || w.isDataNode(e) && /^[\ufeff]*$/.test(e.nodeValue) || o.push(e) } var i, o, r = e.cloneRange(); return r.collapse(!1), i = r.startContainer, w.isDataNode(i) && r.startOffset == w.getNodeLength(i) && (r.setStart(i.parentNode, w.findNodeIndex(i) + 1), r.collapse(!0)), r.setEnd(t, w.getNodeLength(t)), o = [], new s(r).traverse(n), !o.length }, wrapSelectedElements: function (e) { function t(e, t) { var n, i = w.getNodeLength(t); if (e == i) return !0; for (n = e; n < i; n++)if (!w.insignificant(t.childNodes[n])) return !1; return !0 } for (var n = w.editableParent(e.startContainer), i = w.editableParent(e.endContainer); 0 === e.startOffset && e.startContainer != n;)e.setStart(e.startContainer.parentNode, w.findNodeIndex(e.startContainer)); for (; t(e.endOffset, e.endContainer) && e.endContainer != i;)e.setEnd(e.endContainer.parentNode, w.findNodeIndex(e.endContainer) + 1); return e }, expand: function (e) { var t, n, i, o, r = e.cloneRange(), a = r.startContainer.childNodes[0 === r.startOffset ? 0 : r.startOffset - 1], s = r.endContainer.childNodes[r.endOffset]; return C(a) && C(s) ? (t = a.nodeValue, n = s.nodeValue, t && n ? (i = t.split("").reverse().join("").search(m), o = n.search(m), i && o ? (o = o == -1 ? n.length : o, i = i == -1 ? 0 : t.length - i, r.setStart(a, i), r.setEnd(s, o), r) : r) : r) : r }, isExpandable: function (e) { var t, n, i, o, r, a, s = e.startContainer, l = h.documentFromRange(e); return s != l && s != l.body && (t = e.cloneRange(), !!(n = s.nodeValue) && (i = n.substring(0, t.startOffset), o = n.substring(t.startOffset), r = 0, a = 0, i && (r = i.split("").reverse().join("").search(m)), o && (a = o.search(m)), r && a)) } }, v(k, { SelectionUtils: R, W3CRange: S, RangeIterator: s, W3CSelection: l, RangeEnumerator: d, RestorePoint: f, Marker: p, RangeUtils: h })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/immutables.min", ["editor/range.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = n.Class, o = n.ui.editor, r = o.Dom, a = n.template, s = o.RangeUtils, l = ["ul", "ol", "tbody", "thead", "table"], d = ["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "forecolor", "backcolor", "fontname", "fontsize", "createlink", "unlink", "autolink", "addcolumnleft", "addcolumnright", "addrowabove", "addrowbelow", "deleterow", "deletecolumn", "mergecells", "formatting", "cleanformatting"], c = "k-immutable", u = "[" + c + "]", f = "[contenteditable='false']", p = function (t) { return e(t).is("body,.k-editor") }, m = function (e) { return e.getAttribute && "false" == e.getAttribute("contenteditable") }, h = function (e) { return r.closestBy(e, m, p) }, g = function (e) { var t = h(e.startContainer), n = h(e.endContainer); (t || n) && (t && e.setStartBefore(t), n && e.setEndAfter(n)) }, b = function (e) { if (h(e.commonAncestorContainer)) return !0; if (h(e.startContainer) || h(e.endContainer)) { var t = s.editableTextNodes(e); if (0 === t.length) return !0 } return !1 }, v = function (e) { var t, n = "", i = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"; for (t = e || 10; t > 0; --t)n += i.charAt(Math.round(Math.random() * (i.length - 1))); return n }, k = function (t) { var n, i, o, a = { empty: !0 }; return e(t).find(f).each(function (t, s) { n = r.name(s), i = v(), o = "<" + n + " " + c + "='" + i + "'></" + n + ">", a[i] = { node: s, style: e(s).attr("style") }, a.empty = !1, e(s).replaceWith(o) }), a }, y = function (t, n) { var i, o; e(t).find(u).each(function (t, r) { i = r.getAttribute(c), o = n[i], e(r).replaceWith(o.node), o.style != e(o.node).attr("style") && e(o.node).removeAttr("style").attr("style", o.style) }) }, w = function (e) { var t = n.keys; return e === t.BACKSPACE || e == t.DELETE }, x = function (e) { var n = e ? e.options : t; n && n.finder && n.finder._initOptions({ immutables: !0 }) }, C = i.extend({ init: function (t) { this.editor = t, this.serializedImmutables = {}, this.options = e.extend({}, t && t.options && t.options.immutables); var n = t.toolbar.tools; x(n.justifyLeft), x(n.justifyCenter), x(n.justifyRight), x(n.justifyFull) }, serialize: function (e) { var t, n = this._toHtml(e); return n.indexOf(c) === -1 ? (t = this.randomId(), n = n.replace(/>/, " " + c + '="' + t + '">')) : t = n.match(/k-immutable\s*=\s*['"](.*)['"]/)[1], this.serializedImmutables[t] = e, n }, _toHtml: function (e) { var t, n = this.options.serialization, i = typeof n; switch (i) { case "string": return a(n)(e); case "function": return n(e); default: return t = r.name(e), "<" + t + "></" + t + ">" } }, deserialize: function (t) { var i = this, o = this.options.deserialization; e(u, t).each(function () { var t = this.getAttribute(c), r = i.serializedImmutables[t]; n.isFunction(o) && o(this, r), e(this).replaceWith(r) }), i.serializedImmutables = {} }, randomId: function (e) { return v(e) }, keydown: function (e, t) { var n = w(e.keyCode), i = n && this._cancelDeleting(e, t) || !n && this._cancelTyping(e, t); if (i) return e.preventDefault(), !0 }, _cancelTyping: function (e, t) { var n = this.editor, i = n.keyboard; return t.collapsed && !i.typingInProgress && i.isTypingKey(e) && b(t) }, _cancelDeleting: function (e, t) { var i, o, a, s, d = n.keys, c = e.keyCode === d.BACKSPACE, u = e.keyCode == d.DELETE; if (!c && !u) return !1; if (i = !1, t.collapsed) { if (b(t)) return !0; if (o = this.nextImmutable(t, u), o && c && (a = r.closest(t.commonAncestorContainer, "li"), a && (s = r.closest(o, "li"), s && s !== a))) return i; if (o && !r.tableCell(o)) { if (r.parentOfType(o, l) === r.parentOfType(t.commonAncestorContainer, l)) { for (; o && 1 == o.parentNode.childNodes.length;)o = o.parentNode; if (r.tableCell(o)) return i; this._removeImmutable(o, t) } i = !0 } } return i }, nextImmutable: function (e, t) { var n, i = e.commonAncestorContainer; if (r.isBom(i) || t && s.isEndOf(e, i) || !t && s.isStartOf(e, i)) { if (n = this._nextNode(i, t), n && r.isBlock(n) && !h(n)) for (; n && n.children && n.children[t ? 0 : n.children.length - 1];)n = n.children[t ? 0 : n.children.length - 1]; return h(n) } }, _removeImmutable: function (e, t) { var n = this.editor, i = new o.RestorePoint(t, n.body); r.remove(e), o._finishUpdate(n, i) }, _nextNode: function (e, t) { for (var n, i = t ? "nextSibling" : "previousSibling", o = e; o && !n;)n = o[i], n && r.isDataNode(n) && /^\s|[\ufeff]$/.test(n.nodeValue) && (o = n, n = o[i]), n || (o = o.parentNode); return n } }); C.immutable = m, C.immutableParent = h, C.expandImmutablesIn = g, C.immutablesContext = b, C.toolsToBeUpdated = d, C.removeImmutables = k, C.restoreImmutables = y, o.Immutables = C }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/command.min", ["editor/immutables.min"], e) }(function () { !function (e) { function t(e, t) { var n = e.selectionRestorePoint = new a(e.getRange(), e.body), i = new c(t, n); return i.editor = e, e.undoRedoStack.push(i), n } var n = window.kendo, i = n.Class, o = n.ui.editor, r = o.Dom, a = o.RestorePoint, s = o.Marker, l = e.extend, d = i.extend({ init: function (e) { this.options = e, this.restorePoint = new a(e.range, e.body, { immutables: e.immutables }), this.marker = new s, this.formatter = e.formatter }, getRange: function () { return this.restorePoint.toRange() }, lockRange: function (e) { return this.marker.add(this.getRange(), e) }, releaseRange: function (e) { this.marker.remove(e), this.editor.selectRange(e) }, undo: function () { var e = this.restorePoint; e.restoreHtml(), this.editor.selectRange(e.toRange()) }, redo: function () { this.exec() }, createDialog: function (t, i) { var o = this.editor; return e(t).appendTo(document.body).kendoWindow(l({}, o.options.dialogOptions, i)).closest(".k-window").toggleClass("k-rtl", n.support.isRtl(o.wrapper)).end() }, exec: function () { var e = this.lockRange(!0); this.formatter.editor = this.editor, this.formatter.toggle(e), this.releaseRange(e) }, immutables: function () { return this.editor && this.editor.options.immutables }, expandImmutablesIn: function (e) { this.immutables() && (n.ui.editor.Immutables.expandImmutablesIn(e), this.restorePoint = new a(e, this.editor.body)) } }), c = i.extend({ init: function (e, t) { this.body = e.body, this.startRestorePoint = e, this.endRestorePoint = t }, redo: function () { r.removeChildren(this.body), this.body.innerHTML = this.endRestorePoint.html, this.editor.selectRange(this.endRestorePoint.toRange()) }, undo: function () { r.removeChildren(this.body), this.body.innerHTML = this.startRestorePoint.html, this.editor.selectRange(this.startRestorePoint.toRange()) } }); l(o, { _finishUpdate: t, Command: d, GenericCommand: c }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/toolbar.min", ["editor/range.min"], e) }(function () { !function (e, t) { var n, i = window.kendo, o = i.ui, r = o.editor, a = o.Widget, s = e.extend, l = e.proxy, d = i.keys, c = ".kendoEditor", u = r.EditorUtils, f = r.ToolTemplate, p = r.Tool, m = i._outerWidth, h = i._outerHeight, g = "overflowAnchor", b = ".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor:visible,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input", v = { "k-i-sup-script": "superscript", "k-i-sub-script": "subscript", "k-i-align-left": "justifyLeft", "k-i-align-center": "justifyCenter", "k-i-align-right": "justifyRight", "k-i-align-justify": "justifyFull", "k-i-list-unordered": "insertUnorderedList", "k-i-list-ordered": "insertOrderedList", "k-i-login": "import", "k-i-indent-increase": "indent", "k-i-indent-decrease": "outdent", "k-i-link-horizontal": "createLink", "k-i-unlink-horizontal": "unlink", "k-i-image": "insertImage", "k-i-file-add": "insertFile", "k-i-html": "viewHtml", "k-i-foreground-color": "foreColor", "k-i-paint": "backColor", "k-i-table-insert": "createTable", "k-i-table-column-insert-left": "addColumnLeft", "k-i-table-column-insert-right": "addColumnRight", "k-i-table-row-insert-above": "addRowAbove", "k-i-table-row-insert-below": "addRowBelow", "k-i-table-row-delete": "deleteRow", "k-i-table-column-delete": "deleteColumn", "k-i-table-properties": "tableWizard", "k-i-table-wizard": "tableWizardInsert", "k-i-clear-css": "cleanFormatting" }, k = p.extend({ initialize: function (t, n) { t.attr({ unselectable: "on" }); var i = n.editor.toolbar; t.attr("aria-controls", n.editor.element.attr("id")).on("click", e.proxy(function () { this.overflowPopup.toggle() }, i)) }, options: { name: g }, command: e.noop, update: e.noop, destroy: e.noop }); u.registerTool(g, new k({ key: "", ctrl: !0, template: new f({ template: u.overflowAnchorTemplate }) })), n = a.extend({ init: function (e, t) { var n = this; t = s({}, t, { name: "EditorToolbar" }), a.fn.init.call(n, e, t), t.popup && n._initPopup(), t.resizable && t.resizable.toolbar && (n._resizeHandler = i.onResize(function () { n.resize() }), n.element.addClass("k-toolbar-resizable")) }, events: ["execute"], groups: { basic: ["bold", "italic", "underline", "strikethrough"], scripts: ["subscript", "superscript"], alignment: ["justifyLeft", "justifyCenter", "justifyRight", "justifyFull"], links: ["insertImage", "insertFile", "createLink", "unlink"], lists: ["insertUnorderedList", "insertOrderedList", "indent", "outdent"], tables: ["createTable", "addColumnLeft", "addColumnRight", "addRowAbove", "addRowBelow", "deleteRow", "deleteColumn"], advanced: ["viewHtml", "cleanFormatting", "print", "pdf", "exportAs", "import"], fonts: ["fontName", "fontSize"], colors: ["foreColor", "backColor"] }, overflowFlaseTools: ["formatting", "fontName", "fontSize", "foreColor", "backColor", "insertHtml"], _initPopup: function () { var t = this; this.window = e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag' /></button>").kendoWindow({ title: !1, resizable: !1, draggable: { dragHandle: ".k-editortoolbar-dragHandle" }, animation: { open: { effects: "fade:in" }, close: { effects: "fade:out" } }, minHeight: 42, visible: !1, autoFocus: !1, actions: [], dragend: function () { this._moved = !0 } }).on("mousedown", function (n) { e(n.target).is(".k-icon") || (t.preventPopupHide = !0) }).on("focusout", function () { t.options.editor.element.focusout() }).data("kendoWindow") }, _toggleOverflowStyles: function (e, t) { e.find("li").toggleClass("k-item k-state-default", t).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button", t) }, _initOverflowPopup: function (t) { var n = this, i = "<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>"; n.overflowPopup = e(i).appendTo("body").kendoPopup({ anchor: t, origin: "bottom right", position: "top right", copyAnchorStyles: !1, open: function (e) { this.element.is(":empty") && e.preventDefault(), n._toggleOverflowStyles(this.element, !0), t.attr("aria-expanded", !0) }, close: function () { t.attr("aria-expanded", !1) }, activate: l(n.focusOverflowPopup, n) }).data("kendoPopup") }, items: function () { var e, t, n = this.options.resizable && this.options.resizable.toolbar; return t = this.element.children().find("> *, select"), n && (e = this.overflowPopup, t = t.add(e.element.children().find("> *"))), t }, focused: function () { return this.element.find(".k-state-focused").length > 0 || this.preventPopupHide || this.overflowPopup && this.overflowPopup.visible() }, toolById: function (e) { var t, n = this.tools; for (t in n) if (t.toLowerCase() == e) return n[t] }, toolGroupFor: function (t) { var n, i = this.groups; if (this.isCustomTool(t)) return "custom"; for (n in i) if (e.inArray(t, i[n]) >= 0) return n }, bindTo: function (t) { var n = this, i = n.window; n._editor && n._editor.unbind("select", l(n.resize, n)), n._editor = t, n.options.resizable && n.options.resizable.toolbar && t.options.tools.push(g), n.tools = n.expandTools(t.options.tools), n.render(), n.element.find(".k-combobox .k-input").keydown(function (t) { var n = e(this).closest(".k-combobox").data("kendoComboBox"), i = t.keyCode; i == d.RIGHT || i == d.LEFT ? n.close() : i == d.DOWN && (n.dropDown.isOpened() || (t.stopImmediatePropagation(), n.open())) }), n._attachEvents(), n.items().each(function () { var i, o = n._toolName(this), r = "moreVertical" !== o ? n.tools[o] : n.tools.overflowAnchor, a = r && r.options, s = t.options.messages, l = a && a.tooltip || s[o], d = e(this); r && r.initialize && ("fontSize" != o && "fontName" != o || (i = s[o + "Inherit"], d.find("input").val(i).end().find("span.k-input").text(i).end()), r.initialize(d, { title: n._appendShortcutSequence(l, r), editor: n._editor }), d.closest(".k-widget", n.element).addClass("k-editor-widget"), d.closest(".k-colorpicker", n.element).next(".k-colorpicker").addClass("k-editor-widget")) }), t.bind("select", l(n.resize, n)), n.update(), i && i.wrapper.css({ top: "", left: "", width: "" }) }, show: function () { var e, t, n, o = this, r = o.window, a = o.options.editor, s = i.support.browser; r && (e = r.wrapper, t = a.element, e.is(":visible") && o.window.options.visible || (e[0].style.width || e.width(m(t) - parseInt(e.css("border-left-width"), 10) - parseInt(e.css("border-right-width"), 10)), r._moved || (n = t.offset(), e.css({ top: Math.max(0, parseInt(n.top, 10) - h(e) - parseInt(o.window.element.css("padding-bottom"), 10)), left: Math.max(0, parseInt(n.left, 10)) })), (s.msie || s.edge) && o._overlaps(t) ? setTimeout(function () { r.open() }, 0) : r.open())) }, _overlaps: function (e) { var t = this.window.wrapper, n = t.offset(), i = n.left, o = n.top, r = e.offset(), a = r.left, s = r.top; return !(a + e.width() < i || a > i + t.width() || s + e.height() < o || s > o + t.height()) }, hide: function () { this.window && this.window.close() }, focus: function () { var e = "tabIndex", t = this.element, n = this._editor.element.attr(e); t.attr(e, n || 0).focus().find(b).first().focus(), n || 0 === n || t.removeAttr(e) }, focusOverflowPopup: function () { var e = "tabIndex", t = this.overflowPopup.element, n = this._editor.element.attr(e); t.closest(".k-animation-container").addClass("k-overflow-wrapper"), t.attr(e, n || 0).find(b).first().focus(), n || 0 === n || t.removeAttr(e) }, _appendShortcutSequence: function (e, t) { if (!t.key) return e; var n = e + " ("; return t.ctrl && (n += "Ctrl + "), t.shift && (n += "Shift + "), t.alt && (n += "Alt + "), n += t.key + ")" }, _nativeTools: ["insertLineBreak", "insertParagraph", "redo", "undo", "autoLink"], tools: {}, isCustomTool: function (e) { return !(e in i.ui.Editor.defaultTools) }, expandTools: function (t) { var n, o, a, l, d = this._nativeTools, c = i.deepExtend({}, i.ui.Editor.defaultTools), u = {}; for (o = 0; o < t.length; o++)n = t[o], l = n.name, e.isPlainObject(n) ? l && c[l] ? (u[l] = s({}, c[l]), s(u[l].options, n)) : (a = s({ cssClass: "k-i-gear", type: "button", title: "" }, n), a.name || (a.name = "custom"), a.cssClass = "k-" + a.name, a.template || "button" != a.type || (a.template = r.EditorUtils.buttonTemplate, a.title = a.title || a.tooltip), u[l] = { options: a }) : c[n] && (u[n] = c[n]); for (o = 0; o < d.length; o++)u[d[o]] || (u[d[o]] = c[d[o]]); return u }, render: function () { function t(t) { var n; return t.getHtml ? n = t.getHtml() : (e.isFunction(t) || (t = i.template(t)), n = t(r)), e.trim(n) } function n() { f.children().length && (x && (f.data("position", w), w++), f.appendTo(v)) } function o(t) { t !== g ? (f = e("<li class='k-tool-group' role='presentation' />"), f.data("overflow", e.inArray(t, C) === -1)) : f = e("<li class='k-overflow-tools' />") } var r, a, s, d, c, u, f, p, m = this, h = m.tools, b = m._editor.element, v = m.element.empty(), k = m._editor.options.tools, y = i.support.browser, w = 0, x = m.options.resizable && m.options.resizable.toolbar, C = this.overflowFlaseTools; for (v.empty(), k.length && (d = k[0].name || k[0]), o(d, C), p = 0; p < k.length; p++)d = k[p].name || k[p], r = h[d] && h[d].options, !r && e.isPlainObject(d) && (r = d), a = r && r.template, "break" == d && (n(), e("<li class='k-row-break' />").appendTo(m.element), o(d, C)), a && (u = m.toolGroupFor(d), c == u && d != g || (n(), o(d, C), c = u), d == g && (a.options.title = m.options.messages.overflowAnchor), a = t(a), s = e(a).appendTo(f), "custom" == u && (n(), o(d, C)), r.exec && s.hasClass("k-tool") && s.click(l(r.exec, b[0]))); n(), e(m.element).children(":has(> .k-tool)").addClass("k-button-group"), m.options.popup && y.msie && y.version < 9 && m.window.wrapper.find("*").attr("unselectable", "on"), m.updateGroups(), x && m._initOverflowPopup(m.element.find(".k-overflow-anchor")), m.angular("compile", function () { return { elements: m.element } }) }, updateGroups: function () { e(this.element).children().each(function () { e(this).addClass("k-state-disabled"), e(this).children().filter(function () { return !e(this).hasClass("k-state-disabled") }).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end().parent().removeClass("k-state-disabled").css("display", "") }) }, decorateFrom: function (t) { this.items().filter(".k-decorated").each(function () { var n = e(this).data("kendoSelectBox"); n && n.decorate(t) }) }, destroy: function () { a.fn.destroy.call(this); var e, t = this.tools; for (e in t) t[e].destroy && t[e].destroy(); this.window && this.window.destroy(), this._resizeHandler && i.unbindResize(this._resizeHandler), this.overflowPopup && this.overflowPopup.destroy() }, _attachEvents: function () { var t = this, n = t.overflowPopup ? t.overflowPopup.element : e([]); t.attachToolsEvents(t.element.add(n)) }, attachToolsEvents: function (t) { var n = this, o = "[role=button].k-tool", r = o + ":not(.k-state-disabled)", a = o + ".k-state-disabled", s = ".k-dropdown", l = ".k-colorpicker", u = [o, s, l].join(","); t.off(c).on("mouseenter" + c, r, function () { e(this).addClass("k-state-hover") }).on("mouseleave" + c, r, function () { e(this).removeClass("k-state-hover") }).on("mousedown" + c, u, function (e) { e.preventDefault() }).on("keydown" + c, b, function (t) { function o(e, t, n) { var i = t.find(b), o = i.index(l) + e; return n && (o = Math.max(0, Math.min(i.length - 1, o))), i[o] } var r, a, s, l = this, c = n.options.resizable && n.options.resizable.toolbar, u = i.support.isRtl(n.element) ? -1 : 1, f = t.keyCode; f == d.RIGHT || f == d.LEFT ? a = e(l).is(".k-dropdown") ? e(l) : o(f == d.RIGHT ? 1 * u : -1 * u, n.element, !0) : !c || f != d.UP && f != d.DOWN ? f == d.HOME ? (a = n.element.find(b)[0], t.preventDefault()) : f == d.END ? (r = n.element.find(b).filter(function () { return "hidden" !== e(this).css("visibility") }), a = r[r.length - 1], t.preventDefault()) : f == d.ESC ? (n.overflowPopup && n.overflowPopup.visible() && n.overflowPopup.close(), a = n._editor) : f != d.TAB || t.ctrlKey || t.altKey || (s = c && e(l.parentElement).hasClass("k-overflow-tool-group") ? n.overflowPopup.element : n.element, t.shiftKey ? a = o(-1, s) : (a = o(1, s), a && "hidden" !== e(a).closest(".k-overflow-tools").css("visibility") || (a = n._editor))) : a = o(f == d.DOWN ? 1 : -1, n.overflowPopup.element, !0), a && (t.preventDefault(), a.focus()), f !== d.ENTER && f !== d.SPACEBAR || !e(l).is("a") || e(l).attr("href") || n._executeToolCommand(l, t) }).on("click" + c, r, function (e) { n._executeToolCommand(this, e) }).on("click" + c, a, function (e) { e.preventDefault() }) }, _executeToolCommand: function (t, n) { var i = this, o = e(t); n.preventDefault(), n.stopPropagation(), o.removeClass("k-state-hover"), o.is("[data-popup]") || i._editor.exec(i._toolName(t)) }, _toolName: function (t) { var n, o, r; if (t) return n = t.className, /k-tool\b/i.test(n) && (n = t.firstChild.className), o = e.grep(n.split(" "), function (e) { return !/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e) }), o[0] ? (r = o[0], v[r] && (r = v[r]), r.indexOf("k-i-") >= 0 ? i.toCamelCase(r.substring(r.indexOf("k-i-") + 4)) : r.substring(r.lastIndexOf("-") + 1)) : "custom" }, refreshTools: function () { var t = this, n = t._editor, i = n.getRange(), o = r.RangeUtils.textNodes(i), a = n.options.immutables, s = t._immutablesContext(i); o = r.Dom.filterBy(o, r.Dom.htmlIndentSpace, !0), o.length || (o = [i.startContainer]), t.items().each(function () { var n, i = t.tools[t._toolName(this)]; i && (n = e(this), i.update && i.update(n, o), a && t._updateImmutablesState(i, n, s)) }), this.update() }, _immutablesContext: function (e) { if (this._editor.options.immutables) return e.collapsed ? r.Immutables.immutablesContext(e) : 0 === r.RangeUtils.editableTextNodes(e).length }, _updateImmutablesState: function (n, i, o) { var a, s, l, d, c, u = n.name, f = i, p = n.options.trackImmutables; if (p === t && (p = e.inArray(u, r.Immutables.toolsToBeUpdated) > -1), p) { if (a = o ? "none" : "", !i.is(".k-tool")) { s = i.data(); for (l in s) if (l.match(/^kendo[A-Z][a-zA-Z]*/)) { d = s[l], f = d.wrapper; break } } f.css("display", a), c = f.closest("li"), 0 === c.children(":visible").length && c.css("display", a) } }, update: function () { this.updateGroups() }, _resize: function (e) { var t = e.width, n = this.options.resizable && this.options.resizable.toolbar, i = this.overflowPopup; this.refreshTools(), n && (i.visible() && i.close(!0), this._refreshWidths(), this._shrink(t), this._stretch(t), this._toggleOverflowStyles(this.element, !1), this._toggleOverflowStyles(this.overflowPopup.element, !0), this.element.children("li.k-overflow-tools").css("visibility", i.element.is(":empty") ? "hidden" : "visible")) }, _refreshWidths: function () { this.element.children("li").each(function (t, n) { var i = e(n); i.data("outerWidth", m(i, !0)) }) }, _shrink: function (e) { var t, n, i; if (e < this._groupsWidth()) for (n = this._visibleGroups().filter(":not(.k-overflow-tools)"), i = n.length - 1; i >= 0 && (t = n.eq(i), !(e > this._groupsWidth())); i--)this._hideGroup(t) }, _stretch: function (e) { var t, n, i; if (e > this._groupsWidth()) for (n = this._hiddenGroups(), i = 0; i < n.length && (t = n.eq(i), !(e < this._groupsWidth()) && this._showGroup(t, e)); i++); }, _hiddenGroups: function () { var t = this.overflowPopup, n = this.element.children("li.k-tool-group").filter(":hidden"); return n = n.add(t.element.children("li")), n.sort(function (t, n) { return e(t).data("position") > e(n).data("position") ? 1 : -1 }), n }, _visibleGroups: function () { return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible") }, _groupsWidth: function () { var t = 0; return this._visibleGroups().each(function () { t += e(this).data("outerWidth") }), Math.ceil(t) }, _hideGroup: function (e) { if (e.data("overflow")) { var t = this.overflowPopup; e.detach().prependTo(t.element).addClass("k-overflow-tool-group") } else e.hide() }, _showGroup: function (t, n) { var i, o; return !!(t.length && n > this._groupsWidth() + t.data("outerWidth")) && (t.hasClass("k-overflow-tool-group") ? (i = t.data("position"), 0 === i ? t.detach().prependTo(this.element) : (o = this.element.children().filter(function (t, n) { return e(n).data("position") === i - 1 }), t.detach().insertAfter(o)), t.removeClass("k-overflow-tool-group")) : t.show(), !0) } }), e.extend(r, { Toolbar: n }) }(window.jQuery || window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/viewhtml.min", ["editor/command.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = e.extend, o = n.ui.editor, r = o.EditorUtils, a = o.Command, s = o.Tool, l = o.ToolTemplate, d = o.Dom, c = a.extend({ init: function (e) { var t = this; t.options = e, a.fn.init.call(t, e), t.attributes = null, t.async = !0 }, exec: function () { function i(e) { f.deserialization.immutables = u.immutables, u.value(m.find(h).val()), f.deserialization.immutables = t, o(e), l.change && l.change(), u.trigger("change") } function o(e) { e.preventDefault(), m.data("kendoWindow").destroy(), u.immutables && (u.immutables.serializedImmutables = {}), u.focus() } var a, s, l = this, u = l.editor, f = u.options, p = u.options.messages, m = e(n.template(c.template)(p)).appendTo(document.body), h = ".k-editor-textarea"; f.serialization.immutables = u.immutables, s = d.getAllComments(u.body), a = r.cacheComments(u.value(), s), a = c.indent(a), a = r.retrieveComments(a, s), f.serialization.immutables = t, this.createDialog(m, { title: p.viewHtml, close: o, visible: !1 }).find(h).val(a).end().find(".k-dialog-update").click(i).end().find(".k-dialog-close").click(o).end().data("kendoWindow").center().open(), m.find(h).focus() } }); i(c, { template: "<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'><div class='k-edit-form-container'></div><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div></div>", indent: function (e) { return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi, "</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi, "<$1$2>\n<li").replace(/<br \/>/gi, "<br />\n").replace(/\n$/, "") } }), n.ui.editor.ViewHtmlCommand = c, o.EditorUtils.registerTool("viewHtml", new s({ command: c, template: new l({ template: r.buttonTemplate, title: "View HTML" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/format.min", ["editor/command.min"], e) }(function () { !function (e) { var t = window.kendo, n = e.extend, i = t.ui.editor, o = i.Tool, r = i.Command, a = i.EditorUtils, s = r.extend({ init: function (e) { e.formatter = e.formatter(); var t = e.formatter.finder; t && a.formatByName("immutable", t.format) && t._initOptions({ immutables: e.immutables }), r.fn.init.call(this, e) } }), l = o.extend({ init: function (e) { o.fn.init.call(this, e) }, command: function (e) { var t = this; return new s(n(e, { formatter: t.options.formatter })) }, update: function (e, t) { var n = this.options.finder.isFormatted(t); e.toggleClass("k-state-selected", n), e.attr("aria-pressed", n) } }); e.extend(i, { FormatCommand: s, FormatTool: l }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/inlineformat.min", ["editor/plugins/format.min"], e) }(function () {
    !function (e) {
        var t = window.kendo, n = t.Class, i = t.ui.editor, o = t.ui.Editor.fn.options.formats, r = i.EditorUtils, a = i.Tool, s = i.ToolTemplate, l = i.FormatTool, d = i.Dom, c = i.RangeUtils, u = e.extend, f = i.EditorUtils.registerTool, p = i.EditorUtils.registerFormat, m = function (e) { e.preventDefault() }, h = "mousedown.kendoEditor", g = "keydown.kendoEditor", b = "k-marker", v = n.extend({ init: function (e) { this.format = e }, numberOfSiblings: function (e) { var t, n = 0, i = 0, o = 0, r = e.parentNode; for (t = r.firstChild; t; t = t.nextSibling)t != e && (t.className == b ? o++ : 3 == t.nodeType ? n++ : i++); return o > 1 && r.firstChild.className == b && r.lastChild.className == b ? 0 : i + n }, findSuitable: function (e, t) { var n, i; if (!t && this.numberOfSiblings(e) > 0) return null; for (n = e.parentNode, i = this.format[0].tags; !d.ofType(n, i);) { if (this.numberOfSiblings(n) > 0) return null; n = n.parentNode } return n }, findFormat: function (e) { var t, n, i, o, r, a = this.format, s = d.attrEquals; for (t = 0, n = a.length; t < n; t++) { if (i = e, o = a[t].tags, r = a[t].attr, i && d.ofType(i, o) && s(i, r)) return i; for (; i;)if (i = d.parentOfType(i, o), i && s(i, r)) return i } return null }, isFormatted: function (e) { var t, n; for (t = 0, n = e.length; t < n; t++)if (this.findFormat(e[t])) return !0; return !1 } }), k = n.extend({ init: function (e, t) { this.finder = new v(e), this.attributes = u({}, e[0].attr, t), this.tag = e[0].tags[0] }, wrap: function (e) { return d.wrap(e, d.create(e.ownerDocument, this.tag, this.attributes)) }, activate: function (e, t) { this.finder.isFormatted(t) ? (this.split(e), this.remove(t)) : this.apply(t) }, toggle: function (e) { var t = this.immutables() ? c.editableTextNodes : c.textNodes, n = t(e); n.length > 0 && this.activate(e, n) }, immutables: function () { return this.editor && this.editor.options.immutables }, apply: function (e) { var t, n, i, o, r = [], a = this.attributes, s = a ? a.style || {} : {}; for (t = 0, n = e.length; t < n; t++) { if (i = e[t], o = this.finder.findSuitable(i)) d.is(o, "font") && (s.color && o.removeAttribute("color"), s.fontName && o.removeAttribute("face"), s.fontSize && o.removeAttribute("size")), d.attr(o, a); else { for (; !d.isBlock(i.parentNode) && 1 == i.parentNode.childNodes.length && "true" !== i.parentNode.contentEditable;)i = i.parentNode; o = this.wrap(i) } r.push(o) } this.consolidate(r) }, remove: function (e) { var t, n, i; for (t = 0, n = e.length; t < n; t++)i = this.finder.findFormat(e[t]), i && (this.attributes && this.attributes.style ? (d.unstyle(i, this.attributes.style), i.style.cssText || i.attributes["class"] || d.unwrap(i)) : d.unwrap(i)) }, split: function (e) { var t, n, i = c.textNodes(e), o = i.length; if (o > 0) for (t = 0; t < o; t++)n = this.finder.findFormat(i[t]), n && c.split(e, n, !0) }, consolidate: function (e) { for (var t, n; e.length > 1;)if (t = e.pop(), n = e[e.length - 1], t.previousSibling && t.previousSibling.className == b && n.appendChild(t.previousSibling), t.tagName == n.tagName && t.previousSibling == n && t.style.cssText == n.style.cssText) { for (; t.firstChild;)n.appendChild(t.firstChild); d.remove(t) } } }), y = v.extend({ init: function (e, t) { this.format = e, this.greedyProperty = t, v.fn.init.call(this, e) }, getInlineCssValue: function (t) { var n, i, o, r, a, s, l, c, u, f, p, m, h = t.attributes, g = e.trim; if (h) for (n = 0, i = h.length; n < i; n++)if (o = h[n], r = o.nodeName, a = o.nodeValue, o.specified && "style" == r) for (s = g(a || t.style.cssText).split(";"), c = 0, u = s.length; c < u; c++)if (l = s[c], l.length) { if (f = l.split(":"), p = g(f[0].toLowerCase()), m = g(f[1]), p != this.greedyProperty) continue; return p.indexOf("color") >= 0 ? d.toHex(m) : m } }, getFormatInner: function (t) { var n, i, o, r = e(d.isDataNode(t) ? t.parentNode : t), a = r.parentsUntil("[contentEditable]").addBack().toArray().reverse(); for (n = 0, i = a.length; n < i; n++)if (o = "className" == this.greedyProperty ? a[n].className : this.getInlineCssValue(a[n])) return o; return "inherit" }, getFormat: function (e) { var t, n, i = this.getFormatInner(e[0]); for (t = 1, n = e.length; t < n; t++)if (i != this.getFormatInner(e[t])) return ""; return i }, isFormatted: function (e) { return "" !== this.getFormat(e) } }), w = k.extend({
            init: function (e, n, i) { k.fn.init.call(this, e, n), this.values = n, this.finder = new y(e, i), i && (this.greedyProperty = t.toCamelCase(i)) }, activate: function (e, t) {
                var n = this.greedyProperty, i = "apply";
                this.split(e), n && "inherit" == this.values.style[n] && (i = "remove"), this[i](t)
            }
        }), x = l.extend({ init: function (e) { l.fn.init.call(this, u(e, { finder: new v(e.format), formatter: function () { return new k(e.format) } })) } }), C = a.extend({ update: function (e, t) { var n = e.data(this.type); n.close(), n.value(this.finder.getFormat(t)) } }), T = C.extend({ init: function (e) { a.fn.init.call(this, e), this.type = t.support.browser.msie || t.support.touch ? "kendoDropDownList" : "kendoComboBox", this.format = [{ tags: ["span", "font"] }], this.finder = new y(this.format, e.cssAttr) }, command: function (e) { var t = this.options, n = this.format, o = {}; return new i.FormatCommand(u(e, { formatter: function () { return o[t.domAttr] = e.value, new w(n, { style: o }, t.cssAttr) } })) }, initialize: function (e, n) { var i, o, r, s = n.editor, l = this.options, d = l.name, c = []; l.defaultValue && (c = [{ text: s.options.messages[l.defaultValue[0].text], value: l.defaultValue[0].value }]), i = c.concat(l.items ? l.items : s.options[d] || []), e.attr({ title: n.title }), e[this.type]({ dataTextField: "text", dataValueField: "value", dataSource: i, change: function () { s._range = o, a.exec(s, d, this.value()) }, close: function () { setTimeout(function () { s._deleteSavedRange() }, 0) }, highlightFirst: !1 }), e.closest(".k-widget").removeClass("k-" + d).find("*").addBack().attr("unselectable", "on"), r = e.data(this.type), r.value("inherit"), r.wrapper.on(h, ".k-select,.k-input", function () { var e = s.getRange(); o = s._containsRange(e) ? e : o }).on(g, function (e) { e.keyCode === t.keys.ENTER && (s._deleteSavedRange(), e.preventDefault()) }) } }), _ = a.extend({ init: function (e) { a.fn.init.call(this, e), this.format = [{ tags: ["span", "font"] }], this.finder = new y(this.format, e.cssAttr) }, options: { palette: "websafe" }, update: function () { this._widget.close() }, command: function (e) { var t = this.options, n = this.format, o = {}; return new i.FormatCommand(u(e, { formatter: function () { return o[t.domAttr] = e.value, new w(n, { style: o }, t.cssAttr) } })) }, initialize: function (e, n) { var i = n.editor, o = this.name, s = u({}, _.fn.options, this.options), l = s.palette, d = s.columns; e = this._widget = new t.ui.ColorPicker(e, { toolIcon: "k-icon k-i-" + r.getToolCssClass(s.name), palette: l, columns: d, change: function () { var t = e.value(); t && a.exec(i, o, t), i.focus() }, open: function (e) { var t = e.sender; t.value(null), t._popup.element.on(h, m), t._popup.element.is("[unselectable='on']") || t._popup.element.attr({ unselectable: "on" }).find("*").attr("unselectable", "on") }, close: function (e) { e.sender._popup.element.off(h) }, activate: function (t) { t.preventDefault(), e.trigger("change") } }), e.wrapper.attr({ title: n.title, unselectable: "on" }).find("*").attr("unselectable", "on") } }); u(i, { InlineFormatFinder: v, InlineFormatter: k, DelayedExecutionTool: C, GreedyInlineFormatFinder: y, GreedyInlineFormatter: w, InlineFormatTool: x, FontTool: T, ColorTool: _ }), p("bold", [{ tags: ["strong", "b"] }, { tags: ["span"], attr: { style: { fontWeight: "bold" } } }]), f("bold", new x({ key: "B", ctrl: !0, format: o.bold, template: new s({ template: r.buttonTemplate, title: "Bold" }) })), p("italic", [{ tags: ["em", "i"] }, { tags: ["span"], attr: { style: { fontStyle: "italic" } } }]), f("italic", new x({ key: "I", ctrl: !0, format: o.italic, template: new s({ template: r.buttonTemplate, title: "Italic" }) })), p("underline", [{ tags: ["span"], attr: { style: { textDecoration: "underline" } } }, { tags: ["u"] }]), f("underline", new x({ key: "U", ctrl: !0, format: o.underline, template: new s({ template: r.buttonTemplate, title: "Underline" }) })), p("strikethrough", [{ tags: ["del", "strike"] }, { tags: ["span"], attr: { style: { textDecoration: "line-through" } } }]), f("strikethrough", new x({ format: o.strikethrough, template: new s({ template: r.buttonTemplate, title: "Strikethrough" }) })), p("superscript", [{ tags: ["sup"] }]), f("superscript", new x({ format: o.superscript, template: new s({ template: r.buttonTemplate, title: "Superscript" }) })), p("subscript", [{ tags: ["sub"] }]), f("subscript", new x({ format: o.subscript, template: new s({ template: r.buttonTemplate, title: "Subscript" }) })), f("foreColor", new _({ cssAttr: "color", domAttr: "color", name: "foreColor", template: new s({ template: r.colorPickerTemplate, title: "Color" }) })), f("backColor", new _({ cssAttr: "background-color", domAttr: "backgroundColor", name: "backColor", template: new s({ template: r.colorPickerTemplate, title: "Background Color" }) })), f("fontName", new T({ cssAttr: "font-family", domAttr: "fontFamily", name: "fontName", defaultValue: [{ text: "fontNameInherit", value: "inherit" }], template: new s({ template: r.comboBoxTemplate, title: "Font Name" }) })), f("fontSize", new T({ cssAttr: "font-size", domAttr: "fontSize", name: "fontSize", defaultValue: [{ text: "fontSizeInherit", value: "inherit" }], template: new s({ template: r.comboBoxTemplate, title: "Font Size" }) }))
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/link.min", ["editor/plugins/inlineformat.min"], e) }(function () { !function (e, t) { function n(e, t) { for (var n = e.length; n-- && !t.test(e[n]);); return n } function i(e, t) { var n = t.exec(e); return n ? n.index : -1 } var o = window.kendo, r = o.Class, a = e.extend, s = e.proxy, l = o.ui.editor, d = l.Dom, c = l.RangeUtils, u = l.EditorUtils, f = l.Command, p = l.Tool, m = l.ToolTemplate, h = l.InlineFormatter, g = l.InlineFormatFinder, b = c.textNodes, v = c.editableTextNodes, k = l.EditorUtils.registerTool, y = o.keys, w = "http://", x = /^\w*:\/\//, C = /[\w\/\$\-_\*\?]/i, T = r.extend({ findSuitable: function (e) { return d.parentOfType(e, ["a"]) } }), _ = r.extend({ init: function () { this.finder = new T }, apply: function (e, t) { var n, i, o, r, a, s, l, u = this.immutables ? v(e) : b(e); if (t.innerHTML) { for (i = c.documentFromRange(e), n = c.getMarkers(e), e.deleteContents(), r = d.create(i, "a", t), e.insertNode(r), a = r.parentNode, "a" == d.name(a) && d.insertAfter(r, a), d.emptyNode(a) && d.remove(a), s = r, l = 0; l < n.length; l++)d.insertAfter(n[l], s), s = n[l]; n.length && (d.insertBefore(i.createTextNode("\ufeff"), n[1]), d.insertAfter(i.createTextNode("\ufeff"), n[1]), e.setStartBefore(n[0]), e.setEndAfter(n[n.length - 1])) } else o = new h([{ tags: ["a"] }], t), o.finder = this.finder, o.apply(u) } }), N = f.extend({ init: function (e) { var t = this; e.formatter = { toggle: function (e) { var n = t.immutables() ? v(e) : b(e); new h([{ tags: ["a"] }]).remove(n) } }, this.options = e, f.fn.init.call(this, e) } }), R = f.extend({ init: function (e) { var t; this.options = e, f.fn.init.call(this, e), this.formatter = new _, e.url ? this.exec = function () { this.formatter.immutables = t && t.immutables(), this.formatter.apply(e.range, { href: e.url, innerHTML: e.text || e.url, target: e.target }) } : (this.attributes = null, this.async = !0) }, _dialogTemplate: function () { return o.template("<div class=\"k-editor-dialog k-popup-edit-form\"><div class=\"k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div></div>")({ messages: this.editor.options.messages }) }, exec: function () { var t, n, i, o, r = this.editor.options.messages; this._initialText = "", this._range = this.lockRange(!0), this.formatter.immutables = this.immutables(), t = b(this._range), n = t.length ? this.formatter.finder.findSuitable(t[0]) : null, i = t.length && "img" == d.name(t[0]), o = this.createDialog(this._dialogTemplate(), { title: r.createLink, close: s(this._close, this), visible: !1 }), n && (this._range.selectNodeContents(n), t = b(this._range)), this._initialText = this.linkText(t), o.find(".k-dialog-insert").click(s(this._apply, this)).end().find(".k-dialog-close").click(s(this._close, this)).end().find(".k-edit-field input").keydown(s(this._keydown, this)).end().find("#k-editor-link-url").val(this.linkUrl(n)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(n ? n.title : "").end().find("#k-editor-link-target").attr("checked", !!n && "_blank" == n.target).end().find(".k-editor-link-text-row").toggle(!i), this._dialog = o.data("kendoWindow").center().open(), e("#k-editor-link-url", o).focus().select() }, _keydown: function (e) { var t = o.keys; e.keyCode == t.ENTER ? this._apply(e) : e.keyCode == t.ESC && this._close(e) }, _apply: function (t) { var n, i, o, r = this._dialog.element, a = e("#k-editor-link-url", r).val(), s = e("#k-editor-link-text", r); a && a != w && (a.indexOf("@") > 0 && !/^(\w+:)|(\/\/)/i.test(a) && (a = "mailto:" + a), this.attributes = { href: a }, n = e("#k-editor-link-title", r).val(), n && (this.attributes.title = n), s.is(":visible") && (i = s.val(), i || this._initialText ? i && i !== this._initialText && (this.attributes.innerHTML = d.stripBom(i)) : this.attributes.innerHTML = a), o = e("#k-editor-link-target", r).is(":checked"), this.attributes.target = o ? "_blank" : null, this.formatter.apply(this._range, this.attributes)), this._close(t), this.change && this.change() }, _close: function (e) { e.preventDefault(), this._dialog.destroy(), d.windowFromDocument(c.documentFromRange(this._range)).focus(), this.releaseRange(this._range) }, linkUrl: function (e) { return e ? e.getAttribute("href", 2) : w }, linkText: function (e) { var t, n = ""; for (t = 0; t < e.length; t++)n += e[t].nodeValue; return d.stripBom(n || "") }, redo: function () { var e = this.lockRange(!0); this.formatter.apply(e, this.attributes), this.releaseRange(e) } }), S = f.extend({ init: function (e) { f.fn.init.call(this, e), this.formatter = new _ }, exec: function () { var e, t, n, i = this.detectLink(); i && (e = this.getRange(), t = new o.ui.editor.Marker, n = e.cloneRange(), n.setStart(i.start.node, i.start.offset), n.setEnd(i.end.node, i.end.offset), e = this.lockRange(), t.add(n), this.formatter.apply(n, { href: this._ensureWebProtocol(i.text) }), t.remove(n), this.releaseRange(e)) }, detectLink: function () { var e, t, n = this.getRange(), i = n.startContainer, o = n.startOffset, r = i.previousSibling; return !r && (d.isBom(i) && !i.nextSibling || !o && d.isDataNode(i)) && (i = i.parentNode, o = 0), e = new P({ node: i, offset: o, cancelAtNode: function (e) { return e && "a" === d.name(e) } }), t = new A(e), t.detectLink() }, changesContent: function () { return !!this.detectLink() }, _ensureWebProtocol: function (e) { var t = this._hasProtocolPrefix(e); return t ? e : this._prefixWithWebProtocol(e) }, _hasProtocolPrefix: function (e) { return x.test(e) }, _prefixWithWebProtocol: function (e) { return w + e } }), z = p.extend({ init: function (t) { this.options = t, this.finder = new g([{ tags: ["a"] }]), p.fn.init.call(this, e.extend(t, { command: N })) }, initialize: function (e, t) { p.fn.initialize.call(this, e, t), e.addClass("k-state-disabled") }, update: function (e, t) { e.toggleClass("k-state-disabled", !this.finder.isFormatted(t)).removeClass("k-state-hover") } }), A = r.extend({ init: function (e) { this.traverser = e, this.start = E(), this.end = E(), this.text = "" }, detectLink: function () { var t, n, i, o, r = this.traverser.node, a = this.traverser.offset; if (d.isDataNode(r)) { if (t = r.data.substring(0, a), /\s{2}$/.test(d.stripBom(t))) return } else 0 === a && (n = d.closestEditableOfType(r, d.blockElements), n && n.previousSibling && this.traverser.init({ node: n.previousSibling })); return this.traverser.traverse(e.proxy(this._detectEnd, this)), this.end.blank() || (this.traverser = this.traverser.clone(this.end), this.traverser.traverse(e.proxy(this._detectStart, this)), this._isLinkDetected() || (i = this.traverser.extendOptions(this.start), o = new I(i), o.traverse(e.proxy(this._skipStartPuntuation, this)), this._isLinkDetected() || (this.start = E()))), this.start.blank() ? null : { start: this.start, end: this.end, text: this.text } }, _isLinkDetected: function () { return x.test(this.text) || /^w{3}\./i.test(this.text) }, _detectEnd: function (e, t) { var i = n(e, C); if (i > -1) return this.end.node = t, this.end.offset = i + 1, !1 }, _detectStart: function (e, t) { var i = n(e, /\s/), o = i + 1; if (this.text = e.substring(o) + this.text, this.start.node = t, this.start.offset = o, i > -1) return !1 }, _skipStartPuntuation: function (e, t, n) { var o = i(e, /\w/), r = o; if (o === -1 && (r = e.length), this.text = this.text.substring(r), this.start.node = t, this.start.offset = r + (0 | n), o > -1) return !1 } }), E = function () { return { node: null, offset: null, blank: function () { return null === this.node && null === this.offset } } }, D = r.extend({ init: function (n) { this.node = n.node, this.offset = n.offset === t ? d.isDataNode(this.node) && this.node.length || 0 : n.offset, this.cancelAtNode = n.cancelAtNode || this.cancelAtNode || e.noop }, traverse: function (e) { e && (this.cancel = !1, this._traverse(e, this.node, this.offset)) }, _traverse: function (e, n, i) { var o, r, a, s; if (n && !this.cancel) { if (3 !== n.nodeType) return r = this.edgeNode(n), this.cancel = this.cancel || this.cancelAtNode(r), this._traverse(e, r); if (o = n.data, i !== t && (o = this.subText(o, i)), this.cancel = e(o, n, i) === !1, a = this.next(n), !a) for (s = n.parentNode; !a && d.isInline(s);)a = this.next(s), s = s.parentNode; this.cancel = this.cancel || this.cancelAtNode(a), this._traverse(e, a) } }, extendOptions: function (t) { return e.extend({ node: this.node, offset: this.offset, cancelAtNode: this.cancelAtNode }, t || {}) }, edgeNode: function (e) { }, next: function (e) { }, subText: function (e, t) { } }), P = D.extend({ subText: function (e, t) { return e.substring(0, t) }, next: function (e) { return e.previousSibling }, edgeNode: function (e) { return e.lastChild }, clone: function (e) { var t = this.extendOptions(e); return new P(t) } }), I = D.extend({ subText: function (e, t) { return e.substring(t) }, next: function (e) { return e.nextSibling }, edgeNode: function (e) { return e.firstChild }, clone: function (e) { var t = this.extendOptions(e); return new I(t) } }); a(o.ui.editor, { LinkFormatFinder: T, LinkFormatter: _, UnlinkCommand: N, LinkCommand: R, AutoLinkCommand: S, UnlinkTool: z, DomTextLinkDetection: A, LeftDomTextTraverser: P, RightDomTextTraverser: I }), k("createLink", new p({ key: "K", ctrl: !0, command: R, template: new m({ template: u.buttonTemplate, title: "Create Link" }) })), k("unlink", new z({ key: "K", ctrl: !0, shift: !0, template: new m({ template: u.buttonTemplate, title: "Remove Link" }) })), k("autoLink", new p({ key: [y.ENTER, y.SPACEBAR], keyPressCommand: !0, command: S })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/formatblock.min", ["editor/plugins/format.min"], e) }(function () { !function (e) { var t, n = window.kendo, i = n.Class, o = e.extend, r = n.ui.editor, a = n.ui.Editor.fn.options.formats, s = r.Dom, l = r.ToolTemplate, d = r.FormatTool, c = r.EditorUtils, u = c.registerTool, f = c.registerFormat, p = r.RangeUtils, m = i.extend({ init: function (e) { this.format = e }, contains: function (e, t) { var n, i, o; for (n = 0, i = t.length; n < i; n++)if (o = t[n], !o || !s.isAncestorOrSelf(e, o)) return !1; return !0 }, findSuitable: function (t) { var n, i, o, r, a = this.format, l = []; for (n = 0, i = t.length; n < i; n++) { for (r = a.length - 1; r >= 0 && !(o = s.ofType(t[n], a[r].tags) ? t[n] : s.closestEditableOfType(t[n], a[r].tags)); r--); if (!o || "true" === o.contentEditable) return []; e.inArray(o, l) < 0 && l.push(o) } for (this._resolveListsItems(l), n = 0, i = l.length; n < i; n++)if (this.contains(l[n], l)) return [l[n]]; return l }, _resolveListsItems: function (e) { var t, n, i; for (t = 0; t < e.length; t++)n = e[t], i = s.is(n, "li") ? n : s.wrapper(n), i = i && s.list(i) ? i.children[0] : i, s.is(i, "li") && (n = e[t] = i) }, findFormat: function (e) { var t, n, i, o, a, l, d = this.format, c = s.editableParent(e), u = this.options && this.options.immutables, f = r.Immutables; for (t = 0, n = d.length; t < n; t++) { if (i = e, o = d[t].tags, a = d[t].attr, u && o && "immutable" == o[0] && (l = f.immutableParent(i), l && s.attrEquals(l, a))) return i; for (; i && s.isAncestorOf(c, i);) { if (s.ofType(i, o) && s.attrEquals(i, a)) return i; i = i.parentNode } } return null }, getFormat: function (e) { var t, n, i = this, o = function (e) { return i.findFormat(s.isDataNode(e) ? e.parentNode : e) }, r = o(e[0]); if (!r) return ""; for (t = 1, n = e.length; t < n; t++)if (r != o(e[t])) return ""; return r.nodeName.toLowerCase() }, isFormatted: function (e) { for (var t = 0, n = e.length; t < n; t++)if (!this.findFormat(e[t])) return !1; return !0 } }), h = i.extend({ init: function (e, t) { this.format = e, this.values = t, this.finder = new m(e) }, wrap: function (e, t, n) { var i, o, r, a, l, d = 1 == n.length ? s.blockParentOrBody(n[0]) : s.commonAncestor.apply(null, n); for (s.isInline(d) && (d = s.blockParentOrBody(d)), i = s.significantChildNodes(d), o = s.findNodeIndex(i[0]), r = s.create(d.ownerDocument, e, t), a = 0; a < i.length; a++)l = i[a], s.isBlock(l) ? (s.attr(l, t), r.childNodes.length && (s.insertBefore(r, l), r = r.cloneNode(!1)), o = s.findNodeIndex(l) + 1) : r.appendChild(l); r.firstChild && s.insertAt(d, r, o) }, apply: function (t) { function n(e) { return o({}, e && e.attr, m) } var i, r, a, l, d, u, f, p, m = this.values; if (this._handleImmutables(t, !0), r = s.filter("img", t), a = c.formatByName("img", this.format), l = n(a), e.each(r, function () { s.attr(this, l) }), r.length != t.length) if (d = s.filter("img", t, !0), u = this.finder.findSuitable(d), u.length) for (f = 0, p = u.length; f < p; f++)i = c.formatByName(s.name(u[f]), this.format), s.attr(u[f], n(i)); else i = this.format[0], this.wrap(i.tags[0], n(i), d) }, _handleImmutables: function (e, t) { var n, i, o, a, l; if (this.immutables() && (n = c.formatByName("immutable", this.format))) for (i = r.Immutables, o = e.length - 1, a = o; a >= 0; a--)l = i.immutableParent(e[a]), l && (l !== e[a + 1] && (t ? s.attr(l, n.attr) : s.unstyle(l, n.attr.style)), e.splice(a, 1)) }, immutables: function () { return this.editor && this.editor.options.immutables }, remove: function (e) { var t, n, i, o, r; for (this._handleImmutables(e, !1), t = 0, n = e.length; t < n; t++)i = this.finder.findFormat(e[t]), i && (r = s.name(i), "div" != r || i.getAttribute("class") ? (o = c.formatByName(r, this.format), o.attr.style && s.unstyle(i, o.attr.style), o.attr.className && s.removeClass(i, o.attr.className)) : s.unwrap(i)) }, toggle: function (e) { var t = this, n = s.filterBy(p.nodes(e), s.htmlIndentSpace, !0); t.finder.isFormatted(n) ? t.remove(n) : t.apply(n) } }), g = i.extend({ init: function (e, t) { var n = this; n.format = e, n.values = t, n.finder = new m(e) }, apply: function (e) { var t, n, i, o, a, l, d, c, u, f, p = this.format, m = s.blockParents(e), g = p[0].tags[0]; if (m.length) for (t = 0, n = m.length; t < n; t++)c = m[t], u = this.immutables() && r.Immutables.immutableParent(c), u || (d = s.name(c), "li" == d ? (i = c.parentNode, o = new r.ListFormatter(i.nodeName.toLowerCase(), g), a = this.editor.createRange(), a.selectNode(m[t]), o.toggle(a)) : g && ("td" == d || c.attributes.contentEditable) ? new h(p, this.values).apply(c.childNodes) : (l = s.changeTag(c, g), s.attr(l, p[0].attr))); else f = new h(p, this.values), f.editor = this.editor, f.apply(e) }, toggle: function (e) { var t = p.textNodes(e); t.length || (e.selectNodeContents(e.commonAncestorContainer), t = p.textNodes(e), t.length || (t = s.significantChildNodes(e.commonAncestorContainer))), this.apply(t) }, immutables: function () { return this.editor && this.editor.options.immutables } }), b = d.extend({ init: function (e) { d.fn.init.call(this, o(e, { finder: new m(e.format), formatter: function () { return new h(e.format) } })) } }); o(r, { BlockFormatFinder: m, BlockFormatter: h, GreedyBlockFormatter: g, BlockFormatTool: b }), t = ["ul", "ol", "li"], f("justifyLeft", [{ tags: s.nonListBlockElements, attr: { style: { textAlign: "left" } } }, { tags: ["img"], attr: { style: { "float": "left", display: "", marginLeft: "", marginRight: "" } } }, { tags: ["immutable"], attr: { style: { "float": "left", display: "", marginLeft: "", marginRight: "" } } }, { tags: t, attr: { style: { textAlign: "left", listStylePosition: "" } } }]), u("justifyLeft", new b({ format: a.justifyLeft, template: new l({ template: c.buttonTemplate, title: "Justify Left" }) })), f("justifyCenter", [{ tags: s.nonListBlockElements, attr: { style: { textAlign: "center" } } }, { tags: ["img"], attr: { style: { display: "block", marginLeft: "auto", marginRight: "auto", "float": "" } } }, { tags: ["immutable"], attr: { style: { display: "block", marginLeft: "auto", marginRight: "auto", "float": "" } } }, { tags: t, attr: { style: { textAlign: "center", listStylePosition: "inside" } } }]), u("justifyCenter", new b({ format: a.justifyCenter, template: new l({ template: c.buttonTemplate, title: "Justify Center" }) })), f("justifyRight", [{ tags: s.nonListBlockElements, attr: { style: { textAlign: "right" } } }, { tags: ["img"], attr: { style: { "float": "right", display: "", marginLeft: "", marginRight: "" } } }, { tags: ["immutable"], attr: { style: { "float": "right", display: "", marginLeft: "", marginRight: "" } } }, { tags: t, attr: { style: { textAlign: "right", listStylePosition: "inside" } } }]), u("justifyRight", new b({ format: a.justifyRight, template: new l({ template: c.buttonTemplate, title: "Justify Right" }) })), f("justifyFull", [{ tags: s.nonListBlockElements, attr: { style: { textAlign: "justify" } } }, { tags: ["img"], attr: { style: { display: "block", marginLeft: "auto", marginRight: "auto", "float": "" } } }, { tags: ["immutable"], attr: { style: { display: "block", marginLeft: "auto", marginRight: "auto", "float": "" } } }, { tags: t, attr: { style: { textAlign: "justify", listStylePosition: "" } } }]), u("justifyFull", new b({ format: a.justifyFull, template: new l({ template: c.buttonTemplate, title: "Justify Full" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/lists.min", ["editor/plugins/formatblock.min"], e) }(function () { !function (e) { var t = window.kendo, n = t.Class, i = e.extend, o = t.ui.editor, r = o.Dom, a = o.RangeUtils, s = o.EditorUtils, l = o.Command, d = o.ToolTemplate, c = o.FormatTool, u = o.BlockFormatFinder, f = a.textNodes, p = o.EditorUtils.registerTool, m = u.extend({ init: function (e) { this.tag = e; var t = this.tags = ["ul" == e ? "ol" : "ul", e]; u.fn.init.call(this, [{ tags: t }]) }, isFormatted: function (e) { var t, n, i = []; for (n = 0; n < e.length; n++)t = this.findFormat(e[n]), t && r.name(t) == this.tag && i.push(t); if (i.length < 1) return !1; if (i.length != e.length) return !1; for (n = 0; n < i.length && i[n].parentNode == t.parentNode; n++)if (i[n] != t) return !1; return !0 }, findSuitable: function (e) { var t = this.findFormat(e[0]); return t && r.name(t) == this.tag ? t : null } }), h = n.extend({ init: function (e, t) { var n = this; n.finder = new m(e), n.tag = e, n.unwrapTag = t }, isList: function (e) { return r.list(e) }, immutables: function () { return this.editor && !!this.editor.options.immutables }, wrap: function (t, n) { var i, a, s = r.create(t.ownerDocument, "li"), l = this.immutables() ? o.Immutables.immutable : e.noop; for (i = 0; i < n.length; i++)if (a = n[i], r.is(a, "li")) t.appendChild(a); else if (this.isList(a)) for (; a.firstChild;)t.appendChild(a.firstChild); else if (r.is(a, "td")) { for (; a.firstChild;)s.appendChild(a.firstChild); t.appendChild(s), a.appendChild(t), t = t.cloneNode(!1), s = s.cloneNode(!1) } else s.appendChild(a), r.isBlock(a) && (t.appendChild(s), l(a) || r.unwrap(a), s = s.cloneNode(!1)); s.firstChild && t.appendChild(s) }, containsAny: function (e, t) { for (var n = 0; n < t.length; n++)if (r.isAncestorOrSelf(e, t[n])) return !0; return !1 }, suitable: function (e, t) { if ("k-marker" == e.className) { var n = e.nextSibling; if (n && r.isBlock(n)) return !1; if (n = e.previousSibling, n && r.isBlock(n)) return !1 } return this.containsAny(e, t) || r.isInline(e) || 3 == e.nodeType }, _parentLists: function (t) { var n = r.closestEditable(t); return e(t).parentsUntil(n, "ul,ol") }, split: function (e) { var t, n, i, o, s, l, d = f(e); if (d.length) for (t = r.parentOfType(d[0], ["li"]), n = r.parentOfType(d[d.length - 1], ["li"]), e.setStartBefore(t), e.setEndAfter(n), o = 0, s = d.length; o < s; o++)l = this.finder.findFormat(d[o]), l && (i = this._parentLists(l), i.length ? a.split(e, i.last()[0], !0) : a.split(e, l, !0)) }, merge: function (e, t) { for (var n, i = t.previousSibling; i && ("k-marker" == i.className || 3 == i.nodeType && r.isWhitespace(i));)i = i.previousSibling; if (i && r.name(i) == e) { for (; t.firstChild;)i.appendChild(t.firstChild); r.remove(t), t = i } for (n = t.nextSibling; n && ("k-marker" == n.className || 3 == n.nodeType && r.isWhitespace(n));)n = n.nextSibling; if (n && r.name(n) == e) { for (; t.lastChild;)n.insertBefore(t.lastChild, n.firstChild); r.remove(t) } }, breakable: function (e) { return e != e.ownerDocument.body && !/table|tbody|tr|td/.test(r.name(e)) && !e.attributes.contentEditable }, applyOnSection: function (t, n) { function i() { u.push(this) } var o, a, s, l, d = this.tag, c = r.closestSplittableParent(n), u = [], f = this.finder.findSuitable(n); for (f || (f = new m("ul" == d ? "ol" : "ul").findSuitable(n)), /table|tbody/.test(r.name(c)) ? o = e.map(n, function (e) { return r.parentOfType(e, ["td"]) }) : (o = r.significantChildNodes(c), e.grep(o, r.isBlock).length && (o = e.grep(o, e.proxy(function (e) { return this.containsAny(e, n) }, this))), o.length || (o = n)), a = 0; a < o.length; a++)s = o[a], l = (!f || !r.isAncestorOrSelf(f, s)) && this.suitable(s, n), l && (f && this.isList(s) ? (e.each(s.children, i), r.remove(s)) : u.push(s)); for (u.length == o.length && this.breakable(c) && (u = [c]), f || (f = r.create(c.ownerDocument, d), r.insertBefore(f, u[0])), this.wrap(f, u); r.isBom(f.nextSibling);)r.remove(f.nextSibling); r.is(f, d) || r.changeTag(f, d), this.merge(d, f) }, apply: function (t) { function n() { i && c.push({ section: i, nodes: a }) } var i, a, s, l, d = 0, c = [], u = t.length, f = this.immutables() ? o.Immutables.immutableParent : e.noop; for (d = 0; d < u; d++)l = f(t[d]) || t[d], s = r.closestEditable(l, ["td", "body"]), i && s == i ? a.push(l) : (n(), a = [l], i = s); for (n(), d = 0; d < c.length; d++)this.applyOnSection(c[d].section, c[d].nodes) }, unwrap: function (e) { var t, n, i, o, a = e.ownerDocument.createDocumentFragment(), s = this.unwrapTag; for (n = e.firstChild; n; n = n.nextSibling) { for (i = r.create(e.ownerDocument, s || "p"); n.firstChild;)o = n.firstChild, r.isBlock(o) ? (i.firstChild && (a.appendChild(i), i = r.create(e.ownerDocument, s || "p")), a.appendChild(o)) : i.appendChild(o); i.firstChild && a.appendChild(i) } t = this._parentLists(e), t[0] ? (r.insertAfter(a, t.last()[0]), t.last().remove()) : r.insertAfter(a, e), r.remove(e) }, remove: function (e) { var t, n, i; for (n = 0, i = e.length; n < i; n++)t = this.finder.findFormat(e[n]), t && this.unwrap(t) }, toggle: function (e) { var t, n = this, i = f(e), o = e.commonAncestorContainer; i.length || (e.selectNodeContents(o), i = f(e), i.length || (t = o.ownerDocument.createTextNode(""), e.startContainer.appendChild(t), i = [t], e.selectNode(t.parentNode))), i = r.filterBy(i, r.htmlIndentSpace, !0), n.finder.isFormatted(i) ? (n.split(e), n.remove(i)) : n.apply(i) } }), g = l.extend({ init: function (e) { e.formatter = new h(e.tag), l.fn.init.call(this, e) } }), b = c.extend({ init: function (e) { this.options = e, c.fn.init.call(this, i(e, { finder: new m(e.tag) })) }, command: function (e) { return new g(i(e, { tag: this.options.tag })) } }); i(o, { ListFormatFinder: m, ListFormatter: h, ListCommand: g, ListTool: b }), p("insertUnorderedList", new b({ tag: "ul", template: new d({ template: s.buttonTemplate, title: "Insert unordered list" }) })), p("insertOrderedList", new b({ tag: "ol", template: new d({ template: s.buttonTemplate, title: "Insert ordered list" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/formatting.min", ["editor/plugins/inlineformat.min"], e) }(function () { !function (e) { function t(e) { var t, o, r = l.closestEditableOfType(e, ["li"]); r && (t = new i.ListFormatter(l.name(r.parentNode)), o = n.ui.editor.W3CRange.fromNode(e), o.selectNode(r), t.toggle(o)) } var n = window.kendo, i = n.ui.editor, o = i.Tool, r = i.ToolTemplate, a = i.DelayedExecutionTool, s = i.Command, l = i.Dom, d = i.EditorUtils, c = i.RangeUtils, u = d.registerTool, f = a.extend({ init: function (e) { var t = this; o.fn.init.call(t, n.deepExtend({}, t.options, e)), t.type = "kendoSelectBox", t.finder = { getFormat: function () { return "" } } }, options: { items: [{ text: "Paragraph", value: "p" }, { text: "Quotation", value: "blockquote" }, { text: "Heading 1", value: "h1" }, { text: "Heading 2", value: "h2" }, { text: "Heading 3", value: "h3" }, { text: "Heading 4", value: "h4" }, { text: "Heading 5", value: "h5" }, { text: "Heading 6", value: "h6" }], width: 110 }, toFormattingItem: function (e) { var t, n = e.value; return n ? e.tag || e.className ? e : (t = n.indexOf("."), 0 === t ? e.className = n.substring(1) : t == -1 ? e.tag = n : (e.tag = n.substring(0, t), e.className = n.substring(t + 1)), e) : e }, command: function (t) { var n = this, o = t.value; return o = this.toFormattingItem(o), new i.FormatCommand({ range: t.range, formatter: function () { var t, r = (o.tag || o.context || "span").split(","), a = [{ tags: r, attr: { className: o.className || "" } }]; return t = e.inArray(r[0], l.inlineElements) >= 0 ? new i.GreedyInlineFormatter(a) : new i.GreedyBlockFormatter(a), t.editor = n.editor, t } }) }, initialize: function (e, t) { var i = t.editor, r = this.options, a = r.name, s = this; s.editor = i, e.width(r.width), e.kendoSelectBox({ dataTextField: "text", dataValueField: "value", dataSource: r.items || i.options[a], title: i.options.messages[a], autoSize: !0, change: function () { var e = this.dataItem(); e && o.exec(i, a, e.toJSON()) }, dataBound: function () { var e, t = this.dataSource.data(); for (e = 0; e < t.length; e++)t[e] = s.toFormattingItem(t[e]) }, highlightFirst: !1, template: n.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>') }), e.addClass("k-decorated").closest(".k-widget").removeClass("k-" + a).find("*").addBack().attr("unselectable", "on") }, getFormattingValue: function (t, n) { var i, o, r, a, s, l, d; for (i = 0; i < t.length; i++)if (o = t[i], r = o.tag || o.context || "", a = o.className ? "." + o.className : "", s = r + a, l = e(n[0]).closest(s)[0]) { if (1 == n.length) return o.value; for (d = 1; d < n.length && e(n[d]).closest(s)[0]; d++)if (d == n.length - 1) return o.value } return "" }, update: function (t, n) { var i, o, r, s, d, c = e(t).data(this.type); if (c && (i = c.dataSource, o = i.data(), d = l.commonAncestor.apply(null, n), d == l.closestEditable(d) || this._ancestor != d)) { for (this._ancestor = d, r = 0; r < o.length; r++)s = o[r].context, o[r].visible = !s || !!e(d).closest(s).length; i.filter([{ field: "visible", operator: "eq", value: !0 }]), a.fn.update.call(this, t, n), c.value(this.getFormattingValue(i.view(), n)), c.wrapper.toggleClass("k-state-disabled", !i.view().length) } }, destroy: function () { this._ancestor = null } }), p = s.extend({ exec: function () { var e, t, n, i = this.lockRange(!0); for (this.tagsToClean = this.options.remove || "strong,em,span,sup,sub,del,b,i,u,font".split(","), c.wrapSelectedElements(i), e = c.mapAll(i, function (e) { return e }), t = e.length - 1; t >= 0; t--)n = e[t], this.immutableParent(n) || this.clean(n); this.releaseRange(i) }, clean: function (n) { var o, r, a, s, d; if (n && !l.isMarker(n)) { if (o = l.name(n), "ul" == o || "ol" == o) for (r = new i.ListFormatter(o), a = n.previousSibling, s = n.nextSibling, r.unwrap(n); a && a != s; a = a.nextSibling)this.clean(a); else if ("blockquote" == o) l.changeTag(n, "p"); else if (1 != n.nodeType || l.insignificant(n)) t(n); else { for (d = n.childNodes.length - 1; d >= 0; d--)this.clean(n.childNodes[d]); n.removeAttribute("style"), n.removeAttribute("class") } e.inArray(o, this.tagsToClean) > -1 && l.unwrap(n) } }, immutableParent: function (e) { return this.immutables() && i.Immutables.immutableParent(e) } }); e.extend(i, { FormattingTool: f, CleanFormatCommand: p }), u("formatting", new f({ template: new r({ template: d.dropDownListTemplate, title: "Format" }) })), u("cleanFormatting", new o({ command: p, template: new r({ template: d.buttonTemplate, title: "Clean formatting" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/image.min", ["kendo.imagebrowser.min", "editor/command.min"], e) }(function () {
    !function (e, t) {
        var n = window.kendo, i = e.extend, o = n.ui.editor, r = o.EditorUtils, a = o.Dom, s = r.registerTool, l = o.ToolTemplate, d = o.RangeUtils, c = o.Command, u = n.keys, f = "#k-editor-image-url", p = "#k-editor-image-title", m = "#k-editor-image-width", h = "#k-editor-image-height", g = c.extend({
            init: function (e) { var t = this; c.fn.init.call(t, e), t.async = !0, t.attributes = {} }, insertImage: function (e, t) { var n, i = this.attributes, o = d.documentFromRange(t); if (i.src && "http://" != i.src) { if (n = function () { setTimeout(function () { i.width || e.removeAttribute("width"), i.height || e.removeAttribute("height"), e.removeAttribute("complete") }) }, !e) return e = a.create(o, "img", i), e.onload = e.onerror = n, t.deleteContents(), t.insertNode(e), e.nextSibling || a.insertAfter(o.createTextNode("\ufeff"), e), n(), t.setStartAfter(e), t.setEndAfter(e), d.selectRange(t), !0; e.onload = e.onerror = n, a.attr(e, i), n() } return !1 }, _dialogTemplate: function (e) {
                return n.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({
                    messages: this.editor.options.messages, showBrowser: e
                })
            }, redo: function () { var e = this, t = e.lockRange(); e.insertImage(d.image(t), t) || e.releaseRange(t) }, exec: function () { function e(e) { var t = s.element, n = parseInt(t.find(m).val(), 10), i = parseInt(t.find(h).val(), 10); g.attributes = { src: t.find(f).val().replace(/ /g, "%20"), alt: t.find(p).val() }, g.attributes.width = null, g.attributes.height = null, !isNaN(n) && n > 0 && (g.attributes.width = n), !isNaN(i) && i > 0 && (g.attributes.height = i), v = g.insertImage(k, b), o(e), g.change && g.change() } function o(e) { e.preventDefault(), s.destroy(), a.windowFromDocument(d.documentFromRange(b)).focus(), v || g.releaseRange(b) } function r(t) { t.keyCode == u.ENTER ? e(t) : t.keyCode == u.ESC && o(t) } var s, l, c, g = this, b = g.lockRange(), v = !1, k = d.image(b), y = k && k.getAttribute("width") || "", w = k && k.getAttribute("height") || "", x = n.support.browser.msie, C = g.editor.options, T = C.messages, _ = C.imageBrowser, N = !!(n.ui.ImageBrowser && _ && _.transport && _.transport.read !== t), R = { title: T.insertImage, visible: !1, resizable: N }; this.expandImmutablesIn(b), R.close = o, N && (R.width = 750), s = this.createDialog(g._dialogTemplate(N), R).toggleClass("k-filebrowser-dialog", N).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(f).val(k ? k.getAttribute("src", 2) : "http://").end().find(p).val(k ? k.alt : "").end().find(m).val(y).end().find(h).val(w).end().data("kendoWindow"), l = s.element, N && (this._imageBrowser = new n.ui.ImageBrowser(l.find(".k-imagebrowser"), i({}, _)), this._imageBrowser.bind("change", function (e) { "f" === e.selected.get("type") && l.find(f).val(this.value()) }), this._imageBrowser.bind("apply", e)), x && (c = l.closest(".k-window").height(), l.css("max-height", c)), s.center().open(), l.find(f).focus().select() }
        }); n.ui.editor.ImageCommand = g, s("insertImage", new o.Tool({ command: g, template: new l({ template: r.buttonTemplate, title: "Insert Image" }) }))
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/import.min", ["editor/main.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = e.extend, o = e.proxy, r = n.ui.editor, a = r.EditorUtils, s = r.Command, l = r.Tool, d = a.registerTool, c = r.ToolTemplate, u = '<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>', f = s.extend({ exec: function () { (this.editor._uploadWidget || this._initializeUploadWidget()).element.click() }, _initializeUploadWidget: function () { var t = this, n = t.editor, i = n.options["import"], r = e('<input id="editorImport" name="files" type="file" />').kendoUpload({ success: o(t._onUploadSuccess, t), progress: o(t._onUploadProgress, t), select: o(t._onUploadSelect, t), error: o(t._onUploadError, t), complete: o(t._onUploadComplete, t), showFileList: !1, multiple: !1, async: { saveUrl: i.proxyUrl, autoUpload: !0, saveField: "file" }, validation: { allowedExtensions: i.allowedExtensions, maxFileSize: i.maxFileSize } }).getKendoUpload(); return n._uploadWidget = r, r }, _onUploadComplete: function (e) { this._trigger("complete", e), e.sender.clearAllFiles(), this._removeLoadingOverlay() }, _onUploadSuccess: function (e) { this.editor.value(e.response.html.replace(/<\/?body>/gi, "")), this._trigger("success", e) }, _onUploadProgress: function (e) { this._trigger("progress", e) }, _onUploadSelect: function (e) { this._trigger("select", e), e.files[0].validationErrors || this._initLoadingOverlay() }, _onUploadError: function (e) { this._trigger("error", e) }, _trigger: function (e, t) { var n = this.editor, i = n.options["import"]; "function" == typeof i[e] && i[e].call(n, t) }, _initLoadingOverlay: function () { var t = this.editor.body; r.Dom.is(t, "body") ? this._iframeWrapper = this._container = this.editor.wrapper.find("iframe").parent().css({ position: "relative" }).append(u) : this._container = e(t).append(u), n.ui.progress(this._container, !0) }, _removeLoadingOverlay: function () { n.ui.progress(this._container, !1), e(this._iframeWrapper).css({ position: "" }), delete this._container, delete this._iframeWrapper } }); i(r, { ImportCommand: f }), d("import", new l({ command: f, template: new c({ template: a.buttonTemplate, title: "Import" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/insert.min", ["editor/command.min"], e) }(function () { !function (e) { var t = window.kendo, n = t.ui.editor, i = n.Command, o = n.GenericCommand, r = n.EditorUtils, a = r.registerTool, s = n.Tool, l = n.ToolTemplate, d = n.RestorePoint, c = e.extend, u = i.extend({ init: function (e) { i.fn.init.call(this, e), this.managesUndoRedo = !0 }, exec: function () { var e, t = this.editor, n = this.options, i = n.range, r = t.body, a = new d(i, r), s = n.html || n.value || ""; t.selectRange(i), t.clipboard.paste(s, n), n.postProcess && n.postProcess(t, t.getRange()), e = new o(a, new d(t.getRange(), r)), e.editor = t, t.undoRedoStack.push(e), t.focus() } }), f = s.extend({ initialize: function (e, t) { var i = t.editor, o = this.options, r = o.items ? o.items : i.options.insertHtml; this._selectBox = new n.SelectBox(e, { dataSource: r, dataTextField: "text", dataValueField: "value", change: function () { s.exec(i, "insertHtml", this.value()) }, title: i.options.messages.insertHtml, highlightFirst: !1 }) }, command: function (e) { return new u(e) }, update: function (e) { var t = e.data("kendoSelectBox") || e.find("select").data("kendoSelectBox"); t.close(), t.value(t.options.title) } }); c(n, { InsertHtmlCommand: u, InsertHtmlTool: f }), a("insertHtml", new f({ template: new l({ template: r.dropDownListTemplate, title: "Insert HTML", initialValue: "Insert HTML" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/export.min", ["editor/main.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = e.extend, o = e.proxy, r = n.ui.editor, a = r.EditorUtils, s = r.Command, l = r.Tool, d = a.registerTool, c = r.ToolTemplate, u = [{ text: "Docx", value: "docx" }, { text: "Rtf", value: "rtf" }, { text: "Pdf", value: "pdf" }, { text: "Html", value: "html" }, { text: "Plain Text", value: "txt" }], f = s.extend({ init: function (e) { var t = this; t.options = e, s.fn.init.call(t, e), t.attributes = null, t.exportType = e.exportType }, exec: function () { var e = this, t = this.lockRange(!0); e.postToProxy(), e.releaseRange(t) }, postToProxy: function () { this.generateForm().appendTo("body").submit().remove() }, generateForm: function () { var t = this, n = t.editor.options.exportAs, i = e("<form>").attr({ action: n && n.proxyURL || "", method: "POST" }); return i.append([t.valueInput(), t.exportTypeInput(), t.fileNameInput()]), i }, valueInput: function () { var t = this.editor; return e("<input>").attr({ value: t.encodedValue(), name: "value", type: "hidden" }) }, exportTypeInput: function () { var t = this; return e("<input>").attr({ value: t.exportType, name: "exportType", type: "hidden" }) }, fileNameInput: function () { var t = this.editor, n = t.options.exportAs, i = n && n.fileName || t.element.attr("id") || "editor"; return e("<input>").attr({ value: i, name: "fileName", type: "hidden" }) } }), p = l.extend({ init: function (e) { var t = this; l.fn.init.call(t, n.deepExtend({}, t.options, e)), t.type = "kendoSelectBox" }, options: { items: u, width: 115 }, command: function (e) { var t = e.value; return new r.ExportAsCommand({ range: e.range, exportType: t.exportType }) }, initialize: function (e, t) { var i = this, r = t.editor, a = i.options, s = a.name, l = o(i.changeHandler, i), d = a.items || r.options[s]; d.unshift({ text: r.options.messages[s], value: "" }), i.editor = r, e.width(a.width), e.kendoSelectBox({ dataTextField: "text", dataValueField: "value", dataSource: d, autoSize: !0, change: l, open: function (e) { var t = e.sender; t.items()[0].style.display = "none", t.unbind("open") }, highlightFirst: !1, template: n.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>') }), e.addClass("k-decorated").closest(".k-widget").removeClass("k-" + s).find("*").addBack().attr("unselectable", "on") }, changeHandler: function (e) { var t = e.sender, n = t.dataItem(), i = n && n.value; this._exec(i), t.value("") }, _exec: function (e) { e && l.exec(this.editor, this.options.name, { exportType: e }) }, destroy: function () { this._ancestor = null } }); i(r, { ExportAsTool: p, ExportAsCommand: f }), d("exportAs", new p({ template: new c({ template: a.dropDownListTemplate, title: "Export As" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/indent.min", ["editor/plugins/formatblock.min"], e) }(function () { !function (e, t) { function n(n, i) { var o = "rtl" == e(n).css("direction"), r = o ? "Right" : "Left", a = "td" != s.name(n) ? "margin" + r : "padding" + r; return i === t ? n.style[a] || 0 : (i > 0 ? n.style[a] = i + "px" : (n.style[a] = "", n.style.cssText || n.removeAttribute("style")), t) } var i = window.kendo, o = i.Class, r = e.extend, a = i.ui.editor, s = a.Dom, l = a.EditorUtils, d = l.registerTool, c = a.Command, u = a.Tool, f = a.ToolTemplate, p = a.RangeUtils, m = s.blockElements, h = a.BlockFormatFinder, g = a.BlockFormatter, b = o.extend({ init: function () { this.finder = new h([{ tags: s.blockElements }]) }, apply: function (t) { var i, o, r, a, l, d, c, u, f, p, m, h; if (t = s.filterBy(t, s.htmlIndentSpace, !0), i = this.finder.findSuitable(t), o = [], i = this.mapImmutables(i), i.length) { for (r = 0, a = i.length; r < a; r++)s.is(i[r], "li") ? e(i[r]).index() ? e.inArray(i[r].parentNode, o) < 0 && o.push(i[r]) : o.push(i[r].parentNode) : o.push(i[r]); for (; o.length;)if (l = o.shift(), s.is(l, "li")) if (d = l.parentNode, c = e(l).prev("li"), u = c.find("ul,ol").last(), f = e(l).children("ul,ol")[0], f && c[0]) u[0] ? (u.append(l), u.append(e(f).children()), s.remove(f)) : (c.append(f), f.insertBefore(l, f.firstChild)); else for (f = c.children("ul,ol")[0], f || (f = s.create(l.ownerDocument, s.name(d)), c.append(f)); l && l.parentNode == d;)f.appendChild(l), l = o.shift(); else for (p = parseInt(n(l), 10) + 30, n(l, p), m = 0; m < o.length; m++)e.contains(l, o[m]) && o.splice(m, 1) } else h = new g([{ tags: ["p"] }], { style: { marginLeft: 30 } }), h.apply(t) }, mapImmutables: function (t) { if (this.immutables) { var n = []; return e.map(t, function (t) { var i = a.Immutables.immutableParent(t); if (i) { if (e.inArray(i, n) !== -1) return null; n.push(i) } return i || t }) } return t }, remove: function (t) { t = s.filterBy(t, s.htmlIndentSpace, !0); var i, o, r, a, l, d, c, u, f = this.finder.findSuitable(t); for (f = this.mapImmutables(f), o = 0, r = f.length; o < r; o++) { if (c = e(f[o]), c.is("li")) { if (a = c.parent(), l = a.parent(), l.is("li,ul,ol") && !n(a[0])) { if (i && e.contains(i, l[0])) continue; d = c.nextAll("li"), d.length && e(a[0].cloneNode(!1)).appendTo(c).append(d), l.is("li") ? c.insertAfter(l) : c.appendTo(l), a.children("li").length || a.remove(); continue } if (i == a[0]) continue; i = a[0] } else i = f[o]; u = parseInt(n(i), 10) - 30, n(i, u) } } }), v = c.extend({ init: function (t) { var n = this; t.formatter = { toggle: e.proxy(function (e) { var t = new b; t.immutables = this.editor && this.editor.options.immutables, t.apply(p.nodes(e)) }, n) }, c.fn.init.call(this, t) } }), k = c.extend({ init: function (t) { var n = this; t.formatter = { toggle: e.proxy(function (e) { var t = new b; t.immutables = this.editor && this.editor.options.immutables, t.remove(p.nodes(e)) }, n) }, c.fn.init.call(this, t) } }), y = u.extend({ init: function (e) { u.fn.init.call(this, e), this.finder = new h([{ tags: m }]) }, initialize: function (t, n) { u.fn.initialize.call(this, t, n), e.extend(this.options, { immutables: n.editor && n.editor.options.immutables }), t.addClass("k-state-disabled") }, update: function (i, o) { var r, l, d, c, u, f, p = this.finder.findSuitable(o); for (d = 0, c = p.length; d < c; d++)if (u = p[d], this.options.immutables && (f = a.Immutables.immutableParent(u), f && (u = f)), r = n(u), r || (l = e(u).parents("ul,ol").length, r = s.is(u, "li") && (l > 1 || n(u.parentNode)) || s.ofType(u, ["ul", "ol"]) && l > 0), r) return i.removeClass("k-state-disabled"), t; i.addClass("k-state-disabled").removeClass("k-state-hover") } }); r(a, { IndentFormatter: b, IndentCommand: v, OutdentCommand: k, OutdentTool: y }), d("indent", new u({ command: v, template: new f({ template: l.buttonTemplate, title: "Indent" }) })), d("outdent", new y({ command: k, template: new f({ template: l.buttonTemplate, title: "Outdent" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/linebreak.min", ["editor/plugins/formatblock.min"], e) }(function () { !function (e) { var t = window.kendo, n = e.extend, i = t.ui.editor, o = i.Dom, r = i.Command, a = i.Tool, s = i.BlockFormatter, l = o.normalize, d = i.RangeUtils, c = i.EditorUtils.registerTool, u = r.extend({ init: function (e) { this.options = e, r.fn.init.call(this, e) }, _insertMarker: function (e, t) { var n, i = o.create(e, "a"); return i.className = "k-marker", t.insertNode(i), i.parentNode || (n = t.commonAncestorContainer, n.innerHTML = "", n.appendChild(i)), l(i.parentNode), i }, _moveFocus: function (e, t) { var n, i; if (o.isEmpty(t)) e.setStartBefore(t); else { if (e.selectNodeContents(t), n = d.textNodes(e)[0], !n) { for (; t.childNodes.length && !o.is(t.firstChild, "br");)t = t.firstChild; n = t } o.isEmpty(n) ? e.setStartBefore(n) : (o.emptyNode(n) && (n.innerHTML = "\ufeff"), i = n.firstChild || n, o.isDataNode(i) ? e.setStart(i, 0) : e.setStartBefore(i)) } }, shouldTrim: function (e) { var t = "p,h1,h2,h3,h4,h5,h6".split(","), n = o.parentOfType(e.startContainer, t), i = o.parentOfType(e.endContainer, t); return n && !i || !n && i }, _blankAfter: function (e) { for (; e && (o.isMarker(e) || "" === o.stripBom(e.nodeValue));)e = e.nextSibling; return !e }, exec: function () { var t, n, r, a, c, u, f, p, m, h, g, b, v, k, y = this.getRange(), w = d.documentFromRange(y), x = i.emptyElementContent; this.expandImmutablesIn(y), h = this.shouldTrim(y), y.deleteContents(), c = this._insertMarker(w, y), o.stripBomNode(c.previousSibling), o.stripBomNode(c.nextSibling), u = o.closestEditableOfType(c, ["li"]), f = o.closestEditableOfType(c, "h1,h2,h3,h4,h5,h6".split(",")), p = o.is(c.parentNode, "table") && c.parentNode, u ? o.emptyNode(u) && (a = o.create(w, "p"), o.next(u) && (m = y.cloneRange(), m.selectNode(u), d.split(m, u.parentNode)), g = e("br", u), 1 == g.length && g.remove(), b = u.parentNode, v = u.parentNode.children.length, k = v > 1 && 1 == u.childNodes.length && u.children[0], o.insertAfter(a, b), o.remove(1 == v ? u.parentNode : u), k && k !== c ? (a.appendChild(k), a.appendChild(c)) : a.innerHTML = x, r = a) : f && this._blankAfter(c) ? (a = this._insertParagraphAfter(f), o.remove(c), r = a) : p && (a = this._insertParagraphAfter(p), o.remove(c), r = a), r || (u || f || new s([{ tags: ["p"] }]).apply([c]), y.selectNode(c), t = o.parentOfType(c, [u ? "li" : f ? o.name(f) : "p"]), d.split(y, t, h), n = t.previousSibling, o.is(n, "li") && n.firstChild && !o.is(n.firstChild, "br") && (n = n.firstChild), r = t.nextSibling, this.clean(n, { links: !0 }), this.clean(r, { links: !0 }), o.is(r, "li") && r.firstChild && !o.is(r.firstChild, "br") && (r = r.firstChild), o.remove(t), l(n)), l(r), this._moveFocus(y, r), y.collapse(!0), o.scrollTo(r, !0), d.selectRange(y) }, _insertParagraphAfter: function (e) { var t = this.getRange(), n = d.documentFromRange(t), r = i.emptyElementContent, a = o.create(n, "p"); return o.insertAfter(a, e), a.innerHTML = r, a }, clean: function (t, n) { var r, a = t; if (t.firstChild && o.is(t.firstChild, "br") && o.remove(t.firstChild), o.isDataNode(t) && !t.nodeValue && (t = t.parentNode), t) { for (r = !1; t.firstChild && 1 == t.firstChild.nodeType;)r = r || o.significantNodes(t.childNodes).length > 1, t = t.firstChild; if (o.isEmpty(t) || !/^\s*$/.test(t.innerHTML) || r || (e(a).find(".k-br").remove(), t.innerHTML = i.emptyElementContent), n && n.links) for (; t != a;) { if (o.is(t, "a") && o.emptyNode(t)) { o.unwrap(t); break } t = t.parentNode } } } }), f = r.extend({ init: function (e) { this.options = e, r.fn.init.call(this, e) }, exec: function () { var e, n, i, r, a, s, c = this.getRange(); this.expandImmutablesIn(c), e = o.create(d.documentFromRange(c), "br"), n = c.startContainer, r = t.support.browser, a = r.msie && r.version < 11, s = o.is(n, "table") && n, c.deleteContents(), s ? o.insertAfter(e, s) : c.insertNode(e), l(e.parentNode), a || e.nextSibling && !o.isWhitespace(e.nextSibling) || (i = e.cloneNode(!0), i.className = "k-br", o.insertAfter(i, e)), c.setStartAfter(e), c.collapse(!0), o.scrollTo(e.nextSibling || e, !0), d.selectRange(c) } }); n(i, { ParagraphCommand: u, NewLineCommand: f }), c("insertLineBreak", new a({ key: 13, shift: !0, command: f })), c("insertParagraph", new a({ key: 13, command: u })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/file.min", ["kendo.filebrowser.min", "editor/plugins/link.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = e.extend, o = n.ui.editor, r = o.EditorUtils, a = o.Dom, s = r.registerTool, l = o.ToolTemplate, d = o.RangeUtils, c = o.Command, u = o.LinkFormatter, f = d.textNodes, p = n.keys, m = "#k-editor-file-url", h = "#k-editor-file-text", g = "#k-editor-file-title", b = c.extend({ init: function (e) { var t = this; c.fn.init.call(t, e), t.formatter = new u, t.async = !0, t.attributes = {} }, insertFile: function (e, t) { var n = this.attributes, i = d.documentFromRange(t); if (n.href && "http://" != n.href) { if (!e) return e = a.create(i, "a", { href: n.href }), e.innerHTML = n.innerHTML, e.title = n.title, t.deleteContents(), t.insertNode(e), e.nextSibling || a.insertAfter(i.createTextNode("\ufeff"), e), t.setStartAfter(e), t.setEndAfter(e), d.selectRange(t), !0; a.attr(e, n) } return !1 }, _dialogTemplate: function (e) { return n.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-text">#: messages.fileText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-text"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({ messages: this.editor.options.messages, showBrowser: e }) }, redo: function () { var e = this, t = e.lockRange(); this.formatter.apply(t, this.attributes), e.releaseRange(t) }, exec: function () { function e(e) { var t = s.element, n = t.find(m).val().replace(/ /g, "%20"), i = t.find(h).val(), r = t.find(g).val(); u.attributes = { href: n, innerHTML: "" !== i ? i : n, title: r }, k = u.insertFile(y, b), o(e), u.change && u.change() } function o(e) { e.preventDefault(), s.destroy(), a.windowFromDocument(d.documentFromRange(b)).focus(), k || u.releaseRange(b) } function r(t) { t.keyCode == p.ENTER ? e(t) : t.keyCode == p.ESC && o(t) } var s, l, c, u = this, b = u.lockRange(), v = f(b), k = !1, y = v.length ? this.formatter.finder.findSuitable(v[0]) : null, w = n.support.browser.msie, x = u.editor.options, C = x.messages, T = x.fileBrowser, _ = !!(n.ui.FileBrowser && T && T.transport && T.transport.read !== t), N = { title: C.insertFile, visible: !1, resizable: _ }; this.expandImmutablesIn(b), N.close = o, _ && (N.width = 750), s = this.createDialog(u._dialogTemplate(_), N).toggleClass("k-filebrowser-dialog", _).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(r).end().find(m).val(y ? y.getAttribute("href", 2) : "http://").end().find(h).val(y ? y.innerText : "").end().find(g).val(y ? y.title : "").end().data("kendoWindow"), l = s.element, _ && (u._fileBrowser = new n.ui.FileBrowser(l.find(".k-filebrowser"), i({}, T)), u._fileBrowser.bind("change", function (e) { "f" === e.selected.get("type") && l.find(m).val(this.value()) }), u._fileBrowser.bind("apply", e)), w && (c = l.closest(".k-window").height(), l.css("max-height", c)), s.center().open(), l.find(m).focus().select() } }); n.ui.editor.FileCommand = b, s("insertFile", new o.Tool({ command: b, template: new l({ template: r.buttonTemplate, title: "Insert File" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/tables.min", ["editor/plugins/formatblock.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = e.extend, o = e.proxy, r = n.ui.editor, a = r.Dom, s = r.EditorUtils, l = r.RangeUtils, d = r.Command, c = "kendoEditor", u = "k-state-active", f = "k-state-selected", p = r.Tool, m = r.ToolTemplate, h = r.InsertHtmlCommand, g = r.BlockFormatFinder, b = r.EditorUtils.registerTool, v = n.getTouches, k = n.template, y = "<td style='width:#=width#%;'>#=content#</td>", w = new g([{ tags: ["table"] }]), x = h.extend({ init: function (t) { var n = e.extend({ postProcess: this.postProcess, skipCleaners: !0 }, t || {}); h.fn.init.call(this, n) }, _tableHtml: function (e, t) { var n, i; return e = e || 1, t = t || 1, n = k(y)({ width: 100 / t, content: r.emptyTableCellContent }), i = 100 / e, "<table class='k-table' data-last>" + Array(e + 1).join("<tr style='height:" + i + "%;'>" + Array(t + 1).join(n) + "</tr>") + "</table>" }, postProcess: function (t, n) { var i = e("table[data-last]", t.document).removeAttr("data-last"); n.setStart(i.find("td")[0], 0), n.collapse(!0), t.selectRange(n) }, exec: function () { var e = this.options; e.html = this._tableHtml(e.rows, e.columns), h.fn.exec.call(this) } }), C = p.extend({ initialize: function (t, n) { var i, a, l, d; p.fn.initialize.call(this, t, n), i = e(this.options.popupTemplate).appendTo("body").kendoPopup({ anchor: t, copyAnchorStyles: !1, open: o(this._open, this), activate: o(this._activate, this), close: o(this._close, this) }).data("kendoPopup"), t.click(o(this._toggle, this)).keydown(o(this._keydown, this)), a = this._editor = n.editor, this._popup = i, l = new r.TableWizardTool({ template: new m({ template: s.buttonTemplate, title: a.options.messages.tableWizard }), command: r.TableWizardCommand, insertNewTable: !0 }), b("tableWizardInsert", l), d = e("<div class='k-editor-toolbar'>" + l.options.template.getHtml() + "</div>"), d.appendTo(i.element), a.toolbar && a.toolbar.attachToolsEvents(d) }, popup: function () { return this._popup }, _activate: e.noop, _open: function () { this._popup.options.anchor.addClass(u) }, _close: function () { this._popup.options.anchor.removeClass(u) }, _keydown: function (e) { var t = n.keys, i = e.keyCode; i == t.DOWN && e.altKey ? this._popup.open() : i == t.ESC && this._popup.close() }, _toggle: function (t) { var n = e(t.target).closest(".k-tool"); n.hasClass("k-state-disabled") || this.popup().toggle() }, update: function (e) { var t = this.popup(); t.wrapper && "block" == t.wrapper.css("display") && t.close(), e.removeClass("k-state-hover") }, destroy: function () { this._popup.destroy() } }), T = C.extend({ init: function (t) { this.cols = 8, this.rows = 6, C.fn.init.call(this, e.extend(t, { command: x, popupTemplate: "<div class='k-ct-popup'>" + Array(this.cols * this.rows + 1).join("<span class='k-ct-cell k-state-disabled' />") + "<div class='k-status'></div></div>" })) }, _activate: function () { function t(t) { var n = e(window); return { row: Math.floor((t.clientY + n.scrollTop() - u.top) / o) + 1, col: Math.floor((t.clientX + n.scrollLeft() - u.left) / i) + 1 } } var i, o, r = this, a = r._popup.element, s = a.find(".k-ct-cell"), l = s.eq(0), d = s.eq(s.length - 1), u = n.getOffset(l), f = n.getOffset(d), p = r.cols, m = r.rows; a.find("*").addBack().attr("unselectable", "on"), f.left += d[0].offsetWidth, f.top += d[0].offsetHeight, i = (f.left - u.left) / p, o = (f.top - u.top) / m, a.autoApplyNS(c).on("mousemove", function (e) { r._setTableSize(t(e)) }).on("mouseleave", function () { r._setTableSize() }).on("down", function (e) { e.preventDefault(); var n = v(e)[0]; r._exec(t(n.location)) }) }, _valid: function (e) { return e && e.row > 0 && e.col > 0 && e.row <= this.rows && e.col <= this.cols }, _exec: function (e) { this._valid(e) && (this._editor.exec("createTable", { rows: e.row, columns: e.col }), this._popup.close()) }, _setTableSize: function (t) { var i = this._popup.element, o = i.find(".k-status"), r = i.find(".k-ct-cell"), a = this.cols, s = this._editor.options.messages; this._valid(t) ? (o.text(n.format(s.createTableHint, t.row, t.col)), r.each(function (n) { e(this).toggleClass(f, n % a < t.col && n / a < t.row) })) : (o.text(s.createTable), r.removeClass(f)) }, _keydown: function (e) { var t, i, o, r, a, s, l, d; C.fn._keydown.call(this, e), this._popup.visible() && (t = n.keys, i = e.keyCode, o = this._popup.element.find(".k-ct-cell"), r = Math.max(o.filter(".k-state-selected").last().index(), 0), a = Math.floor(r / this.cols), s = r % this.cols, l = !1, i != t.DOWN || e.altKey ? i == t.UP ? (l = !0, a--) : i == t.RIGHT ? (l = !0, s++) : i == t.LEFT && (l = !0, s--) : (l = !0, a++), d = { row: Math.max(1, Math.min(this.rows, a + 1)), col: Math.max(1, Math.min(this.cols, s + 1)) }, i == t.ENTER ? this._exec(d) : this._setTableSize(d), l && (e.preventDefault(), e.stopImmediatePropagation())) }, _open: function () { var e = this._editor.options.messages; C.fn._open.call(this), this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(f) }, _close: function () { C.fn._close.call(this), this.popup().element.off("." + c) } }), _ = d.extend({ exec: function () { for (var e, t, n, i, o = this.lockRange(!0), s = o.endContainer; "td" != a.name(s);)s = s.parentNode; if (!this.immutables() || !r.Immutables.immutableParent(s)) { for (t = s.parentNode, e = t.children.length, n = t.cloneNode(!0), i = 0; i < t.cells.length; i++)n.cells[i].innerHTML = r.emptyTableCellContent; "before" == this.options.position ? a.insertBefore(n, t) : a.insertAfter(n, t), this.releaseRange(o) } } }), N = d.extend({ exec: function () { var e, t, n, i, o = this.lockRange(!0), s = a.closest(o.endContainer, "td"), l = a.closest(s, "table"), d = l.rows, c = this.options.position; if (!this.immutables() || !r.Immutables.immutableParent(s)) { for (e = a.findNodeIndex(s, !0), t = 0; t < d.length; t++)n = d[t].cells[e], i = n.cloneNode(), i.innerHTML = r.emptyTableCellContent, "before" == c ? a.insertBefore(i, n) : a.insertAfter(i, n); this.releaseRange(o) } } }), R = d.extend({ exec: function () { var t, n, i, o = this.lockRange(), s = l.mapAll(o, function (t) { return e(t).closest("tr")[0] }), d = s[0]; if (!this.immutables() || !r.Immutables.immutableParent(d)) { if (t = a.closest(d, "table"), t.rows.length <= s.length) n = a.next(t), n && !a.insignificant(n) || (n = a.prev(t)), a.remove(t); else for (i = 0; i < s.length; i++)d = s[i], a.removeTextSiblings(d), n = a.next(d) || a.prev(d), n = n.cells[0], a.remove(d); n && (o.setStart(n, 0), o.collapse(!0), this.editor.selectRange(o)) } } }), S = d.extend({ exec: function () { var e, t, n = this.lockRange(), i = a.closest(n.endContainer, "td"), o = a.closest(i, "table"), s = o.rows, l = a.findNodeIndex(i, !0), d = s[0].cells.length; if (!this.immutables() || !r.Immutables.immutableParent(i)) { if (1 == d) e = a.next(o), e && !a.insignificant(e) || (e = a.prev(o)), a.remove(o); else for (a.removeTextSiblings(i), e = a.next(i) || a.prev(i), t = 0; t < s.length; t++)a.remove(s[t].cells[l]); e && (n.setStart(e, 0), n.collapse(!0), this.editor.selectRange(n)) } } }), z = p.extend({ command: function (e) { return e = i(e, this.options), "delete" == e.action ? "row" == e.type ? new R(e) : new S(e) : "row" == e.type ? new _(e) : new N(e) }, initialize: function (e, t) { p.fn.initialize.call(this, e, t), e.addClass("k-state-disabled") }, update: function (e, t) { var n = !w.isFormatted(t); e.toggleClass("k-state-disabled", n) } }); i(n.ui.editor, { PopupTool: C, TableCommand: x, InsertTableTool: T, TableModificationTool: z, InsertRowCommand: _, InsertColumnCommand: N, DeleteRowCommand: R, DeleteColumnCommand: S }), b("createTable", new T({ template: new m({ template: s.buttonTemplate, popup: !0, title: "Create table" }) })), b("addColumnLeft", new z({ type: "column", position: "before", template: new m({ template: s.buttonTemplate, title: "Add column on the left" }) })), b("addColumnRight", new z({ type: "column", template: new m({ template: s.buttonTemplate, title: "Add column on the right" }) })), b("addRowAbove", new z({ type: "row", position: "before", template: new m({ template: s.buttonTemplate, title: "Add row above" }) })), b("addRowBelow", new z({ type: "row", template: new m({ template: s.buttonTemplate, title: "Add row below" }) })), b("deleteRow", new z({ type: "row", action: "delete", template: new m({ template: s.buttonTemplate, title: "Delete row" }) })), b("deleteColumn", new z({ type: "column", action: "delete", template: new m({ template: s.buttonTemplate, title: "Delete column" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/clipboard.min", ["editor/command.min"], e) }(function () {
    !function (e) {
        var t = window.kendo, n = t.Class, i = t.ui.editor, o = i.RangeUtils, r = i.Dom, a = i.RestorePoint, s = i.Marker, l = t.support.browser, d = e.extend, c = n.extend({
            init: function (e) { this.editor = e; var t = e.options.pasteCleanup; this.cleaners = [new f(t), new p(t), new m(t), new h(t), new b(t), new v(t), new x(t), new C(t)] }, htmlToFragment: function (e) { var t = this.editor, n = t.document, i = r.create(n, "div"), o = n.createDocumentFragment(); for (i.innerHTML = e; i.firstChild;)o.appendChild(i.firstChild); return o }, isBlock: function (e) { return /<(div|p|ul|ol|table|h[1-6])/i.test(e) }, _startModification: function () { var e, t, n = this.editor; if (!this._inProgress) return this._inProgress = !0, e = n.getRange(), t = new a(e, n.body), r.persistScrollTop(n.document), { range: e, restorePoint: t } }, _endModification: function (e) { i._finishUpdate(this.editor, e.restorePoint), this.editor._selectionChange(), this._inProgress = !1 }, _contentModification: function (e, t) { var n = this, i = n.editor, o = n._startModification(); o && (e.call(n, i, o.range), setTimeout(function () { t.call(n, i, o.range), n._endModification(o) })) }, _removeBomNodes: function (e) { var t, n = o.textNodes(e); for (t = 0; t < n.length; t++)n[t].nodeValue = r.stripBom(n[t].nodeValue) || n[t].nodeValue }, _onBeforeCopy: function (e) { var t = new s; t.add(e), this._removeBomNodes(e), t.remove(e), this.editor.selectRange(e) }, oncopy: function () { this._onBeforeCopy(this.editor.getRange()) }, oncut: function () { this._onBeforeCopy(this.editor.getRange()), this._contentModification(e.noop, e.noop) }, _fileToDataURL: function (t) { var n = e.Deferred(), i = new FileReader; return t instanceof window.File || !t.getAsFile || (t = t.getAsFile()), i.onload = e.proxy(n.resolve, n), i.readAsDataURL(t), n.promise() }, _triggerPaste: function (e, t) { var n = { html: e || "" }; n.html = n.html.replace(/\ufeff/g, ""), this.editor.trigger("paste", n), this.paste(n.html, t || {}) }, _handleImagePaste: function (e) { var t, n; if ("FileReader" in window && !(l.msie && l.version > 10)) return t = e.clipboardData || e.originalEvent.clipboardData || window.clipboardData || {}, n = t.items || t.files, this._insertImages(n) }, _insertImages: function (t) { var n, i, o; if (t && (n = e.grep(t, function (e) { return /^image\//i.test(e.type) }), i = e.grep(t, function (e) { return /^text\/html/i.test(e.type) }), !i.length && n.length && (o = this._startModification()))) return e.when.apply(e, e.map(n, this._fileToDataURL)).done(e.proxy(function () { var t = Array.prototype.slice.call(arguments), n = e.map(t, function (e) { return '<img src="' + e.target.result + '" />' }).join(""); this._triggerPaste(n), this._endModification(o) }, this)), !0 }, onpaste: function (n) { return this._handleImagePaste(n) ? void n.preventDefault() : (this.expandImmutablesIn(), void this._contentModification(function (i, o) { var a, s, l, d = r.create(i.document, "div", { className: "k-paste-container", innerHTML: "\ufeff" }), c = t.support.browser, u = i.body; this._decoreateClipboardNode(d, u), u.appendChild(d), c.webkit && this._moveToCaretPosition(d, o), c.msie && c.version < 11 ? (n.preventDefault(), a = i.createRange(), a.selectNodeContents(d), i.selectRange(a), s = i.document.body.createTextRange(), s.moveToElementText(d), e(u).unbind("paste"), s.execCommand("Paste"), e(u).bind("paste", e.proxy(this.onpaste, this))) : (l = i.createRange(), l.selectNodeContents(d), i.selectRange(l)), o.deleteContents() }, function (t, n) { var i, o = ""; t.selectRange(n), i = e(t.body).children(".k-paste-container"), i.each(function () { var e = this.lastChild; e && r.is(e, "br") && r.remove(e), o += this.innerHTML }), i.remove(), this._triggerPaste(o, { clean: !0 }) })) }, ondragover: function (e) { (l.msie || l.edge) && (e.stopPropagation(), e.preventDefault()) }, ondrop: function (e) { var t, n; "FileReader" in window && (t = (e.originalEvent || e).dataTransfer || {}, n = t.items || t.files, this._insertImages(n) && e.preventDefault()) }, _decoreateClipboardNode: function (t, n) { var i, o, r, a; (l.msie || l.webkit) && (t = e(t), t.css({ borderWidth: "0px", width: "0px", height: "0px", overflow: "hidden", margin: "0", padding: "0" }), l.msie && (i = e(n.ownerDocument.documentElement), t.css({ fontVariant: "normal", fontWeight: "normal", lineSpacing: "normal", lineHeight: "normal", textDecoration: "none" }), o = i.css("color"), o && t.css("color", o), r = i.css("fontFamily"), r && t.css("fontFamily", r), a = i.css("fontSize"), a && t.css("fontSize", a))) }, _moveToCaretPosition: function (t, n) { var i = this, o = i.editor.body, a = r.offset(t, o), s = i._caretOffset(n, o), l = s.left - a.left, d = s.top - a.top, c = "translate(" + l + "px," + d + "px)"; e(t).css({ "-webkit-transform": c, transform: c }) }, _caretOffset: function (e, t) { var n, i, o, a, s, l, d = this.editor, c = r.create(d.document, "span", { innerHTML: "\ufeff" }), u = e.startContainer; return e.collapsed ? (i = r.isDataNode(u), i && (r.isBom(u) || 0 === e.startOffset) ? r.insertBefore(c, u) : i && e.startOffset === u.length ? r.insertAfter(c, u) : (e.insertNode(c), n = !0)) : (u = u === t ? u.childNodes[e.startOffset] : u, r.insertBefore(c, u)), o = r.offset(c, t), a = c.previousSibling, s = c.nextSibling, r.remove(c), n && r.isDataNode(a) && r.isDataNode(s) && !r.isBom(a) && !r.isBom(s) && (l = a.length, s.data = a.data + s.data, e.setStart(s, l), r.remove(a), e.collapse(!0), d.selectRange(e)), o }, expandImmutablesIn: function (e) {
                var n, i, o, r = this.editor; r && r.options.immutables && (n = r.body, e = e || r.getRange(), t.ui.editor.Immutables.expandImmutablesIn(e), e.startContainer === n && 0 === e.startOffset && (i = n.ownerDocument, o = i.createTextNode("\ufeff"), n.insertBefore(o, n.childNodes[0]),
                    e.setStartBefore(o)), r.selectRange(e))
            }, splittableParent: function (e, t) { var n, i; if (e) return r.closestEditableOfType(t, ["p", "ul", "ol"]) || t.parentNode; if (n = t.parentNode, i = t.ownerDocument.body, r.isInline(n)) for (; n.parentNode != i && !r.isBlock(n.parentNode);)n = n.parentNode; return n }, paste: function (t, n) { var i, a, l, c, u, f, p, m, h, g, b, v, k, y, w, x, C, T = this.editor; if (this.expandImmutablesIn(), n = d({ clean: !1, split: !0 }, n), !n.skipCleaners) for (i = 0, a = this.cleaners.length; i < a; i++)this.cleaners[i].applicable(t) && (t = this.cleaners[i].clean(t)); if (n.clean && (t = t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi, "$3"), t = t.replace(/<(a|span)[^>]*><\/\1>/gi, "")), t = t.replace(/<(a|span|font)([^>]*)> <\/\1>/gi, "<$1$2>&nbsp;</$1>"), t = t.replace(/^<li/i, "<ul><li").replace(/li>$/g, "li></ul>"), c = this.isBlock(t), T.focus(), u = T.getRange(), u.deleteContents(), u.startContainer == T.document && u.selectNodeContents(T.body), f = new s, p = f.addCaret(u), m = this.splittableParent(c, p), h = !1, g = m != T.body && !r.is(m, "td"), n.split && g && (c || r.isInline(m)) && (u.selectNode(p), o.split(u, m, !0), h = !0), b = this.htmlToFragment(t), b.firstChild && "k-paste-container" === b.firstChild.className) { for (v = [], i = 0, a = b.childNodes.length; i < a; i++)v.push(b.childNodes[i].innerHTML); b = this.htmlToFragment(v.join("<br />")) } if (l = b.childNodes, e(l).filter("table").addClass("k-table").end().find("table").addClass("k-table"), e(l).each(function (e, t) { r.isBlock(t) && "" === t.innerHTML && t.appendChild(T.document.createTextNode("\ufeff")) }), u.insertNode(b), m = this.splittableParent(c, p), h) { for (; p.parentNode != m;)r.unwrap(p.parentNode); r.unwrap(p.parentNode) } if (r.normalize(u.commonAncestorContainer), p.style.display = "inline", r.restoreScrollTop(T.document), r.scrollTo(p), f.removeCaret(u), k = u.commonAncestorContainer.parentNode, u.collapsed && "tbody" == r.name(k) && (u.setStartAfter(e(k).closest("table")[0]), u.collapse(!0)), y = e(u.commonAncestorContainer.parentNode).closest("table"), y.get(0)) { for (w = y.parent().contents(), x = w.length - 1, C = w.get(x); null !== C.nodeValue && (" " === C.nodeValue || "" === C.nodeValue);)x -= 1, C = w.get(x); C === y.get(0) && r.insertAfter(r.createEmptyNode(T.document, "p"), y[0]) } T.selectRange(u) }
        }), u = n.extend({ init: function (e) { this.options = e || {}, this.replacements = [] }, clean: function (e, t) { var n, i, o = this, r = t || o.replacements; for (n = 0, i = r.length; n < i; n += 2)e = e.replace(r[n], r[n + 1]); return e } }), f = u.extend({ init: function (e) { u.fn.init.call(this, e), this.replacements = [/<(\/?)script([^>]*)>/i, "<$1telerik:script$2>"] }, applicable: function (e) { return !this.options.none && /<script[^>]*>/i.test(e) } }), p = u.extend({ init: function (e) { u.fn.init.call(this, e); var t = " "; this.replacements = [/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi, t, /\t/gi, t, /&nbsp;&nbsp; &nbsp;/gi, t] }, applicable: function (e) { return /&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e) } }), m = u.extend({ init: function (e) { u.fn.init.call(this, e), this.junkReplacements = [/<\?xml[^>]*>/gi, "", /<!--(.|\n)*?-->/g, "", /&quot;/g, "'", /<o:p>&nbsp;<\/o:p>/gi, "&nbsp;", /<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi, "", /<\/o>/g, ""], this.replacements = this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g, "$1", /<br><br>/g, "<BR><BR>", /<br>(?!\n)/g, " ", /<table([^>]*)>(\s|&nbsp;)+<t/gi, "<table$1><t", /<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi, "", /<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi, "", /<table[^>]*>(\s|&nbsp;)*<\/table>/gi, "", /<BR><BR>/g, "<br>", /^\s*(&nbsp;)+/gi, "", /(&nbsp;|<br[^>]*>)+\s*$/gi, "", /mso-[^;"]*;?/gi, "", /<(\/?)b(\s[^>]*)?>/gi, "<$1strong$2>", /<(\/?)font(\s[^>]*)?>/gi, this.convertFontMatch, /<(\/?)i(\s[^>]*)?>/gi, "<$1em$2>", /style=(["|'])\s*\1/g, "", /(<br[^>]*>)?\n/g, function (e, t) { return t ? e : " " }]) }, convertFontMatch: function (e, t, n) { var i = /face=['"]([^'"]+)['"]/i, o = i.exec(n), r = n && o && o[1]; return t ? "</span>" : r ? '<span style="font-family:' + r + '">' : "<span>" }, applicable: function (e) { return /class="?Mso/i.test(e) || /style="[^"]*mso-/i.test(e) || /urn:schemas-microsoft-com:office/.test(e) }, stripEmptyAnchors: function (e) { return e.replace(/<a([^>]*)>\s*<\/a>/gi, function (e, t) { return !t || t.indexOf("href") < 0 ? "" : e }) }, listType: function (e, t) { var n, i = e.innerHTML, o = r.innerText(e), a = i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i), s = a && a[1], l = /^[a-z\d]/i.test(s), d = function (e) { return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/, "") }; return a && (n = !0), i = i.replace(/<\/?\w+[^>]*>/g, "").replace(/&nbsp;/g, " "), !n && /^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i) || n && /^.\u00a0+/.test(i) || s && !l && t ? { tag: "ul", style: this._guessUnorderedListStyle(d(o)) } : /^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i) ? { tag: "ol", style: this._guessOrderedListStyle(d(o)) } : void 0 }, _convertToLi: function (e) { var t, n = r.name(e); return 1 == e.childNodes.length ? t = e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /, "") : (r.remove(e.firstChild), 3 == e.firstChild.nodeType && /^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue) && r.remove(e.firstChild), /^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML) && r.remove(e.firstChild), t = "p" != n ? "<" + n + ">" + e.innerHTML + "</" + n + ">" : e.innerHTML), r.remove(e), r.create(document, "li", { innerHTML: t }) }, _guessUnorderedListStyle: function (e) { return /^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e) ? null : /^o/.test(e) ? "circle" : "square" }, _guessOrderedListStyle: function (e) { var t = null; return /^\d/.test(e) || (t = (/^[a-z]/.test(e) ? "lower-" : "upper-") + (/^[ivxlcdm]/i.test(e) ? "roman" : "alpha")), t }, extractListLevels: function (e) { var n = /style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi; return e = e.replace(n, function (e, n, i) { return t.format('data-list="{0}" data-level="{1}" {2}', n, i, e) }) }, _createList: function (e, t) { return r.create(document, e, { style: { listStyleType: t } }) }, lists: function (t) { var n, i, o, a, s, l, d, c, u, f, p, m, h, g, b, v, k = e(t).find(r.blockElements.join(",")), y = -1, w = {}, x = ["p", "h1", "h2", "h3", "h4", "h5", "h6"]; for (c = 0; c < k.length; c++)u = k[c], h = e(u).data(), g = h.list, n = r.name(u), "td" != n && (b = this.listType(u, h), f = b && b.tag, !f || x.indexOf(n) < 0 ? u.innerHTML ? i && !l && i.append(u) : r.remove(u) : (p = h.level || parseFloat(u.style.marginLeft || 0), v = f + g, w[p] || (w[p] = {}), (!o || o < 0) && (o = p, a = g, s = e(t).find("[data-list='" + a + "']:last")[0], d = this._createList(f, b.style), r.insertBefore(d, u), y = p, w[p][v] = d), l = s === u, m = w[p][v], (p > y || !m) && (m = this._createList(f, b.style), w[p][v] = m, i.appendChild(m)), i = this._convertToLi(u), m.appendChild(i), l ? o = y = -1 : y = p)) }, removeAttributes: function (e) { for (var t = e.attributes, n = t.length; n--;)"colspan" != r.name(t[n]) && e.removeAttributeNode(t[n]) }, createColGroup: function (n) { var i = n.cells, o = e(n).closest("table"), r = o.children("colgroup"); i.length < 2 || (r.length && (i = r.children(), r[0].parentNode.removeChild(r[0])), r = e(e.map(i, function (e) { var n = e.width; return n && 0 !== parseInt(n, 10) ? t.format('<col style="width:{0}px;"/>', n) : "<col />" }).join("")), r.is("colgroup") || (r = e("<colgroup/>").append(r)), r.prependTo(o)) }, convertHeaders: function (t) { var n, i = t.cells, o = e.map(i, function (t) { var n = e(t).children("p").children("strong")[0]; if (n && "strong" == r.name(n)) return n }); if (o.length == i.length) { for (n = 0; n < o.length; n++)r.unwrap(o[n]); for (e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t), n = 0; n < i.length; n++)r.changeTag(i[n], "th") } }, removeParagraphs: function (t) { var n, i, o, a, s; for (n = 0; n < t.length; n++)for (this.removeAttributes(t[n]), a = e(t[n]), s = a.children("p"), i = 0, o = s.length; i < o; i++)i < o - 1 && r.insertAfter(r.create(document, "br"), s[i]), r.unwrap(s[i]) }, removeDefaultColors: function (e) { for (var t = 0; t < e.length; t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText) && r.unwrap(e[t]) }, tables: function (t) { var n, i, o, r, a, s = e(t).find("table"), l = this; for (r = 0; r < s.length; r++) { for (n = s[r].rows, o = i = n[0], a = 1; a < n.length; a++)n[a].cells.length > o.cells.length && (o = n[a]); l.createColGroup(o), l.convertHeaders(i), l.removeAttributes(s[r]), l.removeParagraphs(s.eq(r).find("td,th")), l.removeDefaultColors(s.eq(r).find("span")) } }, headers: function (t) { var n, i = e(t).find("p.MsoTitle"); for (n = 0; n < i.length; n++)r.changeTag(i[n], "h1") }, removeFormatting: function (t) { e(t).find("*").each(function () { e(this).css({ fontSize: "", fontFamily: "" }), this.getAttribute("style") || this.style.cssText || this.removeAttribute("style") }) }, clean: function (e) { var t, n = this, i = this.options; return i.none ? (e = u.fn.clean.call(n, e, this.junkReplacements), e = n.stripEmptyAnchors(e)) : (e = this.extractListLevels(e), e = u.fn.clean.call(n, e), e = n.stripEmptyAnchors(e), t = r.create(document, "div", { innerHTML: e }), n.headers(t), i.msConvertLists && n.lists(t), n.tables(t), i.msAllFormatting && n.removeFormatting(t), e = t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi, "$1")), e } }), h = u.extend({ init: function (e) { u.fn.init.call(this, e), this.replacements = [/\s+class="Apple-style-span[^"]*"/gi, "", /<(div|p|h[1-6])\s+style="[^"]*"/gi, "<$1", /^<div>(.*)<\/div>$/, "$1"] }, applicable: function (e) { return /class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e) } }), g = u.extend({ clean: function (e) { var t = r.create(document, "div", { innerHTML: e }); return t = this.cleanDom(t), t.innerHTML }, cleanDom: function (e) { return e } }), b = g.extend({ cleanDom: function (t) { var n = this.collectTags(); return e(t).find(n).each(function () { r.unwrap(this) }), t }, collectTags: function () { if (this.options.span) return "span" }, applicable: function () { return this.options.span } }), v = g.extend({ cleanDom: function (t) { var n = this.collectAttr(), i = e(t).find("[" + n.join("],[") + "]"); return i.removeAttr(n.join(" ")), t }, collectAttr: function () { return this.options.css ? ["class", "style"] : [] }, applicable: function () { return this.options.css } }), k = function () { this.text = "", this.add = function (e) { this.text += e } }, y = n.extend({ init: function (e) { this.separators = e || { text: " ", line: "<br/>" }, this.lines = [], this.inlineBlockText = [], this.resetLine() }, appendText: function (e) { 3 === e.nodeType && (e = e.nodeValue), this.textContainer.add(e) }, appendInlineBlockText: function (e) { this.inlineBlockText.push(e) }, flashInlineBlockText: function () { this.inlineBlockText.length && (this.appendText(this.inlineBlockText.join(" ")), this.inlineBlockText = []) }, endLine: function () { this.flashInlineBlockText(), this.resetLine() }, html: function () { var e, t, n, i, o, r, a, s, l = this.separators, d = "", c = this.lines; for (this.flashInlineBlockText(), e = 0, t = c.length, n = t - 1; e < t; e++) { for (i = c[e], o = 0, r = i.length, a = r - 1; o < r; o++)s = i[o].text, d += s, o !== a && (d += l.text); e !== n && (d += l.line) } return d }, resetLine: function () { this.textContainer = new k, this.line = [], this.line.push(this.textContainer), this.lines.push(this.line) } }), w = n.extend({ init: function (e) { this.callback = e }, enumerate: function (e) { var t, n; e && (t = this.callback(e), n = e.firstChild, !t && n && this.enumerate(n), this.enumerate(e.nextSibling)) } }), x = u.extend({ init: function (t) { u.fn.init.call(this, t), this.hasText = !1, this.enumerator = new w(e.proxy(this.buildText, this)) }, clean: function (e) { var t = r.create(document, "div", { innerHTML: e }); return this.cleanDom(t) }, cleanDom: function (e) { return this.separators = this.getDefaultSeparators(), this.htmlLines = new y(this.separators), this.enumerator.enumerate(e.firstChild), this.hasText = !1, this.htmlLines.html() }, buildText: function (e) { if (r.isDataNode(e)) { if (r.isEmptyspace(e)) return; this.htmlLines.appendText(e.nodeValue.replace("\n", this.separators.line)), this.hasText = !0 } else { if (r.isBlock(e) && this.hasText) { var t = this.actions[r.name(e)] || this.actions.block; return t(this, e) } r.isBr(e) && this.htmlLines.appendText(this.separators.line) } }, applicable: function () { var e = this.options; return e.all || e.keepNewLines }, getDefaultSeparators: function () { return this.options.all ? { text: " ", line: " " } : { text: " ", line: "<br/>" } }, actions: { ul: e.noop, ol: e.noop, table: e.noop, thead: e.noop, tbody: e.noop, td: function (e, t) { var n = new x({ all: !0 }), i = n.cleanDom(t); return e.htmlLines.appendInlineBlockText(i), !0 }, block: function (e) { e.htmlLines.endLine() } } }), C = u.extend({ clean: function (e) { return this.options.custom(e) }, applicable: function () { return "function" == typeof this.options.custom } }); d(i, { Clipboard: c, Cleaner: u, ScriptCleaner: f, TabCleaner: p, MSWordFormatCleaner: m, WebkitFormatCleaner: h, HtmlTagsCleaner: b, HtmlAttrCleaner: v, HtmlContentCleaner: x, HtmlTextLines: y, CustomCleaner: C })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/keyboard.min", ["editor/command.min"], e) }(function () { !function (e) { function t(e, t) { return t.startContainer === e && t.endContainer === e && 0 === t.startOffset && t.endOffset == e.childNodes.length } function n(e, t, n) { for (var i = e ? e[t] : null; i && !n(i);)i = i[t]; return i } var i = window.kendo, o = i.Class, r = i.ui.editor, a = r.RangeUtils, s = r.Dom, l = r.RestorePoint, d = r.Marker, c = i.support.browser, u = '<br class="k-br">', f = e.extend, p = s.nodeTypes, m = "previousSibling", h = "td,th,caption", g = "table,tbody,thead,tfoot,tr", b = g + "," + h, v = function (t) { return !t.collapsed && e(t.commonAncestorContainer).is(g) }, k = o.extend({ remove: function (t) { var n, i, o, r, l, c, u, f = this, p = new d; p.add(t, !1), n = a.getAll(t, function (t) { return e(t).is(b) }), i = a.documentFromRange(t), o = p.start, r = p.end, l = h.split(","), c = s.parentOfType(o, l), u = s.parentOfType(r, l), f._removeContent(o, c, !0), f._removeContent(r, u, !1), e(n).each(function (t, n) { n = e(n), (n.is(h) ? n : n.find(h)).each(function (e, t) { t.innerHTML = "&#65279;" }) }), c && !o.previousSibling && s.insertBefore(i.createTextNode("\ufeff"), o), u && !r.nextSibling && s.insertAfter(i.createTextNode("\ufeff"), r), c ? t.setStartBefore(o) : n[0] && (c = e(n[0]), c = c.is(h) ? c : c.find(h).first(), c.length && t.setStart(c.get(0), 0)), t.collapse(!0), s.remove(o), s.remove(r) }, _removeContent: function (t, n, i) { if (n) { var o, r = i ? "nextSibling" : "previousSibling", a = function (t) { for (; t && !t[r];)t = t.parentNode; return t && e.contains(n, t) ? t[r] : null }; for (t = a(t); t;)o = a(t), s.remove(t), t = o } } }), y = o.extend({ init: function (e) { this.editor = e }, keydown: function (n) { var i, o, a, s, d = this, u = d.editor, p = u.keyboard, m = p.isTypingKey(n), h = f(e.Event(), n); return d.editor.trigger("keydown", h), h.isDefaultPrevented() ? (n.preventDefault(), !0) : !(h.isDefaultPrevented() || !m || p.isTypingInProgress()) && (i = u.getRange(), o = u.body, d.startRestorePoint = new l(i, o), v(i) && (a = new k(u), a.remove(i), u.selectRange(i)), c.webkit && !i.collapsed && t(o, i) && (o.innerHTML = ""), u.immutables && r.Immutables.immutablesContext(i) && (s = new r.BackspaceHandler(u), s.deleteSelection(i)), p.startTyping(function () { d.endRestorePoint = r._finishUpdate(u, d.startRestorePoint) }), !0) }, keyup: function (e) { var t = this.editor.keyboard; return this.editor.trigger("keyup", e), !!t.isTypingInProgress() && (t.endTyping(), !0) } }), w = o.extend({ init: function (e) { this.editor = e }, _addCaret: function (e) { var t = s.create(this.editor.document, "a"); return s.insertAt(e, t, 0), s.stripBomNode(t.previousSibling), s.stripBomNode(t.nextSibling), t }, _restoreCaret: function (e) { var t = this.editor.createRange(); !e.nextSibling && s.isDataNode(e.previousSibling) ? t.setStart(e.previousSibling, e.previousSibling.length) : t.setStartAfter(e), t.collapse(!0), this.editor.selectRange(t), s.remove(e) }, _handleDelete: function (e) { var t, n, i = e.endContainer, o = s.closestEditableOfType(i, s.blockElements); return !(!o || !r.RangeUtils.isEndOf(e, o)) && (t = s.next(o), !(!t || "p" != s.name(t)) && (n = this._addCaret(t), this._merge(o, t), this._restoreCaret(n), !0)) }, _cleanBomBefore: function (e) { for (var t = e.startOffset, n = e.startContainer, i = n.nodeValue, o = 0; t - o >= 0 && "\ufeff" == i[t - o - 1];)o++; o > 0 && (n.deleteData(t - o, o), e.setStart(n, Math.max(0, t - o)), e.collapse(!0), this.editor.selectRange(e)) }, _handleBackspace: function (t) { var i, o, a, l, d, c, u, f, p, h, g, b, v, k = t.startContainer, y = s.closestEditableOfType(k, ["li"]), w = s.closestEditableOfType(k, "p,h1,h2,h3,h4,h5,h6".split(",")), x = this.editor; if (s.isDataNode(k)) { if (t.collapsed && /^\s[\ufeff]+$/.test(k.nodeValue)) return t.setStart(k, 0), t.setEnd(k, k.length), x.selectRange(t), !1; this._cleanBomBefore(t) } return i = n(w, m, function (e) { return !s.htmlIndentSpace(e) }), t.collapsed && t.startOffset !== t.endOffset && t.startOffset < 0 && (t.startOffset = 0, t.endOffset = 0, x.selectRange(t)), o = y && r.RangeUtils.isStartOf(t, y), a = y && e(y).index(), l = o && a > 0, l && (w = y, i = s.prev(y)), w && i && s.is(i, "table") && r.RangeUtils.isStartOf(t, w) ? ("" === w.innerText && (w.innerHTML = "\ufeff"), !0) : w && i && r.RangeUtils.isStartOf(t, w) || l ? (d = this._addCaret(w), this._merge(i, w), this._restoreCaret(d), !0) : o && 0 === a ? (c = y.firstChild, c || (y.innerHTML = r.emptyElementContent, c = y.firstChild), u = new r.ListFormatter(s.name(y.parentNode), "p"), t.selectNodeContents(y), u.toggle(t), s.insignificant(c) ? t.setStartBefore(c) : t.setStart(c, 0), x.selectRange(t), !0) : (f = k.childNodes[t.startOffset - 1], p = t, h = f && s.closestEditableOfType(f, ["a"]), g = n(f || k, m, function (e) { return !s.isDataNode(e) || !s.isBom(e) && e.length > 0 }), (h || (0 === t.startOffset || f) && s.is(g, "a")) && (h = h || g, p = x.createRange(), p.setStart(h, h.childNodes.length), p.collapse(!0)), h = h || s.closestEditableOfType(f || p.startContainer, ["a"]), b = h && r.RangeUtils.isEndOf(p, h), b && (v = new r.UnlinkCommand({ range: p, body: x.body, immutables: !!x.immutables }), x.execCommand(v), x._selectionChange()), !1) }, _handleSelection: function (t) { var n, i, o, a, l = t.commonAncestorContainer, c = s.closest(l, "table"), u = r.emptyElementContent, f = this.editor; return v(t) ? (n = new k(f), n.remove(t), f.selectRange(t), !0) : (i = new d, i.add(t, !1), f.immutables && this._handleImmutables(i), this._surroundFullySelectedAnchor(i, t), t.setStartAfter(i.start), t.setEndBefore(i.end), o = t.startContainer, a = t.endContainer, t.deleteContents(), c && "" === e(c).text() && (t.selectNode(c), t.deleteContents()), l = t.commonAncestorContainer, "p" === s.name(l) && "" === l.innerHTML && (l.innerHTML = u, t.setStart(l, 0)), this._join(o, a), s.insertAfter(f.document.createTextNode("\ufeff"), i.start), i.remove(t), o = t.startContainer, "tr" == s.name(o) && (o = o.childNodes[Math.max(0, t.startOffset - 1)], t.setStart(o, s.getNodeLength(o))), t.collapse(!0), f.selectRange(t), !0) }, _handleImmutables: function (e) { var t = r.Immutables.immutableParent, n = t(e.start), i = t(e.start); n && s.insertBefore(e.start, n), i && s.insertAfter(e.end, i), n && s.remove(n), i && i.parentNode && s.remove(i) }, _surroundFullySelectedAnchor: function (t, n) { var i = t.start, o = e(i).closest("a").get(0), r = t.end, l = e(r).closest("a").get(0); o && a.isStartOf(n, o) && s.insertBefore(i, o), l && a.isEndOf(n, l) && s.insertAfter(r, l) }, _root: function (e) { for (; e && "body" != s.name(e) && e.parentNode && "body" != s.name(e.parentNode);)e = e.parentNode; return e }, _join: function (e, t) { e = this._root(e), t = this._root(t), e != t && s.is(t, "p") && this._merge(e, t) }, _merge: function (e, t) { for (s.removeTrailingBreak(e); e && t.firstChild;)1 == e.nodeType ? (e = s.list(e) ? e.children[e.children.length - 1] : e, e && e.appendChild(t.firstChild)) : e.nodeType === p.TEXT_NODE ? this._mergeWithTextNode(e, t.firstChild) : e.parentNode.appendChild(t.firstChild); s.remove(t) }, _mergeWithTextNode: function (e, t) { e && e.nodeType === p.TEXT_NODE && (e.nextSibling && this._isCaret(e.nextSibling) ? s.insertAfter(t, e.nextSibling) : s.insertAfter(t, e)) }, _isCaret: function (t) { return e(t).is("a") }, keydown: function (e) { var t, n, o = this.editor, a = o.getRange(), s = e.keyCode, d = i.keys, c = s === d.BACKSPACE, u = s == d.DELETE; o.immutables && o.immutables.keydown(e, a) || (!c && !u || a.collapsed ? c ? t = "_handleBackspace" : u && (t = "_handleDelete") : t = "_handleSelection", t && (n = new l(a, o.body), this[t](a) && (e.preventDefault(), r._finishUpdate(o, n)))) }, deleteSelection: function (e) { this._handleSelection(e) }, keyup: e.noop }), x = o.extend({ init: function (e) { this.editor = e, this.systemCommandIsInProgress = !1 }, createUndoCommand: function () { this.startRestorePoint = this.endRestorePoint = r._finishUpdate(this.editor, this.startRestorePoint) }, changed: function () { return !!this.startRestorePoint && this.startRestorePoint.html != this.editor.body.innerHTML }, keydown: function (e) { var t = this, n = t.editor, i = n.keyboard; return i.isModifierKey(e) ? (i.isTypingInProgress() && i.endTyping(!0), t.startRestorePoint = new l(n.getRange(), n.body), !0) : !!i.isSystem(e) && (t.systemCommandIsInProgress = !0, t.changed() && (t.systemCommandIsInProgress = !1, t.createUndoCommand()), !0) }, keyup: function () { var e = this; return !(!e.systemCommandIsInProgress || !e.changed()) && (e.systemCommandIsInProgress = !1, e.createUndoCommand(), !0) } }), C = o.extend({ init: function (e) { this.editor = e }, keydown: function (e) { !c.webkit || e.isDefaultPrevented() || !e.ctrlKey || 65 != e.keyCode || e.altKey || e.shiftKey || (this.editor.options.immutables && this._toSelectableImmutables(), this._selectEditorBody()) }, _selectEditorBody: function () { var e = this.editor, t = e.getRange(); t.selectNodeContents(e.body), e.selectRange(t) }, _toSelectableImmutables: function () { for (var t = this.editor, n = t.body, i = r.Immutables.immutable, o = s.emptyTextNode, a = n.firstChild, l = n.lastChild; o(a);)a = a.nextSibling; for (; o(l);)l = l.previousSibling; a && i(a) && e(u).prependTo(n), l && i(l) && e(u).appendTo(n) }, keyup: e.noop }), T = o.extend({ init: function (e) { this.handlers = e, this.typingInProgress = !1 }, isCharacter: function (e) { return e >= 48 && e <= 90 || e >= 96 && e <= 111 || e >= 186 && e <= 192 || e >= 219 && e <= 222 || 229 == e }, toolFromShortcut: function (t, n) { var i, o, r = String.fromCharCode(n.keyCode), a = this._getShortcutModifier(n, navigator.platform); for (i in t) if (o = e.extend({ ctrl: !1, alt: !1, shift: !1 }, t[i].options), (o.key == r || o.key == n.keyCode) && o.ctrl == a && o.alt == n.altKey && o.shift == n.shiftKey) return i }, _getShortcutModifier: function (e, t) { var n = t.toUpperCase().indexOf("MAC") >= 0; return n ? e.metaKey : e.ctrlKey }, toolsFromShortcut: function (t, n) { var i, o, r, a = String.fromCharCode(n.keyCode), s = [], l = function (e) { return e == a || e == n.keyCode || e == n.charCode }; for (i in t) o = e.extend({ ctrl: !1, alt: !1, shift: !1 }, t[i].options), r = e.isArray(o.key) ? e.grep(o.key, l).length > 0 : l(o.key), r && o.ctrl == n.ctrlKey && o.alt == n.altKey && o.shift == n.shiftKey && s.push(t[i]); return s }, isTypingKey: function (e) { var t = e.keyCode; return this.isCharacter(t) && !e.ctrlKey && !e.altKey || 32 == t || 13 == t || 8 == t || 46 == t && !e.shiftKey && !e.ctrlKey && !e.altKey }, isModifierKey: function (e) { var t = e.keyCode; return 17 == t && !e.shiftKey && !e.altKey || 16 == t && !e.ctrlKey && !e.altKey || 18 == t && !e.ctrlKey && !e.shiftKey }, isSystem: function (e) { return 46 == e.keyCode && e.ctrlKey && !e.altKey && !e.shiftKey }, startTyping: function (e) { this.onEndTyping = e, this.typingInProgress = !0 }, stopTyping: function () { this.typingInProgress && this.onEndTyping && this.onEndTyping(), this.typingInProgress = !1 }, endTyping: function (t) { var n = this; n.clearTimeout(), t ? n.stopTyping() : n.timeout = window.setTimeout(e.proxy(n.stopTyping, n), 1e3) }, isTypingInProgress: function () { return this.typingInProgress }, clearTimeout: function () { window.clearTimeout(this.timeout) }, notify: function (e, t) { var n, i = this.handlers; for (n = 0; n < i.length && !i[n][t](e); n++); }, keydown: function (e) { this.notify(e, "keydown") }, keyup: function (e) { this.notify(e, "keyup") } }); f(r, { TypingHandler: y, SystemHandler: x, BackspaceHandler: w, SelectAllHandler: C, Keyboard: T }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/exportpdf.min", ["editor/command.min"], e) }(function () { !function (e) { var t = window.kendo, n = t.ui.editor, i = n.Command, o = n.EditorUtils, r = o.registerTool, a = n.Tool, s = n.ToolTemplate, l = e.extend, d = i.extend({ init: function (e) { this.async = !0, i.fn.init.call(this, e) }, exec: function () { var e = this, t = e.lockRange(!0), n = e.editor; n._destroyResizings(), n.saveAsPDF().then(function () { e.releaseRange(t), n._initializeColumnResizing(), n._initializeRowResizing(), n._initializeTableResizing() }) } }); l(n, { ExportPdfCommand: d }), r("pdf", new a({ command: d, template: new s({ template: o.buttonTemplate, title: "Export PDF" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/plugins/print.min", ["editor/command.min"], e) }(function () { !function (e) { var t = window.kendo, n = t.ui.editor, i = n.Command, o = n.EditorUtils, r = o.registerTool, a = n.Tool, s = n.ToolTemplate, l = e.extend, d = i.extend({ init: function (e) { i.fn.init.call(this, e), this.managesUndoRedo = !0 }, exec: function () { var e = this.editor; t.support.browser.msie ? e.document.execCommand("print", !1, null) : e.window.print && e.window.print() } }); l(n, { PrintCommand: d }), r("print", new a({ command: d, template: new s({ template: o.buttonTemplate, title: "Print" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/resizing-utils.min", ["editor/main.min"], e) }(function () { !function (e, t) { function n(e) { var t = e.value, n = e.min, i = e.max; return f(u(p(t), p(i)), p(n)) } function i(t) { return t && !m(t).is("body") && t.scrollHeight > t.clientHeight ? e.support.scrollbar() : 0 } function o(e, t) { return r(e) ? p(e) : p(e) / t * 100 } function r(e) { return typeof e === w && k.test(e) } function a(e) { return typeof e === w && y.test(e) } function s(e) { return p(e) + b } function l(e) { return p(e) + v } var d = window, c = d.Math, u = c.min, f = c.max, p = d.parseFloat, m = e.jQuery, h = m.extend, g = e.ui.editor, b = "%", v = "px", k = /(\d+)(\.?)(\d*)%/, y = /(\d+)(\.?)(\d*)px/, w = "string", x = { constrain: n, getScrollBarWidth: i, calculatePercentageRatio: o, inPercentages: r, inPixels: a, toPercentages: s, toPixels: l }; h(g, { ResizingUtils: x }) }(window.kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/table-element-resizing.min", ["editor/main.min", "kendo.resizable.min", "editor/resizing/resizing-utils.min"], e) }(function () { !function (e, t) { var n = e.jQuery, i = n.extend, o = n.noop, r = n.proxy, a = e.ui.editor, s = e.Class, l = "keydown", d = "mousedown", c = "mouseenter", u = "mouseleave", f = "mousemove", p = "mouseup", m = ",", h = ".", g = ":last-child", b = "table", v = s.extend({ init: function (e, t) { var o = this; o.options = i({}, o.options, t), o.options.tags = n.isArray(o.options.tags) ? o.options.tags : [o.options.tags], n(e).is(b) && (o.element = e, o._attachEventHandlers()) }, destroy: function () { var e = this, t = e.options.eventNamespace; e.element && (n(e.element).off(t), e.element = null), n(e.options.rootElement).off(l + t), e._destroyResizeHandle() }, options: { tags: [], min: 0, rootElement: null, eventNamespace: "", rtl: !1, handle: { dataAttribute: "", height: 0, width: 0, classNames: {}, template: "" } }, _attachEventHandlers: function () { var e = this, t = e.options; n(e.element).on(f + t.eventNamespace, t.tags.join(m), r(e.detectElementBorderHovering, e)) }, resizingInProgress: function () { var e = this, t = e._resizable; return !!t && !!t.resizing }, resize: o, detectElementBorderHovering: function (e) { var t = this, i = t.options, o = i.handle, r = n(e.currentTarget), a = t.resizeHandle, s = o.dataAttribute; t.resizingInProgress() || (!r.is(g) && t.elementBorderHovered(r, e) ? a ? a.data(s) && a.data(s) !== r[0] && t.showResizeHandle(r, e) : t.showResizeHandle(r, e) : a && t._destroyResizeHandle()) }, elementBorderHovered: o, showResizeHandle: function (e, t) { var n = this; 0 === t.buttons && (n._initResizeHandle(), n.setResizeHandlePosition(e), n.setResizeHandleDimensions(), n.setResizeHandleDataAttributes(e[0]), n._attachResizeHandleEventHandlers(), n._initResizable(e), n._hideResizeMarker(), n.resizeHandle.show()) }, _initResizeHandle: function () { var e = this, t = e.options; e._destroyResizeHandle(), e.resizeHandle = n(t.handle.template).appendTo(t.rootElement) }, setResizeHandlePosition: o, setResizeHandleDimensions: o, setResizeHandleDataAttributes: function (e) { var t = this; t.resizeHandle.data(t.options.handle.dataAttribute, e) }, _attachResizeHandleEventHandlers: function () { var e = this, t = e.options, n = t.eventNamespace, i = t.handle.classNames.marker, o = e.resizeHandle; e.resizeHandle.on(d + n, function () { o.find(h + i).show() }).on(p + n, function () { o.find(h + i).hide() }) }, _hideResizeMarker: function () { var e = this; e.resizeHandle.find(h + e.options.handle.classNames.marker).hide() }, _destroyResizeHandle: function () { var e = this; e.resizeHandle && (e._destroyResizable(), e.resizeHandle.off(e.options.eventNamespace).remove(), e.resizeHandle = null) }, _initResizable: function (t) { var n = this; n.resizeHandle && (n._destroyResizable(), n._resizable = new e.ui.Resizable(t, { draggableElement: n.resizeHandle[0], start: r(n.onResizeStart, n), resize: r(n.onResize, n), resizeend: r(n.onResizeEnd, n) })) }, _destroyResizable: function () { var e = this; e._resizable && (e._resizable.destroy(), e._resizable = null) }, onResizeStart: function () { this._disableKeyboard() }, onResize: function (e) { this.setResizeHandleDragPosition(e) }, setResizeHandleDragPosition: o, onResizeEnd: function (e) { var t = this; t.resize(e), t._destroyResizeHandle(), t._enableKeyboard() }, _enableKeyboard: function () { var e = this.options; n(e.rootElement).off(l + e.eventNamespace) }, _disableKeyboard: function () { var e = this.options; n(e.rootElement).on(l + e.eventNamespace, function (e) { e.preventDefault() }) }, _forceResizing: function (e) { var t = this._resizable; t && t.userEvents && t.userEvents._end(e) } }), k = s.extend({ create: function (e, t) { var i = this, o = t.name, r = t.eventNamespace; n(e.body).on(c + r, b, function (n) { var r = n.currentTarget, a = e[o]; n.stopPropagation(), a ? a.element === r || a.resizingInProgress() || (i._destroyResizing(e, t), i._initResizing(e, r, t)) : i._initResizing(e, r, t) }).on(u + r, b, function (r) { var a, s = e[o]; r.stopPropagation(), !s || s.resizingInProgress() || s.resizeHandle || (a = n(s.element).parents(b)[0], a && (i._destroyResizing(e, t), i._initResizing(e, a, t))) }).on(u + r, function () { var n = e[o]; n && !n.resizingInProgress() && i._destroyResizing(e, t) }).on(p + r, function (r) { var a, s = e[o]; s && s.resizingInProgress() && (a = n(r.target).parents(b)[0], a && (s._forceResizing(r), i._destroyResizing(e, t), i._initResizing(e, a, t))) }) }, dispose: function (e, t) { n(e.body).off(t.eventNamespace) }, _initResizing: function (t, n, i) { var o = i.name, r = i.type; t[o] = new r(n, { rtl: e.support.isRtl(t.element), rootElement: t.body }) }, _destroyResizing: function (e, t) { var n = t.name; e[n] && (e[n].destroy(), e[n] = null) } }); k.current = new k, v.create = function (e, t) { k.current.create(e, t) }, v.dispose = function (e, t) { k.current.dispose(e, t) }, i(a, { TableElementResizing: v }) }(window.kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/column-resizing.min", ["editor/main.min", "editor/resizing/resizing-utils.min", "editor/resizing/table-element-resizing.min"], e) }(function () {
    !function (e, t) {
        var n = window, i = n.Math, o = i.abs, r = e.jQuery, a = r.extend, s = e.ui.editor, l = s.TableElementResizing, d = s.ResizingUtils, c = d.constrain, u = d.calculatePercentageRatio, f = d.getScrollBarWidth, p = d.inPercentages, m = d.toPercentages, h = d.toPixels, g = e._outerWidth, b = ".kendoEditorColumnResizing", v = "k-column-resize-handle", k = "k-column-resize-marker", y = "body", w = "tbody", x = "td", C = "th", T = "tr", _ = ",", N = "width", R = l.extend({
            options: { tags: [x, C], min: 20, rootElement: null, eventNamespace: b, rtl: !1, handle: { dataAttribute: "column", width: 10, height: 0, classNames: { handle: v, marker: k }, template: '<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="' + v + '"><div class="' + k + '"></div></div></div>' } }, elementBorderHovered: function (e, t) { var n = this, i = n.options, o = i.handle.width, a = e.offset().left + (i.rtl ? 0 : g(e)), s = t.clientX + r(e[0].ownerDocument).scrollLeft(); return s > a - o && s < a + o }, setResizeHandlePosition: function (e) { var t = this, n = r(t.element).children(w), i = t.options, o = i.rtl, a = i.handle.width, s = r(i.rootElement), l = s.is(y) ? 0 : s.scrollTop(), d = s.is(y) ? 0 : s.scrollLeft(), c = o ? 0 : g(e), u = o ? f(s[0]) : 0; t.resizeHandle.css({ top: n.offset().top + l, left: e.offset().left + c + (d - u) - a / 2, position: "absolute" }) }, setResizeHandleDimensions: function () { var e = this, t = r(e.element).children(w); e.resizeHandle.css({ width: e.options.handle.width, height: t.height() }) }, setResizeHandleDragPosition: function (e) { var t = this, n = r(r(e.currentTarget).data(t.options.handle.dataAttribute)), i = t.options, o = i.handle ? i.handle.width : 0, a = i.min, s = i.rtl, l = g(n), d = n.offset().left, u = g(n.next()), p = r(t.resizeHandle), m = r(i.rootElement), h = m.is(y) ? 0 : m.scrollLeft(), b = s ? f(m[0]) : 0, v = c({ value: p.offset().left + (h - b) + e.x.delta, min: d + (h - b) - (s ? u : 0) + a, max: d + l + (h - b) + (s ? 0 : u) - o - a }); p.css({ left: v }) }, resize: function (e) { var t, n, i, o = this, a = r(r(e.currentTarget).data(o.options.handle.dataAttribute)), s = o.options, l = s.rtl ? -1 : 1, d = s.min, u = l * e.x.initialDelta; o._setTableComputedWidth(), o._setColumnsComputedWidth(), i = g(a), n = g(a.next()), t = c({ value: i + u, min: d, max: i + n - d }), o._resizeColumn(a[0], t), o._resizeTopAndBottomColumns(a[0], t), o._resizeAdjacentColumns(a.index(), n, i, i - t) }, _setTableComputedWidth: function () { var e = this.element; "" === e.style[N] && (e.style[N] = h(g(r(e)))) }, _setColumnsComputedWidth: function () { var e, t = this, n = r(t.element).children(w), i = g(n), o = n.children(T).children(x), a = o.length, s = o.map(function () { return g(r(this)) }); for (e = 0; e < a; e++)o[e].style[N] = p(o[e].style[N]) ? m(u(s[e], i)) : h(s[e]) }, _resizeTopAndBottomColumns: function (e, t) { var n, i = this, o = r(e).index(), a = r(i.element).children(w).children(T).children(i.options.tags.join(_)).filter(function () { var t = this; return r(t).index() === o && t !== e }), s = a.length; for (n = 0; n < s; n++)i._resizeColumn(a[n], t) }, _resizeColumn: function (e, t) { e.style[N] = p(e.style[N]) ? m(u(t, g(r(this.element).children(w)))) : h(t) }, _resizeAdjacentColumns: function (e, t, n, i) {
                var o, a = this, s = r(a.element).children(w).children(T).children(a.options.tags.join(_)).filter(function () {
                    return r(this).index() === e + 1
                }), l = s.length; for (o = 0; o < l; o++)a._resizeAdjacentColumn(s[o], t, n, i)
            }, _resizeAdjacentColumn: function (e, t, n, i) { var r = this, a = r.options.min, s = c({ value: t + i, min: a, max: o(n + t - a) }); r._resizeColumn(e, s) }
        }); R.create = function (e) { l.create(e, { name: "columnResizing", type: R, eventNamespace: b }) }, R.dispose = function (e) { l.dispose(e, { eventNamespace: b }) }, a(s, { ColumnResizing: R })
    }(window.kendo)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/row-resizing.min", ["editor/main.min", "editor/resizing/resizing-utils.min", "editor/resizing/table-element-resizing.min"], e) }(function () { !function (e, t) { var n = window.Math, i = n.abs, o = e.jQuery, r = o.extend, a = e.ui.editor, s = a.TableElementResizing, l = a.ResizingUtils, d = l.getScrollBarWidth, c = l.constrain, u = l.calculatePercentageRatio, f = l.inPercentages, p = l.toPercentages, m = l.toPixels, h = e._outerHeight, g = ".kendoEditorRowResizing", b = "k-row-resize-handle", v = "k-row-resize-marker-wrapper", k = "k-row-resize-marker", y = "body", w = "tr", x = "tbody", C = "height", T = s.extend({ options: { tags: [w], min: 20, rootElement: null, eventNamespace: g, rtl: !1, handle: { dataAttribute: "row", width: 0, height: 10, classNames: { handle: b, marker: k }, template: '<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false"><div class="' + b + '"><div class="' + v + '"><div class="' + k + '"></div></div></div></div>' } }, elementBorderHovered: function (e, t) { var n = this, i = n.options.handle[C], r = e.offset().top + h(e), a = t.clientY + o(e[0].ownerDocument).scrollTop(); return a > r - i && a < r + i }, setResizeHandlePosition: function (e) { var t = this, n = t.options, i = n.handle[C], r = e.offset(), a = o(n.rootElement), s = a.is(y) ? 0 : a.scrollTop(), l = a.is(y) ? 0 : a.scrollLeft(), c = n.rtl ? d(a[0]) : 0; t.resizeHandle.css({ top: r.top + h(e) + s - i / 2, left: r.left + (l - c), position: "absolute" }) }, setResizeHandleDimensions: function () { var e = this; e.resizeHandle.css({ width: o(e.element).children(x).width(), height: e.options.handle[C] }) }, setResizeHandleDragPosition: function (e) { var t = this, n = t.options, i = n.min, r = o(t.element).children(x), a = r.offset().top, s = o(t.resizeHandle), l = o(e.currentTarget).data(n.handle.dataAttribute), d = o(n.rootElement), u = d.is(y) ? 0 : d.scrollTop(), f = c({ value: s.offset().top + u + e.y.delta, min: o(l).offset().top + u + i, max: a + h(r) + u - n.handle[C] - i }); s.css({ top: f }) }, resize: function (e) { var t = this, n = t.options, r = o(e.currentTarget).data(n.handle.dataAttribute), a = h(o(r)), s = o(t.element), l = h(s), d = s.children(x), u = d.height(), p = r.style[C], g = c({ value: a + e.y.initialDelta, min: n.min, max: i(u - n.min) }); t._setRowsHeightInPixels(), r.style[C] = m(g), t._setTableHeight(l + (g - a)), f(p) && t._setRowsHeightInPercentages() }, _setRowsHeightInPixels: function () { var e, t = this, n = o(t.element).children(x).children(w), i = n.length, r = n.map(function () { return h(o(this)) }); for (e = 0; e < i; e++)n[e].style[C] = m(r[e]) }, _setRowsHeightInPercentages: function () { var e, t = this, n = o(t.element).children(x), i = n.height(), r = n.children(w), a = r.length, s = r.map(function () { return h(o(this)) }); for (e = 0; e < a; e++)r[e].style[C] = p(u(s[e], i)) }, _setTableHeight: function (e) { var t = this.element; t.style[C] = f(t.style[C]) ? p(u(e, o(t).parent().height())) : m(e) } }); T.create = function (e) { s.create(e, { name: "rowResizing", type: T, eventNamespace: g }) }, T.dispose = function (e) { s.dispose(e, { eventNamespace: g }) }, r(a, { RowResizing: T }) }(window.kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/table-resize-handle.min", ["editor/main.min", "kendo.draganddrop.min", "editor/resizing/resizing-utils.min"], e) }(function () { !function (e, t) { var n, i, o, r, a, s, l, d, c, u, f, p, m, h, g, b, v, k, y, w, x, C, T = e.jQuery, _ = T.extend, N = T.noop, R = T.proxy, S = e.ui.editor, z = e.Class, A = e.ui.Draggable, E = e.Observable, D = S.ResizingUtils.getScrollBarWidth, P = e._outerWidth, I = e._outerHeight, H = ".kendoEditorTableResizeHandle", O = "k-table-resize-handle", B = "dragStart", F = "drag", L = "dragEnd", U = "halfInside", M = "mouseover", W = "mouseout", V = "body", j = "table", K = "east", $ = "north", G = "northeast", Q = "northwest", q = "south", X = "southeast", Y = "southwest", J = "west", Z = ".", ee = E.extend({ init: function (e) { var t = this; E.fn.init.call(t), t.options = _({}, t.options, e), t.element = T(t.options.template).appendTo(t.options.appendTo)[0], t._attachEventHandlers(), t._addStyles(), t._initDraggable(), t._initPositioningStrategy(), t._initDraggingStrategy(), T(t.element).data(j, t.options.resizableElement) }, destroy: function () { var e = this; T(e.element).off(H).remove(), e.element = null, e._destroyDraggable(), e.unbind() }, options: { appendTo: null, direction: X, resizableElement: null, rtl: !1, template: "<div class='k-table-resize-handle-wrapper' unselectable='on' contenteditable='false'><div class='" + O + "'></div></div>" }, events: [B, F, L, M, W], show: function () { this._setPosition() }, _setPosition: function () { var e = this, t = e._positioningStrategy.getPosition(); T(e.element).css({ top: t.top, left: t.left, position: "absolute" }) }, _attachEventHandlers: function () { var e = this; T(e.element).on(M + H, R(e._onMouseOver, e)).on(W + H, R(e._onMouseOut, e)) }, _onMouseOver: function () { this.trigger(M) }, _onMouseOut: function () { this.trigger(W) }, _addStyles: function () { var e = this; T(e.element).children(Z + O).addClass("k-resize-" + e.options.direction) }, _initPositioningStrategy: function () { var e = this, t = e.options; e._positioningStrategy = n.create({ name: t.direction, handle: e.element, resizableElement: t.resizableElement, rootElement: t.rootElement, rtl: t.rtl }) }, _initDraggable: function () { var e = this, t = e.element; !e._draggable && t && (e._draggable = new A(t, { dragstart: R(e._onDragStart, e), drag: R(e._onDrag, e), dragend: R(e._onDragEnd, e) })) }, _onDragStart: function () { this.trigger(B) }, _onDrag: function (e) { var t = this; t.trigger(F, t._draggingStrategy.adjustDragDelta({ deltaX: e.x.delta, deltaY: e.y.delta, initialDeltaX: e.x.initialDelta, initialDeltaY: e.y.initialDelta })) }, _onDragEnd: function () { this.trigger(L) }, _destroyDraggable: function () { var e = this; e._draggable && (e._draggable.destroy(), e._draggable = null) }, _initDraggingStrategy: function () { var e = this; e._draggingStrategy = f.create({ name: e.options.direction }) } }), te = z.extend({ init: function () { this._items = [] }, register: function (e, t) { this._items.push({ name: e, type: t }) }, create: function (e) { var t, n, i, o = this._items, r = o.length, a = e.name ? e.name.toLowerCase() : ""; for (i = 0; i < r; i++)if (n = o[i], n.name.toLowerCase() === a) { t = n; break } if (t) return new t.type(e) } }), ne = te.extend({}); ne.current = new ne, n = z.extend({ init: function (e) { var t = this; t.options = _({}, t.options, e) }, options: { handle: null, offset: U, resizableElement: null, rootElement: null, rtl: !1 }, getPosition: function () { var e = this, t = e.calculatePosition(), n = e.applyHandleOffset(t), i = e.applyScrollOffset(n); return i }, calculatePosition: N, applyHandleOffset: function (e) { var t = this.options, n = T(t.handle); return t.offset === U ? { top: e.top - I(n) / 2, left: e.left - P(n) / 2 } : e }, applyScrollOffset: function (e) { var t = this.options, n = T(t.rootElement), i = t.rtl ? D(n[0]) : 0; return n.is(V) ? e : { top: e.top + (n.scrollTop() || 0), left: e.left + (n.scrollLeft() || 0) - i } } }), n.create = function (e) { return ne.current.create(e) }, i = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top + I(e) / 2, left: t.left + P(e) } } }), ne.current.register(K, i), o = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top, left: t.left + P(e) / 2 } } }), ne.current.register($, o), r = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top, left: t.left + P(e) } } }), ne.current.register(G, r), a = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top, left: t.left } } }), ne.current.register(Q, a), s = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top + I(e), left: t.left + P(e) / 2 } } }), ne.current.register(q, s), l = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top + I(e), left: t.left + P(e) } } }), ne.current.register(X, l), d = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top + I(e), left: t.left } } }), ne.current.register(Y, d), c = n.extend({ calculatePosition: function () { var e = T(this.options.resizableElement), t = e.position(); return { top: t.top + I(e) / 2, left: t.left } } }), ne.current.register(J, c), u = te.extend({}), u.current = new u, f = z.extend({ init: function (e) { var t = this; t.options = _({}, t.options, e) }, options: { deltaX: { adjustment: null, modifier: null }, deltaY: { adjustment: null, modifier: null } }, adjustDragDelta: function (e) { var t = this.options, n = t.deltaX.adjustment * t.deltaX.modifier, i = t.deltaY.adjustment * t.deltaY.modifier; return { deltaX: e.deltaX * n, deltaY: e.deltaY * i, initialDeltaX: e.initialDeltaX * n, initialDeltaY: e.initialDeltaY * i } } }), f.create = function (e) { return u.current.create(e) }, p = f.extend({ options: { deltaX: { adjustment: 1, modifier: 1 }, deltaY: { adjustment: 0, modifier: 0 } } }), m = p.extend({ options: { deltaX: { modifier: 1 } } }), u.current.register(K, m), h = p.extend({ options: { deltaX: { modifier: -1 } } }), u.current.register(J, h), g = f.extend({ options: { deltaX: { adjustment: 0, modifier: 0 }, deltaY: { adjustment: 1, modifier: 1 } } }), b = g.extend({ options: { deltaY: { modifier: -1 } } }), u.current.register($, b), v = g.extend({ options: { deltaY: { modifier: 1 } } }), u.current.register(q, v), k = f.extend({ options: { deltaX: { adjustment: 1, modifier: 1 }, deltaY: { adjustment: 1, modifier: 1 } } }), y = k.extend({ options: { deltaX: { modifier: 1 }, deltaY: { modifier: -1 } } }), u.current.register(G, y), w = k.extend({ options: { deltaX: { modifier: -1 }, deltaY: { modifier: -1 } } }), u.current.register(Q, w), x = k.extend({ options: { deltaX: { modifier: 1 }, deltaY: { modifier: 1 } } }), u.current.register(X, x), C = k.extend({ options: { deltaX: { modifier: -1 }, deltaY: { modifier: 1 } } }), u.current.register(Y, C), _(S, { TableResizeHandle: ee }) }(window.kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/resizing/table-resizing.min", ["editor/main.min", "editor/resizing/table-resize-handle.min", "editor/resizing/resizing-utils.min"], e) }(function () { !function (e, t) { function n(e) { return t === e } var i = window, o = i.Math, r = o.min, a = o.max, s = e.jQuery, l = s.contains, d = s.extend, c = s.proxy, u = e.support.browser, f = e.ui.editor, p = e.Class, m = f.TableResizeHandle, h = f.ResizingUtils, g = h.calculatePercentageRatio, b = h.constrain, v = h.inPercentages, k = h.inPixels, y = h.toPercentages, w = h.toPixels, x = e._outerWidth, C = e._outerHeight, T = ".kendoEditorTableResizing", _ = "k-table-resize-handle-wrapper", N = "k-table", R = "k-table-resizing", S = "dragStart", z = "drag", A = "dragEnd", E = "keydown", D = "mousedown", P = "mouseover", I = "mouseout", H = "td", O = "tr", B = "tbody", F = "table", L = "width", U = "height", M = "east", W = "north", V = "northeast", j = "northwest", K = "south", $ = "southeast", G = "southwest", Q = "west", q = ".", X = p.extend({ init: function (e, t) { var n = this; n.options = d({}, n.options, t), n.handles = [], s(e).is(F) && (n.element = e) }, destroy: function () { var e = this; s(e.element).off(T), e.element = null, s(e.options.rootElement).off(E + T), e._destroyResizeHandles() }, options: { appendHandlesTo: null, rtl: !1, rootElement: null, minWidth: 10, minHeight: 10, handles: [{ direction: j }, { direction: W }, { direction: V }, { direction: M }, { direction: $ }, { direction: K }, { direction: G }, { direction: Q }] }, resize: function (e) { var t = this, n = d({}, { deltaX: 0, deltaY: 0, initialDeltaX: 0, initialDeltaY: 0 }, e); t._resizeWidth(n.deltaX, n.initialDeltaX), t._resizeHeight(n.deltaY, n.initialDeltaY), t.showResizeHandles() }, _resizeWidth: function (e, t) { var i, o, l, d, c = this, u = s(c.element), f = u[0].style[L], p = x(u), m = u.parent().width(), h = c._getMaxDimensionValue(L); 0 !== e && (n(c._initialElementWidth) && (c._initialElementWidth = p), d = b({ value: c._initialElementWidth + t, min: c.options.minWidth, max: h }), v(f) ? (p + e > m ? (o = a(d, m), l = r(d, m)) : (o = r(d, m), l = a(d, m)), i = y(g(o, l))) : i = w(d), c._setColumnsWidth(), u[0].style[L] = i) }, _resizeHeight: function (e, t) { var i, o, l, d, c = this, u = s(c.element), f = u[0].style[U], p = C(u), m = u.parent(), h = m.height(), k = c._getMaxDimensionValue(U), x = c.options.minHeight, T = c._hasRowsInPixels(); 0 !== e && (n(c._initialElementHeight) && (c._initialElementHeight = p), d = b({ value: c._initialElementHeight + t, min: x, max: k }), T && e < 0 && c._setRowsHeightInPercentages(), v(f) ? (p + e > h ? (o = a(d, h), l = r(d, h)) : (o = r(d, h), l = a(d, h)), i = y(g(o, l))) : i = w(d), u[0].style[U] = i, T && e < 0 && c._setRowsHeightInPixels()) }, _getMaxDimensionValue: function (e) { var t = this, n = s(t.element), i = e.toLowerCase(), o = t.options.rtl ? -1 : 1, r = s(t.element).parent(), a = r[0], l = r[i](), d = o * (e === L ? r.scrollLeft() : r.scrollTop()); return a === n.closest(H)[0] ? "" !== a.style[i] || v(t.element.style[i]) ? l + d : 1 / 0 : l + d }, _setColumnsWidth: function () { function e(e) { var t = e.style.width; return "" !== t ? !!v(t) : !!s(e).hasClass(N) } var t, n = this, i = s(n.element), o = i.parent()[0], r = i.closest(H), a = r.closest(O).children(), l = a.length; if (e(i[0]) && o === r[0] && "" === o.style[L]) for (t = 0; t < l; t++)a[t].style[L] = w(s(a[t]).width()) }, _hasRowsInPixels: function () { var e, t = this, n = s(t.element).children(B).children(O); for (e = 0; e < n.length; e++)if ("" === n[e].style.height || k(n[e].style.height)) return !0; return !1 }, _setRowsHeightInPercentages: function () { var e, t = this, n = s(t.element).children(B), i = n.height(), o = n.children(O), r = o.length, a = o.map(function () { return C(s(this)) }); for (e = 0; e < r; e++)o[e].style[U] = y(g(a[e], i)) }, _setRowsHeightInPixels: function () { var e, t = this, n = s(t.element).children(B).children(O), i = n.length, o = n.map(function () { return C(s(this)) }); for (e = 0; e < i; e++)n[e].style[U] = w(o[e]) }, showResizeHandles: function () { var e = this; e._initResizeHandles(), e._showResizeHandles() }, _initResizeHandles: function () { var e, t = this, n = t.handles, i = t.options, o = t.options.handles, r = o.length; if (!(n && n.length > 0)) { for (e = 0; e < r; e++)t.handles.push(new m(d({ appendTo: i.appendHandlesTo, resizableElement: t.element, rootElement: i.rootElement, rtl: i.rtl }, o[e]))); t._bindToResizeHandlesEvents() } }, _destroyResizeHandles: function () { var e, t = this, n = t.handles ? t.handles.length : 0; for (e = 0; e < n; e++)t.handles[e].destroy() }, _showResizeHandles: function () { var e, t = this, n = t.handles || [], i = n.length; for (e = 0; e < i; e++)t.handles[e].show() }, _bindToResizeHandlesEvents: function () { var e, t, n = this, i = n.handles || [], o = i.length; for (e = 0; e < o; e++)t = i[e], t.bind(S, c(n._onResizeHandleDragStart, n)), t.bind(z, c(n._onResizeHandleDrag, n)), t.bind(A, c(n._onResizeHandleDragEnd, n)), t.bind(P, c(n._onResizeHandleMouseOver, n)), t.bind(I, c(n._onResizeHandleMouseOut, n)) }, _onResizeHandleDragStart: function () { var e = this, t = s(e.element); t.addClass(R), e._initialElementHeight = C(t), e._initialElementWidth = x(t), e._disableKeyboard() }, _onResizeHandleDrag: function (e) { this.resize(e) }, _onResizeHandleDragEnd: function () { var e = this; s(e.element).removeClass(R), e._enableKeyboard() }, _enableKeyboard: function () { s(this.options.rootElement).off(E + T) }, _disableKeyboard: function () { s(this.options.rootElement).on(E + T, function (e) { e.preventDefault() }) } }), Y = p.extend({ create: function (e) { var t = this; s(e.body).on(D + T, F, function (n) { var i = n.target, o = n.currentTarget, r = e.tableResizing, a = r ? r.element : null; if (r) { if (a && o !== a) { if (l(o, a) && a !== i && l(a, i)) return; a !== i && (e._destroyTableResizing(), t._initResizing(e, o)) } } else t._initResizing(e, o); e._showTableResizeHandles() }).on(D + T, function (t) { var n = e.tableResizing, i = n ? n.element : null, o = t.target, r = s(o).hasClass(_) || s(o).parents(q + _).length > 0; !n || i === o || l(i, o) || r || e._destroyTableResizing() }) }, dispose: function (e) { s(e.body).off(T) }, _initResizing: function (t, n) { u.msie || u.mozilla || (t.tableResizing = new X(n, { appendHandlesTo: t.body, rtl: e.support.isRtl(t.element), rootElement: t.body })) } }); Y.current = new Y, X.create = function (e) { Y.current.create(e) }, X.dispose = function (e) { Y.current.dispose(e) }, d(f, { TableResizing: X }) }(window.kendo) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/table-wizard/table-wizard-command.min", ["editor/plugins/tables.min"], e) }(function () { !function (e, t) { var n = window.kendo, i = n.ui.editor, o = i.EditorUtils, r = i.RangeUtils, a = i.Dom, s = o.registerTool, l = i.ToolTemplate, d = i.Command, c = new i.BlockFormatFinder([{ tags: ["table"] }]), u = new i.BlockFormatFinder([{ tags: ["td", "th"] }]), f = /([a-z]+|%)$/i, p = d.extend({ exec: function () { var o = this, r = o.editor, a = o.range = o.lockRange(), s = o._sourceTable = o.options.insertNewTable ? t : o._selectedTable(a), l = o._selectedTableCells = s ? o._selectedCells(a) : t, d = { visible: !1, messages: r.options.messages, closeCallback: e.proxy(o.onDialogClose, o), table: o.parseTable(s, l), dialogOptions: r.options.dialogOptions, isRtl: n.support.isRtl(r.wrapper) }, c = new i.TableWizardDialog(d); c.open() }, onDialogClose: function (e) { var t = this; t.releaseRange(t.range), e && (t.options.insertNewTable ? t.insertTable(t.createNewTable(e)) : t.updateTable(e, t._sourceTable, t._selectedTableCells)) }, releaseRange: function (e) { var t = this, n = t.editor.document; a.windowFromDocument(n).focus(), d.fn.releaseRange.call(t, e) }, insertTable: function (e) { var t = this.range; t.insertNode(e), t.collapse(!0), this.editor.selectRange(t), this._ensureFocusableAfterTable(e) }, _ensureFocusableAfterTable: function (t) { for (var n = e(t).parent().contents(), i = n.length - 1, o = n.get(i); null !== o.nodeValue && (" " === o.nodeValue || "" === o.nodeValue);)i -= 1, o = n.get(i); o === t && a.insertAfter(a.createEmptyNode(this.editor.document, "p"), t) }, updateTable: function (t, n, i) { for (var o, r, s, l, d, c, u, f, p = this, m = e(n.rows).toArray(), h = t.tableProperties, g = h.rows, b = h.columns, v = function (e) { return e[e.length - 1] }; i.length > 1;)i.pop(); if (o = i.length ? v(i).parentNode : v(m), p._deleteTableRows(m, m.length - g), m.length < g) for (l = e(o).index(), d = o.cells.length, c = g - m.length, s = o.parentNode; c;)r = s.insertRow(l + 1), p._insertCells(d - r.cells.length, r), c--; m[0].cells.length > b && e(m).each(function (e, t) { for (; t.cells.length > b;)t.deleteCell(-1) }), m[0].cells.length < b && (u = e(v(i) || v(o.cells)).index(), e(m).each(function (e, t) { p._insertCells(b - t.cells.length, t, u + 1) })), p._updateTableProperties(n, h), f = t.cellProperties, i[0] && a.attr(i[0], { id: f.id || null }), (f.selectAllCells ? e(m).children() : e(i)).each(function (e, t) { p._updateCellProperties(t, f) }), p._updateCaption(n, h), h.cellsWithHeaders = h.cellsWithHeaders || !1, p.cellsWithHeadersAssociated(n) != h.cellsWithHeaders && p.associateCellsWithHeader(n, h.cellsWithHeaders) }, _isHeadingRow: function (e) { return a.is(e.parentNode, "thead") || a.is(e.cells[0], "th") }, associateCellsWithHeader: function (t, n) { var i, o, r, a = (new Date).getTime(), s = [], l = t.rows[0].cells.length, d = function () { for (var e = 0; e < l; e++)s[e] = "table" + ++a }, c = function (t, i) { e(i)[n ? "attr" : "removeAttr"]("id", s[t]) }, u = function (t, i) { e(i)[n ? "attr" : "removeAttr"]("headers", s[t]) }, f = this._isHeadingRow; e(t.rows).each(function (n, a) { if (f(a)) for (i = n, o = t.rows[++i], r = o && !f(o), r && (d(), e(a.cells).each(c)); r;)e(o.cells).each(u), o = t.rows[++i], r = o && !f(o) }) }, cellsWithHeadersAssociated: function (t) { var n, i = e(t.rows).children(), o = this._isHeadingRow, r = []; return i.each(function (e, t) { t.id && o(t.parentNode) && r.push(t.id) }), n = i.filter(function (t, n) { var i = n.getAttribute("headers"); return i && !o(n.parentNode) && e.inArray(i, r) > -1 }), !!n.length }, _insertCells: function (e, t, n) { n = isNaN(n) ? -1 : n; for (var i, o = 0; o < e; o++)i = t.insertCell(n), i.innerHTML = "&nbsp;" }, _deleteTableRows: function (e, t) { for (var n, i, o = 0; o < t; o++)n = e.pop(), i = n.parentNode, i.removeChild(n), i.rows.length || a.remove(i) }, createNewTable: function (e) { var t, n, i, o, r, s = this, l = s.editor.document, d = e.tableProperties, c = e.cellProperties, u = c.selectAllCells, f = a.create(l, "table"); for (s._updateTableProperties(f, d), s._updateCaption(f, d), t = f.createTBody(), n = 0; n < d.rows; n++)for (i = t.insertRow(), o = 0; o < d.columns; o++)r = i.insertCell(), r.innerHTML = "&nbsp;", 0 === n && 0 === o && c.id && (r.id = c.id), s._updateCellProperties(r, u || 0 === n && 0 === o ? c : {}); return d.cellsWithHeaders && s.associateCellsWithHeader(f, d.cellsWithHeaders), f }, _updateTableProperties: function (t, n) { var i = this._getStylesData(n); a.attr(t, { cellSpacing: n.cellSpacing || null, cellPadding: n.cellPadding || null, className: n.className || null, id: n.id || null, summary: n.summary || null, style: i || null }), e(t).addClass("k-table") }, _updateCellProperties: function (e, t) { var n = this._getStylesData(t); n.padding = t.cellPadding || null, n.margin = t.cellMargin || null, a.attr(e, { style: n || null, className: t.className || null }) }, _updateCaption: function (e, t) { var n, i; e.caption && !t.captionContent ? e.deleteCaption() : t.captionContent && (n = e.createCaption(), n.innerHTML = t.captionContent, i = this._getAlignmentData(t.captionAlignment), a.attr(n, { style: { textAlign: i.textAlign, verticalAlign: i.verticalAlign } })) }, _getStylesData: function (e) { var t = this._getAlignmentData(e.alignment), n = "wrapText" in e ? e.wrapText ? "" : "nowrap" : null; return { width: e.width ? e.width + e.widthUnit : null, height: e.height ? e.height + e.heightUnit : null, textAlign: t.textAlign, verticalAlign: t.verticalAlign, backgroundColor: e.bgColor || null, borderWidth: e.borderWidth, borderStyle: e.borderStyle, borderColor: e.borderColor, borderCollapse: e.collapseBorders ? "collapse" : null, whiteSpace: n } }, _getAlignmentData: function (e) { var t, n = "", i = n; return e && (e.indexOf(" ") != -1 ? (t = e.split(" "), n = t[0], i = t[1]) : n = e), { textAlign: n, verticalAlign: i } }, parseTable: function (n, i) { var o, r, a, s, l, d, c, u, f, p; return n ? (o = this, r = n.style, a = n.rows, s = n.caption, l = e(s ? s.cloneNode(!0) : t), l.find(".k-marker").remove(), d = n.className, d = d.replace(/^k-table\s|\sk-table$/, ""), d = d.replace(/\sk-table\s/, " "), d = d.replace(/^k-table$/, ""), c = o._getAlignment(n, !0), u = s ? o._getAlignment(s) : t, f = o.cellsWithHeadersAssociated(n), p = { tableProperties: { width: r.width || n.width ? parseFloat(r.width || n.width) : null, height: r.height || n.height ? parseFloat(r.height || n.height) : null, columns: a[0] ? a[0].children.length : 0, rows: a.length, widthUnit: o._getUnit(r.width), heightUnit: o._getUnit(r.height), cellSpacing: n.cellSpacing, cellPadding: n.cellPadding, alignment: c.textAlign, bgColor: r.backgroundColor || n.bgColor, className: d, id: n.id, borderWidth: r.borderWidth || n.border, borderColor: r.borderColor, borderStyle: r.borderStyle || "", collapseBorders: !!r.borderCollapse, summary: n.summary, captionContent: s ? l.html() : "", captionAlignment: s && u.textAlign ? u.textAlign + " " + u.verticalAlign : "", cellsWithHeaders: f }, selectedCells: [] }, p.rows = o.parseTableRows(a, i, p), p) : { tableProperties: {}, selectedCells: [] } }, parseTableRows: function (t, n, i) { var o, r, a, s, l, d, c, u = this, f = []; for (d = 0; d < t.length; d++)for (o = t[d], r = { cells: [] }, a = o.cells, f.push(r), c = 0; c < a.length; c++)s = a[c], l = u.parseCell(s), e.inArray(s, n) != -1 && i.selectedCells.push(l), r.cells.push(l); return f }, parseCell: function (e) { var t, n = this, i = e.style, o = n._getAlignment(e); return o = o.textAlign ? o.textAlign + " " + o.verticalAlign : "", t = { width: i.width || e.width ? parseFloat(i.width || e.width) : null, height: i.height || e.height ? parseFloat(i.height || e.height) : null, widthUnit: n._getUnit(i.width), heightUnit: n._getUnit(i.height), cellMargin: i.margin, cellPadding: i.padding, alignment: o, bgColor: i.backgroundColor || e.bgColor, className: e.className, id: e.id, borderWidth: i.borderWidth || e.border, borderColor: i.borderColor, borderStyle: i.borderStyle, wrapText: "nowrap" != i.whiteSpace } }, _getAlignment: function (e, t) { var n, i = e.style, o = i.textAlign || e.align || ""; return t ? { textAlign: o } : (n = i.verticalAlign || e.vAlign || "", o && n ? { textAlign: o, verticalAlign: n } : !o && n ? { textAlign: "left", verticalAlign: n } : o && !n ? { textAlign: o, verticalAlign: "top" } : { textAlign: "", verticalAlign: "" }) }, _getUnit: function (e) { var t = (e || "").match(f); return t ? t[0] : "px" }, _selectedTable: function (e) { var t = a.filterBy(r.nodes(e), a.htmlIndentSpace, !0); return c.findSuitable(t)[0] }, _selectedCells: function (e) { var t = a.filterBy(r.nodes(e), a.htmlIndentSpace, !0); return u.findSuitable(t) } }), m = i.Tool.extend({ command: function (e) { return e.insertNewTable = this.options.insertNewTable, new p(e) } }), h = m.extend({ update: function (e, t) { var n = !c.isFormatted(t); e.toggleClass("k-state-disabled", n) } }); n.ui.editor.TableWizardTool = m, n.ui.editor.TableWizardCommand = p, s("tableWizard", new h({ command: p, insertNewTable: !1, template: new l({ template: o.buttonTemplate, title: "Table Wizard" }) })) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("editor/table-wizard/table-wizard-dialog.min", ["editor/table-wizard/table-wizard-command.min"], e) }(function () {
    !function (e, t) {
        var n = window.kendo, i = { format: "0", min: 0 }, o = ["px", "em"], r = ["solid", "dotted", "dashed", "double", "groove", "ridge", "inset", "outset", "initial", "inherit", "none", "hidden"], a = { dataSource: [{ className: "k-icon k-i-table-align-middle-left", value: "left" }, { className: "k-icon k-i-table-align-middle-center", value: "center" }, { className: "k-icon k-i-table-align-middle-right", value: "right" }, { className: "k-icon k-i-align-remove", value: "" }], dataTextField: "className", dataValueField: "value", template: "<span class='#: className #' title='#: tooltip #'></span>", valueTemplate: "<span class='k-align-group #: className #' title='#: tooltip #'></span>" }, s = { dataSource: [{ className: "k-icon k-i-table-align-top-left", value: "left top" }, { className: "k-icon k-i-table-align-top-center", value: "center top" }, { className: "k-icon k-i-table-align-top-right", value: "right top" }, { className: "k-icon k-i-table-align-middle-left", value: "left middle" }, { className: "k-icon k-i-table-align-middle-center", value: "center middle" }, { className: "k-icon k-i-table-align-middle-right", value: "right middle" }, { className: "k-icon k-i-table-align-bottom-left", value: "left bottom" }, { className: "k-icon k-i-table-align-bottom-center", value: "center bottom" }, { className: "k-icon k-i-table-align-bottom-right", value: "right bottom" }, { className: "k-icon k-i-align-remove", value: "" }], dataTextField: "className", dataValueField: "value", template: "<span class='#: className #' title='#: tooltip #'></span>", valueTemplate: "<span class='k-align-group #: className #' title='#: tooltip #'></span>" }, l = { dataSource: [{ className: "k-icon k-i-table-align-top-left", value: "left top" }, { className: "k-icon k-i-table-align-top-center", value: "center top" }, { className: "k-icon k-i-table-align-top-right", value: "right top" }, { className: "k-icon k-i-table-align-bottom-left", value: "left bottom" }, { className: "k-icon k-i-table-align-bottom-center", value: "center bottom" }, { className: "k-icon k-i-table-align-bottom-right", value: "right bottom" }, { className: "k-icon k-i-align-remove", value: "" }], dataTextField: "className", dataValueField: "value", template: "<span class='#: className #' title='#: tooltip #'></span>", valueTemplate: "<span class='k-align-group #: className #' title='#: tooltip #'></span>" }, d = '<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form"><div class="k-edit-form-container"><div id="k-table-wizard-tabs" class="k-root-tabs"><ul><li class="k-state-active">#= messages.tableTab #</li><li>#= messages.cellTab #</li><li>#= messages.accessibilityTab #</li></ul><div id="k-table-properties"><div class="k-edit-label"><label for="k-editor-table-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-width" /><input id="k-editor-table-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-height" /><input id="k-editor-table-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-columns">#= messages.columns #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-columns" /></div><div class="k-edit-label"><label for="k-editor-table-rows">#= messages.rows #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-rows" /></div><div class="k-edit-label"><label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-spacing" /></div><div class="k-edit-label"><label for="k-editor-table-cell-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-padding" /></div><div class="k-edit-label"><label for="k-editor-table-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-table-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-table-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-table-bg" /></div><div class="k-edit-label"><label for="k-editor-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-css-class" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-id" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-border-width" /><input id="k-editor-border-color" /></div><div class="k-edit-label"><label for="k-editor-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox" /><label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label></div></div><div id="k-cell-properties"><div class="k-edit-field"><input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox" /><label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label></div><div class="k-edit-label"><label for="k-editor-cell-width">#= messages.width #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-width" /><input id="k-editor-cell-width-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-cell-height">#= messages.height #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-height" /><input id="k-editor-cell-height-type" aria-label="#= messages.units #" /></div><div class="k-edit-label"><label for="k-editor-table-cell-margin">#= messages.cellMargin #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cell-margin" /></div><div class="k-edit-label"><label for="k-editor-table-cells-padding">#= messages.cellPadding #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-table-cells-padding" /></div><div class="k-edit-label"><label for="k-editor-cell-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-cell-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-cell-bg">#= messages.background #</label></div><div class="k-edit-field"><input id="k-editor-cell-bg" /></div><div class="k-edit-label"><label for="k-editor-cell-css-class">#= messages.cssClass #</label></div><div class="k-edit-field"><input id="k-editor-cell-css-class" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-id">#= messages.id #</label></div><div class="k-edit-field"><input id="k-editor-cell-id" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-cell-border-width">#= messages.border #</label></div><div class="k-edit-field"><input type="numeric" id="k-editor-cell-border-width" /><input id="k-editor-cell-border-color" /></div><div class="k-edit-label"><label for="k-editor-cell-border-style">#= messages.borderStyle #</label></div><div class="k-edit-field"><input id="k-editor-cell-border-style" /></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-wrap-text" type="checkbox" class="k-checkbox" /><label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label></div></div><div id="k-accessibility-properties"><div class="k-edit-label"><label for="k-editor-table-caption">#= messages.caption #</label></div><div class="k-edit-field"><input id="k-editor-table-caption" class="k-input k-textbox" type="text" /></div><div class="k-edit-label"><label for="k-editor-accessibility-alignment">#= messages.alignment #</label></div><div class="k-edit-field"><input id="k-editor-accessibility-alignment" class="k-align" /></div><div class="k-edit-label"><label for="k-editor-accessibility-summary">#= messages.summary #</label></div><div class="k-edit-field"><textarea id="k-editor-accessibility-summary" class="k-input k-textbox"></textarea></div><div class="k-edit-label">&nbsp;</div><div class="k-edit-field"><input id="k-editor-cells-headers" type="checkbox" class="k-checkbox" /><label for="k-editor-cells-headers" class="k-checkbox-label">#= messages.associateCellsWithHeaders #</label></div></div></div><div class="k-edit-buttons k-state-default"><button class="k-button k-primary k-dialog-ok">#= messages.dialogOk #</button><button class="k-button k-dialog-close">#= messages.dialogCancel #</button></div></div></div>', c = n.Class.extend({
            init: function (e) { this.options = e }, open: function () { function t(e) { e.preventDefault(), l.destroy(), r.destroy() } function i(e) { l.collectDialogValues(u), t(e), l.change && l.change(), d.closeCallback(u) } function o(e) { t(e), d.closeCallback() } var r, a, s, l = this, d = l.options, c = d.dialogOptions, u = d.table, f = d.messages, p = n.support.browser.msie; c.close = o, c.title = f.tableWizard, c.visible = d.visible, r = e(l._dialogTemplate(f)).appendTo(document.body).kendoWindow(c).closest(".k-window").toggleClass("k-rtl", d.isRtl).end().find(".k-dialog-ok").click(i).end().find(".k-dialog-close").click(o).end().data("kendoWindow"), a = r.element, l._initTabStripComponent(a), l._initTableViewComponents(a, u), l._initCellViewComponents(a, u), l._initAccessibilityViewComponents(a, u), r.center(), r.open(), p && (s = a.closest(".k-window").height(), a.css("max-height", s)) }, _initTabStripComponent: function (e) { var t = this.components = {}; t.tabStrip = e.find("#k-table-wizard-tabs").kendoTabStrip({ animation: !1 }).data("kendoTabStrip") }, collectDialogValues: function () { var e = this, t = e.options.table; e._collectTableViewValues(t), e._collectCellViewValues(t), e._collectAccessibilityViewValues(t) }, _collectTableViewValues: function (e) { var t = this.components.tableView, n = e.tableProperties; n.width = t.width.value(), n.widthUnit = t.widthUnit.value(), n.height = t.height.value(), n.columns = t.columns.value(), n.rows = t.rows.value(), n.heightUnit = t.heightUnit.value(), n.cellSpacing = t.cellSpacing.value(), n.cellPadding = t.cellPadding.value(), n.alignment = t.alignment.value(), n.bgColor = t.bgColor.value(), n.className = t.className.value, n.id = t.id.value, n.borderWidth = t.borderWidth.value(), n.borderColor = t.borderColor.value(), n.borderStyle = t.borderStyle.value(), n.collapseBorders = t.collapseBorders.checked }, _collectCellViewValues: function (e) { var t = e.cellProperties = {}, n = this.components.cellView; t.selectAllCells = n.selectAllCells.checked, t.width = n.width.value(), t.widthUnit = n.widthUnit.value(), t.height = n.height.value(), t.heightUnit = n.heightUnit.value(), t.cellMargin = n.cellMargin.value(), t.cellPadding = n.cellPadding.value(), t.alignment = n.alignment.value(), t.bgColor = n.bgColor.value(), t.className = n.className.value, t.id = n.id.value, t.borderWidth = n.borderWidth.value(), t.borderColor = n.borderColor.value(), t.borderStyle = n.borderStyle.value(), t.wrapText = n.wrapText.checked, t.width || (t.selectAllCells = !0, t.width = 100 / e.tableProperties.columns, t.widthUnit = "%") }, _collectAccessibilityViewValues: function (e) { var t = e.tableProperties, n = this.components.accessibilityView; t.captionContent = n.captionContent.value, t.captionAlignment = n.captionAlignment.value(), t.summary = n.summary.value, t.cellsWithHeaders = n.cellsWithHeaders.checked }, _addUnit: function (t, n) { n && e.inArray(n, t) == -1 && t.push(n) }, _initTableViewComponents: function (e, t) { var n = this.components, i = n.tableView = {}, a = t.tableProperties = t.tableProperties || {}; a.borderStyle = a.borderStyle || "", this._addUnit(o, a.widthUnit), this._addUnit(o, a.heightUnit), this._initNumericTextbox(e.find("#k-editor-table-width"), "width", a, i), this._initNumericTextbox(e.find("#k-editor-table-height"), "height", a, i), this._initNumericTextbox(e.find("#k-editor-table-columns"), "columns", a, i, { min: 1, value: 4 }), this._initNumericTextbox(e.find("#k-editor-table-rows"), "rows", a, i, { min: 1, value: 4 }), this._initDropDownList(e.find("#k-editor-table-width-type"), "widthUnit", a, i, o), this._initDropDownList(e.find("#k-editor-table-height-type"), "heightUnit", a, i, o), this._initNumericTextbox(e.find("#k-editor-table-cell-spacing"), "cellSpacing", a, i), this._initNumericTextbox(e.find("#k-editor-table-cell-padding"), "cellPadding", a, i), this._initTableAlignmentDropDown(e.find("#k-editor-table-alignment"), a), this._initColorPicker(e.find("#k-editor-table-bg"), "bgColor", a, i), this._initInput(e.find("#k-editor-css-class"), "className", a, i), this._initInput(e.find("#k-editor-id"), "id", a, i), this._initNumericTextbox(e.find("#k-editor-border-width"), "borderWidth", a, i), this._initColorPicker(e.find("#k-editor-border-color"), "borderColor", a, i), this._initDropDownList(e.find("#k-editor-border-style"), "borderStyle", a, i, r), this._initCheckbox(e.find("#k-editor-collapse-borders"), "collapseBorders", a, i) }, _initCellViewComponents: function (e, t) { var n, i = this.components, a = i.cellView = {}; t.selectedCells = t.selectedCells = t.selectedCells || [], n = t.selectedCells[0] || { borderStyle: "", wrapText: !0 }, this._addUnit(o, n.widthUnit), this._addUnit(o, n.heightUnit), this._initCheckbox(e.find("#k-editor-selectAllCells"), "selectAllCells", t.tableProperties, a), this._initNumericTextbox(e.find("#k-editor-cell-width"), "width", n, a), this._initNumericTextbox(e.find("#k-editor-cell-height"), "height", n, a), this._initDropDownList(e.find("#k-editor-cell-width-type"), "widthUnit", n, a, o), this._initDropDownList(e.find("#k-editor-cell-height-type"), "heightUnit", n, a, o), this._initNumericTextbox(e.find("#k-editor-table-cell-margin"), "cellMargin", n, a), this._initNumericTextbox(e.find("#k-editor-table-cells-padding"), "cellPadding", n, a), this._initCellAlignmentDropDown(e.find("#k-editor-cell-alignment"), n), this._initColorPicker(e.find("#k-editor-cell-bg"), "bgColor", n, a), this._initInput(e.find("#k-editor-cell-css-class"), "className", n, a), this._initInput(e.find("#k-editor-cell-id"), "id", n, a), this._initNumericTextbox(e.find("#k-editor-cell-border-width"), "borderWidth", n, a), this._initColorPicker(e.find("#k-editor-cell-border-color"), "borderColor", n, a), this._initDropDownList(e.find("#k-editor-cell-border-style"), "borderStyle", n, a, r), this._initCheckbox(e.find("#k-editor-wrap-text"), "wrapText", n, a) }, _initAccessibilityViewComponents: function (e, t) { var n = this.components, i = n.accessibilityView = {}, o = t.tableProperties; this._initInput(e.find("#k-editor-table-caption"), "captionContent", o, i), this._initAccessibilityAlignmentDropDown(e.find("#k-editor-accessibility-alignment"), o), this._initInput(e.find("#k-editor-accessibility-summary"), "summary", o, i), this._initCheckbox(e.find("#k-editor-cells-headers"), "cellsWithHeaders", o, i) }, _initNumericTextbox: function (t, n, o, r, a) { var s = r[n] = t.kendoNumericTextBox(a ? e.extend({}, i, a) : i).data("kendoNumericTextBox"); n in o && s.value(parseInt(o[n], 10)) }, _initDropDownList: function (e, t, n, i, o) { var r = i[t] = e.kendoDropDownList({ dataSource: o }).data("kendoDropDownList"); this._setComponentValue(r, n, t) }, _initTableAlignmentDropDown: function (e, t) { var n = this.options.messages, i = this.components.tableView, o = a.dataSource; o[0].tooltip = n.alignLeft, o[1].tooltip = n.alignCenter, o[2].tooltip = n.alignRight, o[3].tooltip = n.alignRemove, this._initAlignmentDropDown(e, a, "alignment", t, i) }, _initCellAlignmentDropDown: function (e, t) { var n = this.options.messages, i = this.components.cellView, o = s.dataSource; o[0].tooltip = n.alignLeftTop, o[1].tooltip = n.alignCenterTop, o[2].tooltip = n.alignRightTop, o[3].tooltip = n.alignLeftMiddle, o[4].tooltip = n.alignCenterMiddle, o[5].tooltip = n.alignRightMiddle, o[6].tooltip = n.alignLeftBottom, o[7].tooltip = n.alignCenterBottom, o[8].tooltip = n.alignRightBottom, o[9].tooltip = n.alignRemove, this._initAlignmentDropDown(e, s, "alignment", t, i) }, _initAccessibilityAlignmentDropDown: function (e, t) { var n = this.options.messages, i = this.components.accessibilityView, o = l.dataSource; o[0].tooltip = n.alignLeftTop, o[1].tooltip = n.alignCenterTop, o[2].tooltip = n.alignRightTop, o[3].tooltip = n.alignLeftBottom, o[4].tooltip = n.alignCenterBottom, o[5].tooltip = n.alignRightBottom, o[6].tooltip = n.alignRemove, this._initAlignmentDropDown(e, l, "captionAlignment", t, i) }, _initAlignmentDropDown: function (e, t, n, i, o) { var r = o[n] = e.kendoDropDownList(t).data("kendoDropDownList"); r.list.addClass("k-align").css("width", "110px"), this._setComponentValue(r, i, n) }, _setComponentValue: function (e, t, n) { n in t && e.value(t[n]) }, _initColorPicker: function (e, t, n, i) { var o = i[t] = e.kendoColorPicker({ buttons: !1, clearButton: !0 }).data("kendoColorPicker"); n[t] && o.value(n[t]) }, _initInput: function (e, t, n, i) { var o = i[t] = e.get(0); t in n && (o.value = n[t]) }, _initCheckbox: function (e, t, n, i) { var o = i[t] = e.get(0); t in n && (o.checked = n[t]) }, destroy: function () { this._destroyComponents(this.components.tableView), this._destroyComponents(this.components.cellView), this._destroyComponents(this.components.accessibilityView), this._destroyComponents(this.components), delete this.components }, _destroyComponents: function (e) { for (var t in e) e[t].destroy && e[t].destroy(), delete e[t] }, _dialogTemplate: function (e) { return n.template(d)({ messages: e }) }
        }); n.ui.editor.TableWizardDialog = c
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("kendo.editor.min", ["kendo.combobox.min", "kendo.dropdownlist.min", "kendo.resizable.min", "kendo.window.min", "kendo.colorpicker.min", "kendo.imagebrowser.min", "kendo.tabstrip.min", "kendo.numerictextbox.min", "util/undoredostack.min", "editor/main.min", "editor/dom.min", "editor/serializer.min", "editor/range.min", "editor/command.min", "editor/components.min", "editor/toolbar.min", "editor/immutables.min", "editor/plugins/viewhtml.min", "editor/plugins/link.min", "editor/plugins/lists.min", "editor/plugins/formatting.min", "editor/plugins/image.min", "editor/plugins/import.min", "editor/plugins/insert.min", "editor/plugins/export.min", "editor/plugins/indent.min", "editor/plugins/linebreak.min", "editor/plugins/format.min", "editor/plugins/inlineformat.min", "editor/plugins/formatblock.min", "editor/plugins/file.min", "editor/plugins/tables.min", "editor/plugins/clipboard.min", "editor/plugins/keyboard.min", "editor/plugins/exportpdf.min", "editor/plugins/print.min", "editor/resizing/column-resizing.min", "editor/resizing/row-resizing.min", "editor/resizing/table-resizing.min", "editor/resizing/table-resize-handle.min", "editor/table-wizard/table-wizard-command.min", "editor/table-wizard/table-wizard-dialog.min"], e) }(function () { return window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (t, define) { define("kendo.validator.min", ["kendo.core.min"], t) }(function () { return function (t, e) { function a(e) { var a, r = s.ui.validator.ruleResolvers || {}, n = {}; for (a in r) t.extend(!0, n, r[a].resolve(e)); return n } function r(t) { return t.replace(/&amp/g, "&amp;").replace(/&quot;/g, '"').replace(/&#39;/g, "'").replace(/&lt;/g, "<").replace(/&gt;/g, ">") } function n(t) { return t = (t + "").split("."), t.length > 1 ? t[1].length : 0 } function i(e) { return t(t.parseHTML ? t.parseHTML(e) : e) } function u(e, a) { var r, n, i, u, l = t(); for (i = 0, u = e.length; i < u; i++)r = e[i], c.test(r.className) && (n = r.getAttribute(s.attr("for")), n === a && (l = l.add(r))); return l } var l, s = window.kendo, o = s.ui.Widget, d = ".kendoValidator", F = "k-invalid-msg", c = RegExp(F, "i"), f = "k-invalid", p = "k-valid", h = /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i, m = /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i, v = ":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])", g = ":checkbox:not([disabled],[readonly])", D = "[type=number],[type=range]", _ = "blur", y = "name", k = "form", E = "novalidate", A = "validate", b = "change", C = "validateInput", x = t.proxy, z = function (t, e) { return "string" == typeof e && (e = RegExp("^(?:" + e + ")$")), e.test(t) }, M = function (t, e, a) { var r = t.val(); return !t.filter(e).length || "" === r || z(r, a) }, w = function (t, e) { return !!t.length && null != t[0].attributes[e] }; s.ui.validator || (s.ui.validator = { rules: {}, messages: {} }), l = o.extend({ init: function (e, r) { var n = this, i = a(e), u = "[" + s.attr("validate") + "!=false]"; r = r || {}, r.rules = t.extend({}, s.ui.validator.rules, i.rules, r.rules), r.messages = t.extend({}, s.ui.validator.messages, i.messages, r.messages), o.fn.init.call(n, e, r), n._errorTemplate = s.template(n.options.errorTemplate), n.element.is(k) && n.element.attr(E, E), n._inputSelector = v + u, n._checkboxSelector = g + u, n._errors = {}, n._attachEvents(), n._isValidated = !1 }, events: [A, b, C], options: { name: "Validator", errorTemplate: '<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-i-warning"> </span> #=message#</span>', messages: { required: "{0} is required", pattern: "{0} is not valid", min: "{0} should be greater than or equal to {1}", max: "{0} should be smaller than or equal to {1}", step: "{0} is not valid", email: "{0} is not valid email", url: "{0} is not valid URL", date: "{0} is not valid date", dateCompare: "End date should be greater than or equal to the start date" }, rules: { required: function (t) { var e = t.filter("[type=checkbox]").length && !t.is(":checked"), a = t.val(); return !(w(t, "required") && (!a || "" === a || 0 === a.length || e)) }, pattern: function (t) { return !t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length || "" === t.val() || z(t.val(), t.attr("pattern")) }, min: function (t) { if (t.filter(D + ",[" + s.attr("type") + "=number]").filter("[min]").length && "" !== t.val()) { var e = parseFloat(t.attr("min")) || 0, a = s.parseFloat(t.val()); return e <= a } return !0 }, max: function (t) { if (t.filter(D + ",[" + s.attr("type") + "=number]").filter("[max]").length && "" !== t.val()) { var e = parseFloat(t.attr("max")) || 0, a = s.parseFloat(t.val()); return e >= a } return !0 }, step: function (t) { if (t.filter(D + ",[" + s.attr("type") + "=number]").filter("[step]").length && "" !== t.val()) { var e, a = parseFloat(t.attr("min")) || 0, r = parseFloat(t.attr("step")) || 1, i = parseFloat(t.val()), u = n(r); return u ? (e = Math.pow(10, u), Math.floor((i - a) * e) % (r * e) / Math.pow(100, u) === 0) : (i - a) % r === 0 } return !0 }, email: function (t) { return M(t, "[type=email],[" + s.attr("type") + "=email]", h) }, url: function (t) { return M(t, "[type=url],[" + s.attr("type") + "=url]", m) }, date: function (t) { return !t.filter("[type^=date],[" + s.attr("type") + "=date]").length || "" === t.val() || null !== s.parseDate(t.val(), t.attr(s.attr("format"))) } }, validateOnBlur: !0 }, destroy: function () { o.fn.destroy.call(this), this.element.off(d) }, value: function () { return !!this._isValidated && 0 === this.errors().length }, _submit: function (t) { return !!this.validate() || (t.stopPropagation(), t.stopImmediatePropagation(), t.preventDefault(), !1) }, _checkElement: function (t) { var e = this.value(); this.validateInput(t), this.value() !== e && this.trigger(b) }, _attachEvents: function () { var e = this; e.element.is(k) && e.element.on("submit" + d, x(e._submit, e)), e.options.validateOnBlur && (e.element.is(v) ? (e.element.on(_ + d, function () { e._checkElement(e.element) }), e.element.is(g) && e.element.on("click" + d, function () { e._checkElement(e.element) })) : (e.element.on(_ + d, e._inputSelector, function () { e._checkElement(t(this)) }), e.element.on("click" + d, e._checkboxSelector, function () { e._checkElement(t(this)) }))) }, validate: function () { var t, e, a, r, n = !1, i = this.value(); if (this._errors = {}, this.element.is(v)) n = this.validateInput(this.element); else { for (r = !1, t = this.element.find(this._inputSelector), e = 0, a = t.length; e < a; e++)this.validateInput(t.eq(e)) || (r = !0); n = !r } return this.trigger(A, { valid: n }), i !== n && this.trigger(b), n }, validateInput: function (e) { var a, n, u, l, o, d, c, h, m, v, g; return e = t(e), this._isValidated = !0, a = this, n = a._errorTemplate, u = a._checkValidity(e), l = u.valid, o = "." + F, d = e.attr(y) || "", c = a._findMessageContainer(d).add(e.next(o).filter(function () { var e = t(this); return !e.filter("[" + s.attr("for") + "]").length || e.attr(s.attr("for")) === d })).hide(), m = !e.attr("aria-invalid"), e.removeAttr("aria-invalid"), l ? delete a._errors[d] : (h = a._extractMessage(e, u.key), a._errors[d] = h, v = i(n({ message: r(h) })), g = c.attr("id"), a._decorateMessageContainer(v, d), g && v.attr("id", g), c.replaceWith(v).length || v.insertAfter(e), v.show(), e.attr("aria-invalid", !0)), m !== l && this.trigger(C, { valid: l, input: e }), e.toggleClass(f, !l), e.toggleClass(p, l), l }, hideMessages: function () { var t = this, e = "." + F, a = t.element; a.is(v) ? a.next(e).hide() : a.find(e).hide() }, _findMessageContainer: function (e) { var a, r, n, i = s.ui.validator.messageLocators, l = t(); for (r = 0, n = this.element.length; r < n; r++)l = l.add(u(this.element[r].getElementsByTagName("*"), e)); for (a in i) l = l.add(i[a].locate(this.element, e)); return l }, _decorateMessageContainer: function (t, e) { var a, r = s.ui.validator.messageLocators; t.addClass(F).attr(s.attr("for"), e || ""); for (a in r) r[a].decorate(t, e); t.attr("role", "alert") }, _extractMessage: function (t, e) { var a, r = this, n = r.options.messages[e], i = t.attr(y); return s.ui.Validator.prototype.options.messages[e] || (a = s.isFunction(n) ? n(t) : n), n = s.isFunction(n) ? n(t) : n, s.format(t.attr(s.attr(e + "-msg")) || t.attr("validationMessage") || a || t.attr("title") || n || "", i, t.attr(e) || t.attr(s.attr(e))) }, _checkValidity: function (t) { var e, a = this.options.rules; for (e in a) if (!a[e].call(this, t)) return { valid: !1, key: e }; return { valid: !0 } }, errors: function () { var t, e = [], a = this._errors; for (t in a) e.push(a[t]); return e } }), s.ui.plugin(l) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, a) { (a || e)() });; !function (e, define) { define("kendo.editable.min", ["kendo.datepicker.min", "kendo.numerictextbox.min", "kendo.validator.min", "kendo.binder.min"], e) }(function () { return function (e, t) { function n(t) { return t = null != t ? t : "", t.type || e.type(t) || "string" } function a(t) { t.find(":input:not(:button, .k-combobox .k-input, [" + l.attr("role") + "=listbox], [" + l.attr("role") + "=upload], [" + l.attr("skip") + "], [type=file])").each(function () { var t = l.attr("bind"), n = this.getAttribute(t) || "", a = "checkbox" === this.type || "radio" === this.type ? "checked:" : "value:", i = this.name; n.indexOf(a) === -1 && i && (n += (n.length ? "," : "") + a + i, e(this).attr(t, n)) }) } function i(e) { var t, a, i = (e.model.fields || e.model)[e.field], o = n(i), r = i ? i.validation : {}, d = l.attr("type"), s = l.attr("bind"), u = { name: e.field, title: e.title }; for (t in r) a = r[t], c(t, y) >= 0 ? u[d] = t : f(a) || (u[t] = v(a) ? a.value || t : a), u[l.attr(t + "-msg")] = a.message; return c(o, y) >= 0 && (u[d] = o), u[s] = ("boolean" === o ? "checked:" : "value:") + e.field, u } function o(e) { var t, n, a, i, o, r; if (e && e.length) for (r = [], t = 0, n = e.length; t < n; t++)a = e[t], o = a.text || a.value || a, i = null == a.value ? a.text || a : a.value, r[t] = { text: o, value: i }; return r } function r(e, t) { var n, a, i = e ? e.validation || {} : {}; for (n in i) a = i[n], v(a) && a.value && (a = a.value), f(a) && (t[n] = a) } var l = window.kendo, d = l.ui, s = d.Widget, u = e.extend, p = l.support.browser.msie && l.support.browser.version < 9, f = l.isFunction, v = e.isPlainObject, c = e.inArray, m = /("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g, b = '<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>', g = "change", k = "equalSet", y = ["url", "email", "number", "date", "boolean"], h = { number: function (t, n) { var a = i(n); e('<input type="text"/>').attr(a).appendTo(t).kendoNumericTextBox({ format: n.format }), e("<span " + l.attr("for") + '="' + n.field + '" class="k-invalid-msg"/>').hide().appendTo(t) }, date: function (t, n) { var a = i(n), o = n.format; o && (o = l._extractFormat(o)), a[l.attr("format")] = o, e('<input type="text"/>').attr(a).appendTo(t).kendoDatePicker({ format: n.format }), e("<span " + l.attr("for") + '="' + n.field + '" class="k-invalid-msg"/>').hide().appendTo(t) }, string: function (t, n) { var a = i(n); e('<input type="text" class="k-input k-textbox"/>').attr(a).appendTo(t) }, "boolean": function (t, n) { var a = i(n); e('<input type="checkbox" />').attr(a).appendTo(t) }, values: function (t, n) { var a = i(n), r = l.stringify(o(n.values)); e("<select " + l.attr("text-field") + '="text"' + l.attr("value-field") + '="value"' + l.attr("source") + "='" + (r ? r.replace(/\'/g, "&apos;") : r) + "'" + l.attr("role") + '="dropdownlist"/>').attr(a).appendTo(t), e("<span " + l.attr("for") + '="' + n.field + '" class="k-invalid-msg"/>').hide().appendTo(t) } }, x = s.extend({ init: function (t, n) { var a = this; n.target && (n.$angular = n.target.options.$angular), s.fn.init.call(a, t, n), a._validateProxy = e.proxy(a._validate, a), a.refresh() }, events: [g], options: { name: "Editable", editors: h, clearContainer: !0, errorTemplate: b, skipFocus: !1 }, editor: function (e, t) { var a = this, i = a.options.editors, o = v(e), r = o ? e.field : e, d = a.options.model || {}, s = o && e.values, p = s ? "values" : n(t), f = o && e.editor, c = f ? e.editor : i[p], b = a.element.find("[" + l.attr("container-for") + "=" + r.replace(m, "\\$1") + "]"); c = c ? c : i.string, f && "string" == typeof e.editor && (c = function (t) { t.append(e.editor) }), b = b.length ? b : a.element, c(b, u(!0, {}, o ? e : { field: r }, { model: d })) }, _validate: function (t) { var n, a = this, i = t.value, o = a._validationEventInProgress, r = {}, d = l.attr("bind"), s = t.field.replace(m, "\\$1"), u = RegExp("(value|checked)\\s*:\\s*" + s + "\\s*(,|$)"); r[t.field] = t.value, n = e(":input[" + d + '*="' + s + '"]', a.element).filter("[" + l.attr("validate") + "!='false']").filter(function () { return u.test(e(this).attr(d)) }), n.length > 1 && (n = n.filter(function () { var t = e(this); return !t.is(":radio") || t.val() == i })); try { a._validationEventInProgress = !0, (!a.validatable.validateInput(n) || !o && a.trigger(g, { values: r })) && t.preventDefault() } finally { a._validationEventInProgress = !1 } }, end: function () { return this.validatable.validate() }, destroy: function () { var e = this; e.angular("cleanup", function () { return { elements: e.element } }), s.fn.destroy.call(e), e.options.model.unbind("set", e._validateProxy), e.options.model.unbind(k, e._validateProxy), l.unbind(e.element), e.validatable && e.validatable.destroy(), l.destroy(e.element), e.element.removeData("kendoValidator"), e.element.is("[" + l.attr("role") + "=editable]") && e.element.removeAttr(l.attr("role")) }, refresh: function () { var n, i, o, d, s, u, f, c, m = this, b = m.options.fields || [], g = m.options.clearContainer ? m.element.empty() : m.element, y = m.options.model || {}, h = {}; for (e.isArray(b) || (b = [b]), n = 0, i = b.length; n < i; n++)o = b[n], d = v(o), s = d ? o.field : o, u = (y.fields || y)[s], r(u, h), m.editor(o, u); if (m.options.target && m.angular("compile", function () { return { elements: g, data: g.map(function () { return { dataItem: y } }) } }), !i) { f = y.fields || y; for (s in f) r(f[s], h) } a(g), m.validatable && m.validatable.destroy(), l.bind(g, m.options.model), m.options.model.unbind("set", m._validateProxy), m.options.model.bind("set", m._validateProxy), m.options.model.unbind(k, m._validateProxy), m.options.model.bind(k, m._validateProxy), m.validatable = new l.ui.Validator(g, { validateOnBlur: !1, errorTemplate: m.options.errorTemplate || t, rules: h }), m.options.skipFocus || (c = g.find(":kendoFocusable").eq(0).focus(), p && c.focus()) } }); d.plugin(x) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.filtermenu.min", ["kendo.datepicker.min", "kendo.numerictextbox.min", "kendo.dropdownlist.min", "kendo.binder.min"], e) }(function () { return function (e, t) { function i(t, s) { t.filters && (t.filters = e.grep(t.filters, function (e) { return i(e, s), e.filters ? e.filters.length : e.field != s })) } function s(e) { var t, i, s, l, a, n; if (e && e.length) for (n = [], t = 0, i = e.length; t < i; t++)s = e[t], a = "" !== s.text ? s.text || s.value || s : s.text, l = null == s.value ? s.text || s : s.value, n[t] = { text: a, value: l }; return n } function l(t, i) { return e.grep(t, function (t) { return t.filters ? (t.filters = e.grep(t.filters, function (e) { return e.field != i }), t.filters.length) : t.field != i }) } function a(t, i) { t.filters && (t.filters = e.grep(t.filters, function (e) { return a(e, i), e.filters ? e.filters.length : e.field == i && "eq" == e.operator })) } function n(i) { return "and" == i.logic && i.filters.length > 1 ? [] : i.filters ? e.map(i.filters, function (e) { return n(e) }) : i.value !== t ? [i.value] : [] } function r(e, i) { for (var s, l, a = c.getter(i, !0), n = [], r = 0, o = {}; r < e.length;)s = e[r++], l = a(s), l === t || o.hasOwnProperty(l) || (n.push(s), o[l] = !0); return n } function o(e, t) { return function (i) { var s = e(i); return r(s, t) } } var c = window.kendo, u = c.ui, d = e.proxy, f = "kendoPopup", h = "init", p = "open", m = "refresh", k = "change", g = ".kendoFilterMenu", v = "Is equal to", b = "Is not equal to", _ = { number: "numerictextbox", date: "datepicker" }, y = { string: "text", number: "number", date: "date" }, x = c.isFunction, S = u.Widget, w = '<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>', F = '<div><div class="k-filter-help-text">#=messages.info#</div><select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>', C = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.additionalOperator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.additionalValue##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>', T = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form title="#=messages.title#" class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>', H = S.extend({ init: function (t, i) { var s, l, a, n, r = this, o = "string"; S.fn.init.call(r, t, i), s = r.operators = i.operators || {}, t = r.element, i = r.options, i.appendToElement || (a = t.addClass("k-with-icon k-filterable").find(".k-grid-filter"), a[0] || (a = t.prepend('<a class="k-grid-filter" href="#" title="' + i.messages.filter + '" aria-label="' + i.messages.filter + '"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")), a.attr("tabindex", -1).on("click" + g, d(r._click, r))), r.link = a || e(), r.dataSource = I.create(i.dataSource), r.field = i.field || t.attr(c.attr("field")), r.model = r.dataSource.reader.model, r._parse = function (e) { return null != e ? e + "" : e }, r.model && r.model.fields && (n = r.model.fields[r.field], n && (o = n.type || "string", n.parse && (r._parse = d(n.parse, n)))), i.values && (o = "enums"), r.type = o, s = s[o] || i.operators[o]; for (l in s) break; r._defaultFilter = function () { return { field: r.field, operator: l || "eq", value: "" } }, r._refreshHandler = d(r.refresh, r), r.dataSource.bind(k, r._refreshHandler), i.appendToElement ? r._init() : r.refresh() }, _init: function () { var t, i = this, s = i.options.ui, l = x(s); i.pane = i.options.pane, i.pane && (i._isMobile = !0), l || (t = s || _[i.type]), i._isMobile ? i._createMobileForm(t) : i._createForm(t), i.form.on("submit" + g, d(i._submit, i)).on("reset" + g, d(i._reset, i)), l && i.form.find(".k-textbox").removeClass("k-textbox").each(function () { s(e(this)) }), i.form.find("[" + c.attr("role") + "=numerictextbox]").removeClass("k-textbox").end().find("[" + c.attr("role") + "=datetimepicker]").removeClass("k-textbox").end().find("[" + c.attr("role") + "=timepicker]").removeClass("k-textbox").end().find("[" + c.attr("role") + "=datepicker]").removeClass("k-textbox"), i.refresh(), i.trigger(h, { field: i.field, container: i.form }), c.cycleForm(i.form) }, _createForm: function (t) { var i = this, l = i.options, a = i.operators || {}, n = i.type; a = a[n] || l.operators[n], i.form = e('<form title="' + i.options.messages.title + '" class="k-filter-menu"/>').html(c.template("boolean" === n ? w : F)({ field: i.field, format: l.format, ns: c.ns, messages: l.messages, extra: l.extra, operators: a, type: n, role: t, values: s(l.values) })), l.appendToElement ? (i.element.append(i.form), i.popup = i.element.closest(".k-popup").data(f)) : i.popup = i.form[f]({ anchor: i.link, open: d(i._open, i), activate: d(i._activate, i), close: function () { i.options.closeCallback && i.options.closeCallback(i.element) } }).data(f), i.form.on("keydown" + g, d(i._keydown, i)) }, _createMobileForm: function (t) { var i = this, l = i.options, a = i.operators || {}, n = i.type; a = a[n] || l.operators[n], i.form = e("<div />").html(c.template("boolean" === n ? T : C)({ field: i.field, title: l.title || i.field, format: l.format, ns: c.ns, messages: l.messages, extra: l.extra, operators: a, type: n, role: t, useRole: !c.support.input.date && "date" === n || "number" === n, inputType: y[n], values: s(l.values) })), i.view = i.pane.append(i.form.html()), i.form = i.view.element.find("form"), i.view.element.on("click", ".k-submit", function (e) { i.form.submit(), e.preventDefault() }).on("click", ".k-i-cancel", function (e) { i._closeForm(), e.preventDefault() }) }, refresh: function () { var e = this, t = e.dataSource.filter() || { filters: [], logic: "and" }, i = [e._defaultFilter()], s = e._defaultFilter().operator; (e.options.extra || "isnull" !== s && "isnullorempty" !== s && "isnotnullorempty" !== s && "isnotnull" !== s) && i.push(e._defaultFilter()), e.filterModel = c.observable({ logic: "and", filters: i }), e.form && c.bind(e.form.children().first(), e.filterModel), e._bind(t) ? e.link.addClass("k-state-active") : e.link.removeClass("k-state-active") }, destroy: function () { var e = this; S.fn.destroy.call(e), e.form && (c.unbind(e.form), c.destroy(e.form), e.form.unbind(g), e.popup && (e.popup.destroy(), e.popup = null), e.form = null), e.view && (e.view.purge(), e.view = null), e.link.unbind(g), e._refreshHandler && (e.dataSource.unbind(k, e._refreshHandler), e.dataSource = null), e.element = e.link = e._refreshHandler = e.filterModel = null }, _bind: function (e) { var t, i, s, l, a = this, n = e.filters, r = !1, o = 0, c = a.filterModel; for (t = 0, i = n.length; t < i; t++)l = n[t], l.field == a.field ? (c.set("logic", e.logic), s = c.filters[o], s || (c.filters.push({ field: a.field }), s = c.filters[o]), s.set("value", a._parse(l.value)), s.set("operator", l.operator), o++ , r = !0) : l.filters && (r = r || a._bind(l)); return r }, _stripFilters: function (t) { return e.grep(t, function (e) { return "" !== e.value && null != e.value || "isnull" === e.operator || "isnotnull" === e.operator || "isempty" === e.operator || "isnotempty" === e.operator || "isnullorempty" == e.operator || "isnotnullorempty" == e.operator }) }, _merge: function (e) { var t, s, l, a = this, n = e.logic || "and", r = this._stripFilters(e.filters), o = a.dataSource.filter() || { filters: [], logic: "and" }; for (i(o, a.field), s = 0, l = r.length; s < l; s++)t = r[s], t.value = a._parse(t.value); return r.length && (o.filters.length ? (e.filters = r, "and" !== o.logic && (o.filters = [{ logic: o.logic, filters: o.filters }], o.logic = "and"), o.filters.push(r.length > 1 ? e : r[0])) : (o.filters = r, o.logic = n)), o }, filter: function (e) { var t = this._stripFilters(e.filters); t.length && this.trigger("change", { filter: { logic: e.logic, filters: t }, field: this.field }) || (e = this._merge(e), e.filters.length && this.dataSource.filter(e)) }, clear: function () { var e = this, t = e.dataSource.filter() || { filters: [] }; this.trigger("change", { filter: null, field: e.field }) || e._removeFilter(t) }, _removeFilter: function (t) { var i = this; t.filters = e.grep(t.filters, function (e) { return e.filters ? (e.filters = l(e.filters, i.field), e.filters.length) : e.field != i.field }), t.filters.length || (t = null), i.dataSource.filter(t) }, _submit: function (t) { var i, s; t.preventDefault(), t.stopPropagation(), i = this.filterModel.toJSON(), s = e.grep(i.filters, function (e) { return "" !== e.value }), this._checkForNullOrEmptyFilter(i) || s && s.length ? this.filter(i) : this._removeFilter(i), this._closeForm() }, _checkForNullOrEmptyFilter: function (e) { var t, i, s; return !!(e && e.filters && e.filters.length) && (t = !1, i = !1, e.filters[0] && (s = e.filters[0].operator, t = "isnull" == s || "isnotnull" == s || "isnotempty" == s || "isempty" == s || "isnullorempty" == s || "isnotnullorempty" == s), e.filters[1] && (s = e.filters[1].operator, i = "isnull" == s || "isnotnull" == s || "isnotempty" == s || "isempty" == s || "isnullorempty" == s || "isnotnullorempty" == s), !this.options.extra && t || this.options.extra && (t || i)) }, _reset: function () { this.clear(), this.options.search && this.container && this.container.find("label").parent().show(), this._closeForm() }, _closeForm: function () { this._isMobile ? this.pane.navigate("", this.options.animations.right) : this.popup.close() }, _click: function (e) { e.preventDefault(), e.stopPropagation(), this.popup || this.pane || this._init(), this._isMobile ? this.pane.navigate(this.view, this.options.animations.left) : this.popup.toggle() }, _open: function () { var t; e(".k-filter-menu").not(this.form).each(function () { t = e(this).data(f), t && t.close() }) }, _activate: function () { this.form.find(":kendoFocusable:first").focus(), this.trigger(p, { field: this.field, container: this.form }) }, _keydown: function (e) { e.keyCode == c.keys.ESC && this.popup.close() }, events: [h, "change", p], options: { name: "FilterMenu", extra: !0, appendToElement: !1, type: "string", operators: { string: { eq: v, neq: b, startswith: "Starts with", contains: "Contains", doesnotcontain: "Does not contain", endswith: "Ends with", isnull: "Is null", isnotnull: "Is not null", isempty: "Is empty", isnotempty: "Is not empty", isnullorempty: "Has no value", isnotnullorempty: "Has value" }, number: { eq: v, neq: b, gte: "Is greater than or equal to", gt: "Is greater than", lte: "Is less than or equal to", lt: "Is less than", isnull: "Is null", isnotnull: "Is not null" }, date: { eq: v, neq: b, gte: "Is after or equal to", gt: "Is after", lte: "Is before or equal to", lt: "Is before", isnull: "Is null", isnotnull: "Is not null" }, enums: { eq: v, neq: b, isnull: "Is null", isnotnull: "Is not null" } }, messages: { info: "Show items with value that:", title: "Show items with value that:", isTrue: "is true", isFalse: "is false", filter: "Filter", clear: "Clear", and: "And", or: "Or", selectValue: "-Select value-", operator: "Operator", value: "Value", additionalValue: "Additional value", additionalOperator: "Additional operator", logic: "Filters logic", cancel: "Cancel" }, animations: { left: "slide", right: "slide:right" } } }), A = ".kendoFilterMultiCheck", I = c.data.DataSource, q = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-i-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list">#if(search){#<div class=\'k-textbox k-space-right\'><input placeholder=\'#=messages.search#\'/><span class=\'k-icon k-i-zoom\' /></div>#}#<ul class="k-multicheck-wrap"></ul></li><li class="k-button-container">#if(messages.selectedItemsFormat){#<div class=\'k-filter-selected-items\'></div>#}#<button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>', M = S.extend({ init: function (t, i) { var s, l; S.fn.init.call(this, t, i), i = this.options, this.element = e(t), s = this.field = this.options.field || this.element.attr(c.attr("field")), l = i.checkSource, this._foreignKeyValues() ? (this.checkSource = I.create(i.values), this.checkSource.fetch()) : i.forceUnique ? (l = e.extend(!0, {}, i.dataSource.options), delete l.pageSize, this.checkSource = I.create(l), this.checkSource.reader.data = o(this.checkSource.reader.data, this.field)) : this.checkSource = I.create(l), this.dataSource = i.dataSource, this.model = this.dataSource.reader.model, this._parse = function (e) { return e + "" }, this.model && this.model.fields && (s = this.model.fields[this.field], s && ("number" == s.type ? this._parse = function (e) { return "string" == typeof e && "null" === e.toLowerCase() ? null : parseFloat(e) } : s.parse && (this._parse = d(s.parse, s)), this.type = s.type || "string")), i.appendToElement ? this._init() : this._createLink(), this._refreshHandler = d(this.refresh, this), this.dataSource.bind(k, this._refreshHandler) }, _createLink: function () { var e = this.element, t = e.addClass("k-with-icon k-filterable").find(".k-grid-filter"); t[0] || (t = e.prepend('<a class="k-grid-filter" href="#" aria-label="' + this.options.messages.filter + '"><span class="k-icon k-i-filter"/></a>').find(".k-grid-filter")), this._link = t.attr("tabindex", -1).on("click" + g, d(this._click, this)) }, _init: function () { var e = this, t = this.options.forceUnique, i = this.options; this.pane = i.pane, this.pane && (this._isMobile = !0), this._createForm(), this._foreignKeyValues() ? this.refresh() : t && !this.checkSource.options.serverPaging && this.dataSource.data().length ? (this.checkSource.data(r(this.dataSource.data(), this.field)), this.refresh()) : (this._attachProgress(), this.checkSource.fetch(function () { e.refresh.call(e) })), this.options.forceUnique || (this.checkChangeHandler = function () { e.container.empty(), e.refresh() }, this.checkSource.bind(k, this.checkChangeHandler)), this.form.on("keydown" + A, d(this._keydown, this)).on("submit" + A, d(this._filter, this)).on("reset" + A, d(this._reset, this)), this.trigger(h, { field: this.field, container: this.form }) }, _attachProgress: function () { var e = this; this._progressHandler = function () { u.progress(e.container, !0) }, this._progressHideHandler = function () { u.progress(e.container, !1) }, this.checkSource.bind("progress", this._progressHandler).bind("change", this._progressHideHandler) }, _input: function () { var e = this; e._clearTypingTimeout(), e._typingTimeout = setTimeout(function () { e.search() }, 100) }, _clearTypingTimeout: function () { this._typingTimeout && (clearTimeout(this._typingTimeout), this._typingTimeout = null) }, search: function () { var e, t, i, s = this.options.ignoreCase, l = this.searchTextBox[0].value, a = this.container.find("label"); for (s && (l = l.toLowerCase()), e = 0, this.options.checkAll && a.length && (a[0].parentNode.style.display = l ? "none" : "", e++); e < a.length;)t = a[e], i = t.textContent || t.innerText, s && (i = i.toLowerCase()), t.parentNode.style.display = i.indexOf(l) >= 0 ? "" : "none", e++ }, _activate: function () { this.form.find(":kendoFocusable:first").focus(), this.trigger(p, { field: this.field, container: this.form }) }, _createForm: function () { var t, i = this.options, s = "", l = this; this._isMobile || (i.search && (s += "<div class='k-textbox k-space-right'><input placeholder='" + i.messages.search + "'/><span class='k-icon k-i-zoom' /></div>"), s += "<ul class='k-reset k-multicheck-wrap'></ul>", i.messages.selectedItemsFormat && (s += "<div class='k-filter-selected-items'>" + c.format(i.messages.selectedItemsFormat, 0) + "</div>"), s += "<button type='submit' class='k-button k-primary'>" + i.messages.filter + "</button>", s += "<button type='reset' class='k-button'>" + i.messages.clear + "</button>", this.form = e('<form class="k-filter-menu"/>').html(s), this.container = this.form.find(".k-multicheck-wrap")), this._isMobile ? (l.form = e("<div />").html(c.template(q)({ field: l.field, title: i.title || l.field, ns: c.ns, messages: i.messages, search: i.search })), l.view = l.pane.append(l.form.html()), l.form = l.view.element.find("form"), t = this.view.element, this.container = t.find(".k-multicheck-wrap"), t.on("click", ".k-submit", function (e) { l.form.submit(), e.preventDefault() }).on("click", ".k-i-cancel", function (e) { l._closeForm(), e.preventDefault() })) : i.appendToElement ? (this.popup = this.element.closest(".k-popup").data(f), this.element.append(this.form)) : l.popup = l.form.kendoPopup({ anchor: l._link, open: d(l._open, l), activate: d(l._activate, l), close: function () { l.options.closeCallback && l.options.closeCallback(l.element) } }).data(f), i.search && (this.searchTextBox = this.form.find(".k-textbox > input"), this.searchTextBox.on("input", d(this._input, this))) }, createCheckAllItem: function () { var t = this.options, i = c.template(t.itemTemplate({ field: "all", mobile: this._isMobile })), s = e(i({ all: t.messages.checkAll })); this.container.prepend(s), this.checkBoxAll = s.find(":checkbox").eq(0).addClass("k-check-all"), this.checkAllHandler = d(this.checkAll, this), this.checkBoxAll.on(k + A, this.checkAllHandler) }, updateCheckAllState: function () { if (this.options.messages.selectedItemsFormat && this.form.find(".k-filter-selected-items").text(c.format(this.options.messages.selectedItemsFormat, this.container.find(":checked:not(.k-check-all)").length)), this.checkBoxAll) { var e = this.container.find(":checkbox:not(.k-check-all)").length == this.container.find(":checked:not(.k-check-all)").length; this.checkBoxAll.prop("checked", e) } }, refresh: function (e) { var t = this.options.forceUnique, i = this.dataSource, s = this.getFilterArray(); this._link && this._link.toggleClass("k-state-active", 0 !== s.length), this.form && (e && t && e.sender === i && !i.options.serverPaging && ("itemchange" == e.action || "add" == e.action || "remove" == e.action || i.options.autoSync && "sync" === e.action) && !this._foreignKeyValues() && (this.checkSource.data(r(this.dataSource.data(), this.field)), this.container.empty()), this.container.is(":empty") && this.createCheckBoxes(), this.checkValues(s), this.trigger(m)) }, getFilterArray: function () { var t, i = e.extend(!0, {}, { filters: [], logic: "and" }, this.dataSource.filter()); return a(i, this.field), t = n(i) }, createCheckBoxes: function () { var e, t, i, s = this.options, l = { field: this.field, format: s.format, mobile: this._isMobile, type: this.type }; this.options.forceUnique ? this._foreignKeyValues() ? (e = this.checkSource.data(), l.valueField = "value", l.field = "text") : e = this.checkSource.data() : e = this.checkSource.view(), t = c.template(s.itemTemplate(l)), i = c.render(t, e), s.checkAll && this.createCheckAllItem(), this.container.on(k + A, ":checkbox", d(this.updateCheckAllState, this)), this.container.append(i) }, checkAll: function () { var e = this.checkBoxAll.is(":checked"); this.container.find(":checkbox").prop("checked", e) }, checkValues: function (t) { var i = this; e(e.grep(this.container.find(":checkbox").prop("checked", !1), function (s) { var l, a, n = !1; if (!e(s).is(".k-check-all")) for (l = i._parse(e(s).val()), a = 0; a < t.length; a++)if (n = "date" == i.type ? t[a] && l ? t[a].getTime() == l.getTime() : null === t[a] && null === l : t[a] == l) return n })).prop("checked", !0), this.updateCheckAllState() }, _filter: function (t) { var i, s; t.preventDefault(), t.stopPropagation(), i = { logic: "or" }, s = this, i.filters = e.map(this.form.find(":checkbox:checked:not(.k-check-all)"), function (t) { return { value: e(t).val(), operator: "eq", field: s.field } }), i.filters.length && this.trigger("change", { filter: i, field: s.field }) || (i = this._merge(i), i.filters.length ? this.dataSource.filter(i) : this.clear(), this._closeForm()) }, _stripFilters: function (t) { return e.grep(t, function (e) { return null != e.value }) }, _foreignKeyValues: function () { var e = this.options; return e.values && !e.checkSource }, destroy: function () { var e = this; S.fn.destroy.call(e), e.form && (c.unbind(e.form), c.destroy(e.form), e.form.unbind(A), e.popup && (e.popup.destroy(), e.popup = null), e.form = null, e.container && (e.container.unbind(A), e.container = null), e.checkBoxAll && e.checkBoxAll.unbind(A)), e.view && (e.view.purge(), e.view = null), e._link && e._link.unbind(g), e._refreshHandler && (e.dataSource.unbind(k, e._refreshHandler), e.dataSource = null), e.checkChangeHandler && e.checkSource.unbind(k, e.checkChangeHandler), e._progressHandler && e.checkSource.unbind("progress", e._progressHandler), e._progressHideHandler && e.checkSource.unbind("change", e._progressHideHandler), this._clearTypingTimeout(), this.searchTextBox = null, e.element = e.checkSource = e.container = e.checkBoxAll = e._link = e._refreshHandler = e.checkAllHandler = null }, options: { name: "FilterMultiCheck", itemTemplate: function (e) { var i = e.field, s = e.format, l = e.valueField, a = e.mobile, n = ""; return l === t && (l = i), "date" == e.type && (n = ":yyyy-MM-ddTHH:mm:sszzz"), "<li class='k-item'><label class='k-label'><input type='checkbox' class='" + (a ? "k-check" : "") + "'  value='#:kendo.format('{0" + n + "}'," + l + ")#'/>#:kendo.format('" + (s ? s : "{0}") + "', " + i + ")#</label></li>" }, checkAll: !0, search: !1, ignoreCase: !0, appendToElement: !1, messages: { checkAll: "Select All", clear: "Clear", filter: "Filter", search: "Search", cancel: "Cancel", selectedItemsFormat: "{0} items selected" }, forceUnique: !0, animations: { left: "slide", right: "slide:right" } }, events: [h, m, "change", p] }); e.extend(M.fn, { _click: H.fn._click, _keydown: H.fn._keydown, _reset: H.fn._reset, _closeForm: H.fn._closeForm, _removeFilter: H.fn._removeFilter, clear: H.fn.clear, _merge: H.fn._merge }), u.plugin(H), u.plugin(M) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (e, define) { define("kendo.menu.min", ["kendo.popup.min"], e) }(function () {
    return function (e, t) {
        function n(e, t) { return e = e.split(" ")[!t + 0] || e, e.replace("top", "up").replace("bottom", "down") } function o(e, t, n) { e = e.split(" ")[!t + 0] || e; var o = { origin: ["bottom", n ? "right" : "left"], position: ["top", n ? "right" : "left"] }, i = /left|right/.test(e); return i ? (o.origin = ["top", e], o.position[1] = O.directions[e].reverse) : (o.origin[0] = e, o.position[0] = O.directions[e].reverse), o.origin = o.origin.join(" "), o.position = o.position.join(" "), o } function i(t, n) { try { return e.contains(t, n) } catch (o) { return !1 } } function r(t) { t = e(t), t.addClass("k-item").children(j).addClass($), t.children("a").addClass(K).children(j).addClass($), t.filter(":not([disabled])").addClass(_e), t.filter(".k-separator").empty().append("&nbsp;"), t.filter("li[disabled]").addClass(Ce).removeAttr("disabled").attr("aria-disabled", !0), t.filter("[role]").length || t.attr("role", "menuitem"), t.children(X).length || t.contents().filter(function () { return !(this.nodeName.match(L) || 3 == this.nodeType && !e.trim(this.nodeValue)) }).wrapAll("<span class='" + K + "'/>"), s(t), l(t) } function s(t) { t = e(t), t.find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(), t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function () { var t = e(this), n = a(t); t.append("<span class='k-icon" + n + " k-menu-expand-arrow'/>") }) } function a(e) { var t, n = e.parent().parent(), o = O.support.isRtl(n); return t = n.hasClass(G + "-horizontal") ? " k-i-arrow-60-down" : o ? " k-i-arrow-60-left" : " k-i-arrow-60-right" } function l(t) { t = e(t), t.filter(".k-first:not(:first-child)").removeClass(Z), t.filter(".k-last:not(:last-child)").removeClass(Y), t.filter(":first-child").addClass(Z), t.filter(":last-child").addClass(Y) } function p(e) { var t, n; if (e && e.length) for (t in e) n = e.eq(t), n.find("ul").length ? n.attr("aria-haspopup", !0) : n.removeAttr("aria-haspopup") } function c(e) { if (!e.hasClass(G)) return e.parentsUntil("." + G, "li") } function u(t, n) { var o = f(n); o && d(t, o), n.items && e(t).children("ul").children("li").each(function (e) { u(this, n.items[e]) }) } function d(t, n) { e(t).children(".k-link").data({ selectHandler: n }) } function f(e) { var t = e.select, n = O.isFunction; return t && n(t) ? t : null } function h(e) { return e ? "li[data-groupparent='" + e + "']" : "li[data-groupparent]" } function m(e) { return e ? "ul[data-group='" + e + "']" : "ul[data-group]" } function v(t, n) { var o = t.find(h()), i = []; return o.each(function (o, r) { var s, a; for (r = e(r), s = r.data(me), a = t; s;)a = n.find(m(s) + ":visible"), a.length && i.push(a), r = a.find(h()), s = r.data(me) }), i } function g(t, n) { var o = t.data(he); return o ? n.find(h(o)) : e([]) } function _(t, n) { var o = t.data(me); return o ? n.children(Te).children(m(o)) : e([]) } function k(t, n) { var o, i, r = [], s = function (e) { for (; e.parentNode && !n.is(e.parentNode);)r.push(e.parentNode), e = e.parentNode }, a = t[0] || t; for (s(a), o = r[r.length - 1]; e(o).is(Te) && (i = e(o).children("ul"), a = g(i, n)[0]);)r.push(a), s(a), o = r[r.length - 1]; return r } function w(e) { var t = 0; return e.wheelDelta && (t = -e.wheelDelta / 120, t = t > 0 ? Math.ceil(t) : Math.floor(t)), e.detail && (t = Math.round(e.detail / 3)), t } function C(e, t) { for (var n = 0, o = e.parentNode; o && !isNaN(o[t]);)n += o[t], o = o.parentNode; return n } function b(e) { return re && e.originalEvent && e.originalEvent.pointerType in Ne } function P(e) { var t = e.originalEvent; return E && /touch/i.test(t.type || "") } function y(e) { e.contents().filter(function () { return "LI" != this.nodeName }).remove() } var T, O = window.kendo, x = O.ui, H = O._activeElement, E = O.support.touch && O.support.mobileOS, W = "mousedown", I = "click", S = 30, A = 50, D = e.extend, M = e.proxy, R = e.each, N = O.template, B = O.keys, z = x.Widget, L = /^(ul|a|div)$/i, U = ".kendoMenu", j = "img", F = "open", G = "k-menu", K = "k-link k-menu-link", X = ".k-link", Y = "k-last", q = "close", V = "timer", Z = "k-first", $ = "k-image", Q = "select", J = "zIndex", ee = "activate", te = "deactivate", ne = "touchstart" + U + " MSPointerDown" + U + " pointerdown" + U, oe = O.support.pointers, ie = O.support.msPointers, re = ie || oe, se = oe ? "pointerenter" : ie ? "MSPointerEnter" : "mouseenter", ae = oe ? "pointerleave" : ie ? "MSPointerLeave" : "mouseleave", le = "DOMMouseScroll" + U + " mousewheel" + U, pe = O.support.resize + U, ce = "scrollWidth", ue = "scrollHeight", de = "offsetWidth", fe = "offsetHeight", he = "group", me = "groupparent", ve = e(document.documentElement), ge = "kendoPopup", _e = "k-state-default", ke = "k-state-hover", we = "k-state-focused", Ce = "k-state-disabled", be = "k-state-selected", Pe = ".k-menu", ye = ".k-menu-group", Te = ".k-animation-container", Oe = ye + "," + Te, xe = ":not(.k-list) > .k-item", He = ".k-item.k-state-disabled", Ee = ".k-item", We = ".k-item:not(.k-state-disabled)", Ie = ".k-item:not(.k-state-disabled) > .k-link", Se = ":not(.k-item.k-separator)", Ae = Ee + Se + ":eq(0)", De = Ee + Se + ":last", Me = "div:not(.k-animation-container,.k-list-container)", Re = ".k-menu-scroll-button", Ne = { 2: 1, touch: 1 }, Be = { content: N("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"), group: N("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"), itemWrapper: N("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"), item: N("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"), scrollButton: N("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"), image: N("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"), arrow: N("<span class='#= arrowClass(item, group) #'></span>"), sprite: N("<span class='k-sprite #= spriteCssClass #'></span>"), empty: N("") }, ze = { wrapperCssClass: function (e, t) { var n = "k-item", o = t.index; return n += t.enabled === !1 ? " k-state-disabled" : " k-state-default", e.firstLevel && 0 === o && (n += " k-first"), o == e.length - 1 && (n += " k-last"), t.cssClass && (n += " " + t.cssClass), t.attr && t.attr.hasOwnProperty("class") && (n += " " + t.attr["class"]), t.selected && (n += " " + be), n }, itemCssAttributes: function (e) { var t, n = "", o = e.attr || {}; for (t in o) o.hasOwnProperty(t) && "class" !== t && (n += t + '="' + o[t] + '" '); return n }, imageCssAttributes: function (e) { var t, n = "", o = e.imageAttr || {}; o["class"] ? o["class"] += " " + $ : o["class"] = $; for (t in o) o.hasOwnProperty(t) && (n += t + '="' + o[t] + '" '); return n }, contentCssAttributes: function (e) { var t, n = "", o = e.contentAttr || {}, i = "k-content k-group k-menu-group"; o["class"] ? o["class"] += " " + i : o["class"] = i; for (t in o) o.hasOwnProperty(t) && (n += t + '="' + o[t] + '" '); return n }, textClass: function () { return K }, textAttributes: function (e) { return e.url ? " href='" + e.url + "'" : "" }, arrowClass: function (e, t) { var n = "k-icon"; return n += t.horizontal ? " k-i-arrow-60-down" : " k-i-arrow-60-right" }, text: function (e) { return e.encoded === !1 ? e.text : O.htmlEncode(e.text) }, tag: function (e) { return e.url ? "a" : "span" }, groupAttributes: function (e) { return e.expanded !== !0 ? " style='display:none'" : "" }, groupCssClass: function () { return "k-group k-menu-group" }, content: function (e) { return e.content ? e.content : "&nbsp;" } }, Le = z.extend({ init: function (e, t) { var n = this; z.fn.init.call(n, e, t), e = n.wrapper = n.element, t = n.options, n._initData(t), n._updateClasses(), n._animations(t), n.nextItemZIndex = 100, n._tabindex(), n._initOverflow(t), n._attachMenuEventsHandlers(), t.openOnClick && (n.clicked = !1), e.attr("role", "menubar"), e[0].id && (n._ariaId = O.format("{0}_mn_active", e[0].id)), O.notify(n) }, events: [F, q, ee, te, Q], options: { name: "Menu", animation: { open: { duration: 200 }, close: { duration: 100 } }, orientation: "horizontal", direction: "default", openOnClick: !1, closeOnClick: !0, hoverDelay: 100, scrollable: !1, popupCollision: t }, _initData: function (e) { var t = this; e.dataSource && (t.angular("cleanup", function () { return { elements: t.element.children() } }), t.element.empty(), t.append(e.dataSource, t.element), t.angular("compile", function () { return { elements: t.element.children() } })) }, _attachMenuEventsHandlers: function () { var t = this, n = t.element, o = t.options, i = t._overflowWrapper(); (i || n).on(ne, Ee, M(t._focusHandler, t)).on(I + U, He, !1).on(I + U, Ee, M(t._click, t)).on(ne + " " + W + U, ".k-content", M(t._preventClose, t)).on(se + U, We, M(t._mouseenter, t)).on(ae + U, We, M(t._mouseleave, t)).on(W + U, We, M(t._mousedown, t)).on(se + U + " " + ae + U + " " + W + U + " " + I + U, Ie, M(t._toggleHover, t)), n.on("keydown" + U, M(t._keydown, t)).on("focus" + U, M(t._focus, t)).on("focus" + U, ".k-content", M(t._focus, t)).on("blur" + U, M(t._removeHoverItem, t)).on("blur" + U, "[tabindex]", M(t._checkActiveElement, t)), i && i.on(ae + U, Oe, M(t._mouseleavePopup, t)).on(se + U, Oe, M(t._mouseenterPopup, t)), o.openOnClick && (t._documentClickHandler = M(t._documentClick, t), e(document).click(t._documentClickHandler)) }, _detachMenuEventsHandlers: function () { var t = this, n = t._overflowWrapper(); n && n.off(U), t.element.off(U), t._documentClickHandler && e(document).unbind("click", t._documentClickHandler) }, _initOverflow: function (t) { var n, o, i, r, s = this, a = "horizontal" == t.orientation; t.scrollable && (s._openedPopups = {}, s._scrollWrapper = s.element.wrap("<div class='k-menu-scroll-wrapper " + t.orientation + "'></div>").parent(), a && y(s.element), n = e(Be.scrollButton({ direction: a ? "left" : "up" })), o = e(Be.scrollButton({ direction: a ? "right" : "down" })), n.add(o).appendTo(s._scrollWrapper), s._initScrolling(s.element, n, o, a), i = s.element.outerWidth(), r = s.element[0].style.width, r = "auto" === r ? "" : r, a && e(window).on(pe, O.throttle(function () { s._setOverflowWrapperWidth(i, r), s._toggleScrollButtons(s.element, n, o, a) }, 100)), s._setOverflowWrapperWidth(i, r), s._toggleScrollButtons(s.element, n, o, a)) }, _overflowWrapper: function () { return this._scrollWrapper || this._popupsWrapper }, _setOverflowWrapperWidth: function (e, t) { var n, o, i, r, s = this, a = s._scrollWrapper.css("width"); s._scrollWrapper.css({ width: "" }), n = s._scrollWrapper.outerWidth(), s._scrollWrapper.css({ width: a }), o = s.element.outerWidth(), i = s.element[0].offsetWidth - s.element[0].clientWidth, o != n && n > 0 && (r = t ? Math.min(e, n) : n, s.element.width(r - i), s._scrollWrapper.width(r)) }, _reinitOverflow: function (e) { var t = this, n = e.scrollable && !t.options.scrollable || !e.scrollable && t.options.scrollable || e.scrollable && t.options.scrollable && e.scrollable.distance != t.options.scrollable.distance || e.orientation != t.options.orientation; n && (t._detachMenuEventsHandlers(), t._destroyOverflow(), t._initOverflow(e), t._attachMenuEventsHandlers()) }, _destroyOverflow: function () { var n = this, o = n._overflowWrapper(); o && (o.off(U), o.find(Re).off(U).remove(), o.children(Te).each(function (t, n) { var i, r = e(n).children(ye); r.off(le), i = g(r, o), i.length && i.append(n) }), o.find(h()).removeAttr("data-groupparent"), o.find(m()).removeAttr("data-group"), n.element.off(le), e(window).off(pe), o.contents().unwrap(), n._scrollWrapper = n._popupsWrapper = n._openedPopups = t) }, _initScrolling: function (t, n, o, i) { var r = this, s = r.options.scrollable, a = e.isNumeric(s.distance) ? s.distance : A, l = a / 2, p = "-=" + a, c = "+=" + a, u = "-=" + 2 * a, d = "+=" + 2 * a, f = !1, h = !1, m = function (e) { var s = i ? { scrollLeft: e } : { scrollTop: e }; t.finish().animate(s, "fast", "linear", function () { f && m(e) }), r._toggleScrollButtons(t, n, o, i) }, v = function (e) { f || h || (m(e.data.direction), f = !0) }, g = function (s) { var a = i ? { scrollLeft: s.data.direction } : { scrollTop: s.data.direction }; h = P(s) || b(s), t.stop().animate(a, "fast", "linear", function () { h ? (r._toggleScrollButtons(t, n, o, i), f = !0) : e(s.currentTarget).trigger(se) }), f = !1, s.stopPropagation(), s.preventDefault() }; n.on(se + U, { direction: p }, v).on(O.eventMap.down + U, { direction: u }, g), o.on(se + U, { direction: c }, v).on(O.eventMap.down + U, { direction: d }, g), n.add(o).on(ae + U, function () { t.stop(), f = !1, r._toggleScrollButtons(t, n, o, i) }), t.on(le, function (e) { var s, a, p, c; e.ctrlKey || e.shiftKey || e.altKey || (s = w(e.originalEvent), a = Math.abs(s) * l, p = (s > 0 ? "+=" : "-=") + a, c = i ? { scrollLeft: p } : { scrollTop: p }, r._closeChildPopups(t), t.finish().animate(c, "fast", "linear", function () { r._toggleScrollButtons(t, n, o, i) }), e.preventDefault()) }) }, _toggleScrollButtons: function (e, t, n, o) { var i = o ? e.scrollLeft() : e.scrollTop(), r = o ? ce : ue, s = o ? de : fe; t.toggle(0 !== i), n.toggle(i < e[0][r] - e[0][s] - 1) }, setOptions: function (e) { var t = this.options.animation; this._animations(e), e.animation = D(!0, t, e.animation), "dataSource" in e && this._initData(e), this._updateClasses(), this._reinitOverflow(e), z.fn.setOptions.call(this, e) }, destroy: function () { var e = this; z.fn.destroy.call(e), e._detachMenuEventsHandlers(), e._destroyOverflow(), O.destroy(e.element) }, enable: function (e, t) { return this._toggleDisabled(e, t !== !1), this }, disable: function (e) { return this._toggleDisabled(e, !1), this }, append: function (e, t) { t = this.element.find(t); var n = this._insert(e, t, t.length ? t.find("> .k-menu-group, > .k-animation-container > .k-menu-group") : null); return R(n.items, function (t) { n.group.append(this), s(this), u(this, e[t] || e) }), s(t), l(n.group.find(".k-first, .k-last").add(n.items)), p(c(n.group)), this }, insertBefore: function (e, t) { t = this.element.find(t); var n = this._insert(e, t, t.parent()); return R(n.items, function (n) { t.before(this), s(this), l(this), u(this, e[n] || e) }), l(t), this }, insertAfter: function (e, t) { t = this.element.find(t); var n = this._insert(e, t, t.parent()); return R(n.items, function (n) { t.after(this), s(this), l(this), u(this, e[n] || e) }), l(t), this }, _insert: function (t, n, o) { var i, s, a, l, p = this; return n && n.length || (o = p.element), a = e.isPlainObject(t), l = { firstLevel: o.hasClass(G), horizontal: o.hasClass(G + "-horizontal"), expanded: !0, length: o.children().length }, n && !o.length && (o = e(Le.renderGroup({ group: l })).appendTo(n)), a || e.isArray(t) ? i = e(e.map(a ? [t] : t, function (t, n) { return "string" == typeof t ? e(t).get() : e(Le.renderItem({ group: l, item: D(t, { index: n }) })).get() })) : (i = "string" == typeof t && "<" != t.charAt(0) ? p.element.find(t) : e(t), s = i.find("> ul").addClass("k-menu-group").attr("role", "menu"), i = i.filter("li"), i.add(s.find("> li")).each(function () { r(this) })), { items: i, group: o } }, remove: function (e) { var t, n, o, i, r; return e = this.element.find(e), t = this, n = e.parentsUntil(t.element, xe), o = e.parent("ul:not(.k-menu)"), e.remove(), o && !o.children(xe).length && (i = c(o), r = o.parent(Te), r.length ? r.remove() : o.remove(), p(i)), n.length && (n = n.eq(0), s(n), l(n)), t }, open: function (i) { var r, s, a = this, l = a.options, p = "horizontal" == l.orientation, c = l.direction, u = O.support.isRtl(a.wrapper), d = a._overflowWrapper(); return i = (d || a.element).find(i), /^(top|bottom|default)$/.test(c) && (c = u ? p ? (c + " left").replace("default", "bottom") : "left" : p ? (c + " right").replace("default", "bottom") : "right"), r = ">.k-popup:visible,>.k-animation-container>.k-popup:visible", s = function () { var t = e(this).data(ge); t && a.close(e(this).closest("li.k-item"), !0) }, i.siblings().find(r).each(s), d && i.find(r).each(s), a.options.openOnClick && (a.clicked = !0), i.each(function () { var i = e(this); clearTimeout(i.data(V)), i.data(V, setTimeout(function () { var r, s, f, m, v, g, _, k, w, C, b = i.find(".k-menu-group:first:hidden"); !b[0] && d && (s = a._getPopup(i), b = s && s.element), b.is(":visible") || b[0] && a._triggerEvent({ item: i[0], type: F }) === !1 && (!b.find(".k-menu-group")[0] && b.children(".k-item").length > 1 ? (f = e(window).height(), m = function () { b.css({ maxHeight: f - (O._outerHeight(b) - b.height()) - O.getShadows(b).bottom, overflow: "auto" }) }, O.support.browser.msie && O.support.browser.version <= 7 ? setTimeout(m, 0) : m()) : b.css({ maxHeight: "", overflow: "" }), i.data(J, i.css(J)), v = a.nextItemZIndex++ , i.css(J, v), a.options.scrollable && i.parent().siblings(Re).css({ zIndex: ++v }), r = b.data(ge), g = i.parent().hasClass(G), _ = g && p, k = o(c, g, u), w = l.animation.open.effects, C = w !== t ? w : "slideIn:" + n(c, g), r ? (r = b.data(ge), r.options.origin = k.origin, r.options.position = k.position, r.options.animation.open.effects = C) : r = b.kendoPopup({ activate: function () { a._triggerEvent({ item: this.wrapper.parent(), type: ee }) }, deactivate: function (e) { e.sender.element.removeData("targetTransform").css({ opacity: "" }), a._triggerEvent({ item: this.wrapper.parent(), type: te }) }, origin: k.origin, position: k.position, collision: l.popupCollision !== t ? l.popupCollision : _ ? "fit" : "fit flip", anchor: i, appendTo: d || i, animation: { open: D(!0, { effects: C }, l.animation.open), close: l.animation.close }, open: M(a._popupOpen, a), close: function (e) { var t, n = e.sender.wrapper.parent(); d && (t = e.sender.element.data(he), t && (n = (d || a.element).find(h(t))), e.sender.wrapper.children(Re).hide()), a._triggerEvent({ item: n[0], type: q }) ? e.preventDefault() : (n.css(J, n.data(J)), n.removeData(J), a.options.scrollable && n.parent().siblings(Re).css({ zIndex: "" }), (E || re) && (n.removeClass(ke), a._removeHoverItem())) } }).data(ge), b.removeAttr("aria-hidden"), a._configurePopupOverflow(r, i), r._hovered = !0, r.open(), a._initPopupScrolling(r)) }, a.options.hoverDelay)) }), a }, _configurePopupOverflow: function (e, t) { var n, o = this; o.options.scrollable && (o._wrapPopupElement(e), t.attr("data-groupparent") || (n = (new Date).getTime(), t.attr("data-groupparent", n), e.element.attr("data-group", n))) }, _wrapPopupElement: function (e) { e.element.parent().is(Te) || (e.wrapper = O.wrap(e.element, e.options.autosize).css({ overflow: "hidden", display: "block", position: "absolute" })) }, _initPopupScrolling: function (e, t, n) { var o = this; o.options.scrollable && e.element[0].scrollHeight > e.element[0].offsetHeight && o._initPopupScrollButtons(e, t, n) }, _initPopupScrollButtons: function (t, n, o) { var i = this, r = t.wrapper.children(Re), s = i.options.animation, a = (s && s.open && s.open.duration || 0) + S; setTimeout(function () { var s, a; r.length || (s = e(Be.scrollButton({ direction: n ? "left" : "up" })), a = e(Be.scrollButton({ direction: n ? "right" : "down" })), r = s.add(a).appendTo(t.wrapper), i._initScrolling(t.element, s, a, n), o || r.on(se + U, function () { var n = i._overflowWrapper(); e(v(t.element, n)).each(function (e, t) { var o = n.find(h(t.data(he))); i.close(o) }) }).on(ae + U, function () { setTimeout(function () { e.isEmptyObject(i._openedPopups) && i._closeParentPopups(t.element) }, S) })), i._toggleScrollButtons(t.element, r.first(), r.last(), n) }, a) }, _popupOpen: function (e) { this._keyTriggered || e.sender.element.children("." + we).removeClass(we), this.options.scrollable && this._setPopupHeight(e.sender) }, _setPopupHeight: function (t, n) { var o, i, r, s, a, l, p, c, u, d = t.element, f = d.add(d.parent(Te)); f.height(d.hasClass(G) && this._initialHeight || ""), o = t._location(n), i = e(window).height(), r = o.height, s = n ? 0 : Math.max(o.top, 0), a = n ? 0 : C(this._overflowWrapper()[0], "scrollTop"), l = window.innerHeight - i, p = i - O.getShadows(d).bottom + l, c = p + a > r + s, c || (u = Math.min(p, p - s + a), f.css({ overflow: "hidden", height: u + "px" })) }, close: function (t, n) { var o, i, r = this, s = r._overflowWrapper(), a = s || r.element; return t = a.find(t), t.length || (t = a.find(">.k-item")), o = function (t) { var n = !1; return e.isEmptyObject(r._openedPopups) ? n : (e(v(t, s)).each(function (e, t) { return n = !!r._openedPopups["" + t.data(he)], !n }), n) }, i = function (e) { var t = e.data(me); return !s || !t || !r._openedPopups["" + t] }, t.each(function () { var a = e(this); !n && r._isRootItem(a) && (r.clicked = !1), clearTimeout(a.data(V)), a.data(V, setTimeout(function () { var e = r._getPopup(a); if (e && (i(a) || r._forceClose)) { if (!r._forceClose && o(e.element)) return; e.close(), e.element.attr("aria-hidden", !0), s && r._forceClose && t.last().is(a[0]) && delete r._forceClose } }, r.options.hoverDelay)) }), r }, _getPopup: function (e) { var t, n, o = this, i = e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(ge), r = o._overflowWrapper(); return !i && r && (t = e.data(me), t && (n = r.find(m(t)), i = n.data(ge))), i }, _toggleDisabled: function (t, n) { this.element.find(t).each(function () { e(this).toggleClass(_e, n).toggleClass(Ce, !n).attr("aria-disabled", !n) }) }, _toggleHover: function (t) { var n = e(O.eventTarget(t) || t.target).closest(xe), o = t.type == se || W.indexOf(t.type) !== -1; n.parents("li." + Ce).length || n.toggleClass(ke, o || "mousedown" == t.type || "click" == t.type), this._removeHoverItem() }, _preventClose: function () { this.options.closeOnClick || (this._closurePrevented = !0) }, _checkActiveElement: function (t) { var n = this, o = e(t ? t.currentTarget : this._hoverItem()), r = n._findRootParent(o)[0]; this._closurePrevented || setTimeout(function () { document.hasFocus() && (i(r, O._activeElement()) || !t || i(r, t.currentTarget)) || n.close(r) }, 0), this._closurePrevented = !1 }, _removeHoverItem: function () { var e = this._hoverItem(); e && e.hasClass(we) && (e.removeClass(we), this._oldHoverItem = null) }, _updateClasses: function () { var e, t = this.element, n = ".k-menu-init div ul"; t.removeClass("k-menu-horizontal k-menu-vertical"), t.addClass("k-widget k-reset k-header k-menu-init " + G).addClass(G + "-" + this.options.orientation), t.find("li > ul").filter(function () { return !O.support.matchesSelector.call(this, n) }).addClass("k-group k-menu-group").attr("role", "menu").attr("aria-hidden", t.is(":visible")).parent("li").attr("aria-haspopup", "true").end().find("li > div").addClass("k-content").attr("tabindex", "-1"), e = t.find("> li,.k-menu-group > li"), t.removeClass("k-menu-init"), e.each(function () { r(this) }) }, _mouseenter: function (t) { var n = this, o = e(t.currentTarget), r = n._itemHasChildren(o), s = o.data(me) || o.parent().data(he), a = b(t); s && (n._openedPopups["" + s] = !0), t.delegateTarget != o.parents(Pe)[0] && t.delegateTarget != o.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0] || (n._keyTriggered = !1, n.options.openOnClick.rootMenuItems && n._isRootItem(o.closest(xe)) || n.options.openOnClick.subMenuItems && !n._isRootItem(o.closest(xe)) || (!(n.options.openOnClick === !1 || n.options.openOnClick.rootMenuItems === !1 && n._isRootItem(o.closest(xe)) || n.options.openOnClick.subMenuItems === !1 && !n._isRootItem(o.closest(xe)) || n.clicked) || E || a && n._isRootItem(o.closest(xe)) || !i(t.currentTarget, t.relatedTarget) && r && n.open(o), (n.options.openOnClick === !0 && n.clicked || E) && o.siblings().each(M(function (e, t) { n.close(t, !0) }, n)))) }, _mousedown: function (t) { var n = this, o = e(t.currentTarget); (n.options.openOnClick.subMenuItems && !n._isRootItem(o) || E) && o.siblings().each(M(function (e, t) { n.close(t, !0) }, n)) }, _mouseleave: function (n) { var o = this, r = e(n.currentTarget), s = r.data(me), a = r.children(Te).length || r.children(ye).length || s, l = e(window); return s && delete o._openedPopups["" + s], r.parentsUntil(Te, ".k-list-container,.k-calendar-container")[0] ? (n.stopImmediatePropagation(), t) : o.options.openOnClick !== !1 && (o.options.openOnClick.rootMenuItems || !o._isRootItem(r)) && (o.options.openOnClick.subMenuItems || o._isRootItem(r)) || E || b(n) || i(n.currentTarget, n.relatedTarget || n.target) || !a || i(n.currentTarget, O._activeElement()) ? ((O.support.browser.msie && !n.toElement && !n.relatedTarget || n.clientX < 0 || n.clientY < 0 || n.clientY > l.height() || n.clientX > l.width()) && o.close(r), t) : (o.close(r, !0), t) }, _mouseenterPopup: function (t) { var n, o = this, i = e(t.currentTarget); i.parent().is(Te) || (i = i.children("ul"), n = i.data(he), n && (o._openedPopups["" + n] = !0)) }, _mouseleavePopup: function (t) { var n = this, o = e(t.currentTarget); !b(t) && o.is(Te) && n._closePopups(o.children("ul")) }, _closePopups: function (t) { var n, o = this, i = o._overflowWrapper(), r = t.data(he); r && (delete o._openedPopups["" + r], n = i.find(h(r)), setTimeout(function () { if (o.options.openOnClick) o._closeChildPopups(t); else if (e.isEmptyObject(o._openedPopups)) { var i = o._innerPopup(t); o._closeParentPopups(i) } else o.close(n, !0) }, 0)) }, _closeChildPopups: function (t) { var n = this, o = n._overflowWrapper(); e(v(t, o)).each(function () { var e = o.find(h(this.data(he))); n.close(e, !0) }) }, _innerPopup: function (e) { var t = this._overflowWrapper(), n = v(e, t); return n[n.length - 1] || e }, _closeParentPopups: function (e) { var t = this, n = t._overflowWrapper(), o = e.data(he), i = n.find(h(o)); for (o = i.parent().data(he), t.close(i, !0); o && !t._openedPopups[o] && !i.parent().is(Pe);)i = n.find(h(o)), t.close(i, !0), o = i.parent().data(he) }, _click: function (n) { for (var o, i, r, s, a, l, p = this, c = p.options, u = e(O.eventTarget(n)), d = u[0], f = u[0] ? u[0].nodeName.toUpperCase() : "", h = "INPUT" == f || "SELECT" == f || "BUTTON" == f || "LABEL" == f, v = u.closest(X), g = u.closest(xe), _ = g[0], k = v.attr("href"), w = u.attr("href"), C = e("<a href='#' />").attr("href"), P = !!k && k !== C, y = P && !!k.match(/^#/), T = !!w && w !== C, x = p._overflowWrapper(); d && d.parentNode != _;)d = d.parentNode; if (!e(d).is(Me)) { if (g.hasClass(Ce)) return n.preventDefault(), t; if (n.handled || !p._triggerSelect(u, _) || h || n.preventDefault(), n.handled = !0, i = g.children(Oe), x && (a = g.data(me), a && (i = x.find(m(a)))), r = i.is(":visible"), s = c.openOnClick && r && p._isRootItem(g), c.closeOnClick && (!P || y) && (!i.length || s)) return g.removeClass(ke).css("height"), p._oldHoverItem = p._findRootParent(g), l = p._parentsUntil(v, p.element, xe), p._forceClose = !!x, p.close(l), p.clicked = !1, "MSPointerUp".indexOf(n.type) != -1 && n.preventDefault(), t; P && n.enterKey && v[0].click(), (p._isRootItem(g) && c.openOnClick !== !1 || c.openOnClick.subMenuItems || O.support.touch || b(n) && p._isRootItem(g.closest(xe))) && (P || h || T || n.preventDefault(), p.clicked = !0, o = i.is(":visible") ? q : F, (c.closeOnClick || o != q) && p[o](g)) } }, _parentsUntil: function (n, o, i) { var r, s, a = this._overflowWrapper(); return a ? (r = k(n, a), s = [], e(r).each(function () { var n = e(this); return !n.is(o) && (n.is(i) && s.push(this), t) }), e(s)) : n.parentsUntil(o, i) }, _triggerSelect: function (e, t) { var n, o, i, r; return e = e.is(".k-link") ? e : e.closest(".k-link"), n = e.data("selectHandler"), n && (o = this._getEventData(e), n.call(this, o)), i = o && o.isDefaultPrevented(), r = this._triggerEvent({ item: t, type: Q }), i || r }, _getEventData: function (e) { var t = { sender: this, target: e, _defaultPrevented: !1, preventDefault: function () { this._defaultPrevented = !0 }, isDefaultPrevented: function () { return this._defaultPrevented } }; return t }, _documentClick: function (e) { var t = this; i((t._overflowWrapper() || t.element)[0], e.target) || (t.clicked = !1) }, _focus: function (n) { var o = this, i = n.target, r = o._hoverItem(), s = H(); return i == o.wrapper[0] || e(i).is(":kendoFocusable") ? (s === n.currentTarget && (r.length ? o._moveHover([], r) : o._oldHoverItem || o._moveHover([], o.wrapper.children().first())), t) : (n.stopPropagation(), e(i).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(we), o.wrapper.focus(), t) }, _keydown: function (e) { var n, o, i, r = this, s = e.keyCode, a = r._oldHoverItem, l = O.support.isRtl(r.wrapper); if (e.target == e.currentTarget || s == B.ESC) { if (a || (a = r._oldHoverItem = r._hoverItem()), o = r._itemBelongsToVertival(a), i = r._itemHasChildren(a), r._keyTriggered = !0, s == B.RIGHT) n = r[l ? "_itemLeft" : "_itemRight"](a, o, i); else if (s == B.LEFT) n = r[l ? "_itemRight" : "_itemLeft"](a, o, i); else if (s == B.DOWN) n = r._itemDown(a, o, i); else if (s == B.UP) n = r._itemUp(a, o, i); else if (s == B.HOME) r._moveHover(a, a.parent().children().first()), e.preventDefault(); else if (s == B.END) r._moveHover(a, a.parent().children().last()), e.preventDefault(); else if (s == B.ESC) n = r._itemEsc(a, o); else if (s == B.ENTER || s == B.SPACEBAR) n = a.children(".k-link"), n.length > 0 && (r._click({ target: n[0], preventDefault: function () { }, enterKey: !0 }), i && !a.hasClass(Ce) ? (r.open(a), r._moveHover(a, r._childPopupElement(a).children().first())) : r._moveHover(a, r._findRootParent(a))); else if (s == B.TAB) return n = r._findRootParent(a), r._moveHover(a, n), r._checkActiveElement(), t; n && n[0] && (e.preventDefault(), e.stopPropagation()) } }, _hoverItem: function () { return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible") }, _itemBelongsToVertival: function (e) { var t = this.wrapper.hasClass("k-menu-vertical"); return e.length ? e.parent().hasClass("k-menu-group") || t : t }, _itemHasChildren: function (e) { return !!(e && e.length && e[0].nodeType) && (e.children(".k-menu-group, div.k-animation-container").length > 0 || !!e.data(me) && !!this._overflowWrapper().children(m(e.data(me)))) }, _moveHover: function (t, n) { var o = this, i = o._ariaId; t.length && n.length && t.removeClass(we), n.length && (n[0].id && (i = n[0].id), n.addClass(we), o._oldHoverItem = n, i && (o.element.removeAttr("aria-activedescendant"), e("#" + i).removeAttr("id"), n.attr("id", i), o.element.attr("aria-activedescendant", i)), o._scrollToItem(n)) }, _findRootParent: function (e) { return this._isRootItem(e) ? e : this._parentsUntil(e, Pe, "li.k-item").last() }, _isRootItem: function (e) { return e.parent().hasClass(G) }, _itemRight: function (e, t, n) { var o, i, r, s, a = this; return t ? n && !e.hasClass(Ce) ? (a.open(e), o = a._childPopupElement(e).children().first()) : "horizontal" == a.options.orientation && (i = a._findRootParent(e), r = a._overflowWrapper(), r && (s = _(i, r), a._closeChildPopups(s)), a.close(i), o = i.nextAll(Ae)) : (o = e.nextAll(Ae), o.length || (o = e.prevAll(De)), a.close(e)), o && !o.length ? o = a.wrapper.children(".k-item").first() : o || (o = []), a._moveHover(e, o), o }, _itemLeft: function (e, t) { var n, o, i = this; return t ? (n = e.parent().closest(".k-item"), o = i._overflowWrapper(), !n.length && o && (n = g(e.parent(), o)), i.close(n), i._isRootItem(n) && "horizontal" == i.options.orientation && (n = n.prevAll(Ae))) : (n = e.prevAll(Ae), n.length || (n = e.nextAll(De)), i.close(e)), n.length || (n = i.wrapper.children(".k-item").last()), i._moveHover(e, n), n }, _itemDown: function (e, t, n) { var o, i = this; if (t) o = e.nextAll(Ae); else { if (!n || e.hasClass(Ce)) return; i.open(e), o = i._childPopupElement(e).children().first() } return !o.length && e.length ? o = e.parent().children().first() : e.length || (o = i.wrapper.children(".k-item").first()), i._moveHover(e, o), o }, _itemUp: function (e, t) { var n, o = this; if (t) return n = e.prevAll(Ae), !n.length && e.length ? n = e.parent().children().last() : e.length || (n = o.wrapper.children(".k-item").last()), o._moveHover(e, n), n }, _scrollToItem: function (e) { var t, n, o, i, r, s, a, l, p, c, u, d, f = this; f.options.scrollable && e && e.length && (t = e.parent(), n = !!t.hasClass(G) && "horizontal" == f.options.orientation, o = n ? "scrollLeft" : "scrollTop", i = n ? O._outerWidth : O._outerHeight, r = t[o](), s = i(e), a = e[0][n ? "offsetLeft" : "offsetTop"], l = i(t), p = t.siblings(Re), c = p.length ? i(p.first()) : 0, r + l < a + s + c ? u = a + s - l + c : r > a - c && (u = a - c), isNaN(u) || (d = {}, d[o] = u, t.finish().animate(d, "fast", "linear", function () { f._toggleScrollButtons(t, p.first(), p.last(), n) }))) }, _itemEsc: function (e, t) { var n, o = this; return t ? (n = e.parent().closest(".k-item"), o.close(n), o._moveHover(e, n), n) : e }, _childPopupElement: function (e) { var t = e.find(".k-menu-group"), n = this._overflowWrapper(); return !t.length && n && (t = _(e, n)), t }, _triggerEvent: function (e) { var t = this; return t.trigger(e.type, { type: e.type, item: e.item }) }, _focusHandler: function (t) { var n = this, o = e(O.eventTarget(t)).closest(xe); o.hasClass(Ce) || setTimeout(function () { n._moveHover([], o), o.children(".k-content")[0] && o.parent().closest(".k-item").removeClass(we) }, 200) }, _animations: function (e) { e && "animation" in e && !e.animation && (e.animation = { open: { effects: {} }, close: { hide: !0, effects: {} } }) } }); D(Le, { renderItem: function (e) { e = D({ menu: {}, group: {} }, e); var t = Be.empty, n = e.item; return Be.item(D(e, { image: n.imageUrl ? Be.image : t, sprite: n.spriteCssClass ? Be.sprite : t, itemWrapper: Be.itemWrapper, renderContent: Le.renderContent, arrow: n.items || n.content ? Be.arrow : t, subGroup: Le.renderGroup }, ze)) }, renderGroup: function (e) { return Be.group(D({ renderItems: function (e) { for (var t = "", n = 0, o = e.items, i = o ? o.length : 0, r = D({ length: i }, e.group); n < i; n++)t += Le.renderItem(D(e, { group: r, item: D({ index: n }, o[n]) })); return t } }, e, ze)) }, renderContent: function (e) { return Be.content(D(e, ze)) } }), T = Le.extend({
            init: function (t, n) { var o = this; Le.fn.init.call(o, t, n), o._marker = O.guid().substring(0, 8), o.target = e(o.options.target), o._popup(), o._wire() }, _initOverflow: function (e) { var t = this; e.scrollable && !t._overflowWrapper() && (t._openedPopups = {}, t._popupsWrapper = (t.element.parent().is(Te) ? t.element.parent() : t.element).wrap("<div class='k-popups-wrapper " + e.orientation + "'></div>").parent(), "horizontal" == t.options.orientation && y(t.element), e.appendTo && e.appendTo.append(t._popupsWrapper), t._initialHeight = t.element[0].style.height, t._initialWidth = t.element[0].style.width) }, options: { name: "ContextMenu", filter: null, showOn: "contextmenu", orientation: "vertical", alignToAnchor: !1, target: "body" }, events: [F, q, ee, te, Q], setOptions: function (t) { var n = this; Le.fn.setOptions.call(n, t), n.target.off(n.showOn + U + n._marker, n._showProxy), n.userEvents && n.userEvents.destroy(), n.target = e(n.options.target), t.orientation && n.popup.wrapper[0] && n.popup.element.unwrap(), n._wire(), Le.fn.setOptions.call(this, t) }, destroy: function () { var e = this; e.target.off(e.options.showOn + U + e._marker), ve.off(O.support.mousedown + U + e._marker, e._closeProxy), e.userEvents && e.userEvents.destroy(), Le.fn.destroy.call(e) }, open: function (n, o) {
                var r, s, a = this; return n = e(n)[0], i(a.element[0], e(n)[0]) || a._itemHasChildren(e(n)) ? Le.fn.open.call(a, n) : a._triggerEvent({ item: a.element, type: F }) === !1 && (a.popup.visible() && a.options.filter && (a.popup.close(!0), a.popup.element.kendoStop(!0)), o !== t ? (r = a._overflowWrapper(), r && (s = r.offset(), n -= s.left, o -= s.top), a.popup.wrapper.hide(), a._configurePopupScrolling(n, o), a.popup.open(n, o)) : (a.popup.options.anchor = (n ? n : a.popup.anchor) || a.target, a.popup.element.kendoStop(!0), a._configurePopupScrolling(), a.popup.open()), ve.off(a.popup.downEvent, a.popup._mousedownProxy), ve.on(O.support.mousedown + U + a._marker, a._closeProxy)),
                    a
            }, _configurePopupScrolling: function (e, n) { var o = this, i = o.popup, r = "horizontal" == o.options.orientation; o.options.scrollable && (o._wrapPopupElement(i), i.element.parent().css({ position: "", height: "" }), i.element.css({ visibility: "hidden", display: "", position: "" }), r ? o._setPopupWidth(i, isNaN(e) ? t : { isFixed: !0, x: e, y: n }) : o._setPopupHeight(i, isNaN(e) ? t : { isFixed: !0, x: e, y: n }), i.element.css({ visibility: "", display: "none", position: "absolute" }), o._initPopupScrollButtons(i, r, !0), i.element.siblings(Re).hide()) }, _setPopupWidth: function (t, n) { var o, i, r, s, a, l, p, c, u = t.element, d = u.add(u.parent(Te)); d.width(this._initialWidth || ""), o = t._location(n), i = e(window).width(), r = o.width, s = Math.max(o.left, 0), a = n ? 0 : C(this._overflowWrapper()[0], "scrollLeft"), l = O.getShadows(u), p = i - l.left - l.right, c = p + a > r + s, c || d.css({ overflow: "hidden", width: p - s + a + "px" }) }, close: function () { var t = this; i(t.element[0], e(arguments[0])[0]) || t._itemHasChildren(arguments[0]) ? Le.fn.close.call(t, arguments[0]) : t.popup.visible() && t._triggerEvent({ item: t.element, type: q }) === !1 && (t.popup.close(), ve.off(O.support.mousedown + U, t._closeProxy), t.unbind(Q, t._closeTimeoutProxy)) }, _showHandler: function (e) { var t, n = e, o = this, r = o.options; e.event && (n = e.event, n.pageX = e.x.location, n.pageY = e.y.location), i(o.element[0], e.relatedTarget || e.target) || (o._eventOrigin = n, n.preventDefault(), n.stopImmediatePropagation(), o.element.find("." + we).removeClass(we), (r.filter && O.support.matchesSelector.call(n.currentTarget, r.filter) || !r.filter) && (r.alignToAnchor ? (o.popup.options.anchor = n.currentTarget, o.open(n.currentTarget)) : (o.popup.options.anchor = n.currentTarget, o._targetChild ? (t = o.target.offset(), o.open(n.pageX - t.left, n.pageY - t.top)) : o.open(n.pageX, n.pageY)))) }, _closeHandler: function (t) { var n, o = this, r = e(t.relatedTarget || t.target), s = r.closest(o.target.selector)[0] == o.target[0], a = r.closest(Ee), l = o._itemHasChildren(a), p = o._overflowWrapper(), c = i(o.element[0], r[0]) || p && i(p[0], r[0]); o._eventOrigin = t, n = 3 !== t.which, o.popup.visible() && (n && s || !s) && (o.options.closeOnClick && !l && c || !c) && (c ? (this.unbind(Q, this._closeTimeoutProxy), o.bind(Q, o._closeTimeoutProxy)) : o.close()) }, _wire: function () { var e = this, t = e.options, n = e.target; e._showProxy = M(e._showHandler, e), e._closeProxy = M(e._closeHandler, e), e._closeTimeoutProxy = M(e.close, e), n[0] && (O.support.mobileOS && "contextmenu" == t.showOn ? (e.userEvents = new O.UserEvents(n, { filter: t.filter, allowSelection: !1 }), n.on(t.showOn + U + e._marker, !1), e.userEvents.bind("hold", e._showProxy)) : t.filter ? n.on(t.showOn + U + e._marker, t.filter, e._showProxy) : n.on(t.showOn + U + e._marker, e._showProxy)) }, _triggerEvent: function (n) { var o = this, i = e(o.popup.options.anchor)[0], r = o._eventOrigin; return o._eventOrigin = t, o.trigger(n.type, D({ type: n.type, item: n.item || this.element[0], target: i }, r ? { event: r } : {})) }, _popup: function () { var t = this, n = t._overflowWrapper(); t._triggerProxy = M(t._triggerEvent, t), t.popup = t.element.addClass("k-context-menu").kendoPopup({ anchor: t.target || "body", copyAnchorStyles: t.options.copyAnchorStyles, collision: t.options.popupCollision || "fit", animation: t.options.animation, activate: t._triggerProxy, deactivate: t._triggerProxy, appendTo: n || t.options.appendTo, close: n ? function (t) { e(v(t.sender.element, n)).each(function (e, t) { var n = t.data(ge); n && n.close(!0) }) } : e.noop }).data(ge), t._targetChild = i(t.target[0], t.popup.element[0]) }
        }), x.plugin(Le), x.plugin(T)
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.columnmenu.min", ["kendo.popup.min", "kendo.filtermenu.min", "kendo.menu.min"], e) }(function () { return function (e, n) { function i(n) { return e.trim(n).replace(/&nbsp;/gi, "") } function l(e, n) { var i, l, s, t = {}; for (i = 0, l = e.length; i < l; i++)s = e[i], t[s[n]] = s; return t } function s(e) { var n, i = []; for (n = 0; n < e.length; n++)e[n].columns ? i = i.concat(s(e[n].columns)) : i.push(e[n]); return i } function t(e, n) { return "[" + a.attr(e) + "='" + (n || "").replace(/'/g, '"') + "']" } function o(e, n, i) { e > 0 ? n.insertAfter(i.children().eq(e - 1)) : i.prepend(n) } var a = window.kendo, r = a.ui, c = e.proxy, u = e.extend, d = e.grep, p = e.map, m = e.inArray, f = "k-state-selected", k = "asc", h = "desc", g = "change", b = "init", w = "open", C = "select", v = "kendoPopup", _ = "kendoFilterMenu", x = "kendoMenu", M = ".kendoColumnMenu", S = r.Widget, y = S.extend({ init: function (n, i) { var l, s = this; S.fn.init.call(s, n, i), n = s.element, i = s.options, s.owner = i.owner, s.dataSource = i.dataSource, s.field = n.attr(a.attr("field")), s.title = n.attr(a.attr("title")), l = n.find(".k-header-column-menu"), l[0] || (l = n.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#" title="' + i.messages.settings + '" aria-label="' + i.messages.settings + '"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")), s.link = l.attr("tabindex", -1).on("click" + M, c(s._click, s)), s.wrapper = e('<div class="k-column-menu"/>'), s._refreshHandler = c(s.refresh, s), s.dataSource.bind(g, s._refreshHandler) }, _init: function () { var e = this; e.pane = e.options.pane, e.pane && (e._isMobile = !0), e._isMobile ? e._createMobileMenu() : e._createMenu(), e.owner._muteAngularRebind(function () { e._angularItems("compile") }), e._sort(), e._columns(), e._filter(), e._lockColumns(), e.trigger(b, { field: e.field, container: e.wrapper }) }, events: [b, w, "sort", "filtering"], options: { name: "ColumnMenu", messages: { sortAscending: "Sort Ascending", sortDescending: "Sort Descending", filter: "Filter", columns: "Columns", done: "Done", settings: "Column Settings", lock: "Lock", unlock: "Unlock" }, filter: "", columns: !0, sortable: !0, filterable: !0, animations: { left: "slide" } }, _createMenu: function () { var e = this, n = e.options; e.wrapper.html(a.template(H)({ uid: a.guid(), ns: a.ns, messages: n.messages, sortable: n.sortable, filterable: n.filterable, columns: e._ownerColumns(), showColumns: n.columns, lockedColumns: n.lockedColumns })), e.popup = e.wrapper[v]({ anchor: e.link, open: c(e._open, e), activate: c(e._activate, e), close: function () { e.options.closeCallback && e.options.closeCallback(e.element) } }).data(v), e.menu = e.wrapper.children()[x]({ orientation: "vertical", closeOnClick: !1 }).data(x) }, _createMobileMenu: function () { var e = this, n = e.options, i = a.template(L)({ ns: a.ns, field: e.field, title: e.title || e.field, messages: n.messages, sortable: n.sortable, filterable: n.filterable, columns: e._ownerColumns(), showColumns: n.columns, lockedColumns: n.lockedColumns }); e.view = e.pane.append(i), e.wrapper = e.view.element.find(".k-column-menu"), e.menu = new $(e.wrapper.children(), { pane: e.pane }), e.view.element.on("click", ".k-done", function (n) { e.close(), n.preventDefault() }), e.options.lockedColumns && e.view.bind("show", function () { e._updateLockedColumns() }) }, _angularItems: function (n) { var i = this; i.angular(n, function () { var n = i.wrapper.find(".k-columns-item input[" + a.attr("field") + "]").map(function () { return e(this).closest("li") }), l = p(i._ownerColumns(), function (e) { return { column: e._originalObject } }); return { elements: n, data: l } }) }, destroy: function () { var e = this; e._angularItems("cleanup"), S.fn.destroy.call(e), e.filterMenu && e.filterMenu.destroy(), e._refreshHandler && e.dataSource.unbind(g, e._refreshHandler), e.options.columns && e.owner && (e._updateColumnsMenuHandler && (e.owner.unbind("columnShow", e._updateColumnsMenuHandler), e.owner.unbind("columnHide", e._updateColumnsMenuHandler)), e._updateColumnsLockedStateHandler && (e.owner.unbind("columnLock", e._updateColumnsLockedStateHandler), e.owner.unbind("columnUnlock", e._updateColumnsLockedStateHandler))), e.menu && (e.menu.element.off(M), e.menu.destroy()), e.wrapper.off(M), e.popup && e.popup.destroy(), e.view && e.view.purge(), e.link.off(M), e.owner = null, e.wrapper = null, e.element = null }, close: function () { this.menu.close(), this.popup && (this.popup.close(), this.popup.element.off("keydown" + M)) }, _click: function (e) { var n, i = this; e.preventDefault(), e.stopPropagation(), n = this.options, n.filter && this.element.is(!n.filter) || (this.popup || this.pane ? i._reorderColumnList() : this._init(), this._isMobile ? this.pane.navigate(this.view, this.options.animations.left) : this.popup.toggle()) }, _reorderColumnList: function () { var n, i, l = this, s = l._ownerColumns() || [], a = l._isMobile && l.view ? e(l.view.element).find(".k-columns-item").children("ul") : e(l.wrapper).find(".k-menu-group").first(); for (n = 0; n < s.length; n++)i = a.find(t("field", s[n].originalField)).closest("li"), i[0] && i.index() !== n && o(n, i, a) }, _open: function () { var n = this; e(".k-column-menu").not(n.wrapper).each(function () { e(this).data(v).close() }), n.popup.element.on("keydown" + M, function (e) { e.keyCode == a.keys.ESC && n.close() }), n.options.lockedColumns && n._updateLockedColumns() }, _activate: function () { this.menu.element.focus(), this.trigger(w, { field: this.field, container: this.wrapper }) }, _ownerColumns: function () { var e = s(this.owner.columns), n = d(e, function (e) { var n = !0, l = i(e.title || ""); return e.menu !== !1 && (e.field || l.length) || (n = !1), n }); return p(n, function (n) { return { originalField: n.field, field: n.field || n.title, title: n.title || n.field, hidden: n.hidden, index: m(n, e), locked: !!n.locked, _originalObject: n } }) }, _sort: function () { var n = this; n.options.sortable && (n.refresh(), n.menu.bind(C, function (i) { var l, s = e(i.item); s.hasClass("k-sort-asc") ? l = k : s.hasClass("k-sort-desc") && (l = h), l && (s.parent().find(".k-sort-" + (l == k ? h : k)).removeClass(f), n._sortDataSource(s, l), n.close()) })) }, _sortDataSource: function (e, i) { var l, s, t = this, o = t.options.sortable, a = null === o.compare ? n : o.compare, r = t.dataSource, c = r.sort() || [], u = e.hasClass(f) && o && o.allowUnsort !== !1; if (i = u ? n : i, !t.trigger("sort", { sort: { field: t.field, dir: i, compare: a } })) { if (u ? e.removeClass(f) : e.addClass(f), "multiple" === o.mode) { for (l = 0, s = c.length; l < s; l++)if (c[l].field === t.field) { c.splice(l, 1); break } c.push({ field: t.field, dir: i, compare: a }) } else c = [{ field: t.field, dir: i, compare: a }]; r.sort(c) } }, _columns: function () { var n = this; n.options.columns && (n._updateColumnsMenu(), n._updateColumnsMenuHandler = c(n._updateColumnsMenu, n), n.owner.bind(["columnHide", "columnShow"], n._updateColumnsMenuHandler), n._updateColumnsLockedStateHandler = c(n._updateColumnsLockedState, n), n.owner.bind(["columnUnlock", "columnLock"], n._updateColumnsLockedStateHandler), n.menu.bind(C, function (i) { var l, t, o, r = e(i.item), c = s(n.owner.columns); n._isMobile && i.preventDefault(), r.parent().closest("li.k-columns-item")[0] && (l = r.find(":checkbox"), l.attr("disabled") || (o = l.attr(a.attr("field")), t = d(c, function (e) { return e.field == o || !e.field && e.title == o })[0], t.hidden === !0 ? n.owner.showColumn(t) : n.owner.hideColumn(t))) })) }, _updateColumnsMenu: function () { var e, n, i, l, s, t, o = a.attr("field"), r = a.attr("locked"), c = d(this._ownerColumns(), function (e) { return !e.hidden }), u = d(c, function (e) { return e.originalField }), f = d(u, function (e) { return e.locked === !0 }).length, k = d(u, function (e) { return e.locked !== !0 }).length, h = d(this.owner.columns, function (e) { return e.menu === !1 }).length; for (c = p(c, function (e) { return e.field }), this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked", !1), t = this.wrapper.find(".k-columns-item input[" + o + "]").prop("disabled", !1).prop("checked", !1), e = 0, n = t.length; e < n; e++)i = t.eq(e), s = "true" === i.attr(r), l = !1, m(i.attr(o), c) > -1 && (l = !0, i.prop("checked", l)), i.closest("[role='menuitemcheckbox']").attr("aria-checked", l), l && (1 == f && s && i.prop("disabled", !0), 0 !== h || 1 != k || s || i.prop("disabled", !0)) }, _updateColumnsLockedState: function () { var e, n, i, s, t = a.attr("field"), o = a.attr("locked"), r = l(this._ownerColumns(), "field"), c = this.wrapper.find(".k-columns-item input[type=checkbox]"); for (e = 0, n = c.length; e < n; e++)i = c.eq(e), s = r[i.attr(t)], s && i.attr(o, s.locked); this._updateColumnsMenu() }, _filter: function () { var n = this, i = _, l = n.options; l.filterable !== !1 && (l.filterable.multi && (i = "kendoFilterMultiCheck", l.filterable.dataSource && (l.filterable.checkSource = l.filterable.dataSource, delete l.filterable.dataSource)), n.filterMenu = n.wrapper.find(".k-filterable")[i](u(!0, {}, { appendToElement: !0, dataSource: l.dataSource, values: l.values, field: n.field, title: n.title, change: function (e) { n.trigger("filtering", { filter: e.filter, field: e.field }) && e.preventDefault() } }, l.filterable)).data(i), n._isMobile && n.menu.bind(C, function (i) { var l = e(i.item); l.hasClass("k-filter-item") && n.pane.navigate(n.filterMenu.view, n.options.animations.left) })) }, _lockColumns: function () { var n = this; n.menu.bind(C, function (i) { var l = e(i.item); l.hasClass("k-lock") ? (n.owner.lockColumn(n.field), n.close()) : l.hasClass("k-unlock") && (n.owner.unlockColumn(n.field), n.close()) }) }, _updateLockedColumns: function () { var e, n, i, l, s = this.field, t = this.owner.columns, o = d(t, function (e) { return e.field == s || e.title == s })[0]; o && (e = o.locked === !0, n = d(t, function (n) { return !n.hidden && (n.locked && e || !n.locked && !e) }).length, i = this.wrapper.find(".k-lock").removeClass("k-state-disabled"), l = this.wrapper.find(".k-unlock").removeClass("k-state-disabled"), (e || 1 == n) && i.addClass("k-state-disabled"), e && 1 != n || l.addClass("k-state-disabled"), this._updateColumnsLockedState()) }, refresh: function () { var e, n, i, l = this, s = l.options.dataSource.sort() || [], t = l.field; for (l.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(f), n = 0, i = s.length; n < i; n++)e = s[n], t == e.field && l.wrapper.find(".k-sort-" + e.dir).addClass(f); l.link[l._filterExist(l.dataSource.filter()) ? "addClass" : "removeClass"]("k-state-active") }, _filterExist: function (e) { var n, i, l, s = !1; if (e) { for (e = e.filters, i = 0, l = e.length; i < l; i++)n = e[i], n.field == this.field ? s = !0 : n.filters && (s = s || this._filterExist(n)); return s } } }), H = '<ul id="#=uid#">#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator" role="presentation"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li role="menuitemcheckbox" aria-checked="false"><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(filterable){#<li class="k-item k-filter-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator" role="presentation"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>', L = '<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-icon k-i-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>', $ = S.extend({ init: function (e, n) { S.fn.init.call(this, e, n), this.element.on("click" + M, "li.k-item:not(.k-separator):not(.k-state-disabled)", "_click") }, events: [C], _click: function (n) { e(n.target).is("[type=checkbox]") || n.preventDefault(), this.trigger(C, { item: n.currentTarget }) }, close: function () { this.options.pane.navigate("") }, destroy: function () { S.fn.destroy.call(this), this.element.off(M) } }); r.plugin(y) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, n, i) { (i || n)() });; !function (t, define) { define("kendo.groupable.min", ["kendo.core.min", "kendo.draganddrop.min"], t) }(function () { return function (t, e) { function r(t) { return t.position().top + 3 } var a = window.kendo, n = a.ui.Widget, i = a._outerWidth, o = t.proxy, d = !1, s = ".kendoGroupable", l = "change", g = a.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close"></span></a></div>', { useWithBlock: !1 }), c = function (e) { var r = e.attr(a.attr("title")); return r && (r = a.htmlEncode(r)), t('<div class="k-header k-drag-clue" />').css({ width: e.width(), paddingLeft: e.css("paddingLeft"), paddingRight: e.css("paddingRight"), lineHeight: e.height() + "px", paddingTop: e.css("paddingTop"), paddingBottom: e.css("paddingBottom") }).html(r || e.attr(a.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel" />') }, u = t('<div class="k-grouping-dropclue"/>'), p = n.extend({ init: function (g, p) { var f, h, m = this, k = a.guid(), v = o(m._intializePositions, m), _ = m._dropCuePositions = []; n.fn.init.call(m, g, p), d = a.support.isRtl(g), h = d ? "right" : "left", m.draggable = f = m.options.draggable || new a.ui.Draggable(m.element, { filter: m.options.draggableElements, hint: c, group: k }), m.groupContainer = t(m.options.groupContainer, m.element).kendoDropTarget({ group: f.options.group, dragenter: function (t) { m._canDrag(t.draggable.currentTarget) && (t.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus"), u.css("top", r(m.groupContainer)).css(h, 0).appendTo(m.groupContainer)) }, dragleave: function (t) { t.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"), u.remove() }, drop: function (e) { var r, n = e.draggable.currentTarget, i = n.attr(a.attr("field")), o = n.attr(a.attr("title")), s = m.indicator(i), l = m._dropCuePositions, g = l[l.length - 1]; (n.hasClass("k-group-indicator") || m._canDrag(n)) && (g ? (r = m._dropCuePosition(a.getOffset(u).left + parseInt(g.element.css("marginLeft"), 10) * (d ? -1 : 1) + parseInt(g.element.css("marginRight"), 10)), r && m._canDrop(t(s), r.element, r.left) && (r.before ? r.element.before(s || m.buildIndicator(i, o)) : r.element.after(s || m.buildIndicator(i, o)), m._change())) : (m.groupContainer.append(m.buildIndicator(i, o)), m._change())) } }).kendoDraggable({ filter: "div.k-group-indicator", hint: c, group: f.options.group, dragcancel: o(m._dragCancel, m), dragstart: function (t) { var e = t.currentTarget, a = parseInt(e.css("marginLeft"), 10), n = e.position(), o = d ? n.left - a : n.left + i(e); v(), u.css({ top: r(m.groupContainer), left: o }).appendTo(m.groupContainer), this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus") }, dragend: function () { m._dragEnd(this) }, drag: o(m._drag, m) }).on("click" + s, ".k-button", function (e) { e.preventDefault(), m._removeIndicator(t(this).parent()) }).on("click" + s, ".k-link", function (e) { var r = t(this).parent(), n = m.buildIndicator(r.attr(a.attr("field")), r.attr(a.attr("title")), "asc" == r.attr(a.attr("dir")) ? "desc" : "asc"); r.before(n).remove(), m._change(), e.preventDefault() }), f.bind(["dragend", "dragcancel", "dragstart", "drag"], { dragend: function () { m._dragEnd(this) }, dragcancel: o(m._dragCancel, m), dragstart: function (t) { var r, a, n; return m.options.allowDrag || m._canDrag(t.currentTarget) ? (v(), _.length ? (r = _[_.length - 1].element, a = parseInt(r.css("marginRight"), 10), n = r.position().left + i(r) + a) : n = 0, e) : (t.preventDefault(), e) }, drag: o(m._drag, m) }), m.dataSource = m.options.dataSource, m.dataSource && m._refreshHandler ? m.dataSource.unbind(l, m._refreshHandler) : m._refreshHandler = o(m.refresh, m), m.dataSource && (m.dataSource.bind("change", m._refreshHandler), m.refresh()) }, refresh: function () { var e = this, r = e.dataSource; e.groupContainer && e.groupContainer.empty().append(t.map(r.group() || [], function (r) { var n = r.field, i = a.attr("field"), o = e.element.find(e.options.filter).filter(function () { return t(this).attr(i) === n }); return e.buildIndicator(r.field, o.attr(a.attr("title")), r.dir) }).join("")), e._invalidateGroupContainer() }, destroy: function () { var t = this; n.fn.destroy.call(t), t.groupContainer.off(s), t.groupContainer.data("kendoDropTarget") && t.groupContainer.data("kendoDropTarget").destroy(), t.groupContainer.data("kendoDraggable") && t.groupContainer.data("kendoDraggable").destroy(), t.options.draggable || t.draggable.destroy(), t.dataSource && t._refreshHandler && (t.dataSource.unbind("change", t._refreshHandler), t._refreshHandler = null), t.groupContainer = t.element = t.draggable = null }, events: ["change"], options: { name: "Groupable", filter: "th", draggableElements: "th", messages: { empty: "Drag a column header and drop it here to group by that column" } }, indicator: function (e) { var r = t(".k-group-indicator", this.groupContainer); return t.grep(r, function (r) { return t(r).attr(a.attr("field")) === e })[0] }, buildIndicator: function (t, e, r) { return g({ field: t.replace(/"/g, "'"), dir: r, title: e, ns: a.ns }) }, descriptors: function () { var e, r, n, i, o, d = this, s = t(".k-group-indicator", d.groupContainer); return e = d.element.find(d.options.filter).map(function () { var e = t(this), n = e.attr(a.attr("aggregates")), d = e.attr(a.attr("field")); if (n && "" !== n) for (r = n.split(","), n = [], i = 0, o = r.length; i < o; i++)n.push({ field: d, aggregate: r[i] }); return n }).toArray(), t.map(s, function (r) { return r = t(r), n = r.attr(a.attr("field")), { field: n, dir: r.attr(a.attr("dir")), aggregates: e || [] } }) }, _removeIndicator: function (t) { var e = this; t.remove(), e._invalidateGroupContainer(), e._change() }, _change: function () { var t, r = this; if (r.dataSource) { if (t = r.descriptors(), r.trigger("change", { groups: t })) return r.refresh(), e; r.dataSource.group(t) } }, _dropCuePosition: function (e) { var r, a, n, o, s, l = this._dropCuePositions; if (u.is(":visible") && 0 !== l.length) return e = Math.ceil(e), r = l[l.length - 1], a = r.left, n = r.right, o = parseInt(r.element.css("marginLeft"), 10), s = parseInt(r.element.css("marginRight"), 10), e >= n && !d || e < a && d ? e = { left: r.element.position().left + (d ? -o : i(r.element) + s), element: r.element, before: !1 } : (e = t.grep(l, function (t) { return t.left <= e && e <= t.right || d && e > t.right })[0], e && (e = { left: d ? e.element.position().left + i(e.element) + s : e.element.position().left - o, element: e.element, before: !0 })), e }, _drag: function (t) { var e = this._dropCuePosition(t.x.location); e && u.css({ left: e.left, right: "auto" }) }, _canDrag: function (t) { var e = t.attr(a.attr("field")); return "false" != t.attr(a.attr("groupable")) && e && (t.hasClass("k-group-indicator") || !this.indicator(e)) }, _canDrop: function (t, e, r) { var a = t.next(), n = t[0] !== e[0] && (!a[0] || e[0] !== a[0] || !d && r > a.position().left || d && r < a.position().left); return n }, _dragEnd: function (e) { var r = this, n = e.currentTarget.attr(a.attr("field")), i = r.indicator(n); e !== r.options.draggable && !e.dropped && i && r._removeIndicator(t(i)), r._dragCancel() }, _dragCancel: function () { u.remove(), this._dropCuePositions = [] }, _intializePositions: function () { var e, r = this, n = t(".k-group-indicator", r.groupContainer); r._dropCuePositions = t.map(n, function (r) { return r = t(r), e = a.getOffset(r).left, { left: parseInt(e, 10), right: parseInt(e + i(r), 10), element: r } }) }, _invalidateGroupContainer: function () { var t = this.groupContainer; t && t.is(":empty") && t.html(this.options.messages.empty) } }); a.ui.plugin(p) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, r) { (r || e)() });; !function (e, define) { define("kendo.filtercell.min", ["kendo.autocomplete.min", "kendo.datepicker.min", "kendo.numerictextbox.min", "kendo.combobox.min", "kendo.dropdownlist.min"], e) }(function () { return function (e, t) { function r(t) { var r = "string" == typeof t ? t : t.operator; return e.inArray(r, v) > -1 } function a(t, r) { var o, n, l = []; if (e.isPlainObject(t)) if (t.hasOwnProperty("filters")) l = t.filters; else if (t.field == r) return t; for (e.isArray(t) && (l = t), o = 0; o < l.length; o++)if (n = a(l[o], r)) return n } function o(t, r) { t.filters && (t.filters = e.grep(t.filters, function (e) { return o(e, r), e.filters ? e.filters.length : e.field != r })) } function n(e, t) { var r = l.getter(t, !0); return function (t) { for (var a, o, n = e(t), l = [], i = 0, s = {}; i < n.length;)a = n[i++], o = r(a), s.hasOwnProperty(o) || (l.push(a), s[o] = !0); return l } } var l = window.kendo, i = l.ui, s = l.data.DataSource, u = i.Widget, p = "change", d = "boolean", c = "enums", f = "string", g = "Is equal to", h = "Is not equal to", m = e.proxy, v = ["isnull", "isnotnull", "isempty", "isnotempty", "isnullorempty", "isnotnullorempty"], w = u.extend({ init: function (a, o) { var n, i, s, g, h, v, w, b, y, I, S, D, _; if (a = e(a).addClass("k-filtercell"), n = this.wrapper = e("<span/>").appendTo(a), i = this, h = o, b = i.operators = o.operators || {}, y = i.input = e("<input/>").attr(l.attr("bind"), "value: value").appendTo(n), I = o ? o.suggestDataSource : null, I && (o = e.extend({}, o, { suggestDataSource: {} })), u.fn.init.call(i, a[0], o), I && (i.options.suggestDataSource = I), o = i.options, s = i.dataSource = o.dataSource, i.model = s.reader.model, w = o.type = f, S = l.getter("reader.model.fields", !0)(s) || {}, D = S[o.field], D && D.type && (w = o.type = D.type), o.values && (o.type = w = c), b = b[w] || o.operators[w], !h.operator) for (v in b) { o.operator = v; break } i._parse = function (e) { return null != e ? e + "" : e }, i.model && i.model.fields && (_ = i.model.fields[o.field], _ && _.parse && (i._parse = m(_.parse, _))), i.defaultOperator = o.operator, i.viewModel = g = l.observable({ operator: o.operator, value: null, operatorVisible: function () { var e = this.get("value"); return null !== e && e !== t && "undefined" != e || r(this.get("operator")) && !i._clearInProgress } }), g.bind(p, m(i.updateDsFilter, i)), w == f && i.initSuggestDataSource(o), null !== o.inputWidth && (y.addClass("k-sized-input"), y.width(o.inputWidth)), y.attr("aria-label", i._getColumnTitle()), i._setInputType(o, w), w != d && o.showOperators !== !1 ? i._createOperatorDropDown(b) : (e('<div unselectable="on" />').css("display", "none").text("eq").appendTo(n), n.addClass("k-operator-hidden")), i._createClearIcon(), l.bind(this.wrapper, g), w == f && (o.template || i.setAutoCompleteSource()), w == c && i.setComboBoxSource(i.options.values), i._refreshUI(), i._refreshHandler = m(i._refreshUI, i), i.dataSource.bind(p, i._refreshHandler) }, _setInputType: function (t, r) { var a, o, n, i, s, u = this, p = u.input; "function" == typeof t.template ? (t.template.call(u.viewModel, { element: u.input, dataSource: u.suggestDataSource }), u._angularItems("compile")) : r == f ? p.attr(l.attr("role"), "autocomplete").attr(l.attr("text-field"), t.dataTextField || t.field).attr(l.attr("filter"), t.suggestionOperator).attr(l.attr("delay"), t.delay).attr(l.attr("min-length"), t.minLength).attr(l.attr("value-primitive"), !0) : "date" == r ? p.attr(l.attr("role"), "datepicker") : r == d ? (p.remove(), a = e("<input type='radio'/>"), o = u.wrapper, n = l.guid(), i = e("<label/>").text(t.messages.isTrue).append(a), a.attr(l.attr("bind"), "checked:value").attr("name", n).val("true"), s = i.clone().text(t.messages.isFalse), a.clone().val("false").appendTo(s), o.append([i, s])) : "number" == r ? p.attr(l.attr("role"), "numerictextbox").attr("title", u._getColumnTitle()) : r == c && p.attr(l.attr("role"), "combobox").attr(l.attr("text-field"), "text").attr(l.attr("suggest"), !0).attr(l.attr("filter"), "contains").attr(l.attr("value-field"), "value").attr(l.attr("value-primitive"), !0) }, _getColumnTitle: function () { var e = this.options.column; return e ? e.title || e.field : "" }, _createOperatorDropDown: function (t) { var r, a, o = [], n = this.viewModel; for (r in t) o.push({ text: t[r], value: r }); a = e('<input class="k-dropdown-operator" ' + l.attr("bind") + '="value: operator"/>').appendTo(this.wrapper), this.operatorDropDown = a.kendoDropDownList({ dataSource: o, dataTextField: "text", dataValueField: "value", open: function () { this.popup.element.width(150) }, valuePrimitive: !0 }).data("kendoDropDownList"), n.bind("change", function () { var e = t[n.operator]; a.attr("aria-label", e) }), this.operatorDropDown.wrapper.find(".k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-i-filter") }, initSuggestDataSource: function (e) { var r = e.suggestDataSource; r instanceof s || (!e.customDataSource && r && (r.group = t), r = this.suggestDataSource = s.create(r)), e.customDataSource || (r._pageSize = t, r.reader.data = n(r.reader.data, this.options.field)), this.suggestDataSource = r }, setAutoCompleteSource: function () { var e = this.input.data("kendoAutoComplete"); e && e.setDataSource(this.suggestDataSource) }, setComboBoxSource: function (e) { var t = s.create({ data: e }), r = this.input.data("kendoComboBox"); r && r.setDataSource(t) }, _refreshUI: function () { var t = this, r = a(t.dataSource.filter(), this.options.field) || {}, o = t.viewModel; t.manuallyUpdatingVM = !0, r = e.extend(!0, {}, r), t.options.type == d && o.value !== r.value && t.wrapper.find(":radio").prop("checked", !1), r.operator && o.set("operator", r.operator), o.set("value", r.value), t.manuallyUpdatingVM = !1 }, updateDsFilter: function (a) { var o, n, l, i, s = this, u = s.viewModel; s.manuallyUpdatingVM || "operator" == a.field && u.value === t && !r(u) || (o = e.extend({}, s.viewModel.toJSON(), { field: s.options.field }), n = { logic: "and", filters: [] }, l = !1, (o.value !== t && null !== o.value || r(o) && !this._clearInProgress) && (n.filters.push(o), l = s.trigger(p, { filter: n, field: s.options.field })), (s._clearInProgress || null === o.value) && (l = s.trigger(p, { filter: null, field: s.options.field })), l || (i = s._merge(n), s.dataSource.filter(i.filters.length ? i : {}))) }, _merge: function (t) { var a, n, l, i = this, s = t.logic || "and", u = t.filters, p = i.dataSource.filter() || { filters: [], logic: "and" }; for (o(p, i.options.field), n = 0, l = u.length; n < l; n++)a = u[n], a.value = i._parse(a.value); return u = e.grep(u, function (e) { return "" !== e.value && null !== e.value || r(e) }), u.length && (p.filters.length ? (t.filters = u, "and" !== p.logic && (p.filters = [{ logic: p.logic, filters: p.filters }], p.logic = "and"), p.filters.push(u.length > 1 ? t : u[0])) : (p.filters = u, p.logic = s)), p }, _createClearIcon: function () { var t = this; e("<button type='button' class='k-button k-button-icon' title = " + t.options.messages.clear + "/>").attr("aria-label", t.options.messages.clear).attr(l.attr("bind"), "visible:operatorVisible").html("<span class='k-icon k-i-filter-clear'/>").click(m(t.clearFilter, t)).appendTo(t.wrapper) }, clearFilter: function () { this._clearInProgress = !0, r(this.viewModel.operator) && this.viewModel.set("operator", this.defaultOperator), this.viewModel.set("value", null), this._clearInProgress = !1 }, _angularItems: function (e) { var t = this.wrapper.closest("th").get(), r = this.options.column; this.angular(e, function () { return { elements: t, data: [{ column: r }] } }) }, destroy: function () { var e = this; e.filterModel = null, e.operatorDropDown = null, e._angularItems("cleanup"), e._refreshHandler && (e.dataSource.bind(p, e._refreshHandler), e._refreshHandler = null), l.unbind(e.element), u.fn.destroy.call(e), l.destroy(e.element) }, events: [p], options: { name: "FilterCell", delay: 200, minLength: 1, inputWidth: null, values: t, customDataSource: !1, field: "", dataTextField: "", type: "string", suggestDataSource: null, suggestionOperator: "startswith", operator: "eq", showOperators: !0, template: null, messages: { isTrue: "is true", isFalse: "is false", filter: "Filter", clear: "Clear", operator: "Operator" }, operators: { string: { eq: g, neq: h, startswith: "Starts with", contains: "Contains", doesnotcontain: "Does not contain", endswith: "Ends with", isnull: "Is null", isnotnull: "Is not null", isempty: "Is empty", isnotempty: "Is not empty", isnullorempty: "Has no value", isnotnullorempty: "Has value" }, number: { eq: g, neq: h, gte: "Is greater than or equal to", gt: "Is greater than", lte: "Is less than or equal to", lt: "Is less than", isnull: "Is null", isnotnull: "Is not null" }, date: { eq: g, neq: h, gte: "Is after or equal to", gt: "Is after", lte: "Is before or equal to", lt: "Is before", isnull: "Is null", isnotnull: "Is not null" }, enums: { eq: g, neq: h, isnull: "Is null", isnotnull: "Is not null" } } } }); i.plugin(w) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, r) { (r || t)() });; !function (e, define) { define("kendo.pager.min", ["kendo.data.min"], e) }(function () { return function (e, t) { function a(e, t, a, n, s) { return e({ idx: t, text: a, ns: p.ns, numeric: n, title: s || "" }) } function n(e, t, a) { return P({ className: e.substring(1), text: t, wrapClassName: a || "" }) } function s(e, t, a, n) { e.find(t).parent().attr(p.attr("page"), a).attr("tabindex", -1).toggleClass("k-state-disabled", n) } function i(e, t) { s(e, u, 1, t <= 1) } function l(e, t) { s(e, f, Math.max(1, t - 1), t <= 1) } function r(e, t, a) { s(e, h, Math.min(a, t + 1), t >= a) } function o(e, t, a) { s(e, c, a, t >= a) } var p = window.kendo, d = p.ui, g = d.Widget, m = e.proxy, u = ".k-i-arrow-end-left", c = ".k-i-arrow-end-right", f = ".k-i-arrow-60-left", h = ".k-i-arrow-60-right", k = "change", v = ".kendoPager", x = "click", w = "keydown", S = "disabled", b = "down", _ = e(document.documentElement), y = Number.MAX_VALUE, P = p.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>'), T = g.extend({ init: function (t, a) { var s, d, S, _, y = this; g.fn.init.call(y, t, a), a = y.options, y.dataSource = p.data.DataSource.create(a.dataSource), y.linkTemplate = p.template(y.options.linkTemplate), y.selectTemplate = p.template(y.options.selectTemplate), y.currentPageTemplate = p.template(y.options.currentPageTemplate), s = y.page(), d = y.totalPages(), y._refreshHandler = m(y.refresh, y), y.dataSource.bind(k, y._refreshHandler), y.downEvent = p.applyEventMap(b, p.guid()), a.previousNext && (y.element.find(u).length || (y.element.append(n(u, a.messages.first, "k-pager-first")), i(y.element, s, d)), y.element.find(f).length || (y.element.append(n(f, a.messages.previous)), l(y.element, s, d))), a.numeric && (y.list = y.element.find(".k-pager-numbers"), y.list.length || (y.list = e('<ul class="k-pager-numbers k-reset" />').appendTo(y.element))), a.input && (y.element.find(".k-pager-input").length || y.element.append('<span class="k-pager-input k-label">' + a.messages.page + '<input class="k-textbox">' + p.format(a.messages.of, d) + "</span>"), y.element.on(w + v, ".k-pager-input input", m(y._keydown, y))), a.previousNext && (y.element.find(h).length || (y.element.append(n(h, a.messages.next)), r(y.element, s, d)), y.element.find(c).length || (y.element.append(n(c, a.messages.last, "k-pager-last")), o(y.element, s, d))), a.pageSizes && (y.element.find(".k-pager-sizes").length || (S = a.pageSizes.length ? a.pageSizes : ["all", 5, 10, 20], _ = e.map(S, function (e) { return e.toLowerCase && "all" === e.toLowerCase() ? "<option value='all'>" + a.messages.allPages + "</option>" : "<option>" + e + "</option>" }), e('<span class="k-pager-sizes k-label"><select/>' + a.messages.itemsPerPage + "</span>").appendTo(y.element).find("select").html(_.join("")).end().appendTo(y.element)), y.element.find(".k-pager-sizes select").val(y.pageSize()), p.ui.DropDownList && y.element.find(".k-pager-sizes select").show().kendoDropDownList(), y.element.on(k + v, ".k-pager-sizes select", m(y._change, y))), a.refresh && (y.element.find(".k-pager-refresh").length || y.element.append('<a href="#" class="k-pager-refresh k-link" title="' + a.messages.refresh + '" aria-label="' + a.messages.refresh + '"><span class="k-icon k-i-reload"></span></a>'), y.element.on(x + v, ".k-pager-refresh", m(y._refreshClick, y))), a.info && (y.element.find(".k-pager-info").length || y.element.append('<span class="k-pager-info k-label" />')), y.element.on(x + v, "a", m(y._click, y)).addClass("k-pager-wrap k-widget k-floatwrap"), y.element.on(x + v, ".k-current-page", m(y._toggleActive, y)), a.autoBind && y.refresh(), p.notify(y) }, destroy: function () { var e = this; g.fn.destroy.call(e), e.element.off(v), e.dataSource.unbind(k, e._refreshHandler), e._refreshHandler = null, p.destroy(e.element), e.element = e.list = null }, events: [k], options: { name: "Pager", selectTemplate: '<li><span class="k-state-selected">#=text#</span></li>', currentPageTemplate: '<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>', linkTemplate: '<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>', buttonCount: 10, autoBind: !0, numeric: !0, info: !0, input: !1, previousNext: !0, pageSizes: !1, refresh: !1, messages: { allPages: "All", display: "{0} - {1} of {2} items", empty: "No items to display", page: "Page", of: "of {0}", itemsPerPage: "items per page", first: "Go to the first page", previous: "Go to the previous page", next: "Go to the next page", last: "Go to the last page", refresh: "Refresh", morePages: "More pages" } }, setDataSource: function (e) { var t = this; t.dataSource.unbind(k, t._refreshHandler), t.dataSource = t.options.dataSource = e, e.bind(k, t._refreshHandler), t.options.autoBind && e.fetch() }, refresh: function (t) { var n, s, d, g, m, u, c = this, f = 1, h = c.page(), k = "", v = c.options, x = c.pageSize(), w = c.dataSource.total(), b = c.totalPages(), P = c.linkTemplate, T = v.buttonCount; if (_.unbind(c.downEvent, e.proxy(c._hideList, c)), !t || "itemchange" != t.action) { if (v.numeric) { for (h > T && (d = h % T, f = 0 === d ? h - T + 1 : h - d + 1), s = Math.min(f + T - 1, b), f > 1 && (k += a(P, f - 1, "...", !1, v.messages.morePages)), n = f; n <= s; n++)k += a(n == h ? c.selectTemplate : P, n, n, !0); s < b && (k += a(P, n, "...", !1, v.messages.morePages)), "" === k && (k = c.selectTemplate({ text: 0 })), k = this.currentPageTemplate({ text: h }) + k, c.list.removeClass("k-state-expanded").html(k) } v.info && (k = w > 0 ? p.format(v.messages.display, c.dataSource.options.endless ? 1 : Math.min((h - 1) * x + 1, w), Math.min(h * x, w), w) : v.messages.empty, c.element.find(".k-pager-info").html(k)), v.input && c.element.find(".k-pager-input").html(c.options.messages.page + '<input class="k-textbox" aria-label="' + h + '">' + p.format(v.messages.of, b)).find("input").val(h).attr(S, w < 1).toggleClass("k-state-disabled", w < 1), v.previousNext && (i(c.element, h, b), l(c.element, h, b), r(c.element, h, b), o(c.element, h, b)), v.pageSizes && (g = c.element.find(".k-pager-sizes option[value='all']").length > 0, m = g && (x === this.dataSource.total() || x == y), u = x, m && (x = "all", u = v.messages.allPages), c.element.find(".k-pager-sizes select").val(x).attr("aria-label", x).filter("[" + p.attr("role") + "=dropdownlist]").kendoDropDownList("value", x).kendoDropDownList("text", u)) } }, _keydown: function (e) { if (e.keyCode === p.keys.ENTER) { var t = this.element.find(".k-pager-input").find("input"), a = parseInt(t.val(), 10); (isNaN(a) || a < 1 || a > this.totalPages()) && (a = this.page()), t.val(a), this.page(a) } }, _refreshClick: function (e) { e.preventDefault(), this.dataSource.read() }, _change: function (e) { var a = e.currentTarget.value, n = parseInt(a, 10), s = this.dataSource; isNaN(n) ? "all" == (a + "").toLowerCase() && (s._pageSize = t, s._take = t, s.fetch()) : s.pageSize(n) }, _toggleActive: function () { var t = this; t.list.hasClass("k-state-expanded") ? _.unbind(t.downEvent, e.proxy(t._hideList, t)) : _.bind(t.downEvent, e.proxy(t._hideList, t)), t.list.toggleClass("k-state-expanded") }, _hideList: function (t) { var a = this, n = p.eventTarget(t); e.contains(a.list[0], n) || (_.unbind(a.downEvent, e.proxy(a._hideList, a)), a.list.removeClass("k-state-expanded")) }, _click: function (t) { var a = e(t.currentTarget); t.preventDefault(), a.is(".k-state-disabled") || this.page(a.attr(p.attr("page"))) }, totalPages: function () { return Math.ceil((this.dataSource.total() || 0) / (this.pageSize() || 1)) }, pageSize: function () { return this.dataSource.pageSize() || this.dataSource.total() }, page: function (e) { return e === t ? this.dataSource.total() > 0 ? this.dataSource.page() : 0 : (this.trigger("pageChange", { index: e }) || (this.dataSource.page(e), this.trigger(k, { index: e })), t) } }); d.plugin(T) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (e, define) { define("kendo.reorderable.min", ["kendo.core.min", "kendo.draganddrop.min"], e) }(function () { return function (e, r) { function n(r, n) { r = e(r), n ? r.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel") : r.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus") } var t = window.kendo, a = t._outerWidth, d = t._outerHeight, o = t.getOffset, i = t.ui.Widget, g = "change", l = "k-reorderable", s = i.extend({ init: function (r, s) { var u, f = this, c = t.guid() + "-reorderable"; i.fn.init.call(f, r, s), r = f.element.addClass(l), s = f.options, f.draggable = u = s.draggable || new t.ui.Draggable(r, { group: c, autoScroll: !0, filter: s.filter, hint: s.hint }), f.reorderDropCue = e('<div class="k-reorder-cue"></div></div>'), r.find(u.options.filter).kendoDropTarget({ group: u.options.group, dragenter: function (e) { var r, t, i, g; f._draggable && (r = this.element, i = !f._dropTargetAllowed(r) || f._isLastDraggable(), n(e.draggable.hint, i), i || (t = o(r), g = t.left, s.inSameContainer && !s.inSameContainer({ source: r, target: f._draggable, sourceIndex: f._index(r), targetIndex: f._index(f._draggable) }) ? f._dropTarget = r : f._index(r) > f._index(f._draggable) && (g += a(r)), f.reorderDropCue.css({ height: d(r), top: t.top, left: g }).appendTo(document.body))) }, dragleave: function (e) { n(e.draggable.hint, !0), f.reorderDropCue.remove(), f._dropTarget = null }, drop: function () { var e, r; f._dropTarget = null, f._draggable && (e = this.element, r = f._draggable, f._dropTargetAllowed(e) && !f._isLastDraggable() && f.trigger(g, { element: f._draggable, target: e, oldIndex: f._index(r), newIndex: f._index(e), position: o(f.reorderDropCue).left > o(e).left ? "after" : "before" })) } }), u.bind(["dragcancel", "dragend", "dragstart", "drag"], { dragcancel: function () { f.reorderDropCue.remove(), f._draggable = null, f._elements = null }, dragend: function () { f.reorderDropCue.remove(), f._draggable = null, f._elements = null }, dragstart: function (e) { f._draggable = e.currentTarget, f._elements = f.element.find(f.draggable.options.filter) }, drag: function (e) { var r, n; f._dropTarget && !this.hint.find(".k-drag-status").hasClass("k-i-cancel") && (r = o(f._dropTarget).left, n = a(f._dropTarget), f.reorderDropCue.css(e.pageX > r + n / 2 ? { left: r + n } : { left: r })) } }) }, options: { name: "Reorderable", filter: "*" }, events: [g], _isLastDraggable: function () { var e, r = this.options.inSameContainer, n = this._draggable[0], t = this._elements.get(), a = !1; if (!r) return !1; for (; !a && t.length > 0;)e = t.pop(), a = n !== e && r({ source: n, target: e, sourceIndex: this._index(n), targetIndex: this._index(e) }); return !a }, _dropTargetAllowed: function (e) { var r = this.options.inSameContainer, n = this.options.dragOverContainers, t = this._draggable; return t[0] !== e[0] && (!r || !n || (!!r({ source: t, target: e, sourceIndex: this._index(t), targetIndex: this._index(e) }) || n(this._index(t), this._index(e)))) }, _index: function (e) { return this._elements.index(e) }, destroy: function () { var r = this; i.fn.destroy.call(r), r.element.find(r.draggable.options.filter).each(function () { var r = e(this); r.data("kendoDropTarget") && r.data("kendoDropTarget").destroy() }), r.draggable && (r.draggable.destroy(), r.draggable.element = r.draggable = null), r.elements = r.reorderDropCue = r._elements = r._draggable = null } }); t.ui.plugin(s) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, r, n) { (n || r)() });; !function (e, define) { define("kendo.mobile.scroller.min", ["kendo.fx.min", "kendo.draganddrop.min"], e) }(function () { return function (e, i) { var n = window.kendo, t = n.mobile, s = n.effects, o = t.ui, l = e.proxy, a = e.extend, r = o.Widget, c = n.Class, h = n.ui.Movable, u = n.ui.Pane, d = n.ui.PaneDimensions, m = s.Transition, f = s.Animation, p = Math.abs, v = 500, b = .7, x = .96, y = 10, T = 55, w = .5, g = 5, _ = "km-scroller-release", E = "km-scroller-refresh", C = "pull", k = "change", S = "resize", z = "scroll", M = 2, A = f.extend({ init: function (e) { var i = this; f.fn.init.call(i), a(i, e), i.userEvents.bind("gestureend", l(i.start, i)), i.tapCapture.bind("press", l(i.cancel, i)) }, enabled: function () { return this.movable.scale < this.dimensions.minScale }, done: function () { return this.dimensions.minScale - this.movable.scale < .01 }, tick: function () { var e = this.movable; e.scaleWith(1.1), this.dimensions.rescale(e.scale) }, onEnd: function () { var e = this.movable; e.scaleTo(this.dimensions.minScale), this.dimensions.rescale(e.scale) } }), O = f.extend({ init: function (e) { var i = this; f.fn.init.call(i), a(i, e, { transition: new m({ axis: e.axis, movable: e.movable, onEnd: function () { i._end() } }) }), i.tapCapture.bind("press", function () { i.cancel() }), i.userEvents.bind("end", l(i.start, i)), i.userEvents.bind("gestureend", l(i.start, i)), i.userEvents.bind("tap", l(i.onEnd, i)) }, onCancel: function () { this.transition.cancel() }, freeze: function (e) { var i = this; i.cancel(), i._moveTo(e) }, onEnd: function () { var e = this; e.paneAxis.outOfBounds() ? e._snapBack() : e._end() }, done: function () { return p(this.velocity) < 1 }, start: function (e) { var i, n = this; n.dimension.enabled && (n.paneAxis.outOfBounds() ? n._snapBack() : (i = e.touch.id === M ? 0 : e.touch[n.axis].velocity, n.velocity = Math.max(Math.min(i * n.velocityMultiplier, T), -T), n.tapCapture.captureNext(), f.fn.start.call(n))) }, tick: function () { var e = this, i = e.dimension, n = e.paneAxis.outOfBounds() ? w : e.friction, t = e.velocity *= n, s = e.movable[e.axis] + t; !e.elastic && i.outOfBounds(s) && (s = Math.max(Math.min(s, i.max), i.min), e.velocity = 0), e.movable.moveAxis(e.axis, s) }, _end: function () { this.tapCapture.cancelCapture(), this.end() }, _snapBack: function () { var e = this, i = e.dimension, n = e.movable[e.axis] > i.max ? i.max : i.min; e._moveTo(n) }, _moveTo: function (e) { this.transition.moveTo({ location: e, duration: v, ease: m.easeOutExpo }) } }), H = f.extend({ init: function (e) { var i = this; n.effects.Animation.fn.init.call(this), a(i, e, { origin: {}, destination: {}, offset: {} }) }, tick: function () { this._updateCoordinates(), this.moveTo(this.origin) }, done: function () { return p(this.offset.y) < g && p(this.offset.x) < g }, onEnd: function () { this.moveTo(this.destination), this.callback && this.callback.call() }, setCoordinates: function (e, i) { this.offset = {}, this.origin = e, this.destination = i }, setCallback: function (e) { e && n.isFunction(e) ? this.callback = e : e = i }, _updateCoordinates: function () { this.offset = { x: (this.destination.x - this.origin.x) / 4, y: (this.destination.y - this.origin.y) / 4 }, this.origin = { y: this.origin.y + this.offset.y, x: this.origin.x + this.offset.x } } }), B = c.extend({ init: function (i) { var n = this, t = "x" === i.axis, s = e('<div class="km-touch-scrollbar km-' + (t ? "horizontal" : "vertical") + '-scrollbar" />'); a(n, i, { element: s, elementSize: 0, movable: new h(s), scrollMovable: i.movable, alwaysVisible: i.alwaysVisible, size: t ? "width" : "height" }), n.scrollMovable.bind(k, l(n.refresh, n)), n.container.append(s), i.alwaysVisible && n.show() }, refresh: function () { var e = this, i = e.axis, n = e.dimension, t = n.size, s = e.scrollMovable, o = t / n.total, l = Math.round(-s[i] * o), a = Math.round(t * o); o >= 1 ? this.element.css("display", "none") : this.element.css("display", ""), l + a > t ? a = t - l : l < 0 && (a += l, l = 0), e.elementSize != a && (e.element.css(e.size, a + "px"), e.elementSize = a), e.movable.moveAxis(i, l) }, show: function () { this.element.css({ opacity: b, visibility: "visible" }) }, hide: function () { this.alwaysVisible || this.element.css({ opacity: 0 }) } }), R = r.extend({ init: function (t, s) { var o, c, m, f, v, b, x, y, T, w = this; return r.fn.init.call(w, t, s), t = w.element, (w._native = w.options.useNative && n.support.hasNativeScrolling) ? (t.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'), a(w, { scrollElement: t, fixedContainer: t.children().first() }), i) : (t.css("overflow", "hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'), o = t.children().eq(1), c = new n.TapCapture(t), m = new h(o), f = new d({ element: o, container: t, forcedEnabled: w.options.zoom }), v = this.options.avoidScrolling, b = new n.UserEvents(t, { touchAction: "pan-y", fastTap: !0, allowSelection: !0, preventDragEvent: !0, captureUpIfMoved: !0, multiTouch: w.options.zoom, start: function (i) { f.refresh(); var n = p(i.x.velocity), t = p(i.y.velocity), s = 2 * n >= t, o = e.contains(w.fixedContainer[0], i.event.target), l = 2 * t >= n; !o && !v(i) && w.enabled && (f.x.enabled && s || f.y.enabled && l) ? b.capture() : b.cancel() } }), x = new u({ movable: m, dimensions: f, userEvents: b, elastic: w.options.elastic }), y = new A({ movable: m, dimensions: f, userEvents: b, tapCapture: c }), T = new H({ moveTo: function (e) { w.scrollTo(e.x, e.y) } }), m.bind(k, function () { w.scrollTop = -m.y, w.scrollLeft = -m.x, w.trigger(z, { scrollTop: w.scrollTop, scrollLeft: w.scrollLeft }) }), w.options.mousewheelScrolling && t.on("DOMMouseScroll mousewheel", l(this, "_wheelScroll")), a(w, { movable: m, dimensions: f, zoomSnapBack: y, animatedScroller: T, userEvents: b, pane: x, tapCapture: c, pulled: !1, enabled: !0, scrollElement: o, scrollTop: 0, scrollLeft: 0, fixedContainer: t.children().first() }), w._initAxis("x"), w._initAxis("y"), w._wheelEnd = function () { w._wheel = !1, w.userEvents.end(0, w._wheelY) }, f.refresh(), w.options.pullToRefresh && w._initPullToRefresh(), i) }, _wheelScroll: function (e) { this._wheel || (this._wheel = !0, this._wheelY = 0, this.userEvents.press(0, this._wheelY)), clearTimeout(this._wheelTimeout), this._wheelTimeout = setTimeout(this._wheelEnd, 50); var i = n.wheelDeltaY(e); i && (this._wheelY += i, this.userEvents.move(0, this._wheelY)), e.preventDefault() }, makeVirtual: function () { this.dimensions.y.makeVirtual() }, virtualSize: function (e, i) { this.dimensions.y.virtualSize(e, i) }, height: function () { return this.dimensions.y.size }, scrollHeight: function () { return this.scrollElement[0].scrollHeight }, scrollWidth: function () { return this.scrollElement[0].scrollWidth }, options: { name: "Scroller", zoom: !1, pullOffset: 140, visibleScrollHints: !1, elastic: !0, useNative: !1, mousewheelScrolling: !0, avoidScrolling: function () { return !1 }, pullToRefresh: !1, messages: { pullTemplate: "Pull to refresh", releaseTemplate: "Release to refresh", refreshTemplate: "Refreshing" } }, events: [C, z, S], _resize: function () { this._native || this.contentResized() }, setOptions: function (e) { var i = this; r.fn.setOptions.call(i, e), e.pullToRefresh && i._initPullToRefresh() }, reset: function () { this._native ? this.scrollElement.scrollTop(0) : (this.movable.moveTo({ x: 0, y: 0 }), this._scale(1)) }, contentResized: function () { this.dimensions.refresh(), this.pane.x.outOfBounds() && this.movable.moveAxis("x", this.dimensions.x.min), this.pane.y.outOfBounds() && this.movable.moveAxis("y", this.dimensions.y.min) }, zoomOut: function () { var e = this.dimensions; e.refresh(), this._scale(e.fitScale), this.movable.moveTo(e.centerCoordinates()) }, enable: function () { this.enabled = !0 }, disable: function () { this.enabled = !1 }, scrollTo: function (e, i) { this._native ? (this.scrollElement.scrollLeft(p(e)), this.scrollElement.scrollTop(p(i))) : (this.dimensions.refresh(), this.movable.moveTo({ x: e, y: i })) }, animatedScrollTo: function (e, i, n) { var t, s; this._native ? this.scrollTo(e, i) : (t = { x: this.movable.x, y: this.movable.y }, s = { x: e, y: i }, this.animatedScroller.setCoordinates(t, s), this.animatedScroller.setCallback(n), this.animatedScroller.start()) }, pullHandled: function () { var e = this; e.refreshHint.removeClass(E), e.hintContainer.html(e.pullTemplate({})), e.yinertia.onEnd(), e.xinertia.onEnd(), e.userEvents.cancel() }, destroy: function () { r.fn.destroy.call(this), this.userEvents && this.userEvents.destroy() }, _scale: function (e) { this.dimensions.rescale(e), this.movable.scaleTo(e) }, _initPullToRefresh: function () { var e = this; e.dimensions.y.forceEnabled(), e.pullTemplate = n.template(e.options.messages.pullTemplate), e.releaseTemplate = n.template(e.options.messages.releaseTemplate), e.refreshTemplate = n.template(e.options.messages.refreshTemplate), e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">' + e.pullTemplate({}) + "</span></span>"), e.refreshHint = e.scrollElement.children().first(), e.hintContainer = e.refreshHint.children(".km-template"), e.pane.y.bind("change", l(e._paneChange, e)), e.userEvents.bind("end", l(e._dragEnd, e)) }, _dragEnd: function () { var e = this; e.pulled && (e.pulled = !1, e.refreshHint.removeClass(_).addClass(E), e.hintContainer.html(e.refreshTemplate({})), e.yinertia.freeze(e.options.pullOffset / 2), e.trigger("pull")) }, _paneChange: function () { var e = this; e.movable.y / w > e.options.pullOffset ? e.pulled || (e.pulled = !0, e.refreshHint.removeClass(E).addClass(_), e.hintContainer.html(e.releaseTemplate({}))) : e.pulled && (e.pulled = !1, e.refreshHint.removeClass(_), e.hintContainer.html(e.pullTemplate({}))) }, _initAxis: function (e) { var i = this, n = i.movable, t = i.dimensions[e], s = i.tapCapture, o = i.pane[e], l = new B({ axis: e, movable: n, dimension: t, container: i.element, alwaysVisible: i.options.visibleScrollHints }); t.bind(k, function () { l.refresh() }), o.bind(k, function () { l.show() }), i[e + "inertia"] = new O({ axis: e, paneAxis: o, movable: n, tapCapture: s, userEvents: i.userEvents, dimension: t, elastic: i.options.elastic, friction: i.options.friction || x, velocityMultiplier: i.options.velocityMultiplier || y, end: function () { l.hide(), i.trigger("scrollEnd", { axis: e, scrollTop: i.scrollTop, scrollLeft: i.scrollLeft }) } }) } }); o.plugin(R) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, i, n) { (n || i)() });; !function (e, define) { define("kendo.mobile.view.min", ["kendo.core.min", "kendo.fx.min", "kendo.mobile.scroller.min", "kendo.view.min"], e) }(function () { return function (e, t) { function i(e) { var t, i, o = e.find(x("popover")), n = s.roles; for (t = 0, i = o.length; t < i; t++)r.initWidget(o[t], {}, n) } function o(e) { r.triggeredByInput(e) || e.preventDefault() } function n(t) { t.each(function () { r.initWidget(e(this), {}, s.roles) }) } var r = window.kendo, a = r.mobile, s = a.ui, l = r.attr, h = s.Widget, d = r.ViewClone, c = "init", u = '<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />', p = "beforeShow", f = "show", g = "afterShow", m = "beforeHide", v = "transitionEnd", w = "transitionStart", y = "hide", _ = "destroy", b = r.attrValue, x = r.roleSelector, S = r.directiveSelector, k = r.compileMobileDirective, V = h.extend({ init: function (t, i) { h.fn.init.call(this, t, i), this.params = {}, e.extend(this, i), this.transition = this.transition || this.defaultTransition, this._id(), this.options.$angular ? this._overlay() : (this._layout(), this._overlay(), this._scroller(), this._model()) }, events: [c, p, f, g, m, y, _, w, v], options: { name: "View", title: "", layout: null, getLayout: e.noop, reload: !1, transition: "", defaultTransition: "", useNativeScrolling: !1, stretch: !1, zoom: !1, model: null, modelScope: window, scroller: {}, initWidgets: !0 }, enable: function (e) { t === e && (e = !0), e ? this.overlay.hide() : this.overlay.show() }, destroy: function () { this.layout && this.layout.detach(this), this.trigger(_), h.fn.destroy.call(this), this.scroller && this.scroller.destroy(), this.options.$angular && this.element.scope().$destroy(), r.destroy(this.element) }, purge: function () { this.destroy(), this.element.remove() }, triggerBeforeShow: function () { return !this.trigger(p, { view: this }) }, triggerBeforeHide: function () { return !this.trigger(m, { view: this }) }, showStart: function () { var e = this.element; e.css("display", ""), this.inited ? this._invokeNgController() : (this.inited = !0, this.trigger(c, { view: this })), this.layout && this.layout.attach(this), this._padIfNativeScrolling(), this.trigger(f, { view: this }), r.resize(e) }, showEnd: function () { this.trigger(g, { view: this }), this._padIfNativeScrolling() }, hideEnd: function () { var e = this; e.element.hide(), e.trigger(y, { view: e }), e.layout && e.layout.trigger(y, { view: e, layout: e.layout }) }, beforeTransition: function (e) { this.trigger(w, { type: e }) }, afterTransition: function (e) { this.trigger(v, { type: e }) }, _padIfNativeScrolling: function () { if (a.appLevelNativeScrolling()) { var e = r.support.mobileOS && r.support.mobileOS.android, t = a.application.skin() || "", i = a.application.os.android || t.indexOf("android") > -1, o = "flat" === t || t.indexOf("material") > -1, n = !e && !i || o ? "header" : "footer", s = !e && !i || o ? "footer" : "header"; this.content.css({ paddingTop: this[n].height(), paddingBottom: this[s].height() }) } }, contentElement: function () { var e = this; return e.options.stretch ? e.content : e.scrollerContent }, clone: function () { return new d(this) }, _scroller: function () { var t = this; a.appLevelNativeScrolling() || (t.options.stretch ? t.content.addClass("km-stretched-view") : (t.content.kendoMobileScroller(e.extend(t.options.scroller, { zoom: t.options.zoom, useNative: t.options.useNativeScrolling })), t.scroller = t.content.data("kendoMobileScroller"), t.scrollerContent = t.scroller.scrollElement), r.support.kineticScrollNeeded && (e(t.element).on("touchmove", ".km-header", o), t.options.useNativeScrolling || t.options.stretch || e(t.element).on("touchmove", ".km-content", o))) }, _model: function () { var e = this, t = e.element, o = e.options.model; "string" == typeof o && (o = r.getter(o)(e.options.modelScope)), e.model = o, i(t), e.element.css("display", ""), e.options.initWidgets && (o ? r.bind(t, o, s, r.ui, r.dataviz.ui) : a.init(t.children())), e.element.css("display", "none") }, _id: function () { var e = this.element, t = e.attr("id") || ""; this.id = b(e, "url") || "#" + t, "#" == this.id && (this.id = r.guid(), e.attr("id", this.id)) }, _layout: function () { var e = x("content"), t = this.element; t.addClass("km-view"), this.header = t.children(x("header")).addClass("km-header"), this.footer = t.children(x("footer")).addClass("km-footer"), t.children(e)[0] || t.wrapInner("<div " + l("role") + '="content"></div>'), this.content = t.children(x("content")).addClass("km-content"), this.element.prepend(this.header).append(this.footer), this.layout = this.options.getLayout(this.layout), this.layout && this.layout.setup(this) }, _overlay: function () { this.overlay = e(u).appendTo(this.element) }, _invokeNgController: function () { var t, i, o; this.options.$angular && (t = this.element.controller(), i = this.options.$angular[0], t && (o = e.proxy(this, "_callController", t, i), /^\$(digest|apply)$/.test(i.$$phase) ? o() : i.$apply(o))) }, _callController: function (e, t) { this.element.injector().invoke(e.constructor, e, { $scope: t }) } }), C = h.extend({ init: function (e, t) { h.fn.init.call(this, e, t), e = this.element, this.header = e.children(this._locate("header")).addClass("km-header"), this.footer = e.children(this._locate("footer")).addClass("km-footer"), this.elements = this.header.add(this.footer), i(e), this.options.$angular || r.mobile.init(this.element.children()), this.element.detach(), this.trigger(c, { layout: this }) }, _locate: function (e) { return this.options.$angular ? S(e) : x(e) }, options: { name: "Layout", id: null, platform: null }, events: [c, f, y], setup: function (e) { e.header[0] || (e.header = this.header), e.footer[0] || (e.footer = this.footer) }, detach: function (e) { var t = this; e.header === t.header && t.header[0] && e.element.prepend(t.header.detach()[0].cloneNode(!0)), e.footer === t.footer && t.footer.length && e.element.append(t.footer.detach()[0].cloneNode(!0)) }, attach: function (e) { var t = this, i = t.currentView; i && t.detach(i), e.header === t.header && (t.header.detach(), e.element.children(x("header")).remove(), e.element.prepend(t.header)), e.footer === t.footer && (t.footer.detach(), e.element.children(x("footer")).remove(), e.element.append(t.footer)), t.trigger(f, { layout: t, view: e }), t.currentView = e } }), $ = r.Observable, L = /<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i, N = "loadStart", T = "loadComplete", E = "showStart", I = "sameViewRequested", O = "viewShow", R = "viewTypeDetermined", W = "after", z = $.extend({ init: function (t) { var i, o, a, s, l = this; if ($.fn.init.call(l), e.extend(l, t), l.sandbox = e("<div />"), a = l.container, i = l._hideViews(a), l.rootView = i.first(), !l.rootView[0] && t.rootNeeded) throw o = a[0] == r.mobile.application.element[0] ? 'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.' : 'Your pane element does not contain any direct child elements with data-role="view" attribute set.', Error(o); l.layouts = {}, l.viewContainer = new r.ViewContainer(l.container), l.viewContainer.bind("accepted", function (e) { e.view.params = l.params }), l.viewContainer.bind("complete", function (e) { l.trigger(O, { view: e.view }) }), l.viewContainer.bind(W, function () { l.trigger(W) }), this.getLayoutProxy = e.proxy(this, "_getLayout"), l._setupLayouts(a), s = a.children(l._locate("modalview drawer")), l.$angular ? (l.$angular[0].viewOptions = { defaultTransition: l.transition, loader: l.loader, container: l.container, getLayout: l.getLayoutProxy }, s.each(function (i, o) { k(e(o), t.$angular[0]) })) : n(s), this.bind(this.events, t) }, events: [E, W, O, N, T, I, R], destroy: function () { r.destroy(this.container); for (var e in this.layouts) this.layouts[e].destroy() }, view: function () { return this.viewContainer.view }, showView: function (e, t, i) { if (e = e.replace(RegExp("^" + this.remoteViewURLPrefix), ""), "" === e && this.remoteViewURLPrefix && (e = "/"), e.replace(/^#/, "") === this.url) return this.trigger(I), !1; this.trigger(E); var o = this, n = function (i) { return o.viewContainer.show(i, t, e) }, a = o._findViewElement(e), s = r.widgetInstance(a); return o.url = e.replace(/^#/, ""), o.params = i, s && s.reload && (s.purge(), a = []), this.trigger(R, { remote: 0 === a.length, url: e }), a[0] ? (s || (s = o._createView(a)), n(s)) : (this.serverNavigation ? location.href = e : o._loadView(e, n), !0) }, append: function (e, t) { var i, o, r, a = this.sandbox, s = (t || "").split("?")[0], h = this.container; return L.test(e) && (e = RegExp.$1), a[0].innerHTML = e, h.append(a.children("script, style")), i = this._hideViews(a), r = i.first(), r.length || (i = r = a.wrapInner("<div data-role=view />").children()), s && r.hide().attr(l("url"), s), this._setupLayouts(a), o = a.children(this._locate("modalview drawer")), h.append(a.children(this._locate("layout modalview drawer")).add(i)), n(o), this._createView(r) }, _locate: function (e) { return this.$angular ? S(e) : x(e) }, _findViewElement: function (e) { var t, i = e.split("?")[0]; return i ? (t = this.container.children("[" + l("url") + "='" + i + "']"), t[0] || i.indexOf("/") !== -1 || (t = this.container.children("#" === i.charAt(0) ? i : "#" + i)), t) : this.rootView }, _createView: function (e) { return this.$angular ? k(e, this.$angular[0]) : r.initWidget(e, { defaultTransition: this.transition, loader: this.loader, container: this.container, getLayout: this.getLayoutProxy, modelScope: this.modelScope, reload: b(e, "reload") }, s.roles) }, _getLayout: function (e) { return "" === e ? null : e ? this.layouts[e] : this.layouts[this.layout] }, _loadView: function (t, i) { this._xhr && this._xhr.abort(), this.trigger(N), this._xhr = e.get(r.absoluteURL(t, this.remoteViewURLPrefix), "html").always(e.proxy(this, "_xhrComplete", i, t)) }, _xhrComplete: function (e, t, i) { var o = !0; if ("object" == typeof i && 0 === i.status) { if (!(i.responseText && i.responseText.length > 0)) return; o = !0, i = i.responseText } this.trigger(T), o && e(this.append(i, t)) }, _hideViews: function (e) { return e.children(this._locate("view splitview")).hide() }, _setupLayouts: function (t) { var i, o = this; t.children(o._locate("layout")).each(function () { i = o.$angular ? k(e(this), o.$angular[0]) : r.initWidget(e(this), {}, s.roles); var t = i.options.platform; t && t !== a.application.os.name ? i.destroy() : o.layouts[i.options.id] = i }) } }); r.mobile.ViewEngine = z, s.plugin(V), s.plugin(C) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (n, define) { define("kendo.mobile.loader.min", ["kendo.core.min"], n) }(function () { return function (n, t) { var e = window.kendo, i = e.mobile.ui, o = i.Widget, a = n.map(e.eventMap, function (n) { return n }).join(" ").split(" "), s = o.extend({ init: function (t, e) { var i = this, a = n('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>'); o.fn.init.call(i, a, e), i.container = t, i.captureEvents = !1, i._attachCapture(), a.append(i.options.loading).hide().appendTo(t) }, options: { name: "Loader", loading: "<h1>Loading...</h1>", timeout: 100 }, show: function () { var n = this; clearTimeout(n._loading), n.options.loading !== !1 && (n.captureEvents = !0, n._loading = setTimeout(function () { n.element.show() }, n.options.timeout)) }, hide: function () { this.captureEvents = !1, clearTimeout(this._loading), this.element.hide() }, changeMessage: function (n) { this.options.loading = n, this.element.find(">h1").html(n) }, transition: function () { this.captureEvents = !0, this.container.css("pointer-events", "none") }, transitionDone: function () { this.captureEvents = !1, this.container.css("pointer-events", "") }, _attachCapture: function () { function n(n) { e.captureEvents && n.preventDefault() } var t, e = this; for (e.captureEvents = !1, t = 0; t < a.length; t++)e.container[0].addEventListener(a[t], n, !0) } }); i.plugin(s) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (n, t, e) { (e || t)() });; !function (t, define) { define("kendo.mobile.pane.min", ["kendo.mobile.view.min", "kendo.mobile.loader.min"], t) }(function () { return function (t, e) { var i = window.kendo, n = i.mobile, o = i.roleSelector, a = n.ui, r = a.Widget, s = n.ViewEngine, l = a.View, u = n.ui.Loader, c = "external", h = "href", d = "#!", p = "navigate", v = "viewShow", f = "sameViewRequested", g = i.support.mobileOS, w = g.ios && !g.appMode && g.flatVersion >= 700, m = /popover|actionsheet|modalview|drawer/, y = "#:back", b = i.attrValue, k = r.extend({ init: function (t, e) { var n = this; r.fn.init.call(n, t, e), e = n.options, t = n.element, t.addClass("km-pane"), n.options.collapsible && t.addClass("km-collapsible-pane"), this.history = [], this.historyCallback = function (t, e, i) { var o = n.transition; return n.transition = null, w && i && (o = "none"), n.viewEngine.showView(t, o, e) }, this._historyNavigate = function (t) { if (t === y) { if (1 === n.history.length) return; n.history.pop(), t = n.history[n.history.length - 1] } else n.history.push(t); n.historyCallback(t, i.parseQueryStringParams(t)) }, this._historyReplace = function (t) { var e = i.parseQueryStringParams(t); n.history[n.history.length - 1] = t, n.historyCallback(t, e) }, n.loader = new u(t, { loading: n.options.loading }), n.viewEngine = new s({ container: t, transition: e.transition, modelScope: e.modelScope, rootNeeded: !e.initial, serverNavigation: e.serverNavigation, remoteViewURLPrefix: e.root || "", layout: e.layout, $angular: e.$angular, loader: n.loader, showStart: function () { n.loader.transition(), n.closeActiveDialogs() }, after: function () { n.loader.transitionDone() }, viewShow: function (t) { n.trigger(v, t) }, loadStart: function () { n.loader.show() }, loadComplete: function () { n.loader.hide() }, sameViewRequested: function () { n.trigger(f) }, viewTypeDetermined: function (t) { t.remote && n.options.serverNavigation || n.trigger(p, { url: t.url }) } }), this._setPortraitWidth(), i.onResize(function () { n._setPortraitWidth() }), n._setupAppLinks() }, closeActiveDialogs: function () { var e = this.element.find(o("actionsheet popover modalview")).filter(":visible"); e.each(function () { i.widgetInstance(t(this), a).close() }) }, navigateToInitial: function () { var t = this.options.initial; return t && this.navigate(t), t }, options: { name: "Pane", portraitWidth: "", transition: "", layout: "", collapsible: !1, initial: null, modelScope: window, loading: "<h1>Loading...</h1>" }, events: [p, v, f], append: function (t) { return this.viewEngine.append(t) }, destroy: function () { r.fn.destroy.call(this), this.viewEngine.destroy(), this.userEvents.destroy() }, navigate: function (t, e) { t instanceof l && (t = t.id), this.transition = e, this._historyNavigate(t) }, replace: function (t, e) { t instanceof l && (t = t.id), this.transition = e, this._historyReplace(t) }, bindToRouter: function (t) { var e = this, n = this.history, o = this.viewEngine; t.bind("init", function (e) { var a, r = e.url, s = t.pushState ? r : "/"; o.rootView.attr(i.attr("url"), s), a = n.length, "/" === r && a && (t.navigate(n[a - 1], !0), e.preventDefault()) }), t.bind("routeMissing", function (t) { e.historyCallback(t.url, t.params, t.backButtonPressed) || t.preventDefault() }), t.bind("same", function () { e.trigger(f) }), e._historyNavigate = function (e) { t.navigate(e) }, e._historyReplace = function (e) { t.replace(e) } }, hideLoading: function () { this.loader.hide() }, showLoading: function () { this.loader.show() }, changeLoadingMessage: function (t) { this.loader.changeMessage(t) }, view: function () { return this.viewEngine.view() }, _setPortraitWidth: function () { var t, e = this.options.portraitWidth; e && (t = i.mobile.application.element.is(".km-vertical") ? e : "auto", this.element.css("width", t)) }, _setupAppLinks: function () { var e = this, n = "tab", a = "[data-" + i.ns + "navigate-on-press]", r = t.map(["button", "backbutton", "detailbutton", "listview-link"], function (t) { return o(t) + ":not(" + a + ")" }).join(","); this.element.handler(this).on("down", o(n) + "," + a, "_mouseup").on("click", o(n) + "," + r + "," + a, "_appLinkClick"), this.userEvents = new i.UserEvents(this.element, { fastTap: !0, filter: r, tap: function (t) { t.event.currentTarget = t.touch.currentTarget, e._mouseup(t.event) } }), this.element.css("-ms-touch-action", "") }, _appLinkClick: function (e) { var i = t(e.currentTarget).attr("href"), n = i && "#" !== i[0] && this.options.serverNavigation; n || b(t(e.currentTarget), "rel") == c || e.preventDefault() }, _mouseup: function (o) { if (!(o.which > 1 || o.isDefaultPrevented())) { var r = this, s = t(o.currentTarget), l = b(s, "transition"), u = b(s, "rel") || "", p = b(s, "target"), v = s.attr(h), f = w && 0 === s[0].offsetHeight, g = v && "#" !== v[0] && this.options.serverNavigation; f || g || u === c || e === v || v === d || (s.attr(h, d), setTimeout(function () { s.attr(h, v) }), u.match(m) ? (i.widgetInstance(t(v), a).openFor(s), "actionsheet" !== u && "drawer" !== u || o.stopPropagation()) : ("_top" === p ? r = n.application.pane : p && (r = t("#" + p).data("kendoMobilePane")), r.navigate(v, l)), o.preventDefault()) } } }); k.wrap = function (t) { t.is(o("view")) || (t = t.wrap("<div data-" + i.ns + 'role="view" data-stretch="true"></div>').parent()); var e = t.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(), n = new k(e); return n.navigate(""), n }, a.plugin(k) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (e, define) { define("kendo.mobile.popover.min", ["kendo.popup.min", "kendo.mobile.pane.min"], e) }(function () { return function (e, o) { var i = window.kendo, t = i.mobile, n = t.ui, p = "hide", r = "open", s = "close", a = '<div class="km-popup-wrapper" />', l = '<div class="km-popup-arrow" />', d = '<div class="km-popup-overlay" />', c = "km-up km-down km-left km-right", h = n.Widget, u = { down: { origin: "bottom center", position: "top center" }, up: { origin: "top center", position: "bottom center" }, left: { origin: "center left", position: "center right", collision: "fit flip" }, right: { origin: "center right", position: "center left", collision: "fit flip" } }, f = { animation: { open: { effects: "fade:in", duration: 0 }, close: { effects: "fade:out", duration: 400 } } }, w = { horizontal: { offset: "top", size: "height" }, vertical: { offset: "left", size: "width" } }, m = { up: "down", down: "up", left: "right", right: "left" }, v = h.extend({ init: function (o, t) { var n, r, s = this, c = o.closest(".km-modalview-wrapper"), m = o.closest(".km-root").children(".km-pane").first(), v = c[0] ? c : m; t.viewport ? m = t.viewport : m[0] || (m = window), t.container ? v = t.container : v[0] || (v = document.body), n = { viewport: m, copyAnchorStyles: !1, autosize: !0, open: function () { s.overlay.show() }, activate: e.proxy(s._activate, s), deactivate: function () { s.overlay.hide(), s._apiCall || s.trigger(p), s._apiCall = !1 } }, h.fn.init.call(s, o, t), o = s.element, t = s.options, o.wrap(a).addClass("km-popup").show(), r = s.options.direction.match(/left|right/) ? "horizontal" : "vertical", s.dimensions = w[r], s.wrapper = o.parent().css({ width: t.width, height: t.height }).addClass("km-popup-wrapper km-" + t.direction).hide(), s.arrow = e(l).prependTo(s.wrapper).hide(), s.overlay = e(d).appendTo(v).hide(), n.appendTo = s.overlay, t.className && s.overlay.addClass(t.className), s.popup = new i.ui.Popup(s.wrapper, e.extend(!0, n, f, u[t.direction])) }, options: { name: "Popup", width: 240, height: "", direction: "down", container: null, viewport: null }, events: [p], show: function (o) { this.popup.options.anchor = e(o), this.popup.open() }, hide: function () { this._apiCall = !0, this.popup.close() }, destroy: function () { h.fn.destroy.call(this), this.popup.destroy(), this.overlay.remove() }, target: function () { return this.popup.options.anchor }, _activate: function () { var o = this, i = o.options.direction, t = o.dimensions, n = t.offset, p = o.popup, r = p.options.anchor, s = e(r).offset(), a = e(p.element).offset(), l = p.flipped ? m[i] : i, d = 2 * o.arrow[t.size](), h = o.element[t.size]() - o.arrow[t.size](), u = e(r)[t.size](), f = s[n] - a[n] + u / 2; f < d && (f = d), f > h && (f = h), o.wrapper.removeClass(c).addClass("km-" + l), o.arrow.css(n, f).show() } }), g = h.extend({ init: function (o, t) { var p, r = this; r.initialOpen = !1, h.fn.init.call(r, o, t), p = e.extend({ className: "km-popover-root", hide: function () { r.trigger(s) } }, this.options.popup), r.popup = new v(r.element, p), r.popup.overlay.on("move", function (e) { e.target == r.popup.overlay[0] && e.preventDefault() }), r.pane = new n.Pane(r.element, e.extend(this.options.pane, { $angular: this.options.$angular })), i.notify(r, n) }, options: { name: "PopOver", popup: {}, pane: {} }, events: [r, s], open: function (e) { this.popup.show(e), this.initialOpen ? this.pane.view()._invokeNgController() : (this.pane.navigateToInitial() || this.pane.navigate(""), this.popup.popup._position(), this.initialOpen = !0) }, openFor: function (e) { this.open(e), this.trigger(r, { target: this.popup.target() }) }, close: function () { this.popup.hide() }, destroy: function () { h.fn.destroy.call(this), this.pane.destroy(), this.popup.destroy(), i.destroy(this.element) } }); n.plugin(v), n.plugin(g) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, o, i) { (i || o)() });; !function (e, define) { define("kendo.mobile.shim.min", ["kendo.popup.min"], e) }(function () { return function (e, n) { var i = window.kendo, o = i.mobile.ui, t = i.ui.Popup, s = '<div class="km-shim"/>', a = "hide", d = o.Widget, p = d.extend({ init: function (n, o) { var p = this, c = i.mobile.application, l = i.support.mobileOS, r = c ? c.os.name : l ? l.name : "ios", u = "ios" === r || "wp" === r || !!c && c.os.skin, h = "blackberry" === r, m = o.align || (u ? "bottom center" : h ? "center right" : "center center"), f = o.position || (u ? "bottom center" : h ? "center right" : "center center"), w = o.effect || (u ? "slideIn:up" : h ? "slideIn:left" : "fade:in"), g = e(s).handler(p).hide(); d.fn.init.call(p, n, o), p.shim = g, n = p.element, o = p.options, o.className && p.shim.addClass(o.className), o.modal || p.shim.on("down", "_hide"), (c ? c.element : e(document.body)).append(g), p.popup = new t(p.element, { anchor: g, modal: !0, appendTo: g, origin: m, position: f, animation: { open: { effects: w, duration: o.duration }, close: { duration: o.duration } }, close: function (e) { var n = !1; p._apiCall || (n = p.trigger(a)), n && e.preventDefault(), p._apiCall = !1 }, deactivate: function () { g.hide() }, open: function () { g.show() } }), i.notify(p) }, events: [a], options: { name: "Shim", modal: !1, align: n, position: n, effect: n, duration: 200 }, show: function () { this.popup.open() }, hide: function () { this._apiCall = !0, this.popup.close() }, destroy: function () { d.fn.destroy.call(this), this.shim.kendoDestroy(), this.popup.destroy(), this.shim.remove() }, _hide: function (n) { n && e.contains(this.shim.children().children(".k-popup")[0], n.target) || this.popup.close() } }); o.plugin(p) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, n, i) { (i || n)() });; !function (e, define) { define("kendo.mobile.actionsheet.min", ["kendo.mobile.popover.min", "kendo.mobile.shim.min"], e) }(function () { return function (e, t) { var n = window.kendo, i = n.support, o = n.mobile.ui, s = o.Shim, a = o.Popup, c = o.Widget, r = "open", l = "close", h = "command", p = "li>a", d = "actionsheetContext", u = '<div class="km-actionsheet-wrapper" />', m = n.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'), f = c.extend({ init: function (t, r) { var l, h, d, f = this, g = i.mobileOS; c.fn.init.call(f, t, r), r = f.options, d = r.type, t = f.element, h = "auto" === d ? g && g.tablet : "tablet" === d, l = h ? a : s, r.cancelTemplate && (m = n.template(r.cancelTemplate)), t.addClass("km-actionsheet").append(m({ cancel: f.options.cancel })).wrap(u).on("up", p, "_click").on("click", p, n.preventDefault), f.view().bind("destroy", function () { f.destroy() }), f.wrapper = t.parent().addClass(d ? " km-actionsheet-" + d : ""), f.shim = new l(f.wrapper, e.extend({ modal: g.ios && g.majorVersion < 7, className: "km-actionsheet-root" }, f.options.popup)), f._closeProxy = e.proxy(f, "_close"), f._shimHideProxy = e.proxy(f, "_shimHide"), f.shim.bind("hide", f._shimHideProxy), h && n.onResize(f._closeProxy), n.notify(f, o) }, events: [r, l, h], options: { name: "ActionSheet", cancel: "Cancel", type: "auto", popup: { height: "auto" } }, open: function (t, n) { var i = this; i.target = e(t), i.context = n, i.shim.show(t) }, close: function () { this.context = this.target = null, this.shim.hide() }, openFor: function (e) { var t = this, n = e.data(d); t.open(e, n), t.trigger(r, { target: e, context: n }) }, destroy: function () { c.fn.destroy.call(this), n.unbindResize(this._closeProxy), this.shim.destroy() }, _click: function (t) { var i, o, s, a; t.isDefaultPrevented() || (i = e(t.currentTarget), o = i.data("action"), o && (s = { target: this.target, context: this.context }, a = this.options.$angular, a ? this.element.injector().get("$parse")(o)(a[0])(s) : n.getter(o)(window)(s)), this.trigger(h, { target: this.target, context: this.context, currentTarget: i }), t.preventDefault(), this._close()) }, _shimHide: function (e) { this.trigger(l) ? e.preventDefault() : this.context = this.target = null }, _close: function (e) { this.trigger(l) ? e.preventDefault() : this.close() } }); o.plugin(f) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("ooxml/utils.min", ["kendo.core.min"], e) }(function () { !function () { kendo.ooxml = kendo.ooxml || {}, kendo.ooxml.createZip = function () { if ("undefined" == typeof JSZip) throw Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details."); return new JSZip } }() }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("ooxml/kendo-ooxml.min", ["kendo.core.min", "ooxml/utils.min"], e) }(function () { !function (e) { function t(e) { return R + e } function n(e, t) { return t.indexOf(e) } function o(e) { return (e + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\"/g, "&quot;").replace(/\'/g, "&#39;") } function r(e, t) { var n, o = ""; for (n = 0; n < e; ++n)o += t(n); return o } function i(e, t) { var n, o = ""; for (n = 0; n < e.length; ++n)o += t(e[n], n); return o } function l(e) { return "string" == typeof e ? "<f>" + o(e) + "</f>" : '<f t="array" ref="' + e.ref + '">' + o(e.src) + "</f>" } function s(e) { var t = Math.floor(e / 26) - 1; return (t >= 0 ? s(t) : "") + String.fromCharCode(65 + e % 26) } function a(e, t) { return s(t) + (e + 1) } function c(e, t) { return "$" + s(t) + "$" + (e + 1) } function d(e) { var t = e.frozenRows || (e.freezePane || {}).rowSplit || 1; return t - 1 } function f(e) { return (e / 7 * 100 + .5) / 100 } function m(e) { return .75 * e } function u(e) { return (e + "").replace(/[\x00-\x1F]/g, "").replace(/\n/g, "\r\n") } function p(e) { var t = e; return t.length < 6 && (t = t.replace(/(\w)/g, function (e, t) { return t + t })), t = t.substring(1).toUpperCase(), t.length < 8 && (t = "FF" + t), t } function h(e) { var t = "thin"; return 2 === e ? t = "medium" : 3 === e && (t = "thick"), t } function g(e, t) { var n = ""; return t && (n += "<" + e + ' style="' + h(t.size) + '">', t.color && (n += '<color rgb="' + p(t.color) + '"/>'), n += "</" + e + ">"), n } function x(e) { return "<border>" + g("left", e.left) + g("right", e.right) + g("top", e.top) + g("bottom", e.bottom) + "</border>" } function y(e, t) { var n, o, r, i = [], l = []; for (v(e, function (e, t) { var n = { _source: e, index: t, height: e.height, cells: [] }; i.push(n), l[t] = n }), n = w(i).slice(0), o = { rowData: i, rowsByIndex: l, mergedCells: t }, r = 0; r < n.length; r++)T(n[r], o), delete n[r]._source; return w(i) } function v(e, t) { var n, o, r; for (n = 0; n < e.length; n++)o = e[n], o && (r = o.index, "number" != typeof r && (r = n), t(o, r)) } function w(e) { return e.sort(function (e, t) { return e.index - t.index }) } function b(e, t) { e.indexOf(t) < 0 && e.push(t) } function k(e, t) { var n, o, r, i, l; for (n = 0; n < e.length; ++n)if (o = e[n], r = o.split(":"), i = r[0], i === t) return l = r[1], i = S(i), l = S(l), { rowSpan: l.row - i.row + 1, colSpan: l.col - i.col + 1 } } function S(e) { function t(e) { var t, n = e.toUpperCase(), o = 0; for (t = 0; t < n.length; ++t)o = 26 * o + n.charCodeAt(t) - 64; return o - 1 } function n(e) { return parseInt(e, 10) - 1 } var o = /^([a-z]+)(\d+)$/i.exec(e); return { row: n(o[2]), col: t(o[1]) } } function T(e, t) { var n, o, r, i, l, s, c, d, f, m = e._source, u = e.index, p = m.cells, h = e.cells; if (p) for (n = 0; n < p.length; n++)if (o = p[n] || oe, r = o.rowSpan || 1, i = o.colSpan || 1, l = I(h, o), s = a(u, l), 1 === r && 1 === i && (c = k(t.mergedCells, s), c && (i = c.colSpan, r = c.rowSpan)), D(o, h, l, i), (r > 1 || i > 1) && b(t.mergedCells, s + ":" + a(u + r - 1, l + i - 1)), r > 1) for (d = u + 1; d < u + r; d++)f = t.rowsByIndex[d], f || (f = t.rowsByIndex[d] = { index: d, cells: [] }, t.rowData.push(f)), D(o, f.cells, l - 1, i + 1) } function I(e, t) { var n; return "number" == typeof t.index ? (n = t.index, C(e, t, t.index)) : n = _(e, t), n } function C(e, t, n) { e[n] = t } function _(e, t) { var n, o = e.length; for (n = 0; n < e.length + 1; n++)if (!e[n]) { e[n] = t, o = n; break } return o } function D(e, t, n, o) { var r, i; for (r = 1; r < o; r++)i = { borderTop: e.borderTop, borderRight: e.borderRight, borderBottom: e.borderBottom, borderLeft: e.borderLeft }, C(t, i, n + r) } function F(e) { return re({ ref: e.ref, columns: e.columns, generators: { custom: ie, dynamic: le, top: se, value: ae } }) } var M, A, P, L, O, R, N, q, E, z, V, B, W, U, j, J, H, X, Z, $, Q, G, K, Y, ee, te, ne, oe, re, ie, le, se, ae; window.kendo.ooxml = window.kendo.ooxml || {}, M = kendo.ooxml, A = e.map, P = M.createZip, L = { toString: function (e) { return e } }, O = kendo.Class.extend({}), O.register = function (e) { L = e }, O.toString = function (e, t) { return L.toString(e, t) }, R = "data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,", N = { compression: "DEFLATE", type: "base64" }, q = 6e4, E = 864e5, z = JSON.parse.bind(JSON), V = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r', B = V + '\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>', W = function (e) { var t = e.creator, n = e.lastModifiedBy, r = e.created, i = e.modified; return V + '\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>' + o(t) + "</dc:creator>\n   <cp:lastModifiedBy>" + o(n) + '</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">' + o(r) + '</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">' + o(i) + "</dcterms:modified>\n</cp:coreProperties>" }, U = function (e) { var t = e.sheets; return V + '\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>' + t.length + '</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="' + t.length + '" baseType="lpstr">' + i(t, function (e, t) { return e.options.title ? "<vt:lpstr>" + o(e.options.title) + "</vt:lpstr>" : "<vt:lpstr>Sheet" + (t + 1) + "</vt:lpstr>" }) + "</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>" }, j = function (e) { var t = e.count; return V + '\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ' + r(t, function (e) { return '<Override PartName="/xl/worksheets/sheet' + (e + 1) + '.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />' }) + '\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>' }, J = function (e) { var t = e.sheets, n = e.filterNames, r = e.userNames; return V + '\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ' + i(t, function (e, t) { var n = e.options, r = n.name || n.title || "Sheet" + (t + 1); return '<sheet name="' + o(r) + '" sheetId="' + (t + 1) + '" r:id="rId' + (t + 1) + '" />' }) + "\n  </sheets>\n  " + (n.length || r.length ? "\n    <definedNames>\n      " + i(n, function (e) { return '\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="' + e.localSheetId + '">' + o(e.name) + "!" + o(e.from) + ":" + o(e.to) + "</definedName>" }) + "\n      " + i(r, function (e) { return '\n         <definedName name="' + e.name + '" hidden="' + (e.hidden ? 1 : 0) + '" ' + (null != e.localSheetId ? 'localSheetId="' + e.localSheetId + '"' : "") + ">" + o(e.value) + "</definedName>" }) + "\n    </definedNames>" : "") + '\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>' }, H = function (e) { var t = e.frozenColumns, n = e.frozenRows, r = e.columns, s = e.defaults, a = e.data, c = e.index, d = e.mergeCells, u = e.autoFilter, p = e.filter, h = e.showGridLines, g = e.hyperlinks, x = e.validations, y = e.defaultCellStyleId, v = e.rtl; return V + '\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   <dimension ref="A1" />\n\n   <sheetViews>\n     <sheetView ' + (v ? 'rightToLeft="1"' : "") + " " + (0 === c ? 'tabSelected="1"' : "") + ' workbookViewId="0" ' + (h === !1 ? 'showGridLines="0"' : "") + ">\n     " + (n || t ? '\n       <pane state="frozen"\n         ' + (t ? 'xSplit="' + t + '"' : "") + "\n         " + (n ? 'ySplit="' + n + '"' : "") + '\n         topLeftCell="' + (String.fromCharCode(65 + (t || 0)) + ((n || 0) + 1)) + '"\n       />' : "") + '\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" defaultRowHeight="' + (s.rowHeight ? .75 * s.rowHeight : 15) + '"\n     ' + (s.columnWidth ? 'defaultColWidth="' + f(s.columnWidth) + '"' : "") + " />\n\n   " + (null != y || r && r.length > 0 ? "\n     <cols>\n       " + (r && r.length ? "" : '\n         <col min="1" max="16384" style="' + y + '"\n              ' + (s.columnWidth ? 'width="' + f(s.columnWidth) + '"' : "") + " /> ") + "\n       " + i(r, function (e, t) { var n = "number" == typeof e.index ? e.index + 1 : t + 1; return 0 === e.width ? "<col " + (null != y ? 'style="' + y + '"' : "") + '\n                        min="' + n + '" max="' + n + '" hidden="1" customWidth="1" />' : "<col " + (null != y ? 'style="' + y + '"' : "") + '\n                      min="' + n + '" max="' + n + '" customWidth="1"\n                      ' + (e.autoWidth ? 'width="' + (7 * e.width + 5) / 7 * 256 / 256 + '" bestFit="1"' : 'width="' + f(e.width) + '"') + " />" }) + "\n     </cols>" : "") + "\n\n   <sheetData>\n     " + i(a, function (e, t) { var n = "number" == typeof e.index ? e.index + 1 : t + 1; return '\n         <row r="' + n + '" x14ac:dyDescent="0.25"\n              ' + (0 === e.height ? 'hidden="1"' : e.height ? 'ht="' + m(e.height) + '" customHeight="1"' : "") + ">\n           " + i(e.data, function (e) { return '\n             <c r="' + e.ref + '" ' + (e.style ? 's="' + e.style + '"' : "") + " " + (e.type ? 't="' + e.type + '"' : "") + ">\n               " + (null != e.formula ? l(e.formula) : "") + "\n               " + (null != e.value ? "<v>" + o(e.value) + "</v>" : "") + "\n             </c>" }) + "\n         </row>\n       " }) + "\n   </sheetData>\n\n   " + (u ? '<autoFilter ref="' + u.from + ":" + u.to + '"/>' : p ? F(p) : "") + "\n\n   " + (d.length ? '\n     <mergeCells count="' + d.length + '">\n       ' + i(d, function (e) { return '<mergeCell ref="' + e + '"/>' }) + "\n     </mergeCells>" : "") + "\n\n   " + (x.length ? "\n     <dataValidations>\n       " + i(x, function (e) { return '\n         <dataValidation sqref="' + e.sqref.join(" ") + '"\n                         showErrorMessage="' + e.showErrorMessage + '"\n                         type="' + o(e.type) + '"\n                         ' + ("list" !== e.type ? 'operator="' + o(e.operator) + '"' : "") + '\n                         allowBlank="' + e.allowBlank + '"\n                         showDropDown="' + e.showDropDown + '"\n                         ' + (e.error ? 'error="' + o(e.error) + '"' : "") + "\n                         " + (e.errorTitle ? 'errorTitle="' + o(e.errorTitle) + '"' : "") + ">\n           " + (e.formula1 ? "<formula1>" + o(e.formula1) + "</formula1>" : "") + "\n           " + (e.formula2 ? "<formula2>" + o(e.formula2) + "</formula2>" : "") + "\n         </dataValidation>" }) + "\n     </dataValidations>" : "") + "\n\n   " + (g.length ? "\n     <hyperlinks>\n       " + i(g, function (e, t) { return '\n         <hyperlink ref="' + e.ref + '" r:id="rId' + t + '"/>' }) + "\n     </hyperlinks>" : "") + '\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n</worksheet>' }, X = function (e) { var t = e.count; return V + '\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ' + r(t, function (e) { return '\n    <Relationship Id="rId' + (e + 1) + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet' + (e + 1) + '.xml" />' }) + '\n  <Relationship Id="rId' + (t + 1) + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId' + (t + 2) + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>' }, Z = function (e) { var t = e.hyperlinks; return V + '\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ' + i(t, function (e, t) { return '\n    <Relationship Id="rId' + t + '" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="' + o(e.target) + '" TargetMode="External" />' }) + "\n</Relationships>" }, $ = function (e) { var t = e.count, n = e.uniqueCount, r = e.indexes; return V + '\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="' + t + '" uniqueCount="' + n + '">\n  ' + i(Object.keys(r), function (e) { return '\n    <si><t xml:space="preserve">' + o(e.substring(1)) + "</t></si>" }) + "\n</sst>" }, Q = function (e) { var t = e.formats, n = e.fonts, r = e.fills, l = e.borders, s = e.styles; return V + '\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="' + t.length + '">\n  ' + i(t, function (e, t) { return '\n    <numFmt formatCode="' + o(e.format) + '" numFmtId="' + (165 + t) + '" />' }) + '\n  </numFmts>\n  <fonts count="' + (n.length + 1) + '" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ' + i(n, function (e) { return '\n    <font>\n      <sz val="' + (e.fontSize || 11) + '" />\n      ' + (e.bold ? "<b/>" : "") + "\n      " + (e.italic ? "<i/>" : "") + "\n      " + (e.underline ? "<u/>" : "") + "\n      " + (e.color ? '<color rgb="' + o(e.color) + '" />' : '<color theme="1" />') + "\n      " + (e.fontFamily ? '\n        <name val="' + o(e.fontFamily) + '" />\n        <family val="2" />\n      ' : '\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ') + "\n    </font>" }) + '\n  </fonts>\n  <fills count="' + (r.length + 2) + '">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ' + i(r, function (e) { return "\n      " + (e.background ? '\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="' + o(e.background) + '"/>\n          </patternFill>\n        </fill>\n      ' : "") }) + '\n  </fills>\n  <borders count="' + (l.length + 1) + '">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ' + i(l, x) + '\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="' + (s.length + 1) + '">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ' + i(s, function (e) { return '\n      <xf xfId="0"\n          ' + (e.fontId ? 'fontId="' + e.fontId + '" applyFont="1"' : "") + "\n          " + (e.fillId ? 'fillId="' + e.fillId + '" applyFill="1"' : "") + "\n          " + (e.numFmtId ? 'numFmtId="' + e.numFmtId + '" applyNumberFormat="1"' : "") + "\n          " + (e.textAlign || e.verticalAlign || e.wrap ? 'applyAlignment="1"' : "") + "\n          " + (e.borderId ? 'borderId="' + e.borderId + '" applyBorder="1"' : "") + ">\n        " + (e.textAlign || e.verticalAlign || e.wrap ? "\n        <alignment\n          " + (e.textAlign ? 'horizontal="' + o(e.textAlign) + '"' : "") + "\n          " + (e.verticalAlign ? 'vertical="' + o(e.verticalAlign) + '"' : "") + "\n          " + (e.wrap ? 'wrapText="1"' : "") + " />\n        " : "") + "\n      </xf>\n    " }) + '\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>' }, G = new Date(1900, 0, 0), K = kendo.Class.extend({ init: function (e, t, n, o) { this.options = e, this._strings = t, this._styles = n, this._borders = o, this._validations = {} }, relsToXML: function () { var e = this.options.hyperlinks || []; return e.length ? Z({ hyperlinks: e }) : "" }, toXML: function (e) { var t, n, o, r, i, l, s, c = this, f = this.options.mergedCells || [], m = this.options.rows || [], u = y(m, f); this._readCells(u), t = this.options.filter, t && "number" == typeof t.from && "number" == typeof t.to ? t = { from: a(d(this.options), t.from), to: a(d(this.options), t.to) } : t && t.ref && t.columns && (n = t, t = null), o = []; for (r in this._validations) Object.prototype.hasOwnProperty.call(c._validations, r) && o.push(c._validations[r]); return i = null, this.options.defaultCellStyle && (i = this._lookupStyle(this.options.defaultCellStyle)), l = this.options.freezePane || {}, s = this.options.defaults || {}, H({ frozenColumns: this.options.frozenColumns || l.colSplit, frozenRows: this.options.frozenRows || l.rowSplit, columns: this.options.columns, defaults: s, data: u, index: e, mergeCells: f, autoFilter: t, filter: n, showGridLines: this.options.showGridLines, hyperlinks: this.options.hyperlinks || [], validations: o, defaultCellStyleId: i, rtl: void 0 !== this.options.rtl ? this.options.rtl : s.rtl }) }, _lookupString: function (e) { var t, n = "$" + e, o = this._strings.indexes[n]; return void 0 !== o ? t = o : (t = this._strings.indexes[n] = this._strings.uniqueCount, this._strings.uniqueCount++), this._strings.count++ , t }, _lookupStyle: function (e) { var t, o = JSON.stringify(e); return "{}" === o ? 0 : (t = n(o, this._styles), t < 0 && (t = this._styles.push(o) - 1), t + 1) }, _lookupBorder: function (e) { var t, o = JSON.stringify(e); if ("{}" !== o) return t = n(o, this._borders), t < 0 && (t = this._borders.push(o) - 1), t + 1 }, _readCells: function (e) { var t, n, o, r, i, l = this; for (t = 0; t < e.length; t++)for (n = e[t], o = n.cells, n.data = [], r = 0; r < o.length; r++)i = l._cell(o[r], n.index, r), i && n.data.push(i) }, _cell: function (e, t, n) { var o, r, i, l, s, c, d, f, m, p; return e && e !== oe ? (o = e.value, r = {}, e.borderLeft && (r.left = e.borderLeft), e.borderRight && (r.right = e.borderRight), e.borderTop && (r.top = e.borderTop), e.borderBottom && (r.bottom = e.borderBottom), r = this._lookupBorder(r), i = this.options.defaultCellStyle || {}, l = { borderId: r }, function (e) { e("color"), e("background"), e("bold"), e("italic"), e("underline"), e("fontFamily") || e("fontName", "fontFamily"), e("fontSize"), e("format"), e("textAlign") || e("hAlign", "textAlign"), e("verticalAlign") || e("vAlign", "verticalAlign"), e("wrap") }(function (t, n) { var o = e[t]; if (void 0 === o && (o = i[t]), void 0 !== o) return l[n || t] = o, !0 }), s = this.options.columns || [], c = s[n], d = typeof o, c && c.autoWidth && (f = o, "number" === d && (f = O.toString(o, e.format)), c.width = Math.max(c.width || 0, (f + "").length)), "string" === d ? (o = u(o), o = this._lookupString(o), d = "s") : "number" === d ? d = "n" : "boolean" === d ? (d = "b", o = +o) : o && o.getTime ? (d = null, m = (o.getTimezoneOffset() - G.getTimezoneOffset()) * q, o = (o - G - m) / E + 1, l.format || (l.format = "mm-dd-yy")) : (d = null, o = null), l = this._lookupStyle(l), p = a(t, n), e.validation && this._addValidation(e.validation, p), { value: o, formula: e.formula, type: d, style: l, ref: p }) : null }, _addValidation: function (e, t) { var n = { showErrorMessage: "reject" === e.type ? 1 : 0, formula1: e.from, formula2: e.to, type: ee[e.dataType] || e.dataType, operator: Y[e.comparerType] || e.comparerType, allowBlank: e.allowNulls ? 1 : 0, showDropDown: e.showButton ? 0 : 1, error: e.messageTemplate, errorTitle: e.titleTemplate }, o = JSON.stringify(n); this._validations[o] || (this._validations[o] = n, n.sqref = []), this._validations[o].sqref.push(t) } }), Y = { greaterThanOrEqualTo: "greaterThanOrEqual", lessThanOrEqualTo: "lessThanOrEqual" }, ee = { number: "decimal" }, te = { General: 0, 0: 1, "0.00": 2, "#,##0": 3, "#,##0.00": 4, "0%": 9, "0.00%": 10, "0.00E+00": 11, "# ?/?": 12, "# ??/??": 13, "mm-dd-yy": 14, "d-mmm-yy": 15, "d-mmm": 16, "mmm-yy": 17, "h:mm AM/PM": 18, "h:mm:ss AM/PM": 19, "h:mm": 20, "h:mm:ss": 21, "m/d/yy h:mm": 22, "#,##0 ;(#,##0)": 37, "#,##0 ;[Red](#,##0)": 38, "#,##0.00;(#,##0.00)": 39, "#,##0.00;[Red](#,##0.00)": 40, "mm:ss": 45, "[h]:mm:ss": 46, "mmss.0": 47, "##0.0E+0": 48, "@": 49, "[$-404]e/m/d": 27, "m/d/yy": 30, t0: 59, "t0.00": 60, "t#,##0": 61, "t#,##0.00": 62, "t0%": 67, "t0.00%": 68, "t# ?/?": 69, "t# ??/??": 70 }, ne = kendo.Class.extend({ init: function (e) { var t = this; this.options = e || {}, this._strings = { indexes: {}, count: 0, uniqueCount: 0 }, this._styles = [], this._borders = [], this._sheets = A(this.options.sheets || [], function (e) { return e.defaults = t.options, new K(e, t._strings, t._styles, t._borders) }) }, toZIP: function () { var e, t, o, r, i, l, s, a, f, m, u, h, g, x, y, v, w, b = this, k = P(), T = k.folder("docProps"); for (T.file("core.xml", W({ creator: this.options.creator || "Kendo UI", lastModifiedBy: this.options.creator || "Kendo UI", created: this.options.date || (new Date).toJSON(), modified: this.options.date || (new Date).toJSON() })), e = this._sheets.length, T.file("app.xml", U({ sheets: this._sheets })), t = k.folder("_rels"), t.file(".rels", B), o = k.folder("xl"), r = o.folder("_rels"), r.file("workbook.xml.rels", X({ count: e })), i = {}, o.file("workbook.xml", J({ sheets: this._sheets, filterNames: A(this._sheets, function (e, t) { var n, o, r, l, s = e.options, a = s.name || s.title || "Sheet" + (t + 1); if (i[a.toLowerCase()] = t, n = s.filter) { if (n.ref) return o = n.ref.split(":"), r = S(o[0]), l = S(o[1]), { localSheetId: t, name: a, from: c(r.row, r.col), to: c(l.row, l.col) }; if (void 0 !== n.from && void 0 !== n.to) return { localSheetId: t, name: a, from: c(d(s), n.from), to: c(d(s), n.to) } } }), userNames: A(this.options.names || [], function (e) { return { name: e.localName, localSheetId: e.sheet ? i[e.sheet.toLowerCase()] : null, value: e.value, hidden: e.hidden } }) })), l = o.folder("worksheets"), s = l.folder("_rels"), a = 0; a < e; a++)f = b._sheets[a], m = "sheet" + (a + 1) + ".xml", u = f.relsToXML(), u && s.file(m + ".rels", u), l.file(m, f.toXML(a)); return h = A(this._borders, z), g = A(this._styles, z), x = function (e) { return e.underline || e.bold || e.italic || e.color || e.fontFamily || e.fontSize }, y = A(g, function (e) { if (e.color && (e.color = p(e.color)), x(e)) return e }), v = A(g, function (e) { if (e.format && void 0 === te[e.format]) return e }), w = A(g, function (e) { if (e.background) return e.background = p(e.background), e }), o.file("styles.xml", Q({ fonts: y, fills: w, formats: v, borders: h, styles: A(g, function (e) { var t = {}; return x(e) && (t.fontId = n(e, y) + 1), e.background && (t.fillId = n(e, w) + 2), t.textAlign = e.textAlign, t.verticalAlign = e.verticalAlign, t.wrap = e.wrap, t.borderId = e.borderId, e.format && (t.numFmtId = void 0 !== te[e.format] ? te[e.format] : 165 + n(e, v)), t }) })), o.file("sharedStrings.xml", $(this._strings)), k.file("[Content_Types].xml", j({ count: e })), k }, toDataURL: function () { var e = this.toZIP(); return e.generateAsync ? e.generateAsync(N).then(t) : t(e.generate(N)) } }), oe = {}, re = function (e) { var t = e.ref, n = e.columns, o = e.generators; return '\n<autoFilter ref="' + t + '">\n  ' + i(n, function (e) { return '\n    <filterColumn colId="' + e.index + '">\n      ' + o[e.filter](e) + "\n    </filterColumn>\n  " }) + "\n</autoFilter>" }, ie = function (e) { var t = e.logic, n = e.criteria; return "\n<customFilters " + ("and" === t ? 'and="1"' : "") + ">\n" + i(n, function (e) { var t = F.customOperator(e), n = F.customValue(e); return "<customFilter " + (t ? 'operator="' + t + '"' : "") + ' val="' + n + '"/>' }) + "\n</customFilters>" }, le = function (e) { var t = e.type; return '<dynamicFilter type="' + F.dynamicFilterType(t) + '" />' }, se = function (e) { var t = e.type, n = e.value; return '<top10 percent="' + (/percent$/i.test(t) ? 1 : 0) + '"\n       top="' + (/^top/i.test(t) ? 1 : 0) + '"\n       val="' + n + '" />' }, ae = function (e) { var t = e.blanks, n = e.values; return "<filters " + (t ? 'blank="1"' : "") + ">\n    " + i(n, function (e) { return '\n      <filter val="' + e + '" />' }) + "\n  </filters>" }, F.customOperator = function (e) { return { eq: "equal", gt: "greaterThan", gte: "greaterThanOrEqual", lt: "lessThan", lte: "lessThanOrEqual", ne: "notEqual", doesnotstartwith: "notEqual", doesnotendwith: "notEqual", doesnotcontain: "notEqual", doesnotmatch: "notEqual" }[e.operator.toLowerCase()] }, F.customValue = function (e) { function t(e) { return e.replace(/([*?])/g, "~$1") } switch (e.operator.toLowerCase()) { case "startswith": case "doesnotstartwith": return t(e.value) + "*"; case "endswith": case "doesnotendwith": return "*" + t(e.value); case "contains": case "doesnotcontain": return "*" + t(e.value) + "*"; default: return e.value } }, F.dynamicFilterType = function (e) { return { quarter1: "Q1", quarter2: "Q2", quarter3: "Q3", quarter4: "Q4", january: "M1", february: "M2", march: "M3", april: "M4", may: "M5", june: "M6", july: "M7", august: "M8", september: "M9", october: "M10", november: "M11", december: "M12" }[e.toLowerCase()] || e }, kendo.deepExtend(kendo.ooxml, { IntlService: O, Workbook: ne, Worksheet: K }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("ooxml/main.min", ["kendo.core.min", "ooxml/kendo-ooxml.min"], e) }(function () { !function (e) { var t = kendo.ooxml.Workbook; kendo.ooxml.IntlService.register({ toString: kendo.toString }), kendo.ooxml.Workbook = t.extend({ toDataURL: function () { var e = t.fn.toDataURL.call(this); if ("string" != typeof e) throw Error("The toDataURL method can be used only with jsZip 2. Either include jsZip 2 or use the toDataURLAsync method."); return e }, toDataURLAsync: function () { var n = e.Deferred(), o = t.fn.toDataURL.call(this); return "string" == typeof o ? o = n.resolve(o) : o && o.then && o.then(function (e) { n.resolve(e) }, function () { n.reject() }), n.promise() } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("kendo.ooxml.min", ["ooxml/main.min"], e) }(function () { }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("excel/kendo-excel.min", ["kendo.core.min"], e) }(function () { !function (e) { function t(e) { return e.title + ": " + e.value } function o(e, t) { var o, n = []; for (o = 0; o < e; o++)n.push(t(o)); return n } var n, r, i, l, a; window.kendo.excel = window.kendo.excel || {}, n = kendo.getter, r = e.map, i = { compile: function (e) { return e } }, l = kendo.Class.extend({}), l.register = function (e) { i = e }, l.compile = function (e) { return i.compile(e) }, a = kendo.Class.extend({ init: function (e) { e.columns = this._trimColumns(e.columns || []), this.allColumns = r(this._leafColumns(e.columns || []), this._prepareColumn), this.columns = this.allColumns.filter(function (e) { return !e.hidden }), this.options = e, this.data = e.data || [], this.aggregates = e.aggregates || {}, this.groups = [].concat(e.groups || []), this.hierarchy = e.hierarchy }, workbook: function () { var e = { sheets: [{ columns: this._columns(), rows: this.hierarchy ? this._hierarchyRows() : this._rows(), freezePane: this._freezePane(), filter: this._filter() }] }; return e }, _trimColumns: function (e) { var t = this; return e.filter(function (e) { var o = !!e.field; return !o && e.columns && (o = t._trimColumns(e.columns).length > 0), o }) }, _leafColumns: function (e) { var t, o = this, n = []; for (t = 0; t < e.length; t++)e[t].columns ? n = n.concat(o._leafColumns(e[t].columns)) : n.push(e[t]); return n }, _prepareColumn: function (o) { var r, i; return o.field ? (r = function (e) { return n(o.field, !0)(e) }, i = null, o.values && (i = {}, o.values.forEach(function (e) { i[e.value] = e.text }), r = function (e) { return i[n(o.field, !0)(e)] }), e.extend({}, o, { value: r, values: i, groupHeaderTemplate: o.groupHeaderTemplate ? l.compile(o.groupHeaderTemplate) : t, groupFooterTemplate: o.groupFooterTemplate ? l.compile(o.groupFooterTemplate) : null, footerTemplate: o.footerTemplate ? l.compile(o.footerTemplate) : null })) : null }, _filter: function () { if (!this.options.filterable) return null; var e = this._depth(); return { from: e, to: e + this.columns.length - 1 } }, _createPaddingCells: function (t) { var n = this; return o(t, function () { return e.extend({ background: "#dfdfdf", color: "#333" }, n.options.paddingCellOptions) }) }, _dataRow: function (t, o, n) { var r, i, l, a, s, u, c, h, d = this, f = this._createPaddingCells(o); if (n && t.items) return r = this.allColumns.filter(function (e) { return e.field === t.field })[0], i = r && r.title ? r.title : t.field, l = r ? r.groupHeaderTemplate : null, a = e.extend({ title: i, field: t.field, value: r && r.values ? r.values[t.value] : t.value, aggregates: t.aggregates, items: t.items }, t.aggregates[t.field]), s = i + ": " + t.value, l && (s = l(a)), f.push(e.extend({ value: s, background: "#dfdfdf", color: "#333", colSpan: this.columns.length + n - o }, (r || {}).groupHeaderCellOptions)), u = this._dataRows(t.items, o + 1), u.unshift({ type: "group-header", cells: f }), u.concat(this._footer(t)); for (c = [], h = 0; h < this.columns.length; h++)c[h] = d._cell(t, d.columns[h]); return this.hierarchy && (c[0].colSpan = n - o + 1), [{ type: "data", cells: f.concat(c) }] }, _dataRows: function (e, t) { var o, n = this, r = this._depth(), i = []; for (o = 0; o < e.length; o++)i.push.apply(i, n._dataRow(e[o], t, r)); return i }, _hierarchyRows: function () { var e, t, o, n, r, i = this, l = this._depth(), a = this.data, s = this.hierarchy.itemLevel, u = this._hasFooterTemplate(), c = [], h = [], d = 0; for (t = 0; t < a.length; t++)o = a[t], n = s(o), u && (n > d ? h.push({ id: e, level: d }) : n < d && c.push.apply(c, i._hierarchyFooterRows(h, n, l)), d = n, e = o.id), c.push.apply(c, i._dataRow(o, n + 1, l)); return u && (c.push.apply(c, this._hierarchyFooterRows(h, 0, l)), r = a.length ? this.aggregates[a[0].parentId] : {}, c.push(this._hierarchyFooter(r, 0, l))), this._prependHeaderRows(c), c }, _hierarchyFooterRows: function (e, t, o) { for (var n, r = this, i = []; e.length && e[e.length - 1].level >= t;)n = e.pop(), i.push(r._hierarchyFooter(r.aggregates[n.id], n.level + 1, o)); return i }, _hasFooterTemplate: function () { var e, t = this.columns; for (e = 0; e < t.length; e++)if (t[e].footerTemplate) return !0 }, _hierarchyFooter: function (t, o, n) { var r = this.columns.map(function (r, i) { var l = i ? 1 : n - o + 1; return r.footerTemplate ? e.extend({ background: "#dfdfdf", color: "#333", colSpan: l, value: r.footerTemplate(e.extend({}, (t || {})[r.field])) }, r.footerCellOptions) : e.extend({ background: "#dfdfdf", color: "#333", colSpan: l }, r.footerCellOptions) }); return { type: "footer", cells: this._createPaddingCells(o).concat(r) } }, _footer: function (t) { var o = this, n = [], r = !1, i = this.columns.map(function (n) { if (n.groupFooterTemplate) { var i = e.extend({}, o.aggregates, t.aggregates, t.aggregates[n.field], { group: { items: t.items, field: t.field, value: t.value } }); return i[t.field] = i, r = !0, e.extend({ background: "#dfdfdf", color: "#333", value: n.groupFooterTemplate(i) }, n.groupFooterCellOptions) } return e.extend({ background: "#dfdfdf", color: "#333" }, n.groupFooterCellOptions) }); return r && n.push({ type: "group-footer", cells: this._createPaddingCells(this.groups.length).concat(i) }), n }, _isColumnVisible: function (e) { return this._visibleColumns([e]).length > 0 && (e.field || e.columns) }, _visibleColumns: function (e) { var t = this; return e.filter(function (e) { var o = !e.hidden; return o && e.columns && (o = t._visibleColumns(e.columns).length > 0), o }) }, _headerRow: function (t, n) { var r = this, i = t.cells.map(function (o) { return e.extend(o, { colSpan: o.colSpan > 1 ? o.colSpan : 1, rowSpan: t.rowSpan > 1 && !o.colSpan ? t.rowSpan : 1 }) }); return this.hierarchy && (i[0].colSpan = this._depth() + 1), { type: "header", cells: o(n.length, function () { return e.extend({ background: "#7a7a7a", color: "#fff" }, r.options.headerPaddingCellOptions) }).concat(i) } }, _prependHeaderRows: function (e) { var t, o = this, n = this.groups, r = [{ rowSpan: 1, cells: [], index: 0 }]; for (this._prepareHeaderRows(r, this.options.columns), t = r.length - 1; t >= 0; t--)e.unshift(o._headerRow(r[t], n)) }, _prepareHeaderRows: function (t, o, n, r) { var i, l, a, s = this, u = r || t[t.length - 1], c = t[u.index + 1], h = 0; for (i = 0; i < o.length; i++)l = o[i], s._isColumnVisible(l) && (a = e.extend({ background: "#7a7a7a", color: "#fff", value: l.title || l.field, colSpan: 0 }, l.headerCellOptions), u.cells.push(a), l.columns && l.columns.length && (c || (c = { rowSpan: 0, cells: [], index: t.length }, t.push(c)), a.colSpan = s._trimColumns(s._visibleColumns(l.columns)).length, s._prepareHeaderRows(t, l.columns, a, c), h += a.colSpan - 1, u.rowSpan = t.length - u.index)); n && (n.colSpan += h) }, _rows: function () { var t, o, n = this, r = this._dataRows(this.data, 0); return this.columns.length && (this._prependHeaderRows(r), t = !1, o = this.columns.map(function (o) { return o.footerTemplate ? (t = !0, e.extend({ background: "#dfdfdf", color: "#333", value: o.footerTemplate(e.extend({}, n.aggregates, n.aggregates[o.field])) }, o.footerCellOptions)) : e.extend({ background: "#dfdfdf", color: "#333" }, o.footerCellOptions) }), t && r.push({ type: "footer", cells: this._createPaddingCells(this.groups.length).concat(o) })), r }, _headerDepth: function (e) { var t, o, n = this, r = 1, i = 0; for (t = 0; t < e.length; t++)e[t].columns && (o = n._headerDepth(e[t].columns), o > i && (i = o)); return r + i }, _freezePane: function () { var e = this._visibleColumns(this.options.columns || []), t = this._visibleColumns(this._trimColumns(this._leafColumns(e.filter(function (e) { return e.locked })))).length; return { rowSplit: this._headerDepth(e), colSplit: t ? t + this.groups.length : 0 } }, _cell: function (t, o) { return e.extend({ value: o.value(t) }, o.cellOptions) }, _depth: function () { var e = 0; return e = this.hierarchy ? this.hierarchy.depth : this.groups.length }, _columns: function () { var e = this._depth(), t = o(e, function () { return { width: 20 } }); return t.concat(this.columns.map(function (e) { return { width: parseInt(e.width, 10), autoWidth: !e.width } })) } }), kendo.deepExtend(kendo.excel, { ExcelExporter: a, TemplateService: l }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, o) { (o || t)() }), function (e, define) { define("excel/main.min", ["kendo.core.min", "kendo.data.min", "excel/kendo-excel.min"], e) }(function () { return function (e, t) { var o = t.excel.ExcelExporter, n = e.extend; t.excel.TemplateService.register({ compile: t.template }), t.ExcelExporter = t.Class.extend({ init: function (e) { var o, r, i; this.options = e, o = e.dataSource, o instanceof t.data.DataSource ? (o.filter() || (o.options.filter = void 0), this.dataSource = new o.constructor(n({}, o.options, { page: e.allPages ? 0 : o.page(), filter: o.filter(), pageSize: e.allPages ? o.total() : o.pageSize(), sort: o.sort(), group: o.group(), aggregate: o.aggregate() })), r = o.data(), r.length > 0 && (this.dataSource._data = r, i = this.dataSource.transport, o._isServerGrouped() && i.options && i.options.data && (i.options.data = null))) : this.dataSource = t.data.DataSource.create(o) }, _hierarchy: function () { var e, t, o, n, r = this.options.hierarchy, i = this.dataSource; if (r && i.level) { for (r = { itemLevel: function (e) { return i.level(e) } }, e = i.view(), t = 0, n = 0; n < e.length; n++)o = i.level(e[n]), o > t && (t = o); r.depth = t + 1 } else r = !1; return { hierarchy: r } }, workbook: function () { return e.Deferred(e.proxy(function (t) { this.dataSource.fetch().then(e.proxy(function () { var e = new o(n({}, this.options, this._hierarchy(), { data: this.dataSource.view(), groups: this.dataSource.group(), aggregates: this.dataSource.aggregates() })).workbook(); t.resolve(e, this.dataSource.view()) }, this)) }, this)).promise() } }) }(kendo.jQuery, kendo), kendo }, "function" == typeof define && define.amd ? define : function (e, t, o) { (o || t)() }), function (e, define) { define("excel/mixins.min", ["excel/main.min", "kendo.ooxml.min"], e) }(function () { return function (e, t) { t.ExcelMixin = { extend: function (t) { t.events.push("excelExport"), t.options.excel = e.extend(t.options.excel, this.options), t.saveAsExcel = this.saveAsExcel }, options: { proxyURL: "", allPages: !1, filterable: !1, fileName: "Export.xlsx" }, saveAsExcel: function () { var o = this.options.excel || {}, n = new t.ExcelExporter({ columns: this.columns, dataSource: this.dataSource, allPages: o.allPages, filterable: o.filterable, hierarchy: o.hierarchy }); n.workbook().then(e.proxy(function (e, n) { if (!this.trigger("excelExport", { workbook: e, data: n })) { var r = new t.ooxml.Workbook(e); r.toDataURLAsync().then(function (n) { t.saveAs({ dataURI: n, fileName: e.fileName || o.fileName, proxyURL: o.proxyURL, forceProxy: o.forceProxy }) }) } }, this)) } } }(kendo.jQuery, kendo), kendo }, "function" == typeof define && define.amd ? define : function (e, t, o) { (o || t)() }), function (e, define) { define("kendo.excel.min", ["excel/main.min", "excel/mixins.min"], e) }(function () { }, "function" == typeof define && define.amd ? define : function (e, t, o) { (o || t)() });; !function (e, define) { define("kendo.progressbar.min", ["kendo.core.min"], e) }(function () { return function (e, r) { var s = window.kendo, t = s.ui, a = t.Widget, n = "horizontal", o = "vertical", p = 0, i = 100, u = 0, l = 5, d = "k-progressbar", g = "k-progressbar-reverse", c = "k-progressbar-indeterminate", v = "k-complete", _ = "k-state-selected", f = "k-progress-status", h = "k-state-selected", m = "k-state-default", k = "k-state-disabled", P = { VALUE: "value", PERCENT: "percent", CHUNK: "chunk" }, C = "change", w = "complete", y = "boolean", S = Math, W = e.extend, b = e.proxy, A = 100, x = 400, U = 3, N = { progressStatus: "<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>" }, V = a.extend({ init: function (e, r) { var s = this; a.fn.init.call(this, e, r), r = s.options, s._progressProperty = r.orientation === n ? "width" : "height", s._fields(), r.value = s._validateValue(r.value), s._validateType(r.type), s._wrapper(), s._progressAnimation(), r.value !== r.min && r.value !== !1 && s._updateProgress() }, setOptions: function (e) { var r = this; a.fn.setOptions.call(r, e), e.hasOwnProperty("reverse") && r.wrapper.toggleClass("k-progressbar-reverse", e.reverse), e.hasOwnProperty("enable") && r.enable(e.enable), r._progressAnimation(), r._validateValue(), r._updateProgress() }, events: [C, w], options: { name: "ProgressBar", orientation: n, reverse: !1, min: p, max: i, value: u, enable: !0, type: P.VALUE, chunkCount: l, showStatus: !0, animation: {} }, _fields: function () { var r = this; r._isStarted = !1, r.progressWrapper = r.progressStatus = e() }, _validateType: function (r) { var t = !1; if (e.each(P, function (e, s) { if (s === r) return t = !0, !1 }), !t) throw Error(s.format("Invalid ProgressBar type '{0}'", r)) }, _wrapper: function () { var e, r = this, s = r.wrapper = r.element, t = r.options, a = t.orientation; s.addClass("k-widget " + d), s.addClass(d + "-" + (a === n ? n : o)), t.enable === !1 && s.addClass(k), t.reverse && s.addClass(g), t.value === !1 && s.addClass(c), t.type === P.CHUNK ? r._addChunkProgressWrapper() : t.showStatus && (r.progressStatus = r.wrapper.prepend(N.progressStatus).find("." + f), e = t.value !== !1 ? t.value : t.min, r.progressStatus.text(t.type === P.VALUE ? e : r._calculatePercentage(e).toFixed() + "%")) }, value: function (e) { return this._value(e) }, _value: function (e) { var s, t = this, a = t.options; return e === r ? a.value : (typeof e !== y ? (e = t._roundValue(e), isNaN(e) || (s = t._validateValue(e), s !== a.value && (t.wrapper.removeClass(c), a.value = s, t._isStarted = !0, t._updateProgress()))) : e || (t.wrapper.addClass(c), a.value = !1), r) }, _roundValue: function (e) { e = parseFloat(e); var r = S.pow(10, U); return S.floor(e * r) / r }, _validateValue: function (e) { var r = this, s = r.options; if (e !== !1) { if (e <= s.min || e === !0) return s.min; if (e >= s.max) return s.max } else if (e === !1) return !1; return isNaN(r._roundValue(e)) ? s.min : e }, _updateProgress: function () { var e = this, r = e.options, s = e._calculatePercentage(); r.type === P.CHUNK ? (e._updateChunks(s), e._onProgressUpdateAlways(r.value)) : e._updateProgressWrapper(s) }, _updateChunks: function (e) { var r, s = this, t = s.options, a = t.chunkCount, p = parseInt(A / a * 100, 10) / 100, i = parseInt(100 * e, 10) / 100, u = S.floor(i / p); r = s.wrapper.find(t.orientation === n && !t.reverse || t.orientation === o && t.reverse ? "li.k-item:lt(" + u + ")" : "li.k-item:gt(-" + (u + 1) + ")"), s.wrapper.find("." + h).removeClass(h).addClass(m), r.removeClass(m).addClass(h) }, _updateProgressWrapper: function (e) { var r = this, s = r.options, t = r.wrapper.find("." + _), a = r._isStarted ? r._animation.duration : 0, n = {}; 0 === t.length && r._addRegularProgressWrapper(), n[r._progressProperty] = e + "%", r.progressWrapper.animate(n, { duration: a, start: b(r._onProgressAnimateStart, r), progress: b(r._onProgressAnimate, r), complete: b(r._onProgressAnimateComplete, r, s.value), always: b(r._onProgressUpdateAlways, r, s.value) }) }, _onProgressAnimateStart: function () { this.progressWrapper.show() }, _onProgressAnimate: function (e) { var r, s = this, t = s.options, a = parseFloat(e.elem.style[s._progressProperty], 10); t.showStatus && (r = 1e4 / parseFloat(s.progressWrapper[0].style[s._progressProperty]), s.progressWrapper.find(".k-progress-status-wrap").css(s._progressProperty, r + "%")), t.type !== P.CHUNK && a <= 98 && s.progressWrapper.removeClass(v) }, _onProgressAnimateComplete: function (e) { var r, s = this, t = s.options, a = parseFloat(s.progressWrapper[0].style[s._progressProperty]); t.type !== P.CHUNK && a > 98 && s.progressWrapper.addClass(v), t.showStatus && (r = t.type === P.VALUE ? e : t.type == P.PERCENT ? s._calculatePercentage(e).toFixed() + "%" : S.floor(s._calculatePercentage(e)) + "%", s.progressStatus.text(r)), e === t.min && s.progressWrapper.hide() }, _onProgressUpdateAlways: function (e) { var r = this, s = r.options; r._isStarted && r.trigger(C, { value: e }), e === s.max && r._isStarted && r.trigger(w, { value: s.max }) }, enable: function (e) { var s = this, t = s.options; t.enable = r === e || e, s.wrapper.toggleClass(k, !t.enable) }, destroy: function () { var e = this; a.fn.destroy.call(e) }, _addChunkProgressWrapper: function () { var e, r = this, s = r.options, t = r.wrapper, a = A / s.chunkCount, n = ""; for (s.chunkCount <= 1 && (s.chunkCount = 1), n += "<ul class='k-reset'>", e = s.chunkCount - 1; e >= 0; e--)n += "<li class='k-item k-state-default'></li>"; n += "</ul>", t.append(n).find(".k-item").css(r._progressProperty, a + "%").first().addClass("k-first").end().last().addClass("k-last"), r._normalizeChunkSize() }, _normalizeChunkSize: function () { var e = this, r = e.options, s = e.wrapper.find(".k-item:last"), t = parseFloat(s[0].style[e._progressProperty]), a = A - r.chunkCount * t; a > 0 && s.css(e._progressProperty, t + a + "%") }, _addRegularProgressWrapper: function () { var r = this; r.progressWrapper = e("<div class='" + _ + "'></div>").appendTo(r.wrapper), r.options.showStatus && (r.progressWrapper.append(N.progressStatus), r.progressStatus = r.wrapper.find("." + f)) }, _calculateChunkSize: function () { var e = this, r = e.options.chunkCount, s = e.wrapper.find("ul.k-reset"); return (parseInt(s.css(e._progressProperty), 10) - (r - 1)) / r }, _calculatePercentage: function (e) { var s = this, t = s.options, a = e !== r ? e : t.value, n = t.min, o = t.max; return s._onePercent = S.abs((o - n) / 100), S.abs((a - n) / s._onePercent) }, _progressAnimation: function () { var e = this, r = e.options, s = r.animation; e._animation = s === !1 ? { duration: 0 } : W({ duration: x }, r.animation) } }); s.ui.plugin(V) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, r, s) { (s || r)() });; !function (e, define) { define("kendo.columnsorter.min", ["kendo.core.min"], e) }(function () { return function (e, t) { var n = window.kendo, r = n.ui, i = r.Widget, o = "dir", s = "asc", a = "single", l = "field", d = "desc", c = ".kendoColumnSorter", f = ".k-link", p = "aria-sort", u = e.proxy, h = i.extend({ init: function (e, t) { var n, r = this; i.fn.init.call(r, e, t), r._refreshHandler = u(r.refresh, r), r.dataSource = r.options.dataSource.bind("change", r._refreshHandler), r.directions = r.options.initialDirection === s ? [s, d] : [d, s], n = r.element.find(f), n[0] || (n = r.element.wrapInner('<a class="k-link" href="#"/>').find(f)), r.link = n, r.element.on("click" + c, u(r._click, r)) }, options: { name: "ColumnSorter", mode: a, allowUnsort: !0, compare: null, filter: "", initialDirection: s, showIndexes: !1 }, events: ["change"], destroy: function () { var e = this; i.fn.destroy.call(e), e.element.off(c), e.dataSource.unbind("change", e._refreshHandler), e._refreshHandler = e.element = e.link = e.dataSource = null }, refresh: function () { var r, i, a, c, f, u, h, g = this, k = g.dataSource.sort() || [], m = g.element, S = m.attr(n.attr(l)); for (m.removeAttr(n.attr(o)), m.removeAttr(p), r = 0, i = k.length; r < i; r++)a = k[r], S == a.field && (m.attr(n.attr(o), a.dir), u = r + 1); c = m.attr(n.attr(o)), m.is("th") && (h = m.closest("table"), h.parent().hasClass("k-grid-header-wrap") ? h = h.closest(".k-grid").find(".k-grid-content > table") : h.parent().hasClass("k-grid") || (h = null), h && (f = m.parent().children(":visible").index(m), m.toggleClass("k-sorted", c !== t), h.children("colgroup").children().eq(f).toggleClass("k-sorted", c !== t))), m.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove(), c === s ? (e('<span class="k-icon k-i-sort-asc-sm" />').appendTo(g.link), m.attr(p, "ascending")) : c === d && (e('<span class="k-icon k-i-sort-desc-sm" />').appendTo(g.link), m.attr(p, "descending")), g.options.showIndexes && k.length > 1 && u && e('<span class="k-sort-order" />').html(u).appendTo(g.link) }, _toggleSortDirection: function (e) { var n = this.directions; return e === n[n.length - 1] && this.options.allowUnsort ? t : n[0] === e ? n[1] : n[0] }, _click: function (e) { var r, i, s = this, d = s.element, c = d.attr(n.attr(l)), f = d.attr(n.attr(o)), p = s.options, u = null === s.options.compare ? t : s.options.compare, h = s.dataSource.sort() || []; if (e.preventDefault(), (!p.filter || d.is(p.filter)) && (f = this._toggleSortDirection(f), !this.trigger("change", { sort: { field: c, dir: f, compare: u } }))) { if (p.mode === a) h = [{ field: c, dir: f, compare: u }]; else if ("multiple" === p.mode) { for (r = 0, i = h.length; r < i; r++)if (h[r].field === c) { h.splice(r, 1); break } h.push({ field: c, dir: f, compare: u }) } this.dataSource.options.endless && (this.dataSource.options.endless = null, d.closest(".k-grid").getKendoGrid()._endlessPageSize = s.dataSource.options.pageSize, this.dataSource.pageSize(s.dataSource.options.pageSize)), this.dataSource.sort(h) } } }); r.plugin(h) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("util/text-metrics.min", ["kendo.core.min"], e) }(function () { !function (e) { function t(e) { return (e + "").replace(i, s) } function r(e) { var t, r = []; for (t in e) r.push(t + e[t]); return r.sort().join("") } function l(e) { var t, r = 2166136261; for (t = 0; t < e.length; ++t)r += (r << 1) + (r << 4) + (r << 7) + (r << 8) + (r << 24), r ^= e.charCodeAt(t); return r >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function a(e, t, r) { return u.current.measure(e, t, r) } var n, i, s, d, c, u; window.kendo.util = window.kendo.util || {}, n = kendo.Class.extend({ init: function (e) { this._size = e, this._length = 0, this._map = {} }, put: function (e, t) { var r = this._map, l = { key: e, value: t }; r[e] = l, this._head ? (this._tail.newer = l, l.older = this._tail, this._tail = l) : this._head = this._tail = l, this._length >= this._size ? (r[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (e) { var t = this._map[e]; if (t) return t === this._head && t !== this._tail && (this._head = t.newer, this._head.older = null), t !== this._tail && (t.older && (t.older.newer = t.newer, t.newer.older = t.older), t.older = this._tail, t.newer = null, this._tail.newer = t, this._tail = t), t.value } }), i = /\r?\n|\r|\t/g, s = " ", d = { baselineMarkerSize: 1 }, "undefined" != typeof document && (c = document.createElement("div"), c.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), u = kendo.Class.extend({ init: function (t) { this._cache = new n(1e3), this.options = e.extend({}, d, t) }, measure: function (e, a, n) { var i, s, d, u, p, h, f, g, m; if (void 0 === n && (n = {}), !e) return o(); if (i = r(a), s = l(e + i), d = this._cache.get(s)) return d; u = o(), p = n.box || c, h = this._baselineMarker().cloneNode(!1); for (f in a) g = a[f], void 0 !== g && (p.style[f] = g); return m = n.normalizeText !== !1 ? t(e) : e + "", p.textContent = m, p.appendChild(h), document.body.appendChild(p), m.length && (u.width = p.offsetWidth - this.options.baselineMarkerSize, u.height = p.offsetHeight, u.baseline = h.offsetTop + this.options.baselineMarkerSize), u.width > 0 && u.height > 0 && this._cache.put(s, u), p.parentNode.removeChild(p), u }, _baselineMarker: function () { var e = document.createElement("div"); return e.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", e } }), u.current = new u, kendo.deepExtend(kendo.util, { LRUCache: n, TextMetrics: u, measureText: a, objectKey: r, hashKey: l, normalizeText: t }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, r) { (r || t)() }), function (e, define) { define("kendo.grid.min", ["kendo.data.min", "kendo.columnsorter.min", "kendo.editable.min", "kendo.window.min", "kendo.filtermenu.min", "kendo.columnmenu.min", "kendo.groupable.min", "kendo.pager.min", "kendo.selectable.min", "kendo.sortable.min", "kendo.reorderable.min", "kendo.resizable.min", "kendo.mobile.actionsheet.min", "kendo.mobile.pane.min", "kendo.ooxml.min", "kendo.excel.min", "kendo.progressbar.min", "kendo.pdf.min"], e) }(function () {
    return function (e, t) {
        function r(e, t) { return "[" + ge.attr(e) + "=" + t + "]" } function l(e) { return Array(e + 1).join('<td class="k-group-cell">&nbsp;</td>') } function o(e) { var t, r = " "; if (e) { if (typeof e === Lt) return e; for (t in e) "" !== e[t] && (r += t + '="' + e[t] + '"') } return r } function a(t, r) { e("th, th .k-grid-filter, th .k-link", t).add(document.body).css("cursor", r) } function n(t, r, l, o, a) { var n, i = r; for (r = e(), a = a || 1, n = 0; n < a; n++)r = r.add(t.eq(i + n)); "number" == typeof l ? r[o ? "insertBefore" : "insertAfter"](t.eq(l)) : r.appendTo(l) } function i(t, r, l) { return e(t).add(r).find(l) } function s(e, t, r) { var l, o, a, n; for (r = Ie(r) ? r : [r], l = 0, o = r.length; l < o; l++)a = r[l], Te(a) && a.click && (n = a.name || a.text, t.on(Rt + $e, "a.k-grid-" + (n || "").replace(/\s/g, ""), { commandName: n }, Le(a.click, e))) } function d(e, t, r) { return He(e, function (e) { var l, o; return e = typeof e === Lt ? { field: e } : e, f(e) && !r || (e.attributes = K(e.attributes), e.footerAttributes = K(e.footerAttributes), e.headerAttributes = K(e.headerAttributes), l = !0), e.columns && (e.columns = d(e.columns, t, l)), o = ge.guid(), e.headerAttributes = xe({ id: o }, e.headerAttributes), xe({ encoded: t, hidden: l }, e) }) } function c(e, t) { var r = []; return u(e, t, r), r[r.length - 1] } function u(e, t, r) { var l, o; for (r = r || [], l = 0; l < t.length; l++) { if (e === t[l]) return !0; if (t[l].columns) { if (o = r.length, r.push(t[l]), u(e, t[l].columns, r)) return !0; r.splice(o, r.length - o) } } return !1 } function p(e, t) { var r = t ? j : K; e.hidden = !t, e.attributes = r(e.attributes), e.footerAttributes = r(e.footerAttributes), e.headerAttributes = r(e.headerAttributes) } function h() { return "none" !== this.style.display } function f(e) { return g([e]).length > 0 } function g(e) { return Re(e, function (e) { var t = !e.hidden; return t && e.columns && (t = g(e.columns).length > 0), t }) } function m(t) { return e(t).map(function () { return this.toArray() }) } function b(e, t, r) { var l = v(A(t)), o = v(W(t)), a = e.rowSpan; e.rowSpan = r ? l > o ? a - (l - o) || 1 : a + (o - l) : l > o ? a + (l - o) : a - (o - l) || 1 } function k(t, r, l, o, a, n, i) { var s, d, c = v(t), u = v([r]); c > u && (s = Array(i + 1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'), d = n.children(":not(.k-filter-row)"), e(Array(c - u + 1).join("<tr>" + s + "</tr>")).insertAfter(d.last())), L(n, c - u), w(l, o, a, n) } function _(t, r, l) { var o, a, n, i, s, d, c, u; for (l = l || 0, n = r, r = B(r), i = {}, s = t.find(">tr:not(.k-filter-row)"), d = function () { var t = e(this); return !t.hasClass("k-group-cell") && !t.hasClass("k-hierarchy-cell") }, c = 0, u = r.length; c < u; c++)o = C(r[c], n), i[o.row] || (i[o.row] = s.eq(o.row).find(".k-header").filter(d)), a = i[o.row].eq(o.cell), a.attr(ge.attr("index"), l + c); return r.length } function v(e) { var t, r, l = 1, o = 0; for (t = 0; t < e.length; t++)e[t].columns && (r = v(e[t].columns), r > o && (o = r)); return l + o } function w(t, r, l, o) { var a, n, i = T(t[0], r), s = l.find(">tr:not(.k-filter-row):eq(" + i.row + ")>th.k-header"), d = e(), c = i.cell; for (a = 0; a < t.length; a++)d = d.add(s.eq(c + a)); for (o.find(">tr:not(.k-filter-row)").eq(i.row).append(d), n = [], a = 0; a < t.length; a++)t[a].columns && (n = n.concat(t[a].columns)); n.length && w(n, r, l, o) } function C(e, t, r, l) { var o, a; for (r = r || 0, l = l || {}, l[r] = l[r] || 0, a = 0; a < t.length; a++) { if (t[a] == e) { o = { cell: l[r], row: r }; break } if (t[a].columns && (o = C(e, t[a].columns, r + 1, l))) break; l[r]++ } return o } function y(e, t, r, l) { var o, a, n = !!r.locked; do o = e[t], t += l ? 1 : -1, a = !!o.locked; while (o && t > -1 && t < e.length && o != r && !o.columns && a === n); return o } function S(e, t, r, l, o) { var a, n, i, s, d; return t.columns ? (t = t.columns, t[l ? 0 : t.length - 1]) : (a = c(t, e), n = a ? a.columns : e, i = Ee(t, n), 0 === i && l ? i++ : i != n.length - 1 || l ? (i > 0 || 0 === i && !l) && (i += l ? -1 : 1) : i-- , s = Ee(r, n), t = y(n, i, r, s > i), d = Ee(t, o), (!t.columns || d && d !== n.length - 1) && t && t != r && t.columns ? S(e, t, r, l, o) : null) } function T(e, t, r, l) { var o, a; for (r = r || 0, l = l || {}, l[r] = l[r] || 0, a = 0; a < t.length; a++) { if (t[a] == e) { o = { cell: l[r], row: r }; break } if (t[a].columns && (o = T(e, t[a].columns, r + 1, l))) break; t[a].hidden || l[r]++ } return o } function x(e) { var t = R(A(e)); return t.concat(R(W(e))) } function H(e, t, r, l) { var o = e[r], a = e[l], n = c(o, t); return t = n ? n.columns : t, Ee(a, t) } function R(e) { var t, r = [], l = []; for (t = 0; t < e.length; t++)r.push(e[t]), e[t].columns && (l = l.concat(e[t].columns)); return l.length && (r = r.concat(R(l))), r } function I(e) { var t, r, l = 0; for (r = 0; r < e.length; r++)t = e[r], t.columns ? l += I(t.columns) : t.hidden && l++; return l } function E(e) { var t, r, l, o = 0; for (r = 0, l = e.length; r < l; r++)t = e[r].style.width, t && t.indexOf("%") == -1 && (o += parseInt(t, 10)); return o } function z(e, t) { var r, l, o = e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"); for (l = 0; l < o.length; l++)r = o[l].rowSpan, r > 1 && (o[l].rowSpan = r - t || 1) } function L(e, t) { var r, l = e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"); for (r = 0; r < l.length; r++)l[r].rowSpan += t } function D(t) { var r, l = t.find("tr:not(.k-filter-row)"), o = l.filter(function () { return !e(this).children().length }).remove().length, a = l.find("th:not(.k-group-cell,.k-hierarchy-cell)"); for (r = 0; r < a.length; r++)a[r].rowSpan > 1 && (a[r].rowSpan -= o); return l.length - o } function F(e, t, r, l, o) { var a, n, i, s = []; for (a = 0, i = e.length; a < i; a++)n = r[l] || [], n.push(t.eq(o + a)), r[l] = n, e[a].columns && (s = s.concat(e[a].columns)); s.length && F(s, t, r, l + 1, o + e.length) } function A(e) { return Re(e, function (e) { return e.locked }) } function W(e) { return Re(e, function (e) { return !e.locked }) } function q(e) { return Re(e, function (e) { return !e.locked && f(e) }) } function M(e) { return Re(e, function (e) { return e.locked && f(e) }) } function P(e) { var t, r = []; for (t = 0; t < e.length; t++)e[t].hidden || (e[t].columns ? r = r.concat(P(e[t].columns)) : r.push(e[t])); return r } function B(e) { var t, r = []; for (t = 0; t < e.length; t++)e[t].columns ? r = r.concat(B(e[t].columns)) : r.push(e[t]); return r } function V(r) { var l, o = r.find(">tr:not(.k-filter-row)"), a = function () { var t = e(this); return !t.hasClass("k-group-cell") && !t.hasClass("k-hierarchy-cell") }, n = e(); return o.length > 1 && (n = o.find("th").filter(a).filter(function () { return this.rowSpan > 1 })), n = n.add(o.last().find("th").filter(a)), l = ge.attr("index"), n.sort(function (r, o) { var a, n; return r = e(r), o = e(o), a = r.attr(l), n = o.attr(l), a === t && (a = e(r).index()), n === t && (n = e(o).index()), a = parseInt(a, 10), n = parseInt(n, 10), a > n ? 1 : a < n ? -1 : 0 }), n } function N(t) { var r, l, o, a, n, i, s, d = t.closest("table"), c = e().add(t), u = t.closest("tr"), p = d.find("tr:not(.k-filter-row)"), h = p.index(u); if (h > 0) { for (r = p.eq(h - 1), l = r.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function () { return !e(this).attr("rowspan") }), o = 0, a = u.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t), n = t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function () { return this.colSpan > 1 }), i = 0; i < n.length; i++)o += n[i].colSpan || 1; for (a += Math.max(o - 1, 0), o = 0, i = 0; i < l.length; i++)if (s = l.eq(i), o += s.attr("data-colspan") ? s[0].getAttribute("data-colspan") : 1, a >= i && a < o) { c = N(s).add(c); break } } return c } function O(t) { var r, l, o, a, n, i, s, d = t.closest("thead"), c = e().add(t), u = t.closest("tr"), p = d.find("tr:not(.k-filter-row)"), h = p.index(u) + t[0].rowSpan, f = ge.attr("colspan"); if (h <= p.length - 1) { for (r = u.next(), l = t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"), l = l.filter(function () { return !this.rowSpan || 1 === this.rowSpan }), a = 0, o = 0; o < l.length; o++)a += parseInt(l.eq(o).attr(f), 10) || 1; for (n = r.find("th:not(.k-group-cell,.k-hierarchy-cell)"), i = parseInt(t.attr(f), 10) || 1, o = 0; o < i;)r = n.eq(o + a), c = c.add(O(r)), s = parseInt(r.attr(f), 10), s > 1 && (i -= s - 1), o++ } return c } function G(t, r, l, o) { var a, n = t; return o && t.empty(), _e ? t[0].innerHTML = l : (a = document.createElement("div"), a.innerHTML = "<table><tbody>" + l + "</tbody></table>", t = a.firstChild.firstChild, r[0].replaceChild(t, n[0]), t = e(t)), t } function K(e) { e = e || {}; var t = e.style; return t ? (t = t.replace(/((.*)?display)(.*)?:([^;]*)/i, "$1:none"), t === e.style && (t = t.replace(/(.*)?/i, "display:none;$1"))) : t = "display:none", xe({}, e, { style: t }) } function j(e) { e = e || {}; var t = e.style; return t && (e.style = t.replace(/(display\s*:\s*none\s*;?)*/gi, "")), e } function U(t, r, l, o) { var a, n = t.find(">colgroup"), i = He(r, function (e) { return a = e.width, a && 0 !== parseInt(a, 10) ? ge.format('<col style="width:{0}"/>', typeof a === Lt ? a : a + "px") : "<col />" }); (l || n.find(".k-hierarchy-col").length) && i.splice(0, 0, '<col class="k-hierarchy-col" />'), n.length && n.remove(), n = e(Array(o + 1).join('<col class="k-group-col">') + i.join("")), n.is("colgroup") || (n = e("<colgroup/>").append(n)), t.prepend(n), rr.msie && 8 == rr.version && (t.css("display", "inline-table"), window.setTimeout(function () { t.css("display", "") }, 1)) } function $(e, t) { var r, l, o = 0, a = e.find("th:not(.k-group-cell)"); for (r = 0, l = t.length; r < l; r++)t[r].locked && (a.eq(r).insertBefore(a.eq(o)), a = e.find("th:not(.k-group-cell)"), o++) } function Q(e) { var t, r, l, o = {}; for (r = 0, l = e.length; r < l; r++)t = e[r], o[t.value] = t.text; return o } function J(e, t, r, l) { var o = r && r.length && Te(r[0]) && "value" in r[0], a = o ? Q(r)[e] : e; return a = null != a ? a : "", t ? ge.format(t, a) : l === !1 ? a : ge.htmlEncode(a) } function Y(e, t, r) { for (var l, o = 0, a = e[o]; a;) { if (l = !!r || "none" !== a.style.display, l && !Jt.test(a.className) && --t < 0) { a.style.display = r ? "" : "none"; break } a = e[++o] } } function X(t, r) { for (var l, o, a = 0, n = t.length; a < n; a += 1)o = t.eq(a), o.is(".k-grouping-row,.k-detail-row") ? (l = o.children(":not(.k-group-cell):first,.k-detail-cell").last(), l.attr("colspan", parseInt(l.attr("colspan"), 10) - 1)) : (o.hasClass("k-grid-edit-row") && (l = o.children(".k-edit-container")[0]) && (l = e(l), l.attr("colspan", parseInt(l.attr("colspan"), 10) - 1), l.find("col").eq(r).remove(), o = l.find("tr:first")), Y(o[0].cells, r, !1)) } function Z(e) { var t, r, l = []; for (r = 0; r < e.length && (t = e[r], "field" in t && "value" in t && "items" in t); r++)l.push(t), t.hasSubgroups && (l = l.concat(Z(t.items))); return l } function ee(e) { var t, r, l = []; for (r = 0; r < e.length && (t = e[r], "field" in t && "value" in t && "items" in t); r++)t.hasSubgroups && (l = l.concat(ee(t.items))), l.push(t.aggregates); return l } function te(t, r) { for (var l, o, a, n = 0, i = t.length; n < i; n += 1)o = t.eq(n), o.is(".k-grouping-row,.k-detail-row") ? (l = o.children(":not(.k-group-cell):first,.k-detail-cell").last(), l.attr("colspan", parseInt(l.attr("colspan"), 10) + 1)) : (o.hasClass("k-grid-edit-row") && (l = o.children(".k-edit-container")[0]) && (l = e(l), l.attr("colspan", parseInt(l.attr("colspan"), 10) + 1), U(l.find(">form>table"), g(a), !1, 0), o = l.find("tr:first")), Y(o[0].cells, r, !0)) } function re(e, t, r) { r = r || 1; var l, o, a; for (o = 0, a = e.length; o < a; o++)l = e.eq(o).children().last(), l.attr("colspan", parseInt(l.attr("colspan"), 10) + r), l = t.eq(o).children().last(), l.attr("colspan", parseInt(l.attr("colspan"), 10) - r) } function le(e) { var t, r, l = 0, o = e.find(">colgroup>col"); for (t = 0, r = o.length; t < r; t += 1)l += parseInt(o[t].style.width, 10); return l } function oe(e, t) { var r, l, o, a; e = e[0], t = t[0], e.rows.length !== t.rows.length && (r = e.offsetHeight, l = t.offsetHeight, r > l ? (o = t.rows[t.rows.length - 1], Yt.test(o.className) && (o = t.rows[t.rows.length - 2]), a = r - l) : (o = e.rows[e.rows.length - 1], Yt.test(o.className) && (o = e.rows[e.rows.length - 2]), a = l - r), o.style.height = o.offsetHeight + a + "px") } function ae(e, t) { var r, l = e.offsetHeight, o = t.offsetHeight; l > o ? r = l + "px" : l < o && (r = o + "px"), r && (e.style.height = t.style.height = r) } function ne(e, t) { var r, l, o; if (typeof e === Lt && e === t) return e; if (Te(e) && e.name === t) return e; if (Ie(e)) for (r = 0, l = e.length; r < l; r++)if (o = e[r], typeof o === Lt && o === t || o.name === t) return o; return null } function ie(t, r) { if (r === !0) { t = e(t); var l = t.parent().scrollLeft(); ge.focusElement(t), t.parent().scrollLeft(l) } else e(t).one("focusin", function (e) { e.preventDefault() }).focus() } function se(e, t) { return !(!e.field || e.selectable) && (!(t.editable && !t.editable(e.field)) && !(e.editable && !e.editable(t))) } function de(t) { return e(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown") } function ce(r) { var l = e(r.currentTarget), o = l.is("th"), a = this.table.add(this.lockedTable), n = this.thead.parent().add(e(">table", this.lockedHeader)), i = de(r.target), s = e(r.target), d = l.closest("table")[0]; return i && l.find(ge.roleSelector("filtercell")).length ? (this._setCurrent(l), t) : (d !== a[0] && d !== a[1] && d !== n[0] && d !== n[1] || s.is("a.k-i-expand, a.k-i-collapse") || (this.options.navigatable && this._setCurrent(l), !o && i || setTimeout(function () { or && e(ge._activeElement()).hasClass("k-widget") || de(ge._activeElement()) && e.contains(d, ge._activeElement()) || ie(d, !0) }), o && r.preventDefault()), t) } function ue(e, t) { if (!t) return 0; var r = 0; return ge.support.browser.webkit && (r = e.width()), r } function pe(e) { return e && (e.hasClass("k-edit-cell") || e.parent().hasClass("k-grid-edit-row")) } function he(e, t, r) { return '<tr role="row" class="k-grouping-row">' + l(t) + '<td colspan="' + e + '" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" ' + jt + '="' + Gt + '"></a>' + r + "</p></td></tr>" } function fe(e) { return '<tr role="row" class="k-grouping-row"><td colspan="' + e + '" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>' } var ge = window.kendo, me = ge.ui, be = ge.data.DataSource, ke = ge.data.ObservableObject, _e = ge.support.tbodyInnerHtml, ve = ge._activeElement, we = me.Widget, Ce = ge._outerWidth, ye = ge._outerHeight, Se = ge.keys, Te = e.isPlainObject, xe = e.extend, He = e.map, Re = e.grep, Ie = e.isArray, Ee = e.inArray, ze = Array.prototype.push, Le = e.proxy, De = ge.isFunction, Fe = e.isEmptyObject, Ae = e.contains, We = Math, qe = "progress", Me = "error", Pe = ":not(.k-group-cell):not(.k-hierarchy-cell):visible", Be = "tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)", Ve = "tr:not(.k-footer-template):visible", Ne = ":not(.k-group-cell):not(.k-hierarchy-cell):visible", Oe = "tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible", Ge = Oe + ":first", Ke = Oe + ":last", je = Ve + ":first>" + Ne + ":first", Ue = "th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)", $e = ".kendoGrid", Qe = "edit", Je = "beforeEdit", Ye = "save", Xe = "remove", Ze = "detailInit", et = "filterMenuInit", tt = "columnMenuInit", rt = "filterMenuOpen", lt = "columnMenuOpen", ot = "cellClose", at = "change", nt = "columnHide", it = "columnShow", st = "saveChanges", dt = "dataBound", ct = "detailExpand", ut = "detailCollapse", pt = "itemchange", ht = "page", ft = "paging", gt = "scroll", mt = "sync", bt = "k-state-focused", kt = ":kendoFocusable", _t = "k-state-selected", vt = "k-checkbox", wt = "input[data-role='checkbox']." + vt, Ct = "k-grid-norecords", yt = "columnResize", St = "columnReorder", Tt = "columnLock", xt = "columnUnlock", Ht = "navigate", Rt = "click", It = "height", Et = "tabIndex", zt = "function", Lt = "string", Dt = "bottom", Ft = "container-for", At = "field", Wt = "input", qt = "incell", Mt = "inline", Pt = "uid", Bt = "Are you sure you want to delete this record?", Vt = "No records available.", Nt = "Delete", Ot = "Cancel", Gt = "Collapse", Kt = "Expand", jt = "aria-label", Ut = /(\}|\#)/gi, $t = /#/gi, Qt = "[\\x20\\t\\r\\n\\f]", Jt = RegExp("(^|" + Qt + ")(k-group-cell|k-hierarchy-cell)(" + Qt + "|$)"), Yt = RegExp("(^|" + Qt + ")(k-filter-row)(" + Qt + "|$)"), Xt = '# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #', Zt = '# var checkboxGuid = kendo.guid(); #<input class="' + vt + '" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>', er = '# var checkboxGuid = kendo.guid(); #<input class="' + vt + '" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #"><label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>', tr = !1, rr = ge.support.browser, lr = rr.msie && 7 == rr.version, or = rr.msie && 8 == rr.version, ar = rr.msie && 11 === rr.version, nr = we.extend({ init: function (e, t) { var r = this; we.fn.init.call(r, e, t), r._refreshHandler = Le(r.refresh, r), r.setDataSource(t.dataSource), r.wrap() }, setDataSource: function (e) { var t = this; t.dataSource && t.dataSource.unbind(at, t._refreshHandler), t.dataSource = e, t.dataSource.bind(at, t._refreshHandler), t.dataSource.options.useRanges = !0 }, options: { name: "VirtualScrollable", itemHeight: e.noop, prefetch: !0, maxScrollHeight: 25e4 }, events: [ft, ht, gt], destroy: function () { var e = this; we.fn.destroy.call(e), e.dataSource.unbind(at, e._refreshHandler), e.wrapper.add(e.verticalScrollbar).off($e), e.drag && (e.drag.destroy(), e.drag = null), e.wrapper = e.element = e.verticalScrollbar = null, e._refreshHandler = null }, wrap: function () { var t, r = this, l = ge.support.scrollbar() + 1, o = r.element; o.css({ width: "auto", overflow: "hidden" }).css(tr ? "padding-left" : "padding-right", l), r.content = o.children().first(), t = r.wrapper = r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll" + $e + " mousewheel" + $e, Le(r._wheelScroll, r)), r._wrapper(), ge.support.kineticScrollNeeded && (r.drag = new ge.UserEvents(r.wrapper, { global: !0, allowSelection: !0, start: function (e) { e.sender.capture() }, move: function (e) { r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop() - e.y.delta), t.scrollLeft(t.scrollLeft() - e.x.delta), e.preventDefault() } })), r.verticalScrollbar = e('<div class="k-scrollbar k-scrollbar-vertical" />').css({ width: l }).appendTo(o).bind("scroll" + $e, Le(r._scroll, r)) }, _wrapper: function () { var e = this; ar && (e.wrapper.css({ "overflow-y": gt }), e.element.css(tr ? "padding-left" : "padding-right", 0)) }, _wheelScroll: function (e) { if (!e.ctrlKey) { var t = this.verticalScrollbar, r = t.scrollTop(), l = ge.wheelDeltaY(e); !l || l > 0 && 0 === r || l < 0 && r + t[0].clientHeight == t[0].scrollHeight || (e.preventDefault(), this.verticalScrollbar.scrollTop(r + -l)) } }, _scroll: function (e) { var r = this, l = !r.options.prefetch, o = e.currentTarget.scrollTop, a = r.dataSource, n = r.itemHeight, i = a.skip() || 0, s = r._rangeStart || i, d = r.element.innerHeight(), c = !!(r._scrollbarTop && r._scrollbarTop > o), u = We.max(We.floor(o / n), 0), p = c ? We.ceil(d / n) : We.floor(d / n), h = We.max(u + p, 0); return r._preventScroll ? (r._preventScroll = !1, t) : (r._scrollTop = o - s * n, r._scrollbarTop = o, r._scrolling = l, r._fetch(u, h, c) || (r.wrapper[0].scrollTop = r._scrollTop), r.trigger(gt), l && (r._scrollingTimeout && clearTimeout(r._scrollingTimeout), r._scrollingTimeout = setTimeout(function () { r._scrolling = !1, r._page(r._rangeStart, r.dataSource.take()) }, 100)), t) }, scrollToTop: function () { this._scrollTo(0) }, scrollToBottom: function () { var e = this.verticalScrollbar; this._scrollTo(e[0].scrollHeight - e.height()) }, _scrollWrapperToTop: function () { this.wrapper.scrollTop(0) }, _scrollWrapperToBottom: function () { this.wrapper.scrollTop(this.wrapper[0].scrollHeight) }, _scrollWrapperOnColumnResize: function () { var e = this, t = this.wrapper, r = t.scrollTop(); t[0].scrollWidth > t[0].clientWidth ? e._wrapperScrolled && !e._isScrolledToBottom() || (t.scrollTop(r + ge.support.scrollbar()), e._scrollTop = t.scrollTop(), e._wrapperScrolled = !0) : e._wrapperScrolled && (e._isWrapperScrolledToBottom() || (t.scrollTop(r - ge.support.scrollbar()), e._scrollTop = t.scrollTop()), e._wrapperScrolled = !1) }, _scrollTo: function (e) { var t = this, r = t.verticalScrollbar; r.scrollTop() !== e && (t._preventScroll = !0), t.wrapper.scrollTop(e), t._scrollTop = t.wrapper.scrollTop(), r.scrollTop(e), t._scrollbarTop = r.scrollTop() }, _isScrolledToTop: function () { return 0 === this.verticalScrollbar.scrollTop() }, _isScrolledToBottom: function () { var e = this.verticalScrollbar, t = e.scrollTop(); return t > 0 && t >= parseInt(e[0].scrollHeight - e.height(), 10) }, _isWrapperScrolledToBottom: function () { var e = this.wrapper; return e.scrollTop() >= parseInt(e[0].scrollHeight - e.height(), 10) }, itemIndex: function (e) { var t = this._rangeStart || this.dataSource.skip() || 0; return t + e }, _isElementVisible: function (e) { return this._isElementVisibleInWrapper(e) }, _isElementVisibleInWrapper: function (t) { var r, l, o = this, a = o.wrapper; return t = e(t), !!(t[0] && Ae(a[0], t[0]) && (r = t.offset().top - a.offset().top, l = t.outerHeight() / 2, (r >= 0 || We.abs(r) <= l) && We.floor(r + l) <= a.height())) }, position: function (e) { var t, r = this._rangeStart || this.dataSource.skip() || 0, l = this.dataSource.pageSize(); return t = e > r ? e - r + 1 : r - e - 1, t > l ? l : t }, scrollIntoView: function (e) { var t = this.wrapper[0], r = t.clientHeight, l = this._isScrolledToBottom() ? t.scrollTop : this._scrollTop || t.scrollTop, o = e[0].offsetTop, a = e[0].offsetHeight; l > o ? this.verticalScrollbar[0].scrollTop -= r / 2 : o + a >= l + r && (this.verticalScrollbar[0].scrollTop += r / 2) }, _fetch: function (t, r, l) { var o = this, a = o.dataSource, n = o.itemHeight, i = a.take(), s = o._rangeStart || a.skip() || 0, d = We.floor(t / i) * i, c = !1, u = .33, p = o.verticalScrollbar, h = rr.webkit ? 1 : 0; return t < s ? (c = !0, s = We.max(0, r - i), o._scrollTop = p.scrollTop() - s * n, o._page(s, i)) : r >= s + i && !l ? (c = !0, s = We.min(t, a.total() - i), o._scrollTop = p.scrollTop() >= p[0].scrollHeight - p.height() - h ? o.wrapper[0].scrollHeight - o.wrapper.height() : n, o._page(s, i)) : !o._fetching && o.options.prefetch && (t < d + i - i * u && t > i && a.prefetch(d - i, i, e.noop), r > d + i * u && a.prefetch(d + i, i, e.noop)), c }, fetching: function () { return this._fetching }, _page: function (t, r, l) { var o = this, a = !o.options.prefetch, n = o.dataSource; l = De(l) ? l : e.noop, o.trigger(ft, { skip: t, take: r }) || (clearTimeout(o._timeout), o._fetching = !0, o._rangeStart = t, n.inRange(t, r) ? (ge.ui.progress(e(o.wrapper).parent(), !0), n.range(t, r, function () { ge.ui.progress(e(o.wrapper).parent(), !1), l(), o.trigger(ht) })) : (a || ge.ui.progress(o.wrapper.parent(), !0), o._timeout = setTimeout(function () { o._scrolling || (a && ge.ui.progress(o.wrapper.parent(), !0), n.range(t, r, function () { ge.ui.progress(o.wrapper.parent(), !1), l(), o.trigger(ht) })) }, 100))) }, repaintScrollbar: function (e) { var r, l = this, o = "", a = l.options.maxScrollHeight, n = l.dataSource, i = ge.support.kineticScrollNeeded ? 0 : ge.support.scrollbar(), s = l.wrapper[0], d = l._isScrolledToBottom(), c = l.itemHeight = l.options.itemHeight() || 0, u = s.scrollWidth > s.offsetWidth ? i : 0, p = n.total() * c + u; for (r = 0; r < We.floor(p / a); r++)o += '<div style="width:1px;height:' + a + 'px"></div>'; p % a && (o += '<div style="width:1px;height:' + p % a + 'px"></div>'), l.verticalScrollbar.html(o), d && !l._isScrolledToBottom() && l.scrollToBottom(), t !== l._scrollTop && e && (s.scrollTop = l._scrollTop, l._scrollWrapperOnColumnResize()) }, refresh: function (e) { var r = this, l = r.dataSource, o = r._rangeStart, a = (e || {}).action, n = r._isScrolledToBottom() || !a || a !== pt && a !== Xe && a !== mt; ge.ui.progress(r.wrapper.parent(), !1), clearTimeout(r._timeout), r.repaintScrollbar(n), r.drag && r.drag.cancel(), t === o || r._fetching || ((!a || a !== mt && a !== pt) && (r._rangeStart = l.skip()), 1 !== l.page() || a && (a === mt || a === pt) || (r.verticalScrollbar[0].scrollTop = 0)), r._fetching = !1 } }), ir = { create: { text: "Add new record", className: "k-grid-add", iconClass: "k-icon k-i-plus" }, cancel: { text: "Cancel changes", className: "k-grid-cancel-changes", iconClass: "k-icon k-i-cancel" }, save: { text: "Save changes", className: "k-grid-save-changes", iconClass: "k-icon k-i-check" }, destroy: { text: "Delete", className: "k-grid-delete", iconClass: "k-icon k-i-close" }, edit: { text: "Edit", className: "k-grid-edit", iconClass: "k-icon k-i-edit" }, update: { text: "Update", className: "k-primary k-grid-update", iconClass: "k-icon k-i-check" }, canceledit: { text: "Cancel", className: "k-grid-cancel", iconClass: "k-icon k-i-cancel" }, excel: { text: "Export to Excel", className: "k-grid-excel", iconClass: "k-icon k-i-file-excel" }, pdf: { text: "Export to PDF", className: "k-grid-pdf", iconClass: "k-icon k-i-file-pdf" } }, sr = ge.ui.DataBoundWidget.extend({
            init: function (t, r, l) { var o = this; r = Ie(r) ? { dataSource: r } : r, we.fn.init.call(o, t, r), l && (o._events = l), tr = ge.support.isRtl(t), o._element(), o._aria(), o._columns(e.extend(!0, [], o.options.columns)), o._dataSource(), o._tbody(), o._pageable(), o._thead(), o._groupable(), o._toolbar(), o._setContentHeight(), o._templates(), o._navigatable(), o._selectable(), o._clipboard(), o._details(), o._editable(), o._attachCustomCommandsEvent(), o._minScreenSupport(), o.options.autoBind ? o.dataSource.fetch() : (o._group = o._groups() > 0, o._footer()), o.lockedContent && (o.wrapper.addClass("k-grid-lockedcolumns"), o._resizeHandler = function () { o.resize() }, e(window).on("resize" + $e, o._resizeHandler)), ge.notify(o) }, events: [at, "dataBinding", "cancel", dt, ct, ut, Ze, et, rt, tt, lt, Qe, Je, Ye, Xe, st, ot, yt, St, it, nt, Tt, xt, Ht, "page", "sort", "filter", "group", "groupExpand", "groupCollapse"], setDataSource: function (e) { var t, r = this, l = r.options.scrollable; r.options.dataSource = e, r._dataSource(), r._pageable(), r._thead(), l && (l.virtual ? (t = r.content.find(">.k-virtual-scrollable-wrap"), t.scrollLeft(ue(t, tr))) : (t = r.tbody, r.content.scrollLeft(ue(t, tr)))), r.options.groupable && r._groupable(), r.virtualScrollable && r.virtualScrollable.setDataSource(r.options.dataSource), r.options.navigatable && r._navigatable(), r.options.selectable && r._selectable(), r.options.autoBind && e.fetch() }, options: { name: "Grid", columns: [], toolbar: null, autoBind: !0, filterable: !1, scrollable: !0, sortable: !1, selectable: !1, allowCopy: !1, navigatable: !1, pageable: !1, persistSelection: !1, editable: !1, groupable: !1, rowTemplate: "", altRowTemplate: "", noRecords: !1, dataSource: {}, height: null, resizable: !1, reorderable: !1, columnMenu: !1, detailTemplate: null, columnResizeHandleWidth: 3, mobile: "", messages: { editable: { cancelDelete: Ot, confirmation: Bt, confirmDelete: Nt }, commands: { create: ir.create.text, cancel: ir.cancel.text, save: ir.save.text, destroy: ir.destroy.text, edit: ir.edit.text, update: ir.update.text, canceledit: ir.canceledit.text, excel: ir.excel.text, pdf: ir.pdf.text }, noRecords: Vt, expandCollapseColumnHeader: "" } }, destroy: function () { var t, r = this; r._angularItems("cleanup"), r._destroyColumnAttachments(), we.fn.destroy.call(r), this._navigatableTables = null, r._resizeHandler && e(window).off("resize" + $e, r._resizeHandler), r.pager && r.pager.element && r.pager.destroy(), r.pager = null, r.groupable && r.groupable.element && r.groupable.element.kendoGroupable("destroy"), r.groupable = null, r.options.reorderable && r.wrapper.data("kendoReorderable").destroy(), r.selectable && r.selectable.element && (r.selectable.destroy(), r.clearArea(), r._selectedIds = null, r.copyHandler && (r.wrapper.off("keydown", r.copyHandler), r.unbind(r.copyHandler)), r.updateClipBoardState && (r.unbind(r.updateClipBoardState), r.updateClipBoardState = null), r.clearAreaHandler && r.wrapper.off("keyup", r.clearAreaHandler)), r.selectable = null, r.resizable && (r.resizable.destroy(), r._resizeUserEvents && (r._resizeHandleDocumentClickHandler && e(document).off("click", r._resizeHandleDocumentClickHandler), r._resizeUserEvents.destroy(), r._resizeUserEvents = null), r.resizable = null), r._destroyVirtualScrollable(), r._destroyEditable(), r.dataSource && (r.dataSource.unbind(at, r._refreshHandler).unbind(qe, r._progressHandler).unbind(Me, r._errorHandler), r._refreshHandler = r._progressHandler = r._errorHandler = null), t = r.element.add(r.wrapper).add(r.table).add(r.thead).add(r.wrapper.find(">.k-grid-toolbar")), r.content && (t = t.add(r.content).add(r.content.find(">.k-virtual-scrollable-wrap"))), r.lockedHeader && r._removeLockedContainers(), r.pane && r.pane.destroy(), r.minScreenResizeHandler && e(window).off("resize", r.minScreenResizeHandler), r._draggableInstance && r._draggableInstance.element && r._draggableInstance.destroy(), r._draggableInstance = null, t.off($e), ge.destroy(r.wrapper), r.rowTemplate = r.altRowTemplate = r.lockedRowTemplate = r.lockedAltRowTemplate = r.detailTemplate = r.footerTemplate = r.groupFooterTemplate = r.lockedGroupFooterTemplate = r.noRecordsTemplate = null, r.scrollables = r.thead = r.tbody = r.element = r.table = r.content = r.footer = r.wrapper = r.lockedTable = r.lockedContent = r.lockedHeader = r.lockedFooter = r._groupableClickHandler = r._groupRows = r._setContentWidthHandler = null }, getOptions: function () { var r, l, o, a = this.options; return a.dataSource = null, r = xe(!0, {}, this.options), r.columns = ge.deepExtend([], this.columns), l = this.dataSource, o = l.options.data && l._data, l.options.data = null, r.dataSource = e.extend(!0, {}, l.options), l.options.data = o, r.dataSource.data = o, r.dataSource.page = l.page(), r.dataSource.filter = l.filter(), r.dataSource.pageSize = l.pageSize(), r.dataSource.sort = l.sort(), r.dataSource.group = l.group(), r.dataSource.aggregate = l.aggregate(), r.dataSource.transport && (r.dataSource.transport.dataSource = null), r.pageable && r.pageable.pageSize && (r.pageable.pageSize = l.pageSize()), r.$angular = t, r }, setOptions: function (e) { var t, r, l, o, a = this.getOptions(); ge.deepExtend(a, e), e.dataSource || (a.dataSource = this.dataSource), t = this.wrapper, r = this._events, l = this.element, this.destroy(), this.options = null, this._isMobile && (o = t.closest(ge.roleSelector("pane")).parent(), o.after(t), o.remove(), t.removeClass("k-grid-mobile")), t[0] !== l[0] && (t.before(l), t.remove()), l.empty(), this.init(l, a, r), this._setEvents(a) }, items: function () { return this.lockedContent ? this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))) : this._items(this.tbody) }, _items: function (t) { return t.children().filter(function () { var t = e(this); return !t.hasClass("k-grouping-row") && !t.hasClass("k-detail-row") && !t.hasClass("k-group-footer") }) }, dataItems: function () { var e, t, r, l = ge.ui.DataBoundWidget.fn.dataItems.call(this); if (this.lockedContent) { for (e = l.length, t = Array(2 * e), r = e; --r >= 0;)t[r] = t[r + e] = l[r]; l = t } return l }, _destroyColumnAttachments: function () { var t = this; t.resizeHandle = null, t.thead && (this.angular("cleanup", function () { return { elements: t.thead.get() } }), t.thead.add(t.lockedHeader).find("th").each(function () { var t = e(this), r = t.data("kendoFilterMenu"), l = t.data("kendoColumnSorter"), o = t.data("kendoColumnMenu"); r && r.destroy(), l && l.destroy(), o && o.destroy() })) }, _attachCustomCommandsEvent: function () { var e, t, r, l = this, o = B(l.columns || []); for (t = 0, r = o.length; t < r; t++)e = o[t].command, e && s(l, l.wrapper, e) }, _aria: function () { var e = this.element.attr("id") || "aria"; e && (this._cellId = e + "_active_cell") }, _element: function () { var t = this, r = t.element; r.is("table") || (r = t.options.scrollable ? t.element.find("> .k-grid-content > table") : t.element.children("table"), r.length || (r = e("<table />").appendTo(t.element))), lr && r.attr("cellspacing", 0), t.table = r.attr("role", t._hasDetails() ? "treegrid" : "grid"), t._wrapper() }, _createResizeHandle: function (t, r) {
                var l, o, a, n, i, s, d, c = this, u = c.options.columnResizeHandleWidth, p = c.options.scrollable, h = c.resizeHandle, f = this._groups();
                if (h && c.lockedContent && h.data("th")[0] !== r[0] && (h.off($e).remove(), h = null), h || (h = c.resizeHandle = e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'), t.append(h)), tr) l = r.position().left, p && (n = r.closest(".k-grid-header-wrap, .k-grid-header-locked"), i = rr.msie ? n.scrollLeft() : 0, s = rr.webkit ? n[0].scrollWidth - n[0].offsetWidth - n.scrollLeft() : 0, d = rr.mozilla ? n[0].scrollWidth - n[0].offsetWidth - (n[0].scrollWidth - n[0].offsetWidth - n.scrollLeft()) : 0, l -= s - d + i); else { for (l = r[0].offsetWidth, o = V(r.closest("thead")).filter(":visible"), a = 0; a < o.length && o[a] != r[0]; a++)l += o[a].offsetWidth; f > 0 && (l += Ce(t.find(".k-group-cell:first")) * f), c._hasDetails() && (l += Ce(t.find(".k-hierarchy-cell:first"))) } h.css({ top: r.position().top, left: l - u, height: ye(r), width: 3 * u }).data("th", r).show(), h.off("dblclick" + $e).on("dblclick" + $e, function () { c._autoFitLeafColumn(r.data("index")) })
            }, _positionColumnResizeHandle: function () { var r = this, l = r.lockedHeader ? r.lockedHeader.find("thead:first") : e(); r.thead.add(l).on("mousemove" + $e, "th", function (l) { var o = t !== l.buttons ? l.buttons : l.which || l.button, a = e(this); a.hasClass("k-group-cell") || a.hasClass("k-hierarchy-cell") || t !== o && 0 !== o || r._createResizeHandle(a.closest("div"), a) }) }, _resizeHandleDocumentClick: function (t) { e(t.target).closest(".k-column-active").length || (e(document).off(t), this._hideResizeHandle()) }, _hideResizeHandle: function () { this.resizeHandle && (this.resizeHandle.data("th").removeClass("k-column-active"), this.lockedContent && !this._isMobile ? (this.resizeHandle.off($e).remove(), this.resizeHandle = null) : this.resizeHandle.hide()) }, _positionColumnResizeHandleTouch: function () { var t = this, r = t.lockedHeader ? t.lockedHeader.find("thead:first") : e(); t._resizeUserEvents = new ge.UserEvents(r.add(t.thead), { filter: "th:not(.k-group-cell):not(.k-hierarchy-cell)", threshold: 10, hold: function (r) { var l = e(r.target); r.preventDefault(), l.addClass("k-column-active"), t._createResizeHandle(l.closest("div"), l), t._resizeHandleDocumentClickHandler || (t._resizeHandleDocumentClickHandler = Le(t._resizeHandleDocumentClick, t)), e(document).on("click", t._resizeHandleDocumentClickHandler) } }) }, _resizable: function () { var t, r, l, o, n, i, s, d, c = this, u = c.options, p = this._isMobile, h = ge.support.mobileOS ? 0 : ge.support.scrollbar(); u.resizable && (t = u.scrollable ? c.wrapper.find(".k-grid-header-wrap:first") : c.wrapper, p ? c._positionColumnResizeHandleTouch(t) : c._positionColumnResizeHandle(t), c.resizable && c.resizable.destroy(), c.resizable = new me.Resizable(t.add(c.lockedHeader), { handle: (u.scrollable ? "" : ">") + ".k-resize-handle", hint: function (t) { return e('<div class="k-grid-resize-indicator" />').css({ height: ye(t.data("th")) + c.tbody.attr("clientHeight") }) }, start: function (t) { var h, f, g, m, b; d = e(t.currentTarget).data("th"), p && c._hideResizeHandle(), h = d.closest("table"), f = e.inArray(d[0], V(d.closest("thead")).filter(":visible")), i = h.parent().hasClass("k-grid-header-locked"), g = i ? c.lockedTable : c.table, m = c.footer || e(), c.footer && c.lockedContent && (m = c.footer.children(i ? ".k-grid-footer-locked" : ".k-grid-footer-wrap")), a(c.wrapper, "col-resize"), s = u.scrollable ? h.find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + f + ")").add(g.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + f + ")")).add(m.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + f + ")")) : g.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + f + ")"), b = e.map(c.columns, function (e) { return !e.hidden && (i && e.locked || !i && !e.locked) ? e : null }), r = t.x.location, l = Ce(d), o = B(b)[f].minResizableWidth || 10, n = Ce(i ? g.children("tbody") : c.tbody), rr.webkit && c.wrapper.addClass("k-grid-column-resizing") }, resize: function (t) { var a, p, f, g, m, b, k = tr ? -1 : 1, _ = l + t.x.location * k - r * k; u.scrollable ? (i && c.lockedFooter ? a = c.lockedFooter.children("table") : c.footer && (a = c.footer.find(">.k-grid-footer-wrap>table")), a && a[0] || (a = e()), p = d.closest("table"), f = i ? c.lockedTable : c.table, g = !1, m = c.wrapper.width() - h, b = _, i && n - l + b > m && (b = l + (m - n - 2 * h), b < 0 && (b = _), g = !0), b > 10 && b >= o && (s.css("width", b), n && (b = g ? m - 2 * h : n + t.x.location * k - r * k, f.add(p).add(a).css("width", b), i || (c._footerWidth = b))), c._scrollVirtualWrapperOnColumnResize()) : _ > 10 && _ >= o && s.css("width", _) }, resizeend: function () { var e, t, r, o = Ce(d); a(c.wrapper, ""), rr.webkit && c.wrapper.removeClass("k-grid-column-resizing"), l != o && (t = c.lockedHeader ? c.lockedHeader.find("thead:first tr:first").add(c.thead.find("tr:first")) : d.parent(), r = d.attr(ge.attr("index")), r || (r = t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(d)), e = B(c.columns)[r], e.width = o, c.trigger(yt, { column: e, oldWidth: l, newWidth: o }), c._applyLockedContainersWidth(), c._syncLockedContentHeight(), c._syncLockedHeaderHeight()), c._hideResizeHandle(), d = null } })) }, _draggable: function () { var t, r = this; r.options.reorderable && (r._draggableInstance && r._draggableInstance.destroy(), t = r.wrapper.children(".k-grid-header"), r._draggableInstance = r.wrapper.kendoDraggable({ group: ge.guid(), autoScroll: !0, filter: r.content ? ".k-grid-header:first " + Ue : "table:first>.k-grid-header " + Ue, dragstart: function () { t.children(".k-grid-header-wrap").unbind("scroll" + $e + "scrolling").bind("scroll" + $e + "scrolling", function (e) { r.virtualScrollable ? r.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft) : r.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft) }) }, dragend: function () { t.children(".k-grid-header-wrap").unbind("scroll" + $e + "scrolling") }, drag: function () { r._hideResizeHandle() }, hint: function (t) { var r = t.attr(ge.attr("title")); return r && (r = ge.htmlEncode(r)), e('<div class="k-header k-drag-clue" />').css({ width: t.width(), paddingLeft: t.css("paddingLeft"), paddingRight: t.css("paddingRight"), lineHeight: t.height() + "px", paddingTop: t.css("paddingTop"), paddingBottom: t.css("paddingBottom") }).html(r || t.attr(ge.attr("field")) || t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />') } }).data("kendoDraggable")) }, _reorderable: function () { var t = this; t.options.reorderable && (t.wrapper.data("kendoReorderable") && t.wrapper.data("kendoReorderable").destroy(), t.wrapper.kendoReorderable({ draggable: t._draggableInstance, dragOverContainers: function (e, r) { var l = x(t.columns); return l[e].lockable !== !1 && H(l, t.columns, e, r) > -1 }, inSameContainer: function (r) { return e(r.source).parent()[0] === e(r.target).parent()[0] && H(x(t.columns), t.columns, r.sourceIndex, r.targetIndex) > -1 }, change: function (e) { var r = x(t.columns), l = r[e.oldIndex], o = H(r, t.columns, e.oldIndex, e.newIndex); t.trigger(St, { newIndex: o, oldIndex: Ee(l, r), column: l }), t.reorderColumn(o, l, "before" === e.position) } })) }, _reorderHeader: function (e, t, r) { var l, o, a, s, d = this, c = C(e[0], d.columns), u = C(t, d.columns), p = []; for (l = 0; l < e.length; l++)e[l].columns && (p = p.concat(e[l].columns)); o = i(d.lockedHeader, d.thead, "tr:eq(" + c.row + ")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"), a = A(e).length, s = A([t]).length, p.length ? (a > 0 && 0 === s ? k(e, t, p, d.columns, d.lockedHeader.find("thead"), d.thead, this._groups()) : 0 === a && s > 0 && k(e, t, p, d.columns, d.thead, d.lockedHeader.find("thead"), this._groups()), (t.columns || c.cell - u.cell > 1 || u.cell - c.cell > 1) && (t = S(d.columns, t, e[0], r, d.columns), t && d._reorderHeader(p, t, r))) : a !== s && b(o[c.cell], d.columns, a), n(o, c.cell, u.cell, r, e.length) }, _reorderContent: function (t, r, l) { var o, a, s, d, c = this, u = e(), p = t[0], h = g(t), f = Ee(p, B(c.columns)), m = Ee(r, B(c.columns)), b = Ee(p, P(c.columns)), k = Ee(r, P(c.columns)), _ = A(c.columns).length, v = !!r.locked, w = c.footer || c.wrapper.find(".k-grid-footer"), C = o = k; for (r.hidden && (v ? (k = c.lockedTable.find("colgroup"), C = c.lockedHeader.find("colgroup"), o = e(c.lockedFooter).find(">table>colgroup")) : (k = c.tbody.prev(), C = c.thead.prev(), o = w.find(".k-grid-footer-wrap").find(">table>colgroup"))), c._hasFilterRow() && n(c.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"), f, m, l, t.length), n(i(c.lockedHeader, c.thead.prev(), "col:not(.k-group-col,.k-hierarchy-col)"), b, C, l, h.length), c.options.scrollable && n(i(c.lockedTable, c.tbody.prev(), "col:not(.k-group-col,.k-hierarchy-col)"), b, k, l, h.length), w && w.length && (n(i(c.lockedFooter, w.find(".k-grid-footer-wrap"), ">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"), b, o, l, h.length), n(w.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"), f, m, l, t.length)), a = c.tbody.children(":not(.k-grouping-row,.k-detail-row)"), c.lockedTable && (_ > m ? _ <= f && re(c.lockedTable.find(">tbody>tr.k-grouping-row"), c.table.find(">tbody>tr.k-grouping-row"), t.length) : _ > f && re(c.table.find(">tbody>tr.k-grouping-row"), c.lockedTable.find(">tbody>tr.k-grouping-row"), t.length), u = c.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")), s = 0, d = a.length; s < d; s += 1)n(i(u[s], a[s], ">td:not(.k-group-cell,.k-hierarchy-cell)"), f, m, l, t.length) }, _autoFitLeafColumn: function (e) { this.autoFitColumn(B(this.columns)[e]) }, autoFitColumn: function (t) { var r, l, o, a, n, i, s, d, c, u, p, g, m, b, k, _, v, w, C, y, S = this, T = S.options, x = S.columns, H = S.lockedHeader ? V(S.lockedHeader.find(">table>thead")).filter(h).length : 0, I = "col:not(.k-group-col):not(.k-hierarchy-col)", E = "td:visible:not(.k-group-cell):not(.k-hierarchy-cell)"; if (t = "number" == typeof t ? x[t] : Te(t) ? Re(R(x), function (e) { return e === t })[0] : Re(R(x), function (e) { return e.field === t })[0], t && f(t)) { for (i = t.minResizableWidth, r = Ee(t, B(x)), a = t.locked, o = a ? S.lockedHeader.children("table") : S.thead.parent(), l = o.find("[data-index='" + r + "']"), c = a ? S.lockedTable : S.table, u = S.footer || e(), S.footer && S.lockedContent && (u = S.footer.children(a ? ".k-grid-footer-locked" : ".k-grid-footer-wrap")), p = u.find("table").first(), S.lockedHeader && !a && (r -= H), g = 0; g < x.length && x[g] !== t; g++)x[g].hidden && r--; if (T.scrollable ? (n = o.find(I).eq(r).add(c.children("colgroup").find(I).eq(r)).add(p.find("colgroup").find(I).eq(r)), a || (s = c.parent(), d = s.scrollLeft())) : n = c.children("colgroup").find(I).eq(r), m = o.add(c).add(p), b = Ce(l), n.width(""), m.css("table-layout", "fixed"), n.width("auto"), m.addClass("k-autofitting"), m.css("table-layout", ""), k = Math.ceil(Math.max(Ce(l), Ce(c.find("tr:not(.k-grouping-row)").eq(0).children(E).eq(r)), Ce(p.find("tr").eq(0).children(E).eq(r)))) + 1, i && i > k && (k = i), n.width(k), t.width = k, T.scrollable) { for (_ = o.find("col"), w = 0, C = 0, y = _.length; C < y; C += 1)if (v = _[C].style.width, v && v.indexOf("%") == -1) w += parseInt(v, 10); else { if (!_.eq(C).hasClass("k-group-col")) { w = 0; break } w += parseInt(_.eq(C).width(), 10) } w && m.each(function () { this.style.width = w + "px" }) } rr.msie && 8 == rr.version && (m.css("display", "inline-table"), setTimeout(function () { m.css("display", "table") }, 1)), m.removeClass("k-autofitting"), d && s.scrollLeft(d), S.trigger(yt, { column: t, oldWidth: b, newWidth: k }), S._applyLockedContainersWidth(), S._syncLockedContentHeight(), S._syncLockedHeaderHeight() } }, reorderColumn: function (e, r, l) { var o, a, n = this, i = c(r, n.columns), s = i ? i.columns : n.columns, d = Ee(r, s), u = s[e], p = !!u.locked, h = A(n.columns).length; d !== e && (!r.locked && p && 1 == W(n.columns).length || r.locked && !p && 1 == h || (n._hideResizeHandle(), l === t && (l = e < d), a = [r], n._reorderHeader(a, u, l), n.lockedHeader && (D(n.thead), D(n.lockedHeader)), u.columns && (u = B(u.columns), u = u[l ? 0 : u.length - 1]), r.columns && (a = B(r.columns)), n._reorderContent(a, u, l), o = !!r.locked, o = o != p, r.locked = p, s.splice(l ? e : e + 1, 0, r), s.splice(d < e ? d : d + 1, 1), n._templates(), n._updateColumnCellIndex(), n._updateTablesWidth(), n._applyLockedContainersWidth(), n._syncLockedHeaderHeight(), n._syncLockedContentHeight(), n._updateFirstColumnClass(), o && (p ? n.trigger(Tt, { column: r }) : n.trigger(xt, { column: r })))) }, _updateColumnCellIndex: function () { var e, t = 0; this.lockedHeader && (e = this.lockedHeader.find("thead"), t = _(e, A(this.columns))), _(this.thead, W(this.columns), t) }, lockColumn: function (e) { var t, r = this.columns; e = "number" == typeof e ? r[e] : Re(r, function (t) { return t.field === e })[0], !e || e.locked || e.hidden || (t = A(r).length - 1, this.reorderColumn(t, e, !1)) }, unlockColumn: function (e) { var t, r = this.columns; e = "number" == typeof e ? r[e] : Re(r, function (t) { return t.field === e })[0], e && e.locked && !e.hidden && (t = A(r).length, this.reorderColumn(t, e, !0)) }, cellIndex: function (t) { var r = 0; return this.lockedTable && !e.contains(this.lockedTable[0], t[0]) && (r = B(A(this.columns)).length), e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t) + r }, _modelForContainer: function (t) { t = e(t), t.is("tr") || "popup" === this._editMode() || (t = t.closest("tr")); var r = t.attr(ge.attr("uid")); return this.dataSource.getByUid(r) }, _editable: function () { var t, r = this, l = r.selectable && r.selectable.options.multiple, o = r.options.editable, a = function () { var t = ve(), l = r._editContainer; !l || e.contains(l[0], t) || l[0] === t || e(t).closest(".k-animation-container").length || (r.editable.end() ? r.closeCell() : r._scrollVirtualWrapper()) }; o && (this.wrapper.addClass("k-editable"), t = r._editMode(), "incell" === t ? (r.table.add(r.lockedTable).on("mousedown" + $e, Ve + ">" + Ne, function (t) { var l = e(t.target); "incell" === r._editMode() && l.hasClass("k-checkbox-label") && l.prev().attr(ge.attr("bind")) && t.preventDefault() }), o.update !== !1 && r.wrapper.on(Rt + $e, "tr:not(.k-grouping-row) > td", function (t) { var o = e(this), a = r.lockedTable && o.closest("table")[0] === r.lockedTable[0]; o.hasClass("k-hierarchy-cell") || o.hasClass("k-detail-cell") || o.hasClass("k-group-cell") || o.hasClass("k-edit-cell") || o.has("a.k-grid-delete").length || o.has("button.k-grid-delete").length || o.closest("tbody")[0] !== r.tbody[0] && !a || e(t.target).is(":input") || (r.editable ? r.editable.end() ? (l && e(ve()).blur(), r.closeCell(), r.editCell(o)) : r._scrollVirtualWrapper() : r.editCell(o)) }).on("focusin" + $e, function () { e.contains(this, ve()) || (clearTimeout(r.timer), r.timer = null) }).on("focusout" + $e, function () { r.timer = setTimeout(a, 1) })) : o.update !== !1 && (r.wrapper.on(Rt + $e, "tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit", function (t) { t.preventDefault(), r.editRow(e(this).closest("tr")) }), r._isVirtualInlineEditable() && r.wrapper.on("focusout" + $e, "tr:not(.k-grouping-row) > td", function () { r.editable && !r.editable.end() && r._scrollVirtualWrapper() })), o.destroy !== !1 ? r.wrapper.on(Rt + $e, "tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete", function (t) { t.preventDefault(), t.stopPropagation(), r.removeRow(e(this).closest("tr")) }) : r.wrapper.on(Rt + $e, "tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete", function (e) { e.stopPropagation(), r._confirmation() || e.preventDefault() })) }, editCell: function (t) { var r, l, o, a; if (t = e(t), r = this, l = B(r.columns)[r.cellIndex(t)], o = r._modelForContainer(t), r.closeCell(), o && se(l, o) && !l.command) { if (r.trigger(Je, { model: o })) return; r._attachModelChange(o), r._editContainer = t, r._shouldClearEditableState && r._clearEditableState(), r.editable = t.addClass("k-edit-cell").kendoEditable({ fields: { field: l.field, format: l.format, editor: l.editor, values: l.values }, model: o, target: r, change: function (e) { r.trigger(Ye, { values: e.values, container: t, model: o }) && e.preventDefault() }, skipFocus: !(!r._isVirtualIncellEditable() || !r._editableState) }).data("kendoEditable"), a = t.parent().addClass("k-grid-edit-row"), r.lockedContent && ae(a[0], r._relatedRow(a).addClass("k-grid-edit-row")[0]), r.trigger(Qe, { container: t, model: o }) } }, _adjustLockedHorizontalScrollBar: function () { var e = this.table, t = e.parent(), r = e[0].offsetWidth > t[0].clientWidth ? ge.support.scrollbar() : 0; this.lockedContent.height(t.height() - r) }, _syncLockedContentHeight: function () { this.lockedTable && (this.touchScroller || this._adjustLockedHorizontalScrollBar(), this._adjustRowsHeight(this.table, this.lockedTable)) }, _syncLockedHeaderHeight: function () { var e, t; this.lockedHeader && (e = this.lockedHeader.children("table"), t = this.thead.parent(), this._adjustRowsHeight(e, t), oe(e, t)) }, _syncLockedFooterHeight: function () { this.lockedFooter && this.footer && this.footer.length && this._adjustRowsHeight(this.lockedFooter.children("table"), this.footer.find(".k-grid-footer-wrap > table")) }, _destroyEditable: function () { var e = this, t = function () { if (e.editable) { var t = e.editView ? e.editView.element : e._editContainer; t && (t.off(Rt + $e, "a.k-grid-cancel", e._editCancelClickHandler), t.off(Rt + $e, "a.k-grid-update", e._editUpdateClickHandler)), e._detachModelChange(), e.editable.destroy(), e.editable = null, e._editContainer = null, e._destroyEditView() } }; e.editable && ("popup" !== e._editMode() || e._isMobile ? t() : e._editContainer.data("kendoWindow").bind("deactivate", t).close()), e._actionSheet && (e._actionSheet.destroy(), e._actionSheet = null) }, _destroyEditView: function () { this.editView && (this.editView.purge(), this.editView = null, this.pane.navigate("")) }, _attachModelChange: function (e) { var t = this; t._modelChangeHandler = function (e) { t._modelChange({ field: e.field, model: this }) }, e.bind("change", t._modelChangeHandler) }, _detachModelChange: function () { var e = this, t = e._editContainer, r = e._modelForContainer(t); r && r.unbind(at, e._modelChangeHandler) }, closeCell: function (e) { var t, r, l, o = this, a = o._editContainer; a && (l = o._modelForContainer(a), e && o.trigger("cancel", { container: a, model: l }) || (o.trigger(ot, { type: e ? "cancel" : "save", model: l, container: a }), a.removeClass("k-edit-cell"), t = B(o.columns)[o.cellIndex(a)], r = a.parent().removeClass("k-grid-edit-row"), o.lockedContent && o._relatedRow(r).removeClass("k-grid-edit-row"), o._destroyEditable(), o._displayCell(a, t, l), o._shouldClearEditableState && o._clearEditableState(), o.trigger("itemChange", { item: r, data: l, ns: me }), o.lockedContent && ae(r.css("height", "")[0], o._relatedRow(r).css("height", "")[0]))) }, _displayCell: function (e, t, r) { var l = this, o = { storage: {}, count: 0 }, a = xe({}, ge.Template, l.options.templateSettings), n = ge.template(l._cellTmpl(t, o), a); o.count > 0 && (n = Le(n, o.storage)), e.empty().html(n(r)), l.angular("compile", function () { return { elements: e, data: [{ dataItem: r }] } }) }, removeRow: function (e) { this._confirmation(e) && this._removeRow(e) }, _removeRow: function (t) { var r, l, o, a, n = this, i = n._editMode(); "incell" !== i && n.cancelRow(), t = e(t), n.lockedContent && (t = t.add(n._relatedRow(t))), t = t.hide(), r = n._modelForContainer(t), r && !n.trigger(Xe, { row: t, model: r }) ? (a = n.dataSource.options.schema, n._selectedIds && a && a.model && (l = n.dataSource.options.schema.model.id, o = r[l], delete n._selectedIds[o]), n.dataSource.remove(r), "inline" !== i && "popup" !== i || n.dataSource.sync()) : "incell" === i && n._destroyEditable() }, _editMode: function () { var e = "incell", t = this.options.editable; return t !== !0 && (e = "string" == typeof t ? t : t.mode || e), e }, editRow: function (t) { var r, l, o, a = this; t instanceof ke ? r = t : (t = e(t), r = a._modelForContainer(t)), l = a._editMode(), a.cancelRow(), r && (t = a.tbody.children("[" + ge.attr("uid") + "=" + r.uid + "]"), a._attachModelChange(r), "popup" === l ? a._createPopupEditor(r) : "inline" === l ? a._createInlineEditor(t, r) : "incell" === l && e(t).children(Pe).each(function () { var t = e(this), l = B(a.columns)[a.cellIndex(t)]; if (r = a._modelForContainer(t), r && (!r.editable || r.editable(l.field)) && l.field && !l.selectable) return a.editCell(t), !1 }), o = a.editView ? a.editView.element : a._editContainer, o && (this._editCancelClickHandler || (this._editCancelClickHandler = Le(this._editCancelClick, this)), o.on(Rt + $e, "a.k-grid-cancel", this._editCancelClickHandler), this._editUpdateClickHandler || (this._editUpdateClickHandler = Le(this._editUpdateClick, this)), o.on(Rt + $e, "a.k-grid-update", this._editUpdateClickHandler))) }, _editUpdateClick: function (e) { e.preventDefault(), e.stopPropagation(), this.saveRow() }, _editCancelClick: function (t) { var r, l = this, o = l.options.navigatable, a = l.editable.options.model, n = l.editView ? l.editView.element : l._editContainer; t.preventDefault(), t.stopPropagation(), l.trigger("cancel", { container: n, model: a }) || (r = l.items().index(e(l.current()).parent()), l.cancelRow(), o && (l._setCurrent(l.items().eq(r).children().filter(Ne).first()), ie(l.table, !0))) }, _createPopupEditor: function (r) { var l, o, a, n, i, s, d, c, u, p, h, f, g, m = this, b = "<div " + ge.attr("uid") + '="' + r.uid + '" class="k-popup-edit-form' + (m._isMobile ? " k-mobile-list" : "") + '"><div class="k-edit-form-container">', k = [], _ = B(m.columns), v = m.options.editable, w = v.template, C = Te(v) ? v.window : {}, y = xe({}, ge.Template, m.options.templateSettings); if (!m.trigger(Je, { model: r })) { if (C = C || {}, w) for (typeof w === Lt && (w = window.unescape(w)), b += ge.template(w, y)(r), a = 0, n = _.length; a < n; a++)l = _[a], l.command && (p = ne(l.command, "edit"), p && (o = p)); else for (a = 0, n = _.length; a < n; a++)l = _[a], l.selectable || (l.command ? l.command && (p = ne(l.command, "edit"), p && (o = p)) : (b += '<div class="k-edit-label"><label for="' + l.field + '">' + (l.title || l.field || "") + "</label></div>", se(l, r) ? (k.push({ field: l.field, format: l.format, editor: l.editor, values: l.values }), b += "<div " + ge.attr("container-for") + '="' + l.field + '" class="k-edit-field"></div>') : (f = { storage: {}, count: 0 }, i = ge.template(m._cellTmpl(l, f), y), f.count > 0 && (i = Le(i, f.storage)), b += '<div class="k-edit-field">' + i(r) + "</div>"))); o && Te(o) && (Te(o.text) && (s = o.text.update, d = o.text.cancel), Te(o.iconClass) && (c = o.iconClass.update, u = o.iconClass.cancel), o.attr && (h = o.attr)), m._isMobile ? (b += "</div></div>", m.editView = m.pane.append("<div data-" + ge.ns + 'role="view" data-' + ge.ns + 'use-native-scrolling="true" data-' + ge.ns + 'init-widgets="false" class="k-grid-edit-form"><div data-' + ge.ns + 'role="header" class="k-header">' + m._createButton({ name: "update", text: s, attr: h }) + (C.title || "Edit") + m._createButton({ name: "canceledit", text: d, attr: h }) + "</div>" + b + "</div>"), g = m._editContainer = m.editView.element.find(".k-popup-edit-form")) : (b += '<div class="k-edit-buttons k-state-default">', b += m._createButton({ name: "update", text: s, attr: h, iconClass: c }) + m._createButton({ name: "canceledit", text: d, attr: h, iconClass: u }), b += "</div></div></div>", g = m._editContainer = e(b).appendTo(m.wrapper).eq(0).kendoWindow(xe({ modal: !0, resizable: !1, draggable: !0, title: "Edit", visible: !1, close: function (l) { if (l.userTriggered) { if (l.sender.element.focus(), m.trigger("cancel", { container: g, model: r })) return l.preventDefault(), t; var o = m.items().index(e(m.current()).parent()); m.cancelRow(), m.options.navigatable && (m._setCurrent(m.items().eq(o).children().filter(Ne).first()), ie(m.table, !0)) } } }, C))), m.editable = m._editContainer.kendoEditable({ fields: k, model: r, clearContainer: !1, target: m }).data("kendoEditable"), m._isMobile && g.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function () { e(this).next().children("input").click() }), m._openPopUpEditor(), m.trigger(Qe, { container: g, model: r }) } }, _openPopUpEditor: function () { this._isMobile ? this.pane.navigate(this.editView, this._editAnimation) : this._editContainer.data("kendoWindow").center().open() }, _createInlineEditor: function (t, r) { var l, o, a, n = this, i = []; n.trigger(Je, { model: r }) || (n.lockedContent && (t = t.add(n._relatedRow(t))), t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function () { if (o = e(this), l = B(n.columns)[n.cellIndex(o)], !l.command && se(l, r)) i.push({ field: l.field, format: l.format, editor: l.editor, values: l.values }), o.attr(ge.attr("container-for"), l.field), o.empty(); else if (l.command && (a = ne(l.command, "edit"))) { o.empty(); var t, s, d, c, u; Te(a) && (Te(a.text) && (t = a.text.update, s = a.text.cancel), Te(a.iconClass) && (d = a.iconClass.update, c = a.iconClass.cancel), a.attr && (u = a.attr)), e(n._createButton({ name: "update", text: t, attr: u, iconClass: d }) + n._createButton({ name: "canceledit", text: s, attr: u, iconClass: c })).appendTo(o) } }), n._editContainer = t, n._editContainer.addClass("k-grid-edit-row"), n._shouldClearEditableState && n._clearEditableState(), n.editable = new ge.ui.Editable(n._editContainer, { target: n, fields: i, model: r, skipFocus: !!(n._isVirtualInlineEditable() && n._editableState && n._editableState.field), clearContainer: !1 }), t.length > 1 && (ae(t[0], t[1]), n._applyLockedContainersWidth()), n.trigger(Qe, { container: t, model: r })) }, cancelRow: function (e) { var t, r = this, l = r._editContainer, o = r.virtualScrollable, a = o && o._isScrolledToBottom(); if (l) { if (t = r._modelForContainer(l), !t || e && r.trigger("cancel", { container: l, model: t })) return; r._destroyEditable(), r.dataSource.cancelChanges(t), r._isVirtualEditable() && a && r._restoreVirtualView(), r._clearEditableState(), r._displayRow("popup" !== r._editMode() ? l : r.tbody.find("[" + ge.attr("uid") + "=" + t.uid + "]")) } }, saveRow: function () { var t, r = this, l = this._editContainer, o = this._modelForContainer(l), a = e.Deferred(); return l && this.editable ? (t = r.editable && r.editable.end(), !t || this.trigger(Ye, { container: l, model: o }) ? (t || r._scrollVirtualWrapper(), a.reject().promise()) : (r._clearEditableState(), this.dataSource.sync())) : a.resolve().promise() }, _displayRow: function (t) { var r, l, o, a, n, i = this, s = i._modelForContainer(t), d = t.hasClass("k-state-selected"), c = t.hasClass("k-alt"); s && (i.lockedContent && (r = e((c ? i.lockedAltRowTemplate : i.lockedRowTemplate)(s)), i._relatedRow(t.last()).replaceWith(r)), i.angular("cleanup", function () { return { elements: t.get() } }), l = e((c ? i.altRowTemplate : i.rowTemplate)(s)), t.is(":visible") || l.hide(), t.replaceWith(l), i.trigger("itemChange", { item: l, data: s, ns: me }), r && r.length && i.trigger("itemChange", { item: r, data: s, ns: me }), a = l, n = [{ dataItem: s }], r && r.length && (a = l.add(r), n.push({ dataItem: s })), i.angular("compile", function () { return { elements: a.get(), data: n } }), d && (i.options.selectable || i._checkBoxSelection) && i.select(l.add(r)), r && ae(l[0], r[0]), o = l.next(), o.hasClass("k-detail-row") && o.is(":visible") && l.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse")) }, _showMessage: function (t, r) { var l, o, a, n = this; return n._isMobile ? (l = ge.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'), o = e(l(t)).appendTo(n.view.element), a = n._actionSheet = new ge.mobile.ui.ActionSheet(o, { cancel: t.cancelDelete, cancelTemplate: '<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>', close: function () { this.destroy() }, command: function (t) { var l = e(t.currentTarget).parent(); l.hasClass("km-actionsheet-cancel") || n._removeRow(r) }, popup: n._actionSheetPopupOptions }), a.open(r), !1) : window.confirm(t.title) }, _confirmation: function (e) { var t = this, r = t.options.editable, l = r === !0 || typeof r === Lt ? t.options.messages.editable.confirmation : r.confirmation; return Te(r) && typeof r.mode === Lt && typeof l !== zt && typeof l !== Lt && l !== !1 && (l = t.options.messages.editable.confirmation), l === !1 || null == l || (typeof l === zt && (l = l(t._modelForContainer(e))), t._showMessage({ confirmDelete: r.confirmDelete || t.options.messages.editable.confirmDelete, cancelDelete: r.cancelDelete || t.options.messages.editable.cancelDelete, title: l === !0 ? t.options.messages.editable.confirmation : l }, e)) }, cancelChanges: function () { var e = this; e.dataSource.cancelChanges(), e._isVirtualEditable() && e._virtualPageToTop(function () { e.virtualScrollable.scrollToTop() }) }, saveChanges: function () { var e = this, t = e.editable && e.editable.end(); !t && e.editable || e.trigger(st) ? t || e._scrollVirtualWrapper() : e.dataSource.sync() }, addRow: function () { var e, t, r = this, l = r.dataSource, o = r._editMode(), a = r.options.editable.createAt || "", n = l.pageSize(), i = l.view() || [], s = a.toLowerCase() === Dt, d = r._isVirtualEditable(); r.editable && r.editable.end() || !r.editable ? ("incell" != o && r.cancelRow(), e = l.indexOf(i[0]), s && (e += i.length, n && !l.options.serverPaging && n <= i.length && (e -= 1)), e < 0 && (e = l.page() > l.totalPages() ? (l.page() - 1) * n : 0), r.options.navigatable && "incell" == o && r._removeCurrent(), d ? r._virtualAddRow() : (t = l.insert(e, {}), r._editModel(t))) : r._scrollVirtualWrapper() }, _editModel: function (e) { var t, r, l, o, a = this, n = a.options.editable.createAt || "", i = a._editMode(); e && (t = e.uid, r = a.lockedContent ? a.lockedTable : a.table, l = r.find("tr[" + ge.attr("uid") + "=" + t + "]"), o = l.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(a._firstEditableColumnIndex(l)), "inline" === i && l.length ? a.editRow(l) : "popup" === i ? a.editRow(e) : o.length && a.editCell(o), "bottom" == n.toLowerCase() && a.lockedContent && (a.lockedContent[0].scrollTop = a.content[0].scrollTop = a.table[0].offsetHeight)) }, _virtualAddRow: function () { var e = this, t = (e.options.editable.createAt || "").toLowerCase() === Dt; e._clearEditableState(), t ? e._virtualAddRowAtBottom() : e._virtualAddRowAtTop() }, _virtualAddRowAtTop: function () { var e, t = this, r = t.dataSource, l = t.virtualScrollable; 1 === r.page() ? (e = r.insert(0, {}), t._editModel(e), l.scrollToTop()) : t._virtualPageToTop(function () { e = r.insert(0, {}), t._editModel(e), l.scrollToTop() }) }, _virtualAddRowAtBottom: function () { var e, t = this, r = t.dataSource, l = t.virtualScrollable, o = r.total(); r.at(o - 1) instanceof ke ? (e = r.insert(o, {}), t._virtualPageToBottom(function () { t._editModel(e), l.scrollToBottom() })) : t._virtualPageToBottom(function () { e = r.insert(o, {}), t._editModel(e), l.scrollToBottom() }) }, _virtualPageToTop: function (e) { var t = this; t._virtualPage(0, t.dataSource.take(), function () { e() }) }, _virtualPageToBottom: function (e) { var t = this, r = t.dataSource, l = r.take(), o = r.total(), a = o > l ? o - l : 0; t._virtualPage(a, l, function () { e() }) }, _virtualPage: function (e, t, r) { var l = this; l._isVirtualEditable() && (l.virtualScrollable._preventScroll = !0, l.virtualScrollable._page(e, t, r)) }, _restoreVirtualView: function () { var e = this, t = e.dataSource, r = e.virtualScrollable, l = r.verticalScrollbar, o = r.wrapper, a = t.take(), n = t.total(), i = t.currentRangeStart(), s = n >= a ? We.min(i, n - a) : i, d = r.itemHeight, c = l.scrollTop() / d; e._virtualPage(s, a, function () { var e = r.itemHeight, t = c * e; r._isScrolledToBottom() ? r.scrollToBottom() : (r._preventScroll = l.scrollTop() !== t, l.scrollTop(t), o.scrollTop(l.scrollTop() - s * e)) }) }, _firstEditableColumnIndex: function (e) { var t, r, l, o = this, a = B(o.columns), n = o._modelForContainer(e); for (r = 0, l = a.length; r < l; r++)if (t = a[r], n && (!n.editable || n.editable(t.field)) && !t.command && t.field && t.hidden !== !0) return r; return -1 }, _toolbar: function () { var t, r = this, l = r.wrapper, o = r.options.toolbar, a = r.options.editable; o && (t = r.wrapper.find(".k-grid-toolbar"), t.length || (De(o) || (o = typeof o === Lt ? o : r._toolbarTmpl(o).replace($t, "\\#"), o = Le(ge.template(o), r)), t = e('<div class="k-header k-grid-toolbar" />').html(o({})).prependTo(l), r.angular("compile", function () { return { elements: t.get() } })), a && a.create !== !1 && t.on(Rt + $e, ".k-grid-add", function (e) { e.preventDefault(), r.addRow() }).on(Rt + $e, ".k-grid-cancel-changes", function (e) { e.preventDefault(), r.cancelChanges() }).on(Rt + $e, ".k-grid-save-changes", function (e) { e.preventDefault(), r.saveChanges() }), t.on(Rt + $e, ".k-grid-excel", function (e) { e.preventDefault(), r.saveAsExcel() }), t.on(Rt + $e, ".k-grid-pdf", function (e) { e.preventDefault(), r.saveAsPDF() })) }, _toolbarTmpl: function (e) { var t, r, l = this, o = ""; if (Ie(e)) for (t = 0, r = e.length; t < r; t++)o += l._createButton(e[t]); return o }, _createButton: function (e) { var r, l = e.template || Xt, a = typeof e === Lt ? e : e.name || e.text, n = ir[a] ? ir[a].className : "k-grid-" + (a || "").replace(/\s/g, ""), i = { className: n, text: a, attr: "", iconClass: "" }, s = this.options.messages.commands; if (!(a || Te(e) && e.template)) throw Error("Custom commands should have name specified"); return Te(e) ? (e = xe(!0, {}, e), e.className && Ee(i.className, e.className.split(" ")) < 0 ? e.className += " " + i.className : e.className === t && (e.className = i.className), "edit" === a && (e = xe(!0, {}, e), e.text = Te(e.text) ? e.text.edit : e.text, e.iconClass = Te(e.iconClass) ? e.iconClass.edit : e.iconClass), e.attr && (Te(e.attr) && (e.attr = o(e.attr)), typeof e.attr === Lt && (r = e.attr.match(/class="(.+?)"/), r && Ee(r[1], e.className.split(" ")) < 0 && (e.className += " " + r[1]))), i = xe(!0, i, ir[a], { text: s[a] }, e)) : i = xe(!0, i, ir[a], { text: s[a] }), ge.template(l)(i) }, _hasFooters: function () { return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find(".k-grid-footer").length > 0 }, _groupable: function () { var t = this; t._groupableClickHandler ? t.table.add(t.lockedTable).off(Rt + $e, t._groupableClickHandler) : t._groupableClickHandler = function (r) { var l = e(this), o = l.closest("tr"), a = t._groupRows ? t._groupRows[t.wrapper.find(".k-grouping-row").index(o)] : {}; l.hasClass("k-i-collapse") ? t.trigger("groupCollapse", { group: a, element: o }) || t.collapseGroup(o) : t.trigger("groupExpand", { group: a, element: o }) || t.expandGroup(o), r.preventDefault(), r.stopPropagation() }, t._isLocked() ? t.lockedTable.on(Rt + $e, ".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse", t._groupableClickHandler) : t.table.on(Rt + $e, ".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse", t._groupableClickHandler), t._attachGroupable() }, _attachGroupable: function () {
                var t = this, r = t.wrapper, l = t.options.groupable, o = Ue + "[" + ge.attr("field") + "]", a = t.content ? ".k-grid-header:first " + o : "table:first>.k-grid-header " + o; l && l.enabled !== !1 && (r.has("div.k-grouping-header")[0] || e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r), t.groupable && t.groupable.destroy(), t.groupable = new me.Groupable(r, xe({}, l, {
                    draggable: t._draggableInstance, groupContainer: ">div.k-grouping-header", dataSource: t.dataSource, draggableElements: a, filter: a, allowDrag: t.options.reorderable, change: function (e) {
                        t.trigger("group", { groups: e.groups }) ? e.preventDefault() : (t._clearEditableState(), t.dataSource.options.endless && (t.dataSource.options.endless = null,
                            t._endlessPageSize = t.dataSource.options.pageSize, t.dataSource._skip = 0, t.dataSource._page = 1))
                    }
                })))
            }, _continuousItems: function (t, r) { var l, o, a, n, i, s, d, c; if (this.lockedContent) { for (l = this, o = l.table.add(l.lockedTable), a = e(t, o[0]), n = e(t, o[1]), i = r ? A(l.columns).length : 1, s = r ? l.columns.length - i : 1, d = [], c = 0; c < a.length; c += i)ze.apply(d, a.slice(c, c + i)), ze.apply(d, n.splice(0, s)); return d } }, _selectable: function () { var r, l, o, a, n = this, i = [], s = n._isLocked(), d = n.options.selectable; d && (n.selectable && n.selectable.destroy(), n._selectedIds = {}, d = ge.ui.Selectable.parseOptions(d), r = d.multiple, l = d.cell, n._hasDetails() && (i[i.length] = ".k-detail-row"), (n.options.groupable || n._hasFooters() || n._groups()) && (i[i.length] = ".k-grouping-row,.k-group-footer"), i = i.join(","), "" !== i && (i = ":not(" + i + ")"), o = n.table, s && (o = o.add(n.lockedTable)), a = ">" + (l ? Be : "tbody>tr" + i), n.selectable = new ge.ui.Selectable(o, { filter: a, aria: !0, multiple: r, change: function () { l || n._persistSelectedRows(), n.trigger(at) }, useAllItems: s && r && l, relatedTarget: function (t) { var r, o, a, i; if (!l && s) { for (o = e(), a = 0, i = t.length; a < i; a++)r = n._relatedRow(t[a]), Ee(r[0], t) < 0 && (o = o.add(r)); return o } }, continuousItems: function () { return n._continuousItems(a, l) } }), n.options.navigatable && o.on("keydown" + $e, function (a) { var i = n.current(), d = a.target; if (a.keyCode === Se.SPACEBAR && !a.shiftKey && e.inArray(d, o) > -1 && !i.is(".k-edit-cell,.k-header") && i.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")) { if (a.preventDefault(), a.stopPropagation(), i = l ? i : i.parent(), s && !l && (i = i.add(n._relatedRow(i))), r) if (a.ctrlKey) { if (i.hasClass(_t)) return i.removeClass(_t), n.trigger(at), t } else n.selectable.clear(); else n.selectable.clear(); l || (n.selectable._lastActive = i), n.selectable.value(i) } else !l && (e(d).is("td") || e(d).is("table") && Ee(d, this._navigatableTables)) && (a.shiftKey && a.keyCode == Se.LEFT || a.shiftKey && a.keyCode == Se.RIGHT || a.shiftKey && a.keyCode == Se.UP || a.shiftKey && a.keyCode == Se.DOWN || a.keyCode === Se.SPACEBAR && a.shiftKey) && (a.preventDefault(), a.stopPropagation(), i = i.parent(), s && (i = i.add(n._relatedRow(i))), r ? (n.selectable._lastActive || (n.selectable._lastActive = i), n.selectable.selectRange(n.selectable._firstSelectee(), i)) : (n.selectable.clear(), n.selectable.value(i))) })) }, _clipboard: function () { var e, t = this.options, r = t.selectable; r && t.allowCopy && (e = this, t.navigatable || e.table.add(e.lockedTable).attr("tabindex", 0).on("mousedown" + $e + " keydown" + $e, ".k-detail-cell", function (e) { e.target !== e.currentTarget && e.stopImmediatePropagation() }).on("mousedown" + $e, Ve + ">" + Ne, Le(ce, e)), e.copyHandler = Le(e.copySelection, e), e.updateClipBoardState = function () { e.areaClipBoard && e.areaClipBoard.val(e.getTSV()).focus().select() }, e.bind("change", e.updateClipBoardState), e.wrapper.on("keydown", e.copyHandler), e.clearAreaHandler = Le(e.clearArea, e), e.wrapper.on("keyup", e.clearAreaHandler)) }, copySelection: function (t) { t instanceof jQuery.Event && !t.ctrlKey && !t.metaKey || e(t.target).is("input:visible,textarea:visible") || window.getSelection && "" + window.getSelection() || document.selection && document.selection.createRange().text || (this.areaClipBoard || (this.areaClipBoard = e("<textarea />").css({ position: "fixed", top: "50%", left: "50%", opacity: 0, width: 0, height: 0 }).appendTo(this.wrapper)), this.areaClipBoard.val(this.getTSV()).focus().select()) }, getTSV: function () { var t, r, l, o, a, n, i = this, s = i.select(), d = "\t", c = i.options.allowCopy, u = !0; return e.isPlainObject(c) && c.delimeter && (d = c.delimeter), t = "", s.length && (s.eq(0).is("tr") && (s = s.find("td:not(.k-group-cell)")), u && s.filter(":visible"), r = [], l = this.columns.length, o = i._isLocked() && A(i.columns).length, a = !0, e.each(s, function (t, n) { var s, d, c, p; n = e(n), s = n.closest("tr"), d = s.index(), c = n.index(), u && (c -= n.prevAll(":hidden").length), o && a && (a = e.contains(i.lockedTable[0], n[0])), i._groups() && a && (c -= i._groups()), c = a ? c : c + o, l > c && (l = c), p = n.text(), r[d] || (r[d] = []), r[d][c] = p }), n = r.length, r = e.each(r, function (e, t) { t && (r[e] = t.slice(l), n > e && (n = e)) }), e.each(r.slice(n), function (e, r) { t += r ? r.join(d) + "\r\n" : "\r\n" })), t }, clearArea: function (t) { var r; this.areaClipBoard && t && t.target === this.areaClipBoard[0] && (r = this.options.navigatable ? e(this.current()).closest("table") : this.table, ie(r, !0)), this.areaClipBoard && (this.areaClipBoard.remove(), this.areaClipBoard = null) }, _minScreenSupport: function () { var t = this.hideMinScreenCols(); t && (this.minScreenResizeHandler = Le(this.hideMinScreenCols, this), e(window).on("resize", this.minScreenResizeHandler)) }, hideMinScreenCols: function () { var e = this.columns, t = window.innerWidth > 0 ? window.innerWidth : screen.width; return this._iterateMinScreenCols(e, t) }, _iterateMinScreenCols: function (e, r) { var l, o, a, n = !1; for (l = 0; l < e.length; l++)o = e[l], a = o.minScreenWidth, a !== t && null !== a && (n = !0, a > r ? this.hideColumn(o) : this.showColumn(o)), !o.hidden && o.columns && (n = this._iterateMinScreenCols(o.columns, r) || n); return n }, _relatedRow: function (t) { var r, l, o = this.lockedTable; return t = e(t), o ? (r = t.closest(this.table.add(this.lockedTable)), l = r.find(">tbody>tr").index(t), r = r[0] === this.table[0] ? o : this.table, r.find(">tbody>tr").eq(l)) : t }, _relatedCell: function (t) { var r, l, o = this.lockedTable; return t = e(t), o ? (r = t.closest(this.table.add(this.lockedTable)), l = r.find(">tbody>tr>td").index(t), r = r[0] === this.table[0] ? o : this.table, r.find(">tbody>tr>td").index(l)) : t }, clearSelection: function () { var e = this; return e.selectable && e.selectable.clear(), e._checkBoxSelection ? (e._deselectCheckRows(e.select()), t) : (e.options.persistSelection ? e._persistSelectedRows() : e._selectedIds = {}, e.trigger(at), t) }, select: function (r) { var l = this, o = l.selectable, a = ge.ui.Selectable.parseOptions(this.options.selectable), n = a.cell; return r = l.table.add(l.lockedTable).find(r), r.length ? (o && !o.options.multiple && (o.clear(), r = r.first()), l._isLocked() && (r = r.add(r.map(function () { return n ? l._relatedCell(this) : l._relatedRow(this) }))), o ? o.value(r) : (r.each(function () { e(this).addClass(_t).find(wt).prop("checked", !0).attr("aria-label", "Deselect row").attr("aria-checked", !0) }), l.select().length === l.items().length && l._toggleHeaderCheckState(!0), n || l._persistSelectedRows(), l.trigger(at)), t) : o ? o.value() : l.items().filter("." + _t) }, _toggleHeaderCheckState: function (e) { var t = this; e ? t.thead.add(t.lockedHeader).find("tr " + wt).prop("checked", !0).attr("aria-checked", !0).attr("aria-label", "Deselect all rows") : t.thead.add(t.lockedHeader).find("tr " + wt).prop("checked", !1).attr("aria-checked", !1).attr("aria-label", "Select all rows") }, _deselectCheckRows: function (t) { var r = this; t = r.table.add(r.lockedTable).find(t), r._isLocked() && (t = t.add(t.map(function () { return r._relatedRow(this) }))), t.each(function () { e(this).removeClass(_t).find(wt).attr("aria-checked", !1).prop("checked", !1).attr("aria-label", "Select row") }), r._toggleHeaderCheckState(!1), r.options.persistSelection ? r._persistSelectedRows() : r._selectedIds = {}, r.trigger(at) }, _persistSelectedRows: function () { var e, t, r, l, o = this, a = o.items(), n = o.dataSource.options, i = n.schema, s = {}; if (i && i.model && i.model.id) for (r = i.model.id, o.select().each(function () { t = o.dataItem(this), s[t[r]] = !0 }), l = 0; l < a.length; l++)t = o.dataItem(a[l]), e = t[r], s[e] ? o._selectedIds[e] = !0 : delete o._selectedIds[e] }, selectedKeyNames: function () { var e, t = this, r = []; for (e in t._selectedIds) r.push(e); return r.sort(), r }, _updateCurrentAttr: function (t, r) { var l = e(t).data("headerId"); e(t).removeClass(bt).closest("table").removeAttr("aria-activedescendant"), l ? (l = l.replace(this._cellId, ""), e(t).attr("id", l)) : e(t).removeAttr("id"), r.data("headerId", r.attr("id")).attr("id", this._cellId).addClass(bt).closest("table").attr("aria-activedescendant", this._cellId), this._current = r }, _scrollCurrent: function () { var t, r, l, o, a, n, i = this._current, s = this.options.scrollable; i && s && (t = i.parent(), r = t.closest("table").parent(), l = r.is(".k-grid-content-locked,.k-grid-header-locked"), o = r.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"), a = e(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0], o && (s.virtual ? (n = Math.max(Ee(t[0], this._items(t.parent())), 0), this._rowVirtualIndex = this.virtualScrollable.itemIndex(n), this.virtualScrollable.scrollIntoView(t)) : this._scrollTo(this._relatedRow(t)[0], a)), this.lockedContent && (this.lockedContent[0].scrollTop = a.scrollTop), l || this._scrollTo(i[0], a)) }, current: function (e) { return this._setCurrent(e, !0) }, _setCurrent: function (t, r) { var l = this._current; return t = e(t), t.length && (l && l[0] === t[0] || (this._updateCurrentAttr(l, t), this._scrollCurrent(), r || this.trigger(Ht, { element: t }))), t && t.length && (this._lastCellIndex = t.parent().children(Pe).index(t)), this._current }, _removeCurrent: function () { this._current && (this._current.removeClass(bt), this._current = null) }, _scrollTo: function (t, r) { var l, o = t.tagName.toLowerCase(), a = "td" === o || "th" === o, n = t[a ? "offsetLeft" : "offsetTop"], i = t[a ? "offsetWidth" : "offsetHeight"], s = r[a ? "scrollLeft" : "scrollTop"], d = r[a ? "clientWidth" : "clientHeight"], c = n + i, u = 0, p = 0, h = 0; tr && a && (l = e(t).closest("table")[0], rr.msie ? p = l.offsetLeft : rr.mozilla && (h = l.offsetLeft - ge.support.scrollbar())), s = Math.abs(s + p - h), u = s > n ? n : c > s + d ? i <= d ? c - d : n : s, u = Math.abs(u + p) + h, r[a ? "scrollLeft" : "scrollTop"] = u }, _navigatable: function () { var t, r, l, o = this; o.options.navigatable && (t = o.table.add(o.lockedTable), r = o.thead.parent().add(e(">table", o.lockedHeader)), l = t, o.options.scrollable && (l = l.add(r), r.attr(Et, -1)), this._navigatableTables = l, l.off("mousedown" + $e + " focus" + $e + " focusout" + $e + " keydown" + $e), r.on("keydown" + $e, Le(o._openHeaderMenu, o)).find("a.k-link").attr("tabIndex", -1), t.attr(Et, We.max(t.attr(Et) || 0, 0)).on("mousedown" + $e + " keydown" + $e, ".k-detail-cell", function (e) { e.target !== e.currentTarget && e.stopImmediatePropagation() }), l.on(ge.support.touch ? "touchstart" + $e : "mousedown" + $e, Ve + ">" + Ne, Le(ce, o)).on("focus" + $e, Le(o._tableFocus, o)).on("focusout" + $e, Le(o._tableBlur, o)).on("keydown" + $e, Le(o._tableKeyDown, o))) }, _openHeaderMenu: function (e) { e.altKey && e.keyCode == Se.DOWN && (this.current().find(".k-grid-filter, .k-header-column-menu").click(), e.stopImmediatePropagation()) }, _setTabIndex: function (e) { this._navigatableTables.attr(Et, -1), e.attr(Et, 0) }, _tableFocus: function (t) { var r = this.current(), l = e(t.currentTarget); r && r.is(":visible") ? r.addClass(bt) : this._setCurrent(l.find(je)), this._setTabIndex(l) }, _tableBlur: function () { var e = this.current(); e && e.removeClass(bt) }, _tableKeyDown: function (r) { var l, o = this.current(), a = this.virtualScrollable && this.virtualScrollable.fetching(), n = e(r.target), i = !r.isDefaultPrevented() && !n.is(":button,a,:input,a>.k-icon"); return a ? (r.preventDefault(), t) : (o = o ? o : e(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(je), o.length && (l = !1, i && r.keyCode == Se.UP && (l = this._moveUp(o, r.shiftKey)), i && r.keyCode == Se.DOWN && (l = this._moveDown(o, r.shiftKey)), i && r.keyCode == (tr ? Se.LEFT : Se.RIGHT) && (l = this._moveRight(o, r.altKey, r.shiftKey, r.ctrlKey, r.currentTarget)), i && r.keyCode == (tr ? Se.RIGHT : Se.LEFT) && (l = this._moveLeft(o, r.altKey, r.shiftKey, r.ctrlKey, r.currentTarget)), i && r.keyCode == Se.PAGEDOWN && (l = this._handlePageDown()), i && r.keyCode == Se.PAGEUP && (l = this._handlePageUp()), i && r.keyCode == Se.HOME && (l = this._handleHome(o, r.ctrlKey)), i && r.keyCode == Se.END && (l = this._handleEnd(o, r.ctrlKey)), r.keyCode != Se.ENTER && r.keyCode != Se.F2 || (l = this._handleEnterKey(o, r.currentTarget, n)), r.keyCode == Se.ESC && (l = this._handleEscKey(o, r.currentTarget)), r.keyCode == Se.TAB && (l = this._handleTabKey(o, r.currentTarget, r.shiftKey)), l && (r.preventDefault(), r.stopPropagation())), t) }, _moveLeft: function (t, r, l, o, a) { var n, i, s = t.parent(), d = s.parent(); return r ? this.collapseRow(s) : o && t.is(".k-header") && this.options.reorderable ? this._moveColumn(t, !0) : (i = d.find(Ve).index(s), n = this._prevHorizontalCell(d, t, i), n[0] || (l ? this.lockedTable ? (n = this._relatedRow(s), e.contains(this.lockedTable[0], s[0]) && (n = n.prevAll(Oe + ":first")), n = n.children(Pe + ":last")) : n = this._tabNext(t, a, !0) : (d = this._horizontalContainer(d), n = this._prevHorizontalCell(d, t, i), n[0] !== t[0] && ie(d.parent(), !0))), this._setCurrent(n)), !0 }, _moveRight: function (t, r, l, o, a) { var n, i, s = t.parent(), d = s.parent(); return r ? this.expandRow(s) : o && t.is(".k-header") && this.options.reorderable ? this._moveColumn(t, !1) : (i = d.find(Ve).index(s), n = this._nextHorizontalCell(d, t, i), n[0] || (l ? this.lockedTable ? (n = this._relatedRow(s), e.contains(this.table[0], s[0]) && (n = n.nextAll(Oe + ":first")), n = n.children(Pe + ":first")) : n = this._tabNext(t, a, !1) : (d = this._horizontalContainer(d, !0), n = this._nextHorizontalCell(d, t, i), n[0] !== t[0] && ie(d.parent(), !0))), this._setCurrent(n)), !0 }, _moveUp: function (e, t) { var r, l, o = e.parent().parent(); return t ? (r = e.parent(), r = r.prevAll(Oe + ":first"), r = e.parent().is(Oe) ? r.children().eq(e.index()) : r.children(Pe + ":last")) : (r = this._prevVerticalCell(o, e), r[0] || (this._lastCellIndex = 0, o = this._verticalContainer(o, !0), r = this._prevVerticalCell(o, e), r[0] && ie(o.parent(), !0))), l = this._lastCellIndex || 0, this._setCurrent(r), this._lastCellIndex = l, !0 }, _moveDown: function (e, t) { var r, l, o = e.parent().parent(); return t ? (r = e.parent(), r = r.nextAll(Oe + ":first"), r = e.parent().is(Oe) ? r.children().eq(e.index()) : r.children(Pe + ":first")) : (r = this._nextVerticalCell(o, e), r[0] || (this._lastCellIndex = 0, o = this._verticalContainer(o), r = this._nextVerticalCell(o, e), r[0] && ie(o.parent(), !0))), l = this._lastCellIndex || 0, this._setCurrent(r), this._lastCellIndex = l, !0 }, _moveColumn: function (t, r) { var l = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + ":visible"), o = g(x(this.columns)), a = l.index(e(t)), n = r ? -1 : 1, i = o[a], s = H(o, this.columns, a, a + n); s >= 0 && this.reorderColumn(s, i, r) }, _handleHome: function (e, t) { var r, l = e.parent(), o = l.parent(), a = this.lockedTable && this.lockedTable.children("tbody")[0] === o[0], n = o[0] === this.tbody[0]; if (t ? r = this.lockedTable ? this.lockedTable.find(Ge + ">" + Ne + ":first") : this.table.find(Ge + ">" + Ne + ":first") : (n || a) && (n && this.lockedTable && (l = this._relatedRow(l)), r = l.children(Pe + ":first")), r && r.length) return this._setCurrent(r), !0 }, _handleEnd: function (e, t) { var r, l = e.parent(), o = l.parent(), a = this.lockedTable && this.lockedTable.children("tbody")[0] === o[0], n = o[0] === this.tbody[0]; if (t ? r = this.table.find(Ke + ">" + Ne + ":last") : (n || a) && (!n && this.lockedTable && (l = this._relatedRow(l)), r = l.children(Pe + ":last")), r && r.length) return this._setCurrent(r), !0 }, _handlePageDown: function () { return !!this.options.pageable && (this.dataSource.page(this.dataSource.page() + 1), !0) }, _handlePageUp: function () { return !!this.options.pageable && (this.dataSource.page(this.dataSource.page() - 1), !0) }, _handleTabKey: function (t, r, l) { var o, a = this.options.editable && "incell" == this._editMode(); return !(!a || t.is("th")) && (o = e(ve()).closest(".k-edit-cell"), o[0] && o[0] !== t[0] && (t = o), o = this._tabNext(t, r, l), !!o.length && (this._handleEditing(t, o, o.closest("table")), !0)) }, _handleEscKey: function (t, r) { var l, o = ve(), a = "incell" == this._editMode(); return pe(t) ? (a ? this.closeCell(!0) : (l = e(t).parent().index(), o && o.blur(), this.cancelRow(!0), l >= 0 && this._setCurrent(this.items().eq(l).children(Ne).first())), rr.msie && rr.version < 9 && document.body.focus(), ie(r, !0), !0) : !!t.has(o).length && (ie(r, !0), !0) }, _toggleCurrent: function (e, t) { var r = e.parent(); return r.is(".k-grouping-row") ? (r.find(".k-icon:first").click(), !0) : !(t || !r.is(".k-master-row")) && (r.find(".k-icon:first").click(), !0) }, _handleEnterKey: function (t, r, l) { var o, a, n = this.options.editable && this.options.editable.update !== !1, i = l.closest("[role=gridcell]"); return l.is("table") || e.contains(t[0], l[0]) || (t = i), t.is("th") ? (o = t.find(".k-link"), o.length ? o.click() : t.find(wt).focus(), !0) : !!this._toggleCurrent(t, n) || (a = t.find(":kendoFocusable:first"), a[0] && !t.hasClass("k-edit-cell") && t.hasClass("k-state-focused") ? (a.focus(), !0) : !(!n || l.is(":button,.k-button,textarea")) && (i[0] || (i = t), this._handleEditing(i, !1, r), !0)) }, _nextHorizontalCell: function (e, t, r) { var l, o, a, n = t.nextAll(Pe); return n.length || (l = e.find(Ve), o = l.index(t.parent()), o != -1) ? n.first() : t.hasClass("k-header") ? (a = [], F([A(this.columns)[0]], O(l.eq(0).children(":visible").first()), a, 0, 0), a[r] ? a[r][0] : t) : t.parent().hasClass("k-filter-row") ? l.last().children(Pe).first() : l.eq(r).children(Pe).first() }, _prevHorizontalCell: function (e, t, r) { var l, o, a, n, i = t.prevAll(Pe); return i.length || (l = e.find(Ve), o = l.index(t.parent()), o != -1) ? i.first() : t.hasClass("k-header") ? (a = [], n = A(this.columns), F([n[n.length - 1]], O(l.eq(0).children().last()), a, 0, 0), a[r] ? a[r][0] : t) : t.parent().hasClass("k-filter-row") ? l.last().children(Pe).last() : l.eq(r).children(Pe).last() }, _currentDataIndex: function (e, r) { var l, o = r.attr("data-index"); return o ? (l = A(this.columns).length, l && !e.closest("div").hasClass("k-grid-content-locked")[0] ? o - l : o) : t }, _prevVerticalCell: function (t, r) { var l, o = r.parent(), a = t.children(Ve), n = a.index(o), i = this._currentDataIndex(t, r); if (i || r.hasClass("k-header")) return l = N(r), l.eq(l.length - 2); if (i = Math.max(o.children(Pe).index(r), this._lastCellIndex || 0), o.hasClass("k-filter-row")) return V(t).filter(h).eq(i); if (n == -1) { if (o = t.find("tr.k-filter-row:visible"), !o[0]) return V(t).filter(h).eq(i) } else o = 0 === n ? e() : a.eq(n - 1); return l = o.children(Pe), l.eq(l.length > i ? i : 0) }, _nextVerticalCell: function (e, r) { var l, o, a, n, i, s, d = r.parent(), c = e.children(Ve), u = c.index(d), p = this._currentDataIndex(e, r); if (u != -1 && p === t && r.hasClass("k-header")) return O(r).eq(1); if (p = p ? parseInt(p, 10) : d.children(Pe).index(r), p = Math.max(p, this._lastCellIndex || 0), d = c.eq(u == -1 ? 0 : u + r[0].rowSpan), o = p, this._currentDataIndex(e, r) !== t) for (a = d.children(":not(.k-group-cell):not(.k-hierarchy-cell)"), n = a.filter(":hidden"), i = 0, s = n.length; i < s; i++)a.index(n[i]) < p && o--; return p = o, l = d.children(Pe), l.eq(l.length > p ? p : 0) }, _verticalContainer: function (e, t) { var r = e.parent(), l = this._navigatableTables.length, o = Math.floor(l / 2), a = Ee(r[0], this._navigatableTables); return t && (o *= -1), a += o, (a >= 0 || a < l) && (r = this._navigatableTables.eq(a)), r.find(t ? "thead" : "tbody") }, _horizontalContainer: function (e, t) { var r, l, o = this._navigatableTables.length; return o <= 2 ? e : (r = e.parent(), l = Ee(r[0], this._navigatableTables), l += t ? 1 : -1, !t || 2 != l && l != o ? !t && (1 == l || l < 0) ? e : this._navigatableTables.eq(l).find("thead, tbody") : e) }, _tabNext: function (e, t, r) { var l = !0, o = r ? e.prevAll(Pe + ":first") : e.nextAll(":visible:first"); return o.length || (o = e.parent(), this.lockedTable && (l = r && t == this.lockedTable[0] || !r && t == this.table[0], o = this._relatedRow(o)), l && (o = o[r ? "prevAll" : "nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")), o = o.children(Pe + (r ? ":last" : ":first"))), o }, _handleEditing: function (r, l, o) { var a, n, i = this, s = e(ve()), d = i._editMode(), c = rr.msie, u = c && rr.version < 9, p = i._editContainer, h = i.options.editable && i.options.editable.update !== !1; if (o = e(o), n = "incell" == d ? r.hasClass("k-edit-cell") : r.parent().hasClass("k-grid-edit-row"), i.editable) { if (e.contains(p[0], s[0]) && (rr.opera || u ? s.blur().change().triggerHandler("blur") : (s.blur(), c && s.blur())), !i.editable) return ie(o), t; if (!i.editable.end()) return i._setCurrent("incell" == d ? p : p.children().filter(Pe).first()), a = p.find(":kendoFocusable:first")[0], a && a.focus(), t; "incell" == d ? i.closeCell() : (i.saveRow(), n = !0) } l && i._setCurrent(l), u && document.body.focus(), ie(o, !0), h && (!n && !l || l) && ("incell" == d ? i.editCell(i.current()) : i.editRow(i.current().parent())) }, _wrapper: function () { var e = this, t = e.table, r = e.options.height, l = e.element; l.is("div") || (l = l.wrap("<div/>").parent()), e.wrapper = l.addClass("k-grid k-widget k-display-block"), r && (e.wrapper.css(It, r), t.css(It, "auto")), e._initMobile() }, _initMobile: function () { var t, r = this.options, l = this; this._isMobile = r.mobile === !0 && ge.support.mobileOS || "phone" === r.mobile || "tablet" === r.mobile, this._isMobile && (t = this.wrapper.addClass("k-grid-mobile").wrap("<div data-" + ge.ns + 'stretch="true" data-' + ge.ns + 'role="view" data-' + ge.ns + 'init-widgets="false"></div>').parent(), this.pane = ge.mobile.ui.Pane.wrap(t), this.view = this.pane.view(), this._actionSheetPopupOptions = e(document.documentElement).hasClass("km-root") ? { modal: !1 } : { align: "bottom center", position: "bottom center", effect: "slideIn:up" }, r.height && this.pane.element.parent().css(It, r.height), this._editAnimation = "slide", this.view.bind("show", function () { l._isLocked() && (l._updateTablesWidth(), l._applyLockedContainersWidth(), l._syncLockedContentHeight(), l._syncLockedHeaderHeight(), l._syncLockedFooterHeight()) })) }, _tbody: function () { var t, r = this, l = r.table; t = l.find(">tbody"), t.length || (t = e("<tbody/>").appendTo(l)), r.tbody = t.attr("role", "rowgroup") }, _scrollable: function () { var t, r, l, o, a, n, i, s = this, d = s.options, c = d.scrollable, u = c !== !0 && c.virtual && !s.virtualScrollable, p = !ge.support.kineticScrollNeeded || u ? ge.support.scrollbar() : 0; c && (t = s.wrapper.children(".k-grid-header"), t[0] || (t = e('<div class="k-grid-header" />').insertBefore(s.table)), t.css(tr ? "padding-left" : "padding-right", c.virtual ? p + 1 : p), r = e('<table role="grid" />'), lr && r.attr("cellspacing", 0), r.width(s.table[0].style.width), r.append(s.thead), t.empty().append(e('<div class="k-grid-header-wrap k-auto-scrollable" />').append(r)), s.content = s.table.parent(), s.content.is(".k-virtual-scrollable-wrap, .km-scroll-container") && (s.content = s.content.parent()), s.content.is(".k-grid-content, .k-virtual-scrollable-wrap") || (s.content = s.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()), u && s._createVirtualScrollable(), l = t.children(".k-grid-header-wrap"), s.scrollables = l.add(s.content), o = s.wrapper.find(".k-grid-footer"), o.length && (s.scrollables = s.scrollables.add(o.children(".k-grid-footer-wrap"))), l.unbind("scroll" + $e).bind("scroll" + $e, function (e) { s._scrollLeft !== this.scrollLeft && s.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft) }), c.virtual ? s.content.find(">.k-virtual-scrollable-wrap").unbind("scroll" + $e).bind("scroll" + $e, function () { s.scrollables.scrollLeft(this.scrollLeft), s.lockedContent && (s.lockedContent[0].scrollTop = this.scrollTop) }) : (a = c.endless, n = s.dataSource.options.pageSize, a && (s._endlessPageSize = n), s.content.unbind("scroll" + $e).bind("scroll" + $e, function (e) { s._scrollLeft = this.scrollLeft, s.scrollables.not(e.currentTarget).scrollLeft(s._scrollLeft), s.lockedContent && e.currentTarget == s.content[0] && (s.lockedContent[0].scrollTop = this.scrollTop), a && this.scrollTop + this.clientHeight - this.scrollHeight >= -10 && !s._endlessFetchInProgress && s._endlessPageSize < s.dataSource.total() && (s._skipRerenderItemsCount = s._endlessPageSize, s._endlessPageSize = s._endlessPageSize + n, s.dataSource.options.endless = !0, s._endlessFetchInProgress = !0, s.dataSource.pageSize(s._endlessPageSize)) }), i = s.content.data("kendoTouchScroller"), i && i.destroy(), i = ge.touchScroller(s.content), i && i.movable && (s.touchScroller = i, i.movable.bind("change", function (e) { s.scrollables.scrollLeft(-e.sender.x), s.lockedContent && s.lockedContent.scrollTop(-e.sender.y) }), s.one(dt, function (e) { e.sender.wrapper.addClass("k-grid-backface") })))) }, _createVirtualScrollable: function () { var e = this; e.virtualScrollable && e.virtualScrollable.destroy(), e.virtualScrollable = new nr(e.content, { dataSource: e.dataSource, itemHeight: function () { return e._averageRowHeight() }, page: function () { e._restoreEditableState() }, scroll: function () { e._focusEditable() } }), e.virtualScrollable.bind(ft, Le(e._onVirtualPaging, e)) }, _onVirtualPaging: function () { var e = this; e._cacheEditableState(), e._isVirtualIncellEditable() && (e._shouldClearEditableState = !1, e.closeCell(), e._shouldClearEditableState = !0) }, _isVirtualEditable: function () { return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable() }, _isVirtualInlineEditable: function () { return this.virtualScrollable && this._editMode() === Mt }, _isVirtualIncellEditable: function () { return this.virtualScrollable && this._editMode() === qt }, _isVirtualPopupEditable: function () { return this.virtualScrollable && "popup" === this._editMode() }, _scrollVirtualWrapper: function () { var e = this, t = e.virtualScrollable; (e._isVirtualInlineEditable() || e._isVirtualIncellEditable()) && (t._isScrolledToBottom() ? t._scrollWrapperToBottom() : t._isScrolledToTop() && t._scrollWrapperToTop()) }, _scrollVirtualWrapperOnColumnResize: function () { var e = this.virtualScrollable; e && e._scrollWrapperOnColumnResize() }, _restoreEditableState: function () { var t, l, o = this, a = o._editableState || {}, n = a.model, i = o.dataSource, s = o._isVirtualInlineEditable(), d = o._isVirtualIncellEditable(); (s || d) && n && i._getByUid(n.uid, i.view()) && (s ? (o._shouldClearEditableState = !1, o.editRow(n), o._focusEditable()) : d && (t = o.tbody.children(r(Pt, n.uid)), l = e(t).children(r(At, a.field)), l[0] && (o._shouldClearEditableState = !1, o.editCell(l), o._focusEditable()))), o._shouldClearEditableState = !0 }, _focusEditable: function () { var e = this, t = (e._editableState || {}).field, l = e._editContainer; l && !Ae(l[0], ve()) && e._canFocusEditable() && (e._isVirtualInlineEditable() ? l.find(r(Ft, t)).find(kt).eq(0).focus() : e._isVirtualIncellEditable() && l.find(kt).eq(0).focus()) }, _canFocusEditable: function () { var e = this; return (e._isVirtualIncellEditable() || e._isVirtualInlineEditable()) && e.virtualScrollable._isElementVisible(e._editContainer) }, _cacheEditableState: function () { var t, r, l = this, o = l._editContainer, a = o ? l._modelForContainer(o) : null, n = l._isVirtualInlineEditable(), i = l._isVirtualIncellEditable(); (n || i) && a && (l._clearEditableState(), t = e(ve()), o && t[0] && Ae(o[0], t[0]) && (t.change(), r = ge.widgetInstance(t, ge.ui), r && De(r.value) && t.is(Wt) && (r.value(t.val()), r.trigger(at))), n ? l._editableState = { model: a, field: t.closest("[" + ge.attr(Ft) + "]").attr(ge.attr(Ft)) } : i && (l._editableState = { model: a, field: o.attr(ge.attr(At)) })) }, _clearEditableState: function () { var e = this; e.virtualScrollable && (e._editableState = null) }, _destroyVirtualScrollable: function () { var e = this; e._clearEditableState(), e.virtualScrollable && e.virtualScrollable.element && e.virtualScrollable.destroy(), e.virtualScrollable = null }, _renderNoRecordsContent: function () { var t, r = this; r.options.noRecords && (t = r.table.parent().children("." + Ct), t.length && (r.angular("cleanup", function () { return { elements: t.get() } }), t.remove()), r.dataSource && r.dataSource.view().length || (t = e(r.noRecordsTemplate({})).insertAfter(r.table), r.angular("compile", function () { return { elements: t.get(), data: [{}] } }))) }, _setContentWidth: function (t) { var r, l = this, o = "k-grid-content-expander", a = '<div class="' + o + '"></div>', n = l.resizable; l.options.scrollable && l.wrapper.is(":visible") && (r = l.table.parent().children("." + o), l._setContentWidthHandler = Le(l._setContentWidth, l), l.dataSource && l.dataSource.view().length ? r[0] && (r.remove(), n && n.unbind("resize", l._setContentWidthHandler)) : (r[0] || (r = e(a).appendTo(l.table.parent()), n && n.bind("resize", l._setContentWidthHandler)), l.thead && (r.width(l.thead.width()), isNaN(parseFloat(t, 10)) || l.content.scrollLeft(t))), l._applyLockedContainersWidth(), l.lockedHeader && 0 === l.table[0].clientWidth && (l.table[0].style.width = "1px")) }, _applyLockedContainersWidth: function () { if (this.options.scrollable && this.lockedHeader) { var e, t = this.thead.parent(), r = t.parent(), l = this.wrapper[0].clientWidth, o = this._groups(), a = ge.support.scrollbar(), n = this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"), i = t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"), s = E(n), d = E(i); o > 0 && (s += Ce(this.lockedHeader.find(".k-group-cell:first")) * o), s >= l && (s = l - 3 * a), this.lockedHeader.add(this.lockedContent).width(s), r[0].style.width = r.parent().width() - s - 2 + "px", t.add(this.table).width(d), this.virtualScrollable && !ar && (l -= a), this.content[0].style.width = l - s - 2 + "px", this.lockedFooter && this.lockedFooter.length && (this.lockedFooter.width(s), e = this.footer.find(".k-grid-footer-wrap"), e[0].style.width = r[0].clientWidth + "px", e.children().first().width(d)) } }, _setContentHeight: function () { var e, t = this, r = t.options, l = t.wrapper.innerHeight(), o = t.wrapper.children(".k-grid-header"), a = ge.support.scrollbar(), n = (r.scrollable || {}).height; r.scrollable && t.wrapper.is(":visible") && (l -= ye(o), t.pager && t.pager.element.is(":visible") && (l -= ye(t.pager.element)), r.groupable && (l -= ye(t.wrapper.children(".k-grouping-header"))), r.toolbar && (l -= ye(t.wrapper.children(".k-grid-toolbar"))), t.footerTemplate && (l -= ye(t.wrapper.children(".k-grid-footer"))), e = function (e) { var t, r; return !!e[0].style.height || (t = e.height(), e.height("auto"), r = e.height(), t != r ? (e.height(""), !0) : (e.height(""), !1)) }, e(t.wrapper) ? l > 2 * a ? (t.lockedContent && (a = t.table[0].offsetWidth > t.table.parent()[0].clientWidth ? a : 0, t.lockedContent.height(l - a)), t.content.height(l)) : t.content.height(2 * a + 1) : n && t.content.css("height", n)) }, _averageRowHeight: function () { var e, t = this, r = t._items(t.tbody).length, l = t._rowHeight; return 0 === r ? l : (t._rowHeight || (t._rowHeight = l = ye(t.table) / r, t._sum = l, t._measures = 1), e = ye(t.table) / r, l !== e && (t._measures++ , t._sum += e, t._rowHeight = t._sum / t._measures), l) }, _dataSource: function () { var e, r = this, l = r.options, o = l.dataSource; o = Ie(o) ? { data: o } : o, Te(o) && (xe(o, { table: r.table, fields: r.columns }), e = l.pageable, Te(e) && e.pageSize !== t && (o.pageSize = e.pageSize)), r.dataSource && r._refreshHandler ? r.dataSource.unbind(at, r._refreshHandler).unbind(qe, r._progressHandler).unbind(Me, r._errorHandler) : (r._refreshHandler = Le(r.refresh, r), r._progressHandler = Le(r._requestStart, r), r._errorHandler = Le(r._error, r)), r.dataSource = be.create(o).bind(at, r._refreshHandler).bind(qe, r._progressHandler).bind(Me, r._errorHandler) }, _error: function () { this._progress(!1) }, _requestStart: function () { this._progress(!0) }, _modelChange: function (t) { var r, l, o, a, n, i, s, d, c, u, p = this, h = p.tbody, f = t.model, g = p.tbody.find("tr[" + ge.attr("uid") + "=" + f.uid + "]"), m = g.hasClass("k-alt"), b = p._items(h).index(g), k = p.lockedContent; if (k && (r = p._relatedRow(g)), g.add(r).children(".k-edit-cell").length && !p.options.rowTemplate) g.add(r).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function () { l = e(this), o = B(p.columns)[p.cellIndex(l)], o.field === t.field && (l.hasClass("k-edit-cell") ? l.addClass("k-dirty-cell") : p._displayCell(l, o, f)) }); else if (!g.hasClass("k-grid-edit-row")) { for (i = e().add(g), k && (a = (m ? p.lockedAltRowTemplate : p.lockedRowTemplate)(f), i = i.add(r), r.replaceWith(a)), p.angular("cleanup", function () { return { elements: i.get() } }), a = (m ? p.altRowTemplate : p.rowTemplate)(f), g.replaceWith(a), a = p._items(h).eq(b), u = [{ dataItem: f }], k && (g = g.add(r), r = p._relatedRow(a)[0], ae(a[0], r), a = a.add(r), u.push({ dataItem: f })), p.angular("compile", function () { return { elements: a.get(), data: u } }), n = p.options.selectable, (n || p._checkBoxSelection) && g.hasClass("k-state-selected") && p.select(a), d = i.children(":not(.k-group-cell,.k-hierarchy-cell)"), s = a.children(":not(.k-group-cell,.k-hierarchy-cell)"), b = 0, c = p.columns.length; b < c; b++)o = p.columns[b], l = s.eq(b), n && d.eq(b).hasClass("k-state-selected") && l.addClass("k-state-selected"); p.trigger("itemChange", { item: a, data: f, ns: me }) } }, _pageable: function () { var t, r = this, l = r.options.pageable; l && (t = r.wrapper.children("div.k-grid-pager"), t.length || (t = e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)), r.pager && r.pager.destroy(), r.pager = "object" == typeof l && l instanceof ge.ui.Pager ? l : new ge.ui.Pager(t, xe({}, l, { dataSource: r.dataSource })), r.pager.bind("pageChange", function (e) { r.trigger("page", { page: e.index }) && e.preventDefault() })) }, _footer: function () { var t, r, l, o = this, a = o.dataSource.aggregates(), n = "", i = o.footerTemplate, s = o.options, d = o.footer || o.wrapper.find(".k-grid-footer"); i ? (n = e(o._wrapFooter(i(a))), d.length ? (r = n, o.angular("cleanup", function () { return { elements: d.get() } }), d.replaceWith(r), d = o.footer = r) : d = o.footer = s.scrollable ? s.pageable ? n.insertBefore(o.wrapper.children("div.k-grid-pager")) : n.appendTo(o.wrapper) : n.insertBefore(o.tbody), o.angular("compile", function () { return { elements: d.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(), data: He(o.columns, function (e) { return { column: e, aggregate: a[e.field] } }) } })) : d && !o.footer && (o.footer = d), d.length && (s.scrollable && (t = d.attr("tabindex", -1).children(".k-grid-footer-wrap"), o.scrollables = e(o.scrollables.filter(function () { return !e(this).is(".k-grid-footer-wrap") }).toArray()).add(t)), o._footerWidth && d.find("table").css("width", o._footerWidth), t && (l = o.content.scrollLeft(), s.scrollable !== !0 && s.scrollable.virtual && (l = o.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()), t.scrollLeft(l))), o.lockedContent && (o._appendLockedColumnFooter(), o._applyLockedContainersWidth(), o._syncLockedFooterHeight()) }, _wrapFooter: function (t) { var r = this, l = "", o = ge.support.mobileOS ? 0 : ge.support.scrollbar(); return r.options.scrollable ? (l = e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table' + (lr ? ' cellspacing="0"' : "") + "><tbody>" + t + "</tbody></table></div></div>"), r._appendCols(l.find("table")), l.css(tr ? "padding-left" : "padding-right", o), l) : '<tfoot class="k-grid-footer">' + t + "</tfoot>" }, _columnMenu: function () {
                var e, r, l, o, a, n, i, s, d, c = this, u = B(c.columns), p = c.options, h = p.columnMenu, f = Re(c.columns, function (e) {
                    return e.columns !== t;
                }).length > 0, g = this._isMobile, m = function (e) { c.trigger(tt, { field: e.field, container: e.container }) }, b = function (e) { c.trigger(lt, { field: e.field, container: e.container }) }, k = function (e) { ie(e.closest("table"), !0) }, _ = function (e) { c.trigger("sort", { sort: e.sort }) ? e.preventDefault() : (c._clearEditableState(), c.dataSource.options.endless && (c.dataSource.options.endless = null, c._endlessPageSize = c.dataSource.options.pageSize, c.dataSource.pageSize(c.dataSource.options.pageSize))) }, v = function (e) { c.trigger("filter", { filter: e.filter, field: e.field }) ? e.preventDefault() : (c._clearEditableState(), c.dataSource.options.endless && (c.dataSource.options.endless = null, c._endlessPageSize = c.dataSource.options.pageSize, c.dataSource.pageSize(c.dataSource.options.pageSize))) }, w = p.$angular; if (h) for ("boolean" == typeof h && (h = {}), n = V(c.thead), i = 0, s = n.length; i < s; i++)r = u[i], d = n.eq(i), r.command || !r.field && !d.attr("data-" + ge.ns + "field") || (e = d.data("kendoColumnMenu"), e && e.destroy(), o = r.sortable !== !1 && h.sortable !== !1 && p.sortable !== !1 && xe({}, p.sortable, { compare: (r.sortable || {}).compare }), a = !(!p.filterable || r.filterable === !1 || h.filterable === !1) && xe({ pane: c.pane }, p.filterable, r.filterable), r.filterable && r.filterable.dataSource && (a.forceUnique = !1, a.checkSource = r.filterable.dataSource), a && (a.format = r.format), l = { dataSource: c.dataSource, values: r.values, columns: h.columns, sortable: o, filterable: a, messages: h.messages, owner: c, closeCallback: k, init: m, open: b, pane: c.pane, sort: _, filtering: v, filter: g ? ":not(.k-column-active)" : "", lockedColumns: !f && r.lockable !== !1 && A(u).length > 0 }, w && (l.$angular = w), d.kendoColumnMenu(l))
            }, _headerCells: function () { return this.thead.find("th").filter(function () { var t = e(this); return !t.hasClass("k-group-cell") && !t.hasClass("k-hierarchy-cell") }) }, _filterable: function () { var e, t, r, l, o, a, n, i = this, s = B(i.columns), d = function (e) { i.trigger(et, { field: e.field, container: e.container }) }, c = function (e) { ie(e.closest("table"), !0) }, u = function (e) { i.trigger("filter", { filter: e.filter, field: e.field }) ? e.preventDefault() : (i._clearEditableState(), i.dataSource.options.endless && (i.dataSource.options.endless = null, i._endlessPageSize = i.dataSource.options.pageSize, i.dataSource.pageSize(i.dataSource.options.pageSize))) }, p = function (e) { i.trigger(rt, { field: e.field, container: e.container }) }, h = i.options.filterable; if (h && typeof h.mode == Lt && h.mode.indexOf("menu") == -1 && (h = !1), h && !i.options.columnMenu) for (t = V(i.thead), l = 0, o = t.length; l < o; l++)r = t.eq(l), s[l].filterable === !1 || s[l].command || !s[l].field && !r.attr("data-" + ge.ns + "field") || (e = r.data("kendoFilterMenu"), e && e.destroy(), e = r.data("kendoFilterMultiCheck"), e && e.destroy(), a = s[l].filterable, n = xe({}, h, a, { dataSource: i.dataSource, values: s[l].values, format: s[l].format, closeCallback: c, title: s[l].title || s[l].field, init: d, open: p, pane: i.pane, change: u }), a && a.messages && (n.messages = xe(!0, {}, h.messages, a.messages)), a && a.dataSource && (n.forceUnique = !1, n.checkSource = a.dataSource), a && a.multi ? r.kendoFilterMultiCheck(n) : r.kendoFilterMenu(n)) }, _filterRow: function () { var t, r, l, o, a, n, i, s, d, c, u, p, h, f, g, m = this; if (m._hasFilterRow()) for (r = m.options.$angular, l = B(m.columns), o = m.options.filterable, a = m.thead.find(".k-filter-row"), n = function (e) { m.trigger("filter", { filter: e.filter, field: e.field }) ? e.preventDefault() : (m._clearEditableState(), m.dataSource.options.endless && (m.dataSource.options.endless = null, m._endlessPageSize = m.dataSource.options.pageSize, m.dataSource.pageSize(m.dataSource.options.pageSize))) }, this._updateHeader(this.dataSource.group().length), i = 0; i < l.length; i++)if (d = l[i], c = m.options.filterable.operators, u = !1, p = e("<th/>"), h = d.field, d.hidden && p.hide(), a.append(p), h && d.filterable !== !1) { if (f = d.filterable && d.filterable.cell || {}, s = m.options.dataSource, s instanceof be && (s = m.options.dataSource.options), g = xe(!0, {}, o.messages), d.filterable && xe(!0, g, d.filterable.messages), f.enabled === !1) { p.html("&nbsp;"); continue } f.dataSource && (s = f.dataSource, u = !0), d.filterable && d.filterable.operators && (c = d.filterable.operators), t = { column: d, dataSource: m.dataSource, suggestDataSource: s, customDataSource: u, field: h, messages: g, values: d.values, template: f.template, delay: f.delay, inputWidth: f.inputWidth, suggestionOperator: f.suggestionOperator, minLength: f.minLength, dataTextField: f.dataTextField, operator: f.operator, operators: c, showOperators: f.showOperators, change: n }, r && (t.$angular = r), e("<span/>").attr(ge.attr("field"), h).appendTo(p).kendoFilterCell(t) } else p.html("&nbsp;") }, _sortable: function () { var e, t, r, l, o, a, n = this, i = B(n.columns), s = n.options.sortable, d = function (e) { n.trigger("sort", { sort: e.sort }) ? e.preventDefault() : n._clearEditableState() }; if (s) { for (l = V(n.thead), o = 0, a = l.length; o < a; o++)e = i[o], e.sortable !== !1 && !e.command && e.field && (r = l.eq(o), t = r.data("kendoColumnSorter"), t && t.destroy(), r.attr("data-" + ge.ns + "field", e.field).kendoColumnSorter(xe({}, s, e.sortable, { dataSource: n.dataSource, aria: !0, filter: ":not(.k-column-active)", change: d }))); l = null } }, _columns: function (t) { var r, l, o, a = this, n = a.table, i = n.find("col"), s = a.options.dataSource; if (t = t.length ? t : He(n.find("th"), function (t, r) { t = e(t); var l = t.attr(ge.attr("sortable")), o = t.attr(ge.attr("filterable")), a = t.attr(ge.attr("type")), n = t.attr(ge.attr("groupable")), s = t.attr(ge.attr("field")), d = t.attr(ge.attr("title")), c = t.attr(ge.attr("menu")); return s || (s = t.text().replace(/\s|[^A-z0-9]/g, "")), { field: s, type: a, title: d, sortable: "false" !== l, filterable: "false" !== o, groupable: "false" !== n, menu: c, template: t.attr(ge.attr("template")), width: i.eq(r).css("width") } }), r = !(a.table.find("tbody tr").length > 0 && (!s || !s.transport)), a.options.scrollable) { if (o = t, l = A(t), t = W(t), l.length > 0 && 0 === t.length) throw Error("There should be at least one non locked column"); $(a.element.find("tr:has(th):first"), o), t = l.concat(t) } a.columns = d(t, r), e.grep(B(a.columns), function (e) { return e.selectable }).length && (a._selectedIds = {}, a._checkBoxSelection = !0, a.wrapper.on(Rt + $e, "tbody > tr " + wt, Le(a._checkboxClick, a)), a.wrapper.on(Rt + $e, "thead > tr " + wt, Le(a._headerCheckboxClick, a))) }, _headerCheckboxClick: function (t) { var r = this, l = e(t.target), o = l.prop("checked"), a = l.closest(".k-grid.k-widget").getKendoGrid(); r === a && (o ? r.select(a.items()) : r.clearSelection()) }, _checkboxClick: function (t) { var r = this, l = e(t.target).closest("tr"), o = !l.hasClass(_t); r === l.closest(".k-grid.k-widget").getKendoGrid() && (o ? r.select(l) : r._deselectCheckRows(l)) }, _groups: function () { var e = this.dataSource.group(); return e ? e.length : 0 }, _tmpl: function (e, r, a, n) { var i, s, d, c, u, p = this, h = xe({}, ge.Template, p.options.templateSettings), f = h.paramName, g = r.length, m = { storage: {}, count: 0 }, b = p._hasDetails(), k = [], _ = p._groups(), v = p.options.navigatable, w = ge.attr("field"), C = ""; if (!e) { for (e = "<tr", a && k.push("k-alt"), b && k.push("k-master-row"), k.length && (e += ' class="' + k.join(" ") + '"'), g && (e += " " + ge.attr("uid") + '="#=' + ge.expr("uid", h.paramName) + '#"'), e += " role='row'>", _ > 0 && !n && (e += l(_)), b && (e += '<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" ' + jt + '="' + Kt + '" tabindex="-1"></a></td>'), i = 0; i < g; i++)d = r[i], s = d.template, c = typeof s, u = d.field, p._editMode() === qt && u && (d.attributes = d.attributes || {}, p.virtualScrollable && (d.attributes[w] = u), C = p._dirtyCellTemplate(u, f), d.attributes["class"] = d.attributes["class"] || "", d.attributes["class"].indexOf(C) < 0 && (d.attributes["class"] += C)), d.command && (d.attributes = d.attributes || {}, t !== d.attributes["class"] ? d.attributes["class"] += " k-command-cell" : d.attributes["class"] = "k-command-cell"), e += "<td" + o(d.attributes), v && (e += " aria-describedby='" + d.headerAttributes.id + "'"), e += " role='gridcell'>", e += p._cellTmpl(d, m), e += "</td>"; e += "</tr>" } return e = ge.template(e, h), m.count > 0 ? Le(e, m.storage) : e }, _dirtyCellTemplate: function (e, t) { var r; return e && t ? (r = "[" === e.charAt(0) ? ge.expr(e, t + ".dirtyFields") : t + ".dirtyFields['" + e + "']", "#= " + t + " && " + t + ".dirty && " + t + ".dirtyFields && " + r + " ? ' k-dirty-cell' : '' #") : "" }, _headerCellText: function (e) { var t = this, r = xe({}, ge.Template, t.options.templateSettings), l = e.headerTemplate, o = typeof l, a = e.title || e.field || ""; return o === zt ? a = ge.template(l, r)({}) : o === Lt && (a = l), a }, _cellTmpl: function (e, t) { var r, l, o = this, a = xe({}, ge.Template, o.options.templateSettings), n = e.template, i = a.paramName, s = e.field, d = "", c = e.format, u = typeof n, p = e.values; if (e.command) { if (Ie(e.command)) { for (r = 0, l = e.command.length; r < l; r++)d += e.command[r].visible ? ge.format("#= {0}(data)? '{1}':'' #", e.command[r].visible, o._createButton(e.command[r]).replace($t, "\\#")) : o._createButton(e.command[r]).replace($t, "\\#"); return d } return o._createButton(e.command).replace($t, "\\#") } return e.selectable ? Zt : (d += o._dirtyIndicatorTemplate(s, i), u === zt ? (t.storage["tmpl" + t.count] = n, d += "#=this.tmpl" + t.count + "(" + i + ")#", t.count++) : u === Lt ? d += n : p && p.length && Te(p[0]) && "value" in p[0] && s ? (d += "#var v =" + ge.stringify(Q(p)).replace($t, "\\#") + "#", d += "#var f = v[", a.useWithBlock || (d += i + "."), d += s + "]#", d += "${f != null ? f : ''}") : (d += e.encoded ? "#:" : "#=", c && (d += 'kendo.format("' + c.replace(Ut, "\\$1") + '",'), s ? (s = ge.expr(s, i), d += s + "==null?'':" + s) : d += "''", c && (d += ")"), d += "#"), d) }, _dirtyIndicatorTemplate: function (e, t) { var r; return e && t ? (r = "[" === e.charAt(0) ? ge.expr(e, t + ".dirtyFields") : t + ".dirtyFields['" + e + "']", "#= " + t + " && " + t + ".dirty && " + t + ".dirtyFields && " + r + " ? '<span class=\"k-dirty\"></span>' : '' #") : "" }, _templates: function () { var t = this, r = t.options, l = t.dataSource, o = l.group(), a = t.footer || t.wrapper.find(".k-grid-footer"), n = l.aggregate(), i = B(t.columns), s = B(A(t.columns)), d = r.scrollable ? B(W(t.columns)) : i; if (r.scrollable && s.length) { if (r.rowTemplate || r.altRowTemplate) throw Error("Having both row template and locked columns is not supported"); t.rowTemplate = t._tmpl(r.rowTemplate, d, !1, !0), t.altRowTemplate = t._tmpl(r.altRowTemplate || r.rowTemplate, d, !0, !0), t.lockedRowTemplate = t._tmpl(r.rowTemplate, s), t.lockedAltRowTemplate = t._tmpl(r.altRowTemplate || r.rowTemplate, s, !0) } else t.rowTemplate = t._tmpl(r.rowTemplate, d), t.altRowTemplate = t._tmpl(r.altRowTemplate || r.rowTemplate, d, !0); t._hasDetails() && (t.detailTemplate = t._detailTmpl(r.detailTemplate || "")), (t._group && !Fe(n) || !Fe(n) && !a.length || Re(i, function (e) { return e.footerTemplate }).length) && (t.footerTemplate = t._footerTmpl(i, n, "footerTemplate", "k-footer-template")), o && Re(i, function (e) { return e.groupFooterTemplate }).length && (n = e.map(o, function (e) { return e.aggregates }), t.groupFooterTemplate = t._footerTmpl(d, n, "groupFooterTemplate", "k-group-footer", s.length), r.scrollable && s.length && (t.lockedGroupFooterTemplate = t._footerTmpl(s, n, "groupFooterTemplate", "k-group-footer"))), t.options.noRecords && (t.noRecordsTemplate = t._noRecordsTmpl()) }, _noRecordsTmpl: function () { var t, r, l, o = '<div class="{0}">{1}</div>', a = '<div class="k-grid-norecords-template"{1}>{0}</div>', n = this.options.scrollable && !this.wrapper[0].style.height ? ' style="margin:0 auto;position:static;"' : "", i = { storage: {}, count: 0 }, s = e.extend({}, ge.Template, this.options.templateSettings), d = s.paramName, c = ""; return t = this.options.noRecords.template ? this.options.noRecords.template : ge.format(a, this.options.messages.noRecords, n), r = typeof t, "function" === r ? (i.storage["tmpl" + i.count] = t, c += "#=this.tmpl" + i.count + "(" + d + ")#", i.count++) : "string" === r && (c += t), l = ge.template(ge.format(o, Ct, c), s), i.count > 0 && (l = e.proxy(l, i.storage)), l }, _footerTmpl: function (e, t, r, a, n) { var i, s, d, c, u, p = this, h = xe({}, ge.Template, p.options.templateSettings), f = h.paramName, g = "", m = {}, b = 0, k = {}, _ = p._groups(), v = p.dataSource._emptyAggregates(t); for (g += '<tr class="' + a + '">', _ > 0 && !n && (g += l(_)), p._hasDetails() && (g += '<td class="k-hierarchy-cell">&nbsp;</td>'), i = 0, s = e.length; i < s; i++)u = e[i], d = u[r], c = typeof d, g += "<td" + o(u.footerAttributes) + ">", d ? (c !== zt && (k = v[u.field] ? xe({}, h, { paramName: f + "['" + u.field + "']" }) : {}, d = ge.template(d, k)), m["tmpl" + b] = d, g += "#=this.tmpl" + b + "(" + f + ")#", b++) : g += "&nbsp;", g += "</td>"; return g += "</tr>", g = ge.template(g, h), b > 0 ? Le(g, m) : g }, _detailTmpl: function (e) { var t = this, r = "", o = xe({}, ge.Template, t.options.templateSettings), a = o.paramName, n = {}, i = 0, s = t._groups(), d = g(B(t.columns)).length, c = typeof e; return r += '<tr class="k-detail-row">', s > 0 && (r += l(s)), r += '<td class="k-hierarchy-cell"></td><td class="k-detail-cell"' + (d ? ' colspan="' + d + '"' : "") + ">", c === zt ? (n["tmpl" + i] = e, r += "#=this.tmpl" + i + "(" + a + ")#", i++) : r += e, r += "</td></tr>", r = ge.template(r, o), i > 0 ? Le(r, n) : r }, _hasDetails: function () { var e = this; return null !== e.options.detailTemplate || (e._events[Ze] || []).length }, _hasFilterRow: function () { var t = this.options.filterable, r = t && typeof t.mode == Lt && t.mode.indexOf("row") != -1, l = this.columns, o = e.grep(l, function (e) { return e.filterable === !1 }); return l.length && o.length == l.length && (r = !1), r }, _details: function () { var t = this; if (t.options.scrollable && t._hasDetails() && A(t.columns).length) throw Error("Having both detail template and locked columns is not supported"); t.table.on(Rt + $e, ".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse", function (r) { var l, o, a = e(this), n = a.closest("td.k-hierarchy-cell"), i = a.hasClass("k-i-expand"), s = a.closest("tr.k-master-row"), d = t.detailTemplate, c = t._hasDetails(), u = i ? Gt : Kt, p = !!i; return a.toggleClass("k-i-expand", !i).toggleClass("k-i-collapse", i).attr(jt, u), n.attr("aria-expanded", p), l = s.next(), c && !l.hasClass("k-detail-row") && (o = t.dataItem(s), l = e(d(o)).addClass(s.hasClass("k-alt") ? "k-alt" : "").insertAfter(s), t.angular("compile", function () { return { elements: l.get(), data: [{ dataItem: o }] } }), t.trigger(Ze, { masterRow: s, detailRow: l, data: o, detailCell: l.find(".k-detail-cell") })), t.trigger(i ? ct : ut, { masterRow: s, detailRow: l }), l.toggle(i), r.preventDefault(), !1 }) }, dataItem: function (t) { if (t = e(t)[0], !t) return null; var r, l, o = this.tbody.children(), a = /k-grouping-row|k-detail-row|k-group-footer/, n = t.sectionRowIndex; for (l = n, r = 0; r < n; r++)a.test(o[r].className) && l--; return this._data[l] }, expandRow: function (t) { e(t).find("> td .k-i-expand").click() }, collapseRow: function (t) { e(t).find("> td .k-i-collapse").click() }, _createHeaderCells: function (e, r) { var l, a, n, i, s, d, c = this, u = "", p = B(c.columns); for (l = 0, i = e.length; l < i; l++)a = e[l].column || e[l], n = c._headerCellText(a), s = "", d = Ee(a, p), a.selectable ? (u += "<th scope='col'" + o(a.headerAttributes), r && !e[l].colSpan && (u += " rowspan='" + r + "'"), d > -1 && (u += ge.attr("index") + "='" + d + "'"), n = a.headerTemplate ? n : ge.template(er)({}), u += ">" + n + "</th>") : a.command ? (u += "<th scope='col'" + o(a.headerAttributes), r && !e[l].colSpan && (u += " rowspan='" + r + "'"), d > -1 && (u += ge.attr("index") + "='" + d + "'"), u += ">" + n + "</th>") : (a.field && (s = ge.attr("field") + "='" + a.field + "' "), u += "<th scope='col' role='columnheader' " + s, u += " aria-haspopup='true'", r && !e[l].colSpan && (u += " rowspan='" + r + "'"), e[l].colSpan > 1 && (u += 'colspan="' + (e[l].colSpan - I(a.columns)) + '" ', u += ge.attr("colspan") + "='" + e[l].colSpan + "'"), a.title && (u += ge.attr("title") + '="' + a.title.replace('"', "&quot;").replace(/'/g, "'") + '" '), a.groupable !== t && (u += ge.attr("groupable") + "='" + a.groupable + "' "), a.aggregates && a.aggregates.length && (u += ge.attr("aggregates") + "='" + a.aggregates + "'"), d > -1 && (u += ge.attr("index") + "='" + d + "'"), u += o(a.headerAttributes), u += ">" + n + "</th>"); return u }, _appendLockedColumnContent: function () { var t, r, l, o, a, n = this.columns, i = this.table.find("colgroup"), s = i.find("col:not(.k-group-col,.k-hierarchy-col)"), d = e(), c = 0, u = 0; for (t = 0, r = n.length; t < r; t++)if (n[t].locked) if (f(n[t])) { for (o = 1, n[t].columns && (o = B(n[t].columns).length - I(n[t].columns)), o = o || 1, a = 0; a < o; a++)d = d.add(s.eq(t + u + a - c)); u += o - 1 } else c++; l = e('<div class="k-grid-content-locked"><table' + (lr ? ' cellspacing="0"' : "") + "><colgroup/><tbody></tbody></table></div>"), i.detach(), l.find("colgroup").append(d), i.insertBefore(this.table.find("tbody")), this.lockedContent = l.insertBefore(this.content), this.lockedTable = l.children("table") }, _appendLockedColumnFooter: function () { var t, r, l = this, o = l.footer, a = o.find(".k-footer-template>td"), n = o.find(".k-grid-footer-wrap>table>colgroup>col"), i = e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'), s = l._groups(), d = e(), c = e(); for (d = d.add(a.filter(".k-group-cell")), t = 0, r = B(A(l.columns)).length; t < r; t++)d = d.add(a.eq(t + s)); for (c = c.add(n.filter(".k-group-col")), t = 0, r = g(B(M(l.columns))).length; t < r; t++)c = c.add(n.eq(t + s)); d.appendTo(i.find("tr")), c.appendTo(i.find("colgroup")), l.lockedFooter = i.prependTo(o) }, _appendLockedColumnHeader: function (t) { var r, l, o, a, n, i, s, d, c, u, p, h = this, g = this.columns, b = [], k = 0, _ = e(), v = h._hasFilterRow(), w = 0, C = e(), y = 0, S = e(), T = h.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"), x = h.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"), H = h.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"), R = 0; for (r = 0, o = g.length; r < o; r++) { if (g[r].locked) { if (s = x.eq(r), y = B(g[r].columns || []).length, f(g[r])) { for (d = null, g[r].columns && (d = y - I(g[r].columns)), d = d || 1, c = 0; c < d; c++)_ = _.add(T.eq(r + R + c - k)); R += d - 1 } for (F([g[r]], O(s), b, 0, 0), y = y || 1, u = 0; u < y; u++)C = C.add(H.eq(w + u)); w += y } g[r].columns && (k += I(g[r].columns)), f(g[r]) || k++ } if (b.length) { for (l = '<div class="k-grid-header-locked" style="width:1px"><table' + (lr ? ' cellspacing="0"' : "") + "><colgroup/><thead>", l += Array(b.length + 1).join("<tr></tr>"), l += (v ? '<tr class="k-filter-row" />' : "") + "</thead></table></div>", i = e(l), T = i.find("colgroup"), T.append(h.thead.prev().find("col.k-group-col").add(_)), a = i.find("thead tr:not(.k-filter-row)"), r = 0, o = b.length; r < o; r++)S = m(b[r]), a.eq(r).append(h.thead.find("tr:eq(" + r + ") .k-group-cell").add(S)); return p = D(this.thead), b.length < p && z(i, p - b.length), n = i.find(".k-filter-row"), n.append(h.thead.find(".k-filter-row .k-group-cell").add(C)), this.lockedHeader = i.prependTo(t), this.thead.find(".k-group-cell").remove(), !0 } return !1 }, _removeLockedContainers: function () { var e = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter); ge.destroy(e), e.off($e).remove(), this.lockedHeader = this.lockedContent = this.lockedFooter = null, this.selectable = null }, _thead: function () { var t, r, l, o, a, n, i, s = this, d = s.columns, c = s._hasDetails() && d.length, u = s._hasFilterRow(), p = "", h = s.table.find(">thead"), f = s.element.find("thead:first").length > 0; if (h.length || (h = e("<thead/>").insertBefore(s.tbody)), s.lockedHeader && s.thead ? (r = s.thead.find("tr:has(th):not(.k-filter-row)").html(""), r.remove(), r = e(), s._removeLockedContainers()) : r = s.element.find(f ? "thead:first tr:has(th):not(.k-filter-row)" : "tr:has(th):first"), !r.length && (r = h.children().first(), !r.length)) { for (l = [{ rowSpan: 1, cells: [], index: 0 }], s._prepareColumns(l, d), t = 0; t < l.length; t++)p += "<tr>", c && (p += '<th class="k-hierarchy-cell" scope="col">' + s.options.messages.expandCollapseColumnHeader + "</th>"), p += s._createHeaderCells(l[t].cells, l[t].rowSpan), p += "</tr>"; r = e(p) } u && (o = e("<tr/>"), o.addClass("k-filter-row"), (c || r.find(".k-hierarchy-cell").length) && o.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'), a = (s.thead || h).find(".k-filter-row"), a.length && (ge.destroy(a), a.remove()), h.append(o)), r.children().length ? c && !r.find(".k-hierarchy-cell")[0] && r.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>') : (p = "", c && (p += '<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'), p += s._createHeaderCells(d), r.html(p)), r.attr("role", "row").find("th").addClass("k-header"), s.options.scrollable || h.addClass("k-grid-header"), r.find("script").remove().end().prependTo(h), s.thead && s._destroyColumnAttachments(), this.angular("cleanup", function () { return { elements: h.find("th").get() } }), this.angular("compile", function () { return { elements: h.find("th").get(), data: He(d, function (e) { return { column: e } }) } }), s.thead = h.attr("role", "rowgroup"), s._sortable(), s._filterable(), s._filterRow(), s._scrollable(), s._updateCols(), s._columnMenu(), i = this.options.scrollable && A(this.columns).length, i && (n = s._appendLockedColumnHeader(s.thead.closest(".k-grid-header")), s._appendLockedColumnContent(), s.lockedContent.bind("DOMMouseScroll" + $e + " mousewheel" + $e, Le(s._wheelScroll, s))), s._updateColumnCellIndex(), s._updateFirstColumnClass(), s._resizable(), s._draggable(), s._reorderable(), s._updateHeader(s._groups()), i && (n && s._syncLockedHeaderHeight(), s._applyLockedContainersWidth()), s.groupable && s._attachGroupable() }, _retrieveFirstColumn: function (t, r) { var l, o = e(); if (r.length && t[0]) { for (l = t[0]; l.columns && l.columns.length;)l = l.columns[0], r = r.filter(":not(:first())"); o = o.add(r) } return o }, _updateFirstColumnClass: function () { var t, r, l = this, o = l.columns || [], a = l._hasDetails() && o.length; a || l._groups() || (t = l.thead.find(">tr:not(.k-filter-row):not(:first)"), o = W(o), r = l._retrieveFirstColumn(o, t), l._isLocked() && (t = l.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"), o = A(l.columns), r = r.add(l._retrieveFirstColumn(o, t))), r.each(function () { var t = e(this).find("th"); t.removeClass("k-first"), t.eq(0).addClass("k-first") })) }, _prepareColumns: function (e, t, r, l) { var o, a, n = l || e[e.length - 1], i = e[n.index + 1], s = 0; for (o = 0; o < t.length; o++)a = { column: t[o], colSpan: 0 }, n.cells.push(a), t[o].columns && t[o].columns.length && (i || (i = { rowSpan: 0, cells: [], index: e.length }, e.push(i)), a.colSpan = t[o].columns.length, this._prepareColumns(e, t[o].columns, a, i), s += a.colSpan - 1, n.rowSpan = e.length - n.index); r && (r.colSpan += s) }, _wheelScroll: function (e) { var t, r, l; e.ctrlKey || (t = this.content, this.options.scrollable.virtual && (t = this.virtualScrollable.verticalScrollbar), r = t.scrollTop(), l = ge.wheelDeltaY(e), l && (t[0].scrollHeight > t[0].clientHeight && (t[0].scrollTop < t[0].scrollHeight - t[0].clientHeight && l < 0 || t[0].scrollTop > 0 && l > 0) && e.preventDefault(), t.scrollTop(r + -l))) }, _isLocked: function () { return null != this.lockedHeader }, _updateHeaderCols: function () { var e = this.thead.parent().add(this.table); this._isLocked() ? U(e, P(q(this.columns)), this._hasDetails(), 0) : U(e, P(g(this.columns)), this._hasDetails(), 0) }, _updateCols: function (e) { e = e || this.thead.parent().add(this.table), this._appendCols(e, this._isLocked()) }, _updateLockedCols: function (e) { this._isLocked() && (e = e || this.lockedHeader.find("table").add(this.lockedTable), U(e, P(M(this.columns)), this._hasDetails(), this._groups())) }, _appendCols: function (e, t) { t ? U(e, P(q(this.columns)), this._hasDetails(), 0) : U(e, P(g(this.columns)), this._hasDetails(), this._groups()) }, _autoColumns: function (e) { if (e && e.toJSON) { var t, r, l = this; e = e.toJSON(), r = !(l.table.find("tbody tr").length > 0 && (!l.dataSource || !l.dataSource.transport)); for (t in e) l.columns.push({ field: t, encoded: r, headerAttributes: { id: ge.guid() } }); l._thead(), l._templates() } }, _rowsHtml: function (e, t) { var r, l, o = this, a = "", n = t.rowTemplate, i = t.altRowTemplate; for (r = 0, l = e.length; r < l; r++)o._skipRerenderItemsCount > 0 ? o._skipRerenderItemsCount-- : a += r % 2 ? i(e[r]) : n(e[r]), o._data.push(e[r]); return a }, _groupRowHtml: function (e, t, r, l, o, a, n) { var i, s, d, c, u = this, p = "", h = e.field, f = Re(B(u.columns), function (e) { return e.field == h })[0] || {}, g = f.groupHeaderTemplate, m = (f.title || h) + ": " + J(e.value, f.format, f.values, f.encoded), b = u._groupAggregatesDefaultObject || {}, k = e.items, _ = xe({}, b, e.aggregates), v = xe({}, { field: e.field, value: e.value, items: k, aggregates: _ }, e.aggregates[e.field]), w = o.groupFooterTemplate; if (g && (m = typeof g === zt ? g(v) : ge.template(g)(v)), u._skipRerenderItemsCount ? l(t, r, m) : p += l(t, r, m), e.hasSubgroups) for (i = 0, s = k.length; i < s; i++)p += u._groupRowHtml(k[i], a ? t : t - 1, r + 1, l, o, a, n && i === k.length - 1); else p += u._rowsHtml(k, o); if (w) { d = {}; for (c in _) d[c] = xe({}, _[c], { group: { field: e.field, value: e.value, items: k } }); n ? Ee(e.value, u._skippedGroups) || u._skippedGroups.push(e.value) : (u._skippedGroups.length && u._skippedGroups[0] === e.value && u._skippedGroups.shift(), u._skipRerenderItemsCount || (p += w(d))) } return p }, collapseGroup: function (t) { var r, l, o, a, n, i, s = this, d = t, c = this.options.groupable, u = c.showFooter, p = u ? 0 : 1, h = e(); for (t = e(t), this._isLocked() && (t.closest("div").hasClass("k-grid-content-locked") ? h = this.tbody.children("tr:eq(" + t.index() + ")").nextAll("tr") : (h = t.nextAll("tr"), t = this.lockedTable.find(">tbody>tr:eq(" + t.index() + ")"))), r = t.find(".k-group-cell").length, t.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"), t.find("td[aria-expanded='true']:first").attr("aria-expanded", !1).find("a").attr(jt, Kt), t = t.nextAll("tr"), i = [], o = 0, a = t.length; o < a && (n = t.eq(o), l = n.find(".k-group-cell").length, n.hasClass("k-grouping-row") ? p++ : n.hasClass("k-group-footer") && p-- , !(l <= r || n.hasClass("k-group-footer") && p < 0)); o++)h.length && i.push(h[o]), i.push(n[0]); e(i).hide(), this.options.scrollable.endless && this.content && setTimeout(function () { s.content.scroll(), s._groupToCollapse = d }) }, expandGroup: function (t) { t = e(t); var r, l, o, a, n, i = this, s = i.options.groupable.showFooter, d = e(), c = [], u = 1; for (this._isLocked() && (t.closest("div").hasClass("k-grid-content-locked") ? d = this.tbody.children("tr:eq(" + t.index() + ")").nextAll("tr") : (d = t.nextAll("tr"), t = this.lockedTable.find(">tbody>tr:eq(" + t.index() + ")"))), r = t.find(".k-group-cell").length, t.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"), t.find("td[aria-expanded='false']:first").attr("aria-expanded", !0).find("a").attr(jt, Gt), t = t.nextAll("tr"), a = 0, n = t.length; a < n && (l = t.eq(a), o = l.find(".k-group-cell").length, !(o <= r)); a++)o != r + 1 || l.hasClass("k-detail-row") || (l.show(), d.eq(a).show(), l.hasClass("k-grouping-row") && l.find(".k-icon").hasClass("k-i-collapse") && i.expandGroup(l), l.hasClass("k-master-row") && l.find(".k-icon").hasClass("k-i-collapse") && (l.next().show(), d.eq(a + 1).show())), l.hasClass("k-grouping-row") && (s && c.push(l.is(":visible")), u++), l.hasClass("k-group-footer") && (s && l.toggle(c.pop()), 1 == u ? (l.show(), d.eq(a).show()) : u--); 0 === r && i.options.scrollable.endless && this._isLocked() && i._syncLockedContentHeight() }, _updateHeader: function (t) { var r = this, l = r._isLocked() ? r.lockedHeader.find("thead") : r.thead, o = l.find("tr.k-filter-row").find("th.k-group-cell").length, a = l.find("tr:first").find("th.k-group-cell").length, n = l.children("tr:not(:first)").filter(function () { return !e(this).children(":visible").length }); t > a ? (e(Array(t - a + 1).join('<th class="k-group-cell k-header" scope="col">' + r.options.messages.expandCollapseColumnHeader + "</th>")).prependTo(l.children("tr:not(.k-filter-row)")), r.element.is(":visible") && n.find("th.k-group-cell").hide()) : t < a && l.find("tr").each(function () { e(this).find("th.k-group-cell").filter(":eq(" + t + "),:gt(" + t + ")").remove() }), t > o && e(Array(t - o + 1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(l.find(".k-filter-row")) }, _firstDataItem: function (e, t) { return e && t && (e = e.hasSubgroups ? this._firstDataItem(e.items[0], t) : e.items[0]), e }, _updateTablesWidth: function () { var t, r = this; r._isLocked() && (t = e(">.k-grid-footer>.k-grid-footer-wrap>table", r.wrapper).add(r.thead.parent()).add(r.table), r._footerWidth = le(t.eq(0)), t.width(r._footerWidth), t = e(">.k-grid-footer>.k-grid-footer-locked>table", r.wrapper).add(r.lockedHeader.find(">table")).add(r.lockedTable), t.width(le(t.eq(0)))) }, hideColumn: function (r) { var l, o, a, n, s, d, c, u, m, b, k = this, _ = 0, v = k.footer || k.wrapper.find(".k-grid-footer"), w = k.columns, C = k.lockedHeader ? V(k.lockedHeader.find(">table>thead")).filter(h).length : 0; if (r = "number" == typeof r ? w[r] : Te(r) ? Re(R(w), function (e) { return e === r })[0] : Re(R(w), function (e) { return e.field === r })[0], r && f(r)) { if (r.columns && r.columns.length) { for (d = T(r, w), p(r, !1), Y(i(e(">table>thead", k.lockedHeader), k.thead, ">tr:eq(" + d.row + ")>th"), d.cell, !1), a = 0; a < r.columns.length; a++)this.hideColumn(r.columns[a]); return k.trigger(nt, { column: r }), t } if (m = Ee(r, g(B(w))), p(r, !1), k._setParentsVisibility(r, !1), k._templates(), k._updateCols(), k._updateLockedCols(), b = k.thead, c = m, k.lockedHeader && C > m ? b = k.lockedHeader.find(">table>thead") : c -= C, l = V(b).filter(h).eq(c), l[0].style.display = "none", Y(i(e(">table>thead", k.lockedHeader), k.thead, ">tr.k-filter-row>th"), m, !1), v[0] && (k._updateCols(v.find(">.k-grid-footer-wrap>table")), k._updateLockedCols(v.find(">.k-grid-footer-locked>table")), Y(v.find(".k-footer-template>td"), m, !1)), k.lockedTable && C > m ? X(k.lockedTable.find(">tbody>tr"), m) : X(k.tbody.children(), m - C), k.lockedTable) k._updateTablesWidth(), k._applyLockedContainersWidth(), k._syncLockedContentHeight(), k._syncLockedHeaderHeight(), k._syncLockedFooterHeight(); else { for (n = k.thead.prev().find("col"), a = 0, u = n.length; a < u; a += 1) { if (s = n[a].style.width, !s || s.indexOf("%") != -1) { _ = 0; break } _ += parseInt(s, 10) } o = e(">.k-grid-header table:first,>.k-grid-footer table:first", k.wrapper).add(k.table), k._footerWidth = null, _ && (o.each(function () { this.style.width = _ + "px" }), k._footerWidth = _), rr.msie && 8 == rr.version && (o.css("display", "inline-table"), setTimeout(function () { o.css("display", "table") }, 1)) } k._updateFirstColumnClass(), k.trigger(nt, { column: r }) } }, _setParentsVisibility: function (t, r) { var l, o, a, n, s, d = this.columns, c = [], h = r ? function (e) { return g(e.columns).length && e.hidden } : function (e) { return !g(e.columns).length && !e.hidden }; if (u(t, d, c) && c.length) for (l = c.length - 1; l >= 0; l--)o = c[l], a = C(o, d), n = i(e(">table>thead", this.lockedHeader), this.thead, ">tr:eq(" + a.row + ")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(a.cell), h(o) && (p(o, r), n[0].style.display = r ? "" : "none"), n.filter("[" + ge.attr("colspan") + "]").length && (s = parseInt(n.attr(ge.attr("colspan")), 10), n[0].colSpan = s - I(o.columns) || 1) }, showColumn: function (r) { var l, o, a, n, s, d, c, u, h, g, m, b, k, _ = this, v = _.columns, w = _.footer || _.wrapper.find(".k-grid-footer"), y = _.lockedHeader ? V(_.lockedHeader.find(">table>thead")).length : 0; if ("number" == typeof r ? (g = r, r = v[r]) : Te(r) ? e.each(R(v), function (e, t) { if (t === r) return r = t, g = e, !1 }) : e.each(R(v), function (e, t) { if (t.field === r) return r = t, g = e, !1 }), r && !f(r)) { if (r.columns && r.columns.length) { for (c = C(r, v), m = R(_.options.columns)[g], p(r, !0), Y(i(e(">table>thead", _.lockedHeader), _.thead, ">tr:eq(" + c.row + ")>th"), c.cell, !0), l = 0; l < r.columns.length; l++)m.columns[l].hidden || this.showColumn(r.columns[l]); return _.trigger(it, { column: r }), t } if (b = Ee(r, B(v)), p(r, !0), _._setParentsVisibility(r, !0), _._templates(), _._updateCols(), _._updateLockedCols(), k = _.thead, d = b, _.lockedHeader && y > b ? k = _.lockedHeader.find(">table>thead") : d -= y, a = V(k).eq(d), a[0].style.display = "", Y(i(e(">table>thead", _.lockedHeader), _.thead, ">tr.k-filter-row>th"), b, !0), w[0] && (_._updateCols(w.find(">.k-grid-footer-wrap>table")), _._updateLockedCols(w.find(">.k-grid-footer-locked>table")), Y(w.find(".k-footer-template>td"), b, !0)), _.lockedTable && y > b ? te(_.lockedTable.find(">tbody>tr"), b) : te(_.tbody.children(), b - y), _.lockedTable) _._updateTablesWidth(), _._applyLockedContainersWidth(), _._syncLockedContentHeight(), _._syncLockedHeaderHeight(); else if (n = e(">.k-grid-header table:first,>.k-grid-footer table:first", _.wrapper).add(_.table), r.width) { for (s = 0, h = _.thead.prev().find("col"), l = 0, o = h.length; l < o; l += 1) { if (u = h[l].style.width, u.indexOf("%") > -1) { s = 0; break } s += parseInt(u, 10) } _._footerWidth = null, s && (n.each(function () { this.style.width = s + "px" }), _._footerWidth = s) } else n.width(""); _._updateFirstColumnClass(), _.trigger(it, { column: r }) } }, _progress: function (e) { var t = this.element, r = this.options.scrollable && this.options.scrollable.endless; this._editContainer && "popup" === this._editMode() ? t = this._editContainer : this.lockedContent || r ? t = this.wrapper : this.element.is("table") ? t = this.element.parent() : this.content && this.content.length && (t = this.content), r && e ? ge.ui.progress(t, e, { height: this.content.height(), top: this.content[0].offsetTop, opacity: !0 }) : ge.ui.progress(t, e) }, _resize: function (e, t) { this._syncLockedContentHeight(), this._syncLockedHeaderHeight(), this.content && (this._setContentWidth(), this._setContentHeight()), this.virtualScrollable && (t || this._rowHeight) && (t && (this._rowHeight = null), this.virtualScrollable.repaintScrollbar()) }, _isActiveInTable: function () { var t = ve(); return !!t && (this.table[0] === t || e.contains(this.table[0], t) || this._isLocked() && (this.lockedTable[0] === t || e.contains(this.lockedTable[0], t))) }, refresh: function (r) {
                var l, o, a, n = this, i = n.dataSource.view(), s = n.options.navigatable, d = e(n.current()), c = !1, u = (n.dataSource.group() || []).length, p = u + P(g(n.columns)).length; if (!r || "itemchange" !== r.action || !n.editable && !n.options.scrollable.endless) return r && "remove" === r.action && n.editable && n.editable.options.model && Ee(n.editable.options.model, r.items) > -1 && n.editable.options.model.unbind(at, n._modelChangeHandler), r = r || {}, r.action === mt && n._isVirtualEditable() ? (n._destroyEditable(), n._clearEditableState(), n._restoreVirtualView(), t) : (n.trigger("dataBinding", { action: r.action || "rebind", index: r.index, items: r.items }) || (n._angularItems("cleanup"), n._endlessFetchInProgress || (s && (n._isActiveInTable() || n._editContainer && n._editContainer.data("kendoWindow")) && (c = d.is("th"), l = c ? d.index() : Math.max(n.cellIndex(d), 0)), n._destroyEditable()), n.options.scrollable && n.options.scrollable.endless ? (clearTimeout(n._progressTimeOut), n._progressTimeOut = setTimeout(function () { n._endlessFetchInProgress || n._progress(!1) }, 100)) : n._progress(!1), n._hideResizeHandle(),
                    n._data = [], n.columns.length || (n._autoColumns(n._firstDataItem(i[0], u)), p = u + n.columns.length), n._group = u > 0 || n._group, n._group && (n._templates(), n._updateCols(), n._updateLockedCols(), n._updateHeader(u), n._group = u > 0, n._groupRows = Z(i)), n.content && (o = n.content.scrollLeft()), a = n._skipRerenderItemsCount, n._renderContent(i, p, u), n.options.scrollable && n.options.scrollable.endless && this.lockedContent && (n._skipRerenderItemsCount = a), n._renderLockedContent(i, p, u), n._footer(), n._renderNoRecordsContent(), n._togglePagerVisibility(), n._setContentHeight(), n._setContentWidth(n.content && o), n.lockedTable && (n.options.scrollable.virtual ? n.content.find(">.k-virtual-scrollable-wrap").trigger("scroll") : n.touchScroller ? n.touchScroller.movable.trigger("change") : (n.wrapper.one("scroll", function (e) { e.stopPropagation() }), n.content.trigger("scroll"))), n._endlessFetchInProgress || n._restoreCurrent(l, c), n.touchScroller && n.touchScroller.contentResized(), n.selectable && n.selectable.resetTouchEvents(), n._muteAngularRebind(function () { n._angularItems("compile") }), n._checkBoxSelection && n._toggleHeaderCheckState(!1), n.options.persistSelection && (n.selectable && !ge.ui.Selectable.parseOptions(n.options.selectable).cell || n._checkBoxSelection) ? n._restoreSelection() : n._selectedIds = {}, n.trigger(dt)), t)
            }, _restoreCurrent: function (r, l) { var o, a, n; r === t || r < 0 || (this._removeCurrent(), l ? this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(r)) : (o = 0, this._rowVirtualIndex ? o = this.virtualScrollable.position(this._rowVirtualIndex) : r = 0, a = e(), this.lockedTable && (a = this.lockedTable.find(">tbody>tr").eq(o)), a = a.add(this.tbody.children().eq(o)), n = a.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(r), this._setCurrent(n)), this._current && ie(this._current.closest("table")[0], !0)) }, _restoreSelection: function () { var e, t = this, r = t.items(); e = Re(r, function (e) { var r = t.dataItem(e)[t.dataSource.options.schema.model.id]; if (t._selectedIds[r]) return e }), t.select(e) }, _angularItems: function (e) { ge.ui.DataBoundWidget.fn._angularItems.call(this, e), "cleanup" === e && this._cleanupDetailItems(), this._angularGroupItems(e), this._angularGroupFooterItems(e) }, _cleanupDetailItems: function () { var e = this; e._hasDetails() && (e.angular("cleanup", function () { return { elements: e.tbody.children(".k-detail-row") } }), e.tbody.find(".k-detail-cell").empty()) }, _angularGroupItems: function (t) { var r = this, l = r.tbody; r.lockedContent && (l = r.lockedTable.find("tbody")), r._group && r.angular(t, function () { return { elements: l.children(".k-grouping-row"), data: e.map(Z(r.dataSource.view()), function (e) { return { dataItem: e } }) } }) }, _angularGroupFooterItems: function (t) { var r = this, l = r.tbody; r.lockedContent && (l = r.element), r._group && r.groupFooterTemplate && r.angular(t, function () { return { elements: l.find(".k-group-footer"), data: e.map(ee(r.dataSource.view()), function (e) { return { dataItem: e } }) } }) }, _renderContent: function (e, t, r) { var l, o, a, n, i = this, s = "", d = null != i.lockedContent, c = null, u = i.options.scrollable, p = { rowTemplate: i.rowTemplate, altRowTemplate: i.altRowTemplate, groupFooterTemplate: i.groupFooterTemplate }; if (u && u.endless && !i.dataSource.options.endless && (i._skipRerenderItemsCount = 0, i.content && (i.content[0].scrollTop = 0)), c = i._skipRerenderItemsCount > 0, t = d ? t - P(M(i.columns)).length : t, r > 0) for (t = d ? t - r : t, i.detailTemplate && t++ , i.groupFooterTemplate && (i._groupAggregatesDefaultObject = i.dataSource.aggregates()), i.options.scrollable.endless && (n = i.dataSource.flatView().length), l = 0, o = e.length; l < o; l++)i._skippedGroups || (i._skippedGroups = []), a = n && l === e.length - 1 && n !== i.dataSource.total(), s += i._groupRowHtml(e[l], t, 0, d ? fe : he, p, d, a); else s += i._rowsHtml(e, p); c ? (i.tbody.append(s), setTimeout(function () { i._groupToCollapse && (i.collapseGroup(i._groupToCollapse), i._groupToCollapse = null) }), i._endlessFetchInProgress = null) : i.tbody = G(i.tbody, i.table, s, this.options.$angular) }, _renderLockedContent: function (e, t, r) { var l, o, a, n = "", i = null, s = { rowTemplate: this.lockedRowTemplate, altRowTemplate: this.lockedAltRowTemplate, groupFooterTemplate: this.lockedGroupFooterTemplate }; if (this.lockedContent) { if (a = this.lockedTable, i = this._skipRerenderItemsCount > 0, r > 0) for (t -= g(B(W(this.columns))).length, l = 0, o = e.length; l < o; l++)n += this._groupRowHtml(e[l], t, 0, he, s, !1, this.options.scrollable.endless && l === e.length - 1); else n = this._rowsHtml(e, s); i ? a.children("tbody").append(n) : G(a.children("tbody"), a, n, this.options.$angular), this._syncLockedContentHeight() } }, _togglePagerVisibility: function () { this.options.pageable.alwaysVisible === !1 && this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total() >= this.dataSource.pageSize()) }, _adjustRowsHeight: function (e, t) { var r, l, o, a, n = e[0].rows, i = n.length, s = t[0].rows, d = e.add(t), c = d.length, u = []; for (r = 0; r < i && s[r]; r++)n[r].style.height && (n[r].style.height = s[r].style.height = ""); for (r = 0; r < i && s[r]; r++)l = n[r].offsetHeight, o = s[r].offsetHeight, a = 0, l > o ? a = l : l < o && (a = o), u.push(a); for (r = 0; r < c; r++)d[r].style.display = "none"; for (r = 0; r < i; r++)u[r] && (n[r].style.height = s[r].style.height = u[r] + 1 + "px"); for (r = 0; r < c; r++)d[r].style.display = "" }
        }); ge.ExcelMixin && ge.ExcelMixin.extend(sr.prototype), ge.PDFMixin && (ge.PDFMixin.extend(sr.prototype), sr.prototype._drawPDF_autoPageBreak = function (r) { function l() { u && i !== t ? (c.one("change", o), c.page(i)) : (s.refresh(), o()) } function o() { h.appendTo(document.body); var t = e.extend({}, s.options.pdf, { _destructive: !0, progress: function (e) { r.notify({ page: e.page, pageNumber: e.pageNum, progress: .5 + e.pageNum / e.totalPages / 2, totalPages: e.totalPages }) } }); ge.drawing.drawDOM(f, t).always(function () { h.remove() }).then(function (e) { d.resolve(e) }).fail(function (e) { d.reject(e) }) } function a() { var e = c.page(), t = u ? c.totalPages() : 1; n.append(p.find("tr")), e < t ? c.page(e + 1) : (c.unbind("change", a), l()) } var n, i, s = this, d = new e.Deferred, c = s.dataSource, u = s.options.pdf.allPages, p = s.wrapper.find('table[role="grid"] > tbody'), h = e("<div>").css({ position: "absolute", left: -1e4, top: -1e4 }), f = s.wrapper.clone().css({ height: "auto", width: "auto" }).appendTo(h); return f.find(".k-grid-content").css({ height: "auto", width: "auto", overflow: "visible" }), f.find('table[role="grid"], .k-grid-footer table').css({ height: "auto", width: "100%", overflow: "visible" }), f.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(), f.find(".k-grid-header, .k-grid-footer").css({ paddingRight: 0 }), this._initPDFProgress(r), n = f.find('table[role="grid"] > tbody').empty(), i = c.page(), u ? (c.bind("change", a), c.page(1)) : a(), d.promise() }, sr.prototype._drawPDF = function (r) { function l() { i && d !== t ? (n.unbind("change", o), n.one("change", function () { a.resolve(s) }), n.page(d)) : a.resolve(s) } function o() { c._drawPDFShadow({ width: c.wrapper.width() }, { avoidLinks: c.options.pdf.avoidLinks }).done(function (e) { var t = n.page(), o = i ? n.totalPages() : 1, a = { page: e, pageNumber: t, progress: t / o, totalPages: o }; r.notify(a), s.append(a.page), t < o ? n.page(t + 1) : l() }).fail(function (e) { a.reject(e) }) } var a, n, i, s, d, c = this; return c.options.pdf.paperSize && "auto" != c.options.pdf.paperSize ? c._drawPDF_autoPageBreak(r) : (a = new e.Deferred, n = c.dataSource, i = c.options.pdf.allPages, this._initPDFProgress(r), s = new ge.drawing.Group, d = n.page(), i ? (n.bind("change", o), n.page(1)) : o(), a.promise()) }, sr.prototype._initPDFProgress = function (t) { var r, l = e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>"); l.prepend(this.wrapper.clone().css({ position: "absolute", top: 0, left: 0 })), this.wrapper.append(l), r = e("<div class='k-loading-pdf-progress'>").appendTo(l).kendoProgressBar({ type: "chunk", chunkCount: 10, min: 0, max: 1, value: 0 }).data("kendoProgressBar"), t.progress(function (e) { r.value(e.progress) }).always(function () { ge.destroy(l), l.remove() }) }), me.plugin(sr), me.plugin(nr)
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, r) { (r || t)() });; !function (e, define) { define("kendo.listbox.min", ["kendo.draganddrop.min", "kendo.data.min", "kendo.selectable.min"], e) }(function () { return function (e, t) { function a(t) { var a = e.map(t, function (t) { return e(t).index() }); return a } function n(e) { return t === e } function r(e) { return e.clone().removeClass(ue).removeClass(M).addClass(v.format("{0} {1} {2}", H, $, j)).width(e.width()) } function o() { return e("<li>").addClass(R) } var i, l, s, c, d, u, m, g, f, p, h, _, v = window.kendo, b = v.attr, x = v.data, T = v.keys, S = v.template, C = v.ui.Widget, k = x.DataSource, B = v.ui.Selectable, I = v.ui.DataBoundWidget, y = v.Class, E = e.extend, L = e.noop, w = e.proxy, D = "-", A = ".", F = " ", W = "#", N = "kendoListBox", U = A + N, K = "k-state-disabled", H = "k-state-selected", O = ".k-item:not(.k-state-disabled)", V = ".k-list:not(.k-state-disabled) >" + O, P = "k-listbox-toolbar", q = "li > a.k-button:not(.k-state-disabled)", M = "k-state-focused", j = "k-drag-clue", R = "k-drop-hint", G = "k-reset k-list", Q = ".k-reset.k-list", $ = "k-reset", z = "click" + U, J = "keydown" + U, X = "blur" + U, Y = v._outerWidth, Z = v._outerHeight, ee = "change", te = "dataBound", ae = "add", ne = "remove", re = "reorder", oe = "moveUp", ie = "moveDown", le = "transferTo", se = "transferFrom", ce = "transferAllTo", de = "transferAllFrom", ue = "k-ghost", me = "uid", ge = "tabindex", fe = "command", pe = -1, he = 1, _e = "dragstart", ve = "drag", be = "drop", xe = "dragend", Te = "ul.k-reset.k-list>li.k-item", Se = "right", Ce = "bottom", ke = [P + D + "left", P + D + Se, P + D + "top", P + D + Ce], Be = I.extend({ init: function (e, t) { var a = this; C.fn.init.call(a, e, t), a._wrapper(), a._list(), e = a.element.attr("multiple", "multiple").hide(), e[0] && !a.options.dataSource && (a.options.dataTextField = a.options.dataTextField || "text", a.options.dataValueField = a.options.dataValueField || "value"), a._templates(), a._selectable(), a._dataSource(), a._createToolbar(), a._createDraggable(), a._createNavigatable() }, destroy: function () { var e = this; I.fn.destroy.call(e), isNaN(e._listTabIndex) || (e._getList().off(), e._listTabIndex = null), e._unbindDataSource(), e._destroySelectable(), e._destroyToolbar(), e.wrapper.off(U), e._target && (e._target = null), e._draggable && (e._draggable.destroy(), e.placeholder = null), v.destroy(e.element) }, setOptions: function (e) { C.fn.setOptions.call(this, e), this._templates(), this._dataSource() }, events: [ee, te, ae, ne, re, _e, ve, be, xe], options: { name: "ListBox", autoBind: !0, template: "", dataTextField: "", dataValueField: "", selectable: "single", draggable: null, dropSources: [], connectWith: "", navigatable: !0, toolbar: { position: Se, tools: [] }, messages: { tools: { remove: "Delete", moveUp: "Move Up", moveDown: "Move Down", transferTo: "Transfer To", transferFrom: "Transfer From", transferAllTo: "Transfer All To", transferAllFrom: "Transfer All From" } } }, add: function (e) { var t, a = this, n = e && e.length ? e : [e], r = n.length; for (a._unbindDataSource(), t = 0; t < r; t++)a._addItem(n[t]); a._bindDataSource(), a._syncElement() }, _addItem: function (t) { var a = this, n = a.templates.itemTemplate({ item: t, r: a.templates.itemContent }); e(n).attr(b(me), t.uid).appendTo(a._getList()), "string" == typeof t ? a.dataSource._data.push(t) : a.dataSource.add(t) }, _addItemAt: function (t, a) { var n = this, r = n.templates.itemTemplate({ item: t, r: n.templates.itemContent }); n._unbindDataSource(), "string" == typeof t ? (n._insertElementAt(r, a), n.dataSource._data.push(t)) : (n._insertElementAt(e(r).attr(b(me), t.uid), a), n.dataSource.add(t)), n._bindDataSource(), n._syncElement() }, _insertElementAt: function (t, a) { var n = this, r = n._getList(); a > 0 ? e(t).insertAfter(r.children().eq(a - 1)) : e(r).prepend(t) }, _createNavigatable: function () { var e = this, t = e.options; t.navigatable && e._getList().on(z, O, w(e._click, e)).on(J, w(e._keyDown, e)).on(X, w(e._blur, e)) }, _getTabIndex: function () { var e, t = this; return isNaN(t._listTabIndex) ? (e = t.element.attr(ge), t._listTabIndex = isNaN(e) ? 0 : e, t.element.removeAttr(ge), t._listTabIndex) : t._listTabIndex }, _blur: function () { this._target && (this._target.removeClass(M), this._getList().removeAttr("aria-activedescendant")), this._target = null }, _click: function (t) { var a = this, n = e(t.currentTarget), r = a._target; r && r.removeClass(M), a._target = n, n.addClass(M), a._getList().attr("aria-activedescendant", n.attr("id")), a._getList()[0] !== v._activeElement() && a.focus() }, _getNavigatableItem: function (e) { var t, a = this; return t = a._target ? a._target : a.items().filter(O).first(), e === T.UP && a._target && (t = a._target.prevAll(O).first()), e === T.DOWN && a._target && (t = a._target.nextAll(O).first()), t.length ? t : null }, _scrollIntoView: function (e) { var t, a, n, r, o; e && (e[0] && (e = e[0]), t = this._getList().parent()[0], a = e.offsetTop, n = t.scrollTop, r = t.clientHeight, o = a + e.offsetHeight, n > a ? n = a : o > n + r && (n = o - r), t.scrollTop = n) }, _keyDown: function (e) { var a, n = this, r = e.keyCode, o = n._getNavigatableItem(r); if (n._target && n._target.removeClass(M), (!e.shiftKey || e.ctrlKey || r !== T.DOWN && r !== T.UP) && (n._shiftSelecting = !1), r == T.DELETE) n._executeCommand(ne), n._target && (n._target.removeClass(M), n._getList().removeAttr("aria-activedescendant"), n._target = null), a = !0; else if (r === T.DOWN || r === T.UP) { if (!o) return e.preventDefault(), t; if (e.shiftKey && !e.ctrlKey) n._shiftSelecting || (n.clearSelection(), n._shiftSelecting = !0), n._target && o.hasClass("k-state-selected") ? (n._target.removeClass(H), n.trigger(ee)) : n.select("single" == n.options.selectable ? o : o.add(n._target)); else { if (e.shiftKey && e.ctrlKey) return n._executeCommand(r === T.DOWN ? ie : oe), n._scrollIntoView(n._target), e.preventDefault(), t; e.shiftKey || e.ctrlKey || ("multiple" === n.options.selectable && n.clearSelection(), n.select(o)) } n._target = o, n._target ? (n._target.addClass(M), n._scrollIntoView(n._target), n._getList().attr("aria-activedescendant", n._target.attr("id"))) : n._getList().removeAttr("aria-activedescendant"), a = !0 } else r == T.SPACEBAR ? (e.ctrlKey && n._target ? n._target.hasClass(H) ? (n._target.removeClass(H), n.trigger(ee)) : n.select(n._target) : (n.clearSelection(), n.select(n._target)), a = !0) : e.ctrlKey && r == T.RIGHT ? (n._executeCommand(e.shiftKey ? ce : le), n._target = n.select().length ? n.select() : null, a = !0) : e.ctrlKey && r == T.LEFT && (n._executeCommand(e.shiftKey ? de : se), a = !0); a && e.preventDefault() }, focus: function () { v.focusElement(this._getList()) }, _createDraggable: function () { var t, a = this, n = a.options.draggable; if (n) { if (t = n.hint, !a.options.selectable) throw Error("Dragging requires selection to be enabled"); t || (t = r), a._draggable = new v.ui.Draggable(a.wrapper, { filter: n.filter ? n.filter : Te, hint: v.isFunction(t) ? t : e(t), dragstart: w(a._dragstart, a), dragcancel: w(a._clear, a), drag: w(a._drag, a), dragend: w(a._dragend, a) }) } }, _dragstart: function (a) { var n = this, r = n.draggedElement = a.currentTarget, i = n.options.draggable.placeholder, l = n.dataItem(r), s = { dataItems: l, items: e(r), draggableEvent: a }; return n.options.draggable.enabled === !1 ? (a.preventDefault(), t) : (i || (i = o), n.placeholder = e(v.isFunction(i) ? i.call(n, r) : i), r.is(A + K) ? a.preventDefault() : n.trigger(_e, s) ? a.preventDefault() : (n.clearSelection(), n.select(r), r.addClass(ue)), t) }, _clear: function () { this.draggedElement.removeClass(ue), this.placeholder.remove() }, _findElementUnderCursor: function (t) { var a = v.elementUnderCursor(t), n = t.sender; return (e.contains(n.hint[0], a) || n.hint[0] === a) && (n.hint.hide(), a = v.elementUnderCursor(t), n.hint.show()), a }, _findTarget: function (t) { var a, n, r = this, o = r._findElementUnderCursor(t), i = e(o), l = r._getList(); return e.contains(l[0], o) ? (a = r.items(), o = i.is("li") ? o : i.closest("li")[0], n = a.filter(o)[0] || a.has(o)[0], n ? (n = e(n), n.hasClass(K) ? null : { element: n, listBox: r }) : null) : l[0] == o || l.parent()[0] == o ? { element: e(l), appendToBottom: !0, listBox: r } : r._searchConnectedListBox(i) }, _getElementCenter: function (e) { var t = e.length ? v.getOffset(e) : null; return t && (t.top += Z(e) / 2, t.left += Y(e) / 2), t }, _searchConnectedListBox: function (t) { var a, n, r, o, i = t; return o = t.hasClass("k-list-scroller k-selectable") ? t : t.closest(".k-list-scroller.k-selectable"), o.length ? (a = o.parent().find("[data-role='listbox']").getKendoListBox(), a && e.inArray(this.element[0].id, a.options.dropSources) !== -1 ? (n = a.items(), t = t.is("li") ? t[0] : t.closest("li")[0], r = n.filter(t)[0] || n.has(t)[0], r ? (r = e(r), r.hasClass(K) ? null : { element: r, listBox: a }) : !n.length || i.hasClass("k-list-scroller k-selectable") || i.hasClass("k-reset k-list") ? { element: a._getList(), listBox: a, appendToBottom: !0 } : null) : null) : null }, _drag: function (a) { var n, r, o, i = this, l = i.draggedElement, s = i._findTarget(a), c = { left: a.x.location, top: a.y.location }, d = i.dataItem(l), u = { dataItems: [d], items: e(l), draggableEvent: a }; if (i.trigger(ve, u)) return a.preventDefault(), t; if (s) { if (n = this._getElementCenter(s.element), r = { left: Math.round(c.left - n.left), top: Math.round(c.top - n.top) }, s.appendToBottom) return i._movePlaceholder(s, null, l), t; r.top < 0 ? o = "prev" : r.top > 0 && (o = "next"), o && s.element[0] != i.placeholder[0] && i._movePlaceholder(s, o, l) } else i.placeholder.parent().length && i.placeholder.remove() }, _movePlaceholder: function (t, a, n) { var r = this, i = r.placeholder, l = t.listBox.options.draggable; i.parent().length && (r.placeholder.remove(), r.placeholder = e(l && l.placeholder ? v.isFunction(l.placeholder) ? l.placeholder.call(r, n) : l.placeholder : o.call(r, n))), a ? "prev" === a ? t.element.before(r.placeholder) : "next" === a && t.element.after(r.placeholder) : t.element.append(r.placeholder) }, _dragend: function (a) { var n = this, r = n.draggedElement, o = n.items(), i = o.not(n.draggedElement).index(n.placeholder), l = o.not(n.placeholder).index(n.draggedElement), s = n.dataItem(r), c = { dataItems: [s], items: e(r) }, d = n.placeholder.closest(".k-widget.k-listbox").find("[data-role='listbox']").getKendoListBox(); return n.trigger(be, E({}, c, { draggableEvent: a })) ? (a.preventDefault(), this._clear(), t) : (i >= 0 ? i === l || n.trigger(re, E({}, c, { offset: i - l })) || (r.removeClass(ue), n.reorder(r, i)) : d && (n.trigger(ne, c) || n.remove(e(r)), d.trigger(ae, c) || d._addItemAt(s, d.items().index(n.placeholder))), n._clear(), n._draggable.dropped = !0, n.trigger(xe, E({}, c, { draggableEvent: a })), n._updateToolbar(), n._updateAllToolbars(), t) }, reorder: function (t, a) { var n = this, r = n.dataSource, o = n.dataItem(t), i = r.at(a), l = n.items()[a], s = e(t); o && l && i && (n._removeElement(s), n._insertElementAt(s, a), n._updateToolbar()) }, remove: function (t) { var a, n = this, r = n._getItems(t), o = r.length; for (n._unbindDataSource(), a = 0; a < o; a++)n._removeItem(e(r[a])); n._bindDataSource(), n._syncElement(), n._updateToolbar(), n._updateAllToolbars() }, _removeItem: function (e) { var t, a, n = this, r = n.dataSource, o = n.dataItem(e); if (o && r) { if ("string" == typeof o) { for (t = r._data, a = 0; a < t.length; a++)if (o === t[a]) { t[a] = t[t.length - 1], t.pop(); break } } else r.remove(o); n._removeElement(e) } }, _removeElement: function (t) { v.destroy(t), e(t).off().remove() }, dataItem: function (t) { var a = b(me), n = e(t).attr(a) || e(t).closest("[" + a + "]").attr(a); return n ? this.dataSource.getByUid(n) : e(t).html() }, _dataItems: function (t) { var a, n = [], r = e(t), o = r.length; for (a = 0; a < o; a++)n.push(this.dataItem(r.eq(a))); return n }, items: function () { var e = this._getList(); return e.children() }, select: function (e) { var t, a = this, r = a.selectable; return n(e) ? r.value() : (t = a.items().filter(e).filter(V), r.options.multiple || (r.clear(), t = t.first()), r.value(t)) }, clearSelection: function () { var e = this, t = e.selectable; t && t.clear() }, enable: function (t, a) { var r, o = this, i = !!n(a) || !!a, l = o._getItems(t), s = l.length; for (r = 0; r < s; r++)o._enableItem(e(l[r]), i); o._updateAllToolbars() }, _enableItem: function (t, a) { var n = this, r = n.dataItem(t); r && (a ? e(t).removeClass(K) : e(t).addClass(K).removeClass(H)) }, setDataSource: function (e) { var t = this; t.options.dataSource = e, t._dataSource() }, _dataSource: function () { var t = this, a = t.options, n = a.dataSource || {}; n = e.isArray(n) ? { data: n } : n, n.select = t.element, n.fields = [{ field: a.dataTextField }, { field: a.dataValueField }], t._unbindDataSource(), t.dataSource = k.create(n), t._bindDataSource(), t.options.autoBind && t.dataSource.fetch() }, _bindDataSource: function () { var e = this, t = e.dataSource; e._dataChangeHandler = w(e.refresh, e), t && t.bind(ee, e._dataChangeHandler) }, _unbindDataSource: function () { var e = this, t = e.dataSource; t && t.unbind(ee, e._dataChangeHandler) }, _wrapper: function () { var t = this, a = t.element, n = a.parent("div.k-listbox"); n[0] || (n = a.wrap('<div class="k-widget k-listbox" deselectable="on" />').parent(), n[0].style.cssText = a[0].style.cssText, n[0].title = a[0].title, e('<div class="k-list-scroller" />').insertBefore(a)), t.wrapper = n.addClass(a[0].className).css("display", ""), t._innerWrapper = e(n[0].firstChild) }, _list: function () { var t = this; e("<ul class='" + G + "' role='listbox'></ul>").appendTo(t._innerWrapper), t.options.navigatable && t._getList().attr(ge, t._getTabIndex()) }, _templates: function () { var e, t = this, a = this.options; e = a.template && "string" == typeof a.template ? v.template(a.template) : a.template ? a.template : v.template("${" + v.expr(a.dataTextField, "data") + "}", { useWithBlock: !1 }), t.templates = { itemTemplate: v.template("# var item = data.item, r = data.r; # <li class='k-item' role='option' aria-selected='false'>#=r(item)#</li>", { useWithBlock: !1 }), itemContent: e, toolbar: "<div class='" + P + "'></div>" } }, refresh: function () { var e, t = this, a = t.dataSource.view(), n = t.templates.itemTemplate, r = ""; for (e = 0; e < a.length; e++)r += n({ item: a[e], r: t.templates.itemContent }); t._getList().html(r), t._setItemIds(), t._createToolbar(), t._syncElement(), t._updateToolbar(), t._updateAllToolbars(), t.trigger(te) }, _syncElement: function () { var e, t = "", a = this.dataSource.view(); for (e = 0; e < a.length; e++)t += this._option(a[e][this.options.dataValueField] || a[e], a[e][this.options.dataTextField] || a[e], !0); this.element.html(t) }, _option: function (e, a) { var n = "<option"; return e !== t && (e += "", e.indexOf('"') !== -1 && (e = e.replace(/"/g, "&quot;")), n += ' value="' + e + '"'), n += " selected>", a !== t && (n += v.htmlEncode(a)), n += "</option>" }, _setItemIds: function () { var e, t = this, a = t.items(), n = t.dataSource.view(), r = n.length; for (e = 0; e < r; e++)a.eq(e).attr(b(me), n[e].uid).attr("id", n[e].uid) }, _selectable: function () { var e = this, t = e.options.selectable, a = B.parseOptions(t); a.multiple && e.element.attr("aria-multiselectable", "true"), e.selectable = new B(e._innerWrapper, { aria: !0, multiple: a.multiple, filter: O, change: w(e._onSelect, e) }) }, _onSelect: function () { var e = this; e._updateToolbar(), e._updateAllToolbars(), e.trigger(ee) }, _destroySelectable: function () { var e = this; e.selectable && e.selectable.element && (e.selectable.destroy(), e.selectable = null) }, _getList: function () { return this.wrapper.find(Q) }, _getItems: function (e) { return this.items().filter(e) }, _createToolbar: function () { var t, a = this, n = a.options.toolbar, r = n.position || Se, o = r === Ce ? "insertAfter" : "insertBefore", i = n.tools || [], l = a.options.messages; a._destroyToolbar(), a.wrapper.removeClass(ke.join(F)), i.length && i.length > 0 && (t = e(a.templates.toolbar)[o](a._innerWrapper), a.toolbar = new _(t, E({}, n, { listBox: a, messages: l })), a.wrapper.addClass(P + D + r)) }, _destroyToolbar: function () { var e = this; e.toolbar && (e.toolbar.destroy(), e.toolbar = null) }, _executeCommand: function (e) { var t = this, a = i.current.create(e, { listBox: t }); a && (a.execute(), t._updateToolbar(), t._updateAllToolbars()) }, _updateToolbar: function () { var e = this.toolbar; e && e._updateToolStates() }, _updateAllToolbars: function () { var t, a, n = e("select[data-role='listbox']"), r = n.length; for (a = 0; a < r; a++)t = e(n[a]).data(N), t && t._updateToolbar() } }); v.ui.plugin(Be), i = y.extend({ init: function () { this._commands = [] }, register: function (e, t) { this._commands.push({ commandName: e, commandType: t }) }, create: function (e, t) { var a, n, r, o = this._commands, i = o.length, l = e ? e.toLowerCase() : ""; for (r = 0; r < i; r++)if (n = o[r], n.commandName.toLowerCase() === l) { a = n; break } if (a) return new a.commandType(t) } }), i.current = new i, l = y.extend({ init: function (e) { var t = this; t.options = E({}, t.options, e), t.listBox = t.options.listBox }, options: { listBox: null }, getItems: function () { return e(this.listBox.select()) }, execute: L, canExecute: L }), s = l.extend({ execute: function () { var e = this, t = e.listBox, a = e.getItems(); t.trigger(ne, { dataItems: t._dataItems(a), items: a }) || t.remove(a) }, canExecute: function () { return this.listBox.select().length > 0 } }), i.current.register(ne, s), c = l.extend({ execute: function () { var e = this; e.canExecute() && e.moveItems() }, canExecute: L, moveItems: function () { var t, n = this, r = n.listBox, o = n.options, i = n.getItems(), l = o.offset, s = a(i), c = e.makeArray(i.sort(n.itemComparer)), d = o.moveAction; if (!r.trigger(re, { dataItems: r._dataItems(c), items: e(c), offset: l })) for (; c.length > 0 && s.length > 0;)t = c[d](), r.reorder(t, s[d]() + l) }, options: { offset: 0, moveAction: "pop" }, itemComparer: function (t, a) { var n = e(t).index(), r = e(a).index(); return n === r ? 0 : n > r ? 1 : -1 } }), d = c.extend({ options: { offset: pe, moveAction: "shift" }, canExecute: function () { var e = this.getItems(), t = a(e); return t.length > 0 && t[0] > 0 } }), i.current.register(oe, d), u = c.extend({ options: { offset: he, moveAction: "pop" }, canExecute: function () { var t = this, n = t.getItems(), r = a(n); return r.length > 0 && e(r).last()[0] < t.listBox.items().length - 1 } }), i.current.register(ie, u), m = l.extend({ options: { filter: O }, execute: function () { var e = this, t = e.getSourceListBox(), a = e.getItems().filter(e.options.filter), n = t ? t._dataItems(a) : [], r = e.getDestinationListBox(), o = e.getUpdatedSelection(a); r && a.length > 0 && (r.trigger(ae, { dataItems: n, items: a }) || r.add(n), t.trigger(ne, { dataItems: n, items: a }) || (t.remove(a), e.updateSelection(o))) }, getUpdatedSelection: function (t) { var a = this, n = a.options.filter, r = a.getSourceListBox(), o = r ? r.items().filter(n).last() : null, i = e(t).filter(o).length > 0, l = i ? e(t).prevAll(n)[0] : e(t).nextAll(n)[0]; return 1 === e(t).length && l ? l : null }, updateSelection: function (t) { var a = this.getSourceListBox(); a && t && (e(a.select(e(t))), a._scrollIntoView(t)) }, getSourceListBox: L, getDestinationListBox: L }), g = m.extend({ canExecute: function () { var e = this.getSourceListBox(); return !!e && e.select().length > 0 }, getSourceListBox: function () { return this.listBox }, getDestinationListBox: function () { var t = this.getSourceListBox(); return t && t.options.connectWith ? e(W + t.options.connectWith).data(N) : null }, getItems: function () { var t = this.getSourceListBox(); return t ? e(t.select()) : e() } }), i.current.register(le, g), f = m.extend({ canExecute: function () { var e = this.getSourceListBox(); return !!e && e.select().length > 0 }, getSourceListBox: function () { var t = this.getDestinationListBox(); return t && t.options.connectWith ? e(W + t.options.connectWith).data(N) : null }, getDestinationListBox: function () { return this.listBox }, getItems: function () { var t = this.getSourceListBox(); return t ? e(t.select()) : e() } }), i.current.register(se, f), p = g.extend({ canExecute: function () { var e = this.getSourceListBox(); return !!e && e.items().filter(O).length > 0 }, getItems: function () { var t = this.getSourceListBox(); return t ? t.items() : e() }, getUpdatedSelection: L, updateSelection: L }), i.current.register(ce, p), h = f.extend({ canExecute: function () { var e = this.getSourceListBox(); return !!e && e.items().filter(O).length > 0 }, getItems: function () { var t = this.getSourceListBox(); return t ? t.items() : e() }, getUpdatedSelection: L, updateSelection: L }), i.current.register(de, h), _ = y.extend({ init: function (t, a) { var n = this; n.element = e(t).addClass(P), n.options = E({}, n.options, a), n.listBox = n.options.listBox, n._initTemplates(), n._createTools(), n._updateToolStates(), n._attachEventHandlers() }, destroy: function () { var e = this; e._detachEventHandlers(), v.destroy(e.element), e.element.remove(), e.element = null }, options: { position: Se, tools: [] }, _initTemplates: function () { this.templates = { tool: S("<li><a href='\\\\#' class='k-button k-button-icon' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'><span class='k-icon #= iconClass #'></span></a></li>") } }, _createTools: function () { var t, a, n = this, r = n.options.tools, o = r.length, i = n.options.messages.tools, l = n._createToolList(); for (a = 0; a < o; a++)t = E({}, _.defaultTools[r[a]], { text: i[r[a]] }), t && l.append(e(n.templates.tool(t))); n.element.append(l) }, _createToolList: function () { return e("<ul class='k-reset' />") }, _attachEventHandlers: function () { var e = this; e.element.on(z, q, w(e._onToolClick, e)) }, _detachEventHandlers: function () { this.element.off(U).find("*").off(U) }, _onToolClick: function (t) { t.preventDefault(), this._executeToolCommand(e(t.currentTarget).data(fe)) }, _executeToolCommand: function (e) { var t = this, a = t.listBox; a && a._executeCommand(e) }, _updateToolStates: function () { var e, t = this, a = t.options.tools, n = a.length; for (e = 0; e < n; e++)t._updateToolState(a[e]) }, _updateToolState: function (t) { var a = this, n = i.current.create(t, { listBox: a.listBox }), r = a.element.find("[data-command='" + t + "']")[0]; r && n && n.canExecute && (n.canExecute() ? e(r).removeClass(K).removeAttr(ge) : e(r).addClass(K).attr(ge, "-1")) } }), _.defaultTools = { remove: { command: ne, iconClass: "k-i-x" }, moveUp: { command: oe, iconClass: "k-i-arrow-60-up" }, moveDown: { command: ie, iconClass: "k-i-arrow-60-down" }, transferTo: { command: le, iconClass: "k-i-arrow-60-right" }, transferFrom: { command: se, iconClass: "k-i-arrow-60-left" }, transferAllTo: { command: ce, iconClass: "k-i-arrow-double-60-right" }, transferAllFrom: { command: de, iconClass: "k-i-arrow-double-60-left" } }, E(Be, { ToolBar: _ }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, a) { (a || t)() });; !function (t, define) { define("kendo.maskedtextbox.min", ["kendo.core.min"], t) }(function () { return function (t, e) { function n(t) { return t + d } function a(t, e) { for (var n = 0; n < e.length && t[n] === e[n];)n++; return n } var i = window, s = i.Math.min, o = i.kendo, r = o.caret, l = o.keys, u = o.ui, _ = u.Widget, d = ".kendoMaskedTextBox", m = t.proxy, p = window.setTimeout, h = "k-state-disabled", c = "k-state-invalid", f = "disabled", v = "readonly", g = "change", k = "mouseup", b = "drop", y = "keydown", w = "paste", C = "input", x = n(o.support.propertyChangeEvent ? "propertychange" : C), I = _.extend({ init: function (e, n) { var a, i, s = this; _.fn.init.call(s, e, n), s._rules = t.extend({}, s.rules, s.options.rules), e = s.element, a = e[0], s._wrapper(), s._tokenize(), s._form(), s.element.addClass("k-textbox").attr("autocomplete", "off").on("focus" + d, function () { var t = a.value; t ? s._togglePrompt(!0) : a.value = s._old = s._emptyMask, s._oldValue = t, s._timeoutId = p(function () { r(e, 0, t ? s._maskLength : 0) }) }).on("focusout" + d, function () { var t = e.val(); clearTimeout(s._timeoutId), a.value = s._old = "", t !== s._emptyMask && (a.value = s._old = t), s._change(), s._togglePrompt() }), i = e.is("[disabled]") || t(s.element).parents("fieldset").is(":disabled"), i ? s.enable(!1) : s.readonly(e.is("[readonly]")), s.value(s.options.value || e.val()), s._validationIcon = t("<span class='k-icon k-i-warning'></span>").insertAfter(e), o.notify(s) }, options: { name: "MaskedTextBox", clearPromptChar: !1, unmaskOnPost: !1, promptChar: "_", culture: "", rules: {}, value: "", mask: "" }, events: [g], rules: { 0: /\d/, 9: /\d|\s/, "#": /\d|\s|\+|\-/, L: /[a-zA-Z]/, "?": /[a-zA-Z]|\s/, "&": /\S/, C: /./, A: /[a-zA-Z0-9]/, a: /[a-zA-Z0-9]|\s/ }, setOptions: function (e) { var n = this; _.fn.setOptions.call(n, e), n._rules = t.extend({}, n.rules, n.options.rules), n._tokenize(), this._unbindInput(), this._bindInput(), n.value(n.element.val()) }, destroy: function () { var t = this; t.element.off(d), t._formElement && (t._formElement.off("reset", t._resetHandler), t._formElement.off("submit", t._submitHandler)), _.fn.destroy.call(t) }, raw: function () { var t = this._unmask(this.element.val(), 0); return t.replace(RegExp(this.options.promptChar, "g"), "") }, value: function (t) { var n = this.element, a = this._emptyMask; return t === e ? this.element.val() : (null === t && (t = ""), a ? (t = this._unmask(t + ""), n.val(t ? a : ""), this._mask(0, this._maskLength, t), this._unmaskedValue = null, t = n.val(), this._oldValue = t, o._activeElement() !== n && (t === a ? n.val("") : this._togglePrompt()), e) : (this._oldValue = t, n.val(t), e)) }, _togglePrompt: function (t) { var e = this.element[0], n = e.value; this.options.clearPromptChar && (n = t ? this._oldValue : n.replace(RegExp(this.options.promptChar, "g"), " "), e.value = this._old = n) }, readonly: function (t) { this._editable({ readonly: t === e || t, disable: !1 }) }, enable: function (t) { this._editable({ readonly: !1, disable: !(t = t === e || t) }) }, _bindInput: function () { var t, e, a = this; a._maskLength && (a.options.$angular && a.element.off(C), a.element.on(n(y), m(a._keydown, a)).on(n(b), m(a._drop, a)).on(n(g), m(a._trackChange, a)).on(x, m(a._inputHandler, a)), o.support.browser.msie && (t = o.support.browser.version, t > 8 && t < 11 && (e = [n(k), n(b), n(y), n(w)].join(" "), a.element.on(e, m(a._legacyIEInputHandler, a))))) }, _unbindInput: function () { var t = [x, n(y), n(k), n(b), n(w)].join(" "); this.element.off(t) }, _editable: function (t) { var e = this, n = e.element, a = e.wrapper, i = t.disable, s = t.readonly; e._unbindInput(), s || i ? (n.attr(f, i).attr(v, s), a.toggleClass(h, i)) : (n.removeAttr(f).removeAttr(v), a.removeClass(h), e._bindInput()) }, _change: function () { var t = this, e = t.value(); e !== t._oldValue ? (t._oldValue = e, t.trigger(g), t.element.trigger(g)) : "" === e && t.__changing && t.element.trigger(g) }, inputChange: function (t) { var e, n, i, l, u, _ = this, d = _._old, m = _.element[0], p = m.value, h = r(m), c = h[1], f = p.length - d.length, v = o.support.mobileOS; _.__dropping && f < 0 || (f === -1 && v.android && "chrome" === v.browser && (t = !0), e = s(c, a(p, d)), n = p.substring(e, c), m.value = p.substring(0, e) + _._emptyMask.substring(e), i = _._mask(e, c, n), l = _._trimStartPromptChars(p.substring(c), s(f, i - e)), u = _._unmask(l, d.length - l.length), _._mask(i, i, u), t && (i = _._findCaretPosBackwards(e)), r(m, i), _.__dropping = !1) }, _trimStartPromptChars: function (t, e) { for (var n = this.options.promptChar; e-- > 0 && 0 === t.indexOf(n);)t = t.substring(1); return t }, _findCaretPosBackwards: function (t) { var e = this._find(t, !0); return e < t && (e += 1), e }, _inputHandler: function () { o._activeElement() === this.element[0] && this.inputChange(this.__backward) }, _legacyIEInputHandler: function (t) { var e = this, n = e.element[0], a = n.value, i = t.type; e.__pasting = "paste" === i, p(function () { "mouseup" === i && e.__pasting || n.value && n.value !== a && e.inputChange(e.__backward) }) }, _trackChange: function () { var t = this; t.__changing = !0, p(function () { t.__changing = !1 }) }, _form: function () { var e = this, n = e.element, a = n.attr("form"), i = a ? t("#" + a) : n.closest("form"); i[0] && (e._resetHandler = function () { p(function () { e.value(n[0].value) }) }, e._submitHandler = function () { e.element[0].value = e._old = e.raw() }, e.options.unmaskOnPost && i.on("submit", e._submitHandler), e._formElement = i.on("reset", e._resetHandler)) }, _keydown: function (t) { var e = t.keyCode; this.__backward = e === l.BACKSPACE, e === l.ENTER && this._change() }, _drop: function () { this.__dropping = !0 }, _find: function (t, e) { var n = this.element.val() || this._emptyMask, a = 1; for (e === !0 && (a = -1); t > -1 || t <= this._maskLength;) { if (n.charAt(t) !== this.tokens[t]) return t; t += a } return -1 }, _mask: function (t, n, a, i) { var s, l, u, _, d = this.element[0], m = d.value || this._emptyMask, p = this.options.promptChar, h = 0; for (t = this._find(t, i), t > n && (n = t), l = this._unmask(m.substring(n), n), a = this._unmask(a, t), s = a.length, a && (l = l.replace(RegExp("^_{0," + s + "}"), "")), a += l, m = m.split(""), u = a.charAt(h); t < this._maskLength;)m[t] = u || p, u = a.charAt(++h), _ === e && h > s && (_ = t), t = this._find(t + 1); return d.value = this._old = m.join(""), o._activeElement() === d && (_ === e && (_ = this._maskLength), r(d, _)), _ }, _unmask: function (e, n) { var a, i, s, o, r, l, u, _; if (!e) return ""; if (this._unmaskedValue === e) return this._unmaskedValue; for (e = (e + "").split(""), s = 0, o = n || 0, r = this.options.promptChar, l = e.length, u = this.tokens.length, _ = ""; o < u && (a = e[s], i = this.tokens[o], a === i || a === r ? (_ += a === r ? r : "", s += 1, o += 1) : "string" != typeof i ? (i && i.test && i.test(a) || t.isFunction(i) && i(a) ? (_ += a, o += 1) : 1 === l && this._blinkInvalidState(), s += 1) : o += 1, !(s >= l));); return this._unmaskedValue = _, _ }, _wrapper: function () { var t = this, e = t.element, n = e[0], a = e.wrap("<span class='k-widget k-maskedtextbox'></span>").parent(); a[0].style.cssText = n.style.cssText, n.style.width = "100%", t.wrapper = a.addClass(n.className) }, _blinkInvalidState: function () { var t = this; t.wrapper.addClass(c), clearTimeout(t._invalidStateTimeout), t._invalidStateTimeout = p(m(t._removeInvalidState, t), 100) }, _removeInvalidState: function () { var t = this; t.wrapper.removeClass(c), t._invalidStateTimeout = null }, _tokenize: function () { for (var t, e, n, a, i = [], s = 0, r = this.options.mask || "", l = r.split(""), u = l.length, _ = 0, d = "", m = this.options.promptChar, p = o.getCulture(this.options.culture).numberFormat, h = this._rules; _ < u; _++)if (t = l[_], e = h[t]) i[s] = e, d += m, s += 1; else for ("." === t || "," === t ? t = p[t] : "$" === t ? t = p.currency.symbol : "\\" === t && (_ += 1, t = l[_]), t = t.split(""), n = 0, a = t.length; n < a; n++)i[s] = t[n], d += t[n], s += 1; this.tokens = i, this._emptyMask = d, this._maskLength = d.length } }); u.plugin(I) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, n) { (n || e)() });; !function (e, define) { define("kendo.multiselect.min", ["kendo.list.min", "kendo.mobile.scroller.min", "kendo.virtuallist.min"], e) }(function () { return function (e, t) { function i(e, t) { var i; if (null === e && null !== t || null !== e && null === t) return !1; if (i = e.length, i !== t.length) return !1; for (; i--;)if (e[i] !== t[i]) return !1; return !0 } var a = window.kendo, s = a.ui, n = s.List, l = e.extend({ A: 65 }, a.keys), o = a._activeElement, r = a.data.ObservableArray, c = e.proxy, u = "id", d = "li", p = "accept", h = "filter", _ = "rebind", f = "open", g = "close", m = "change", v = "progress", T = "select", w = "deselect", I = "aria-disabled", b = "k-state-focused", y = "k-state-selected", k = "k-hidden", x = "k-state-hover", C = "k-state-disabled", V = "disabled", S = "readonly", L = ".kendoMultiSelect", D = "click" + L, O = "keydown" + L, B = "mouseenter" + L, E = "mouseleave" + L, F = B + " " + E, A = /"/g, M = e.isArray, P = ["font-family", "font-size", "font-stretch", "font-style", "font-weight", "letter-spacing", "text-transform", "line-height"], H = n.extend({ init: function (t, i) { var s, l, o = this; o.ns = L, n.fn.init.call(o, t, i), o._optionsMap = {}, o._customOptions = {}, o._wrapper(), o._tagList(), o._input(), o._textContainer(), o._loader(), o._clearButton(), o._tabindex(o.input), t = o.element.attr("multiple", "multiple").hide(), i = o.options, i.placeholder || (i.placeholder = t.data("placeholder")), s = t.attr(u), s && (o._tagID = s + "_tag_active", s += "_taglist", o.tagList.attr(u, s)), o._initialOpen = !0, o._aria(s), o._dataSource(), o._ignoreCase(), o._popup(), o._tagTemplate(), o.requireValueMapper(o.options), o._initList(), o._reset(), o._enable(), o._placeholder(), i.autoBind ? o.dataSource.fetch() : i.value && o._preselect(i.value), l = e(o.element).parents("fieldset").is(":disabled"), l && o.enable(!1), a.notify(o), o._toggleCloseVisibility() }, options: { name: "MultiSelect", tagMode: "multiple", enabled: !0, autoBind: !0, autoClose: !0, highlightFirst: !0, dataTextField: "", dataValueField: "", filter: "startswith", ignoreCase: !0, minLength: 1, enforceMinLength: !1, delay: 100, value: null, maxSelectedItems: null, placeholder: "", height: 200, animation: {}, virtual: !1, itemTemplate: "", tagTemplate: "", groupTemplate: "#:data#", fixedGroupTemplate: "#:data#", clearButton: !0, autoWidth: !1 }, events: [f, g, m, T, w, "filtering", "dataBinding", "dataBound"], setDataSource: function (e) { this.options.dataSource = e, this._state = "", this._dataSource(), this.persistTagList = !1, this.listView.setDataSource(this.dataSource), this.options.autoBind && this.dataSource.fetch() }, setOptions: function (e) { var t = this._listOptions(e); n.fn.setOptions.call(this, e), this.listView.setOptions(t), this._accessors(), this._aria(this.tagList.attr(u)), this._tagTemplate(), this._placeholder(), this._clearButton() }, currentTag: function (e) { var i = this; return e === t ? i._currentTag : (i._currentTag && (i._currentTag.removeClass(b).removeAttr(u), i.input.removeAttr("aria-activedescendant")), e && (e.addClass(b).attr(u, i._tagID), i.input.attr("aria-activedescendant", i._tagID)), i._currentTag = e, t) }, dataItems: function () { return this.listView.selectedDataItems() }, destroy: function () { var e = this, t = e.ns; clearTimeout(e._busy), clearTimeout(e._typingTimeout), e.wrapper.off(t), e.tagList.off(t), e.input.off(t), e._clear.off(t), n.fn.destroy.call(e) }, _activateItem: function () { n.fn._activateItem.call(this), this.currentTag(null) }, _listOptions: function (t) { var i = this, s = n.fn._listOptions.call(i, e.extend(t, { selectedItemChange: c(i._selectedItemChange, i), selectable: "multiple" })), l = this.options.itemTemplate || this.options.template, o = s.itemTemplate || l || s.template; return o || (o = "#:" + a.expr(s.dataTextField, "data") + "#"), s.template = o, s }, _setListValue: function () { n.fn._setListValue.call(this, this._initialValues.slice(0)) }, _listChange: function (e) { var i, a = this.dataSource.flatView(), s = this._optionsMap, n = this._value; for (this._state === _ && (this._state = ""), i = 0; i < e.added.length; i++)if (s[n(e.added[i].dataItem)] === t) { this._render(a); break } this._selectValue(e.added, e.removed) }, _selectedItemChange: function (e) { var t, i, a = e.items; for (i = 0; i < a.length; i++)t = a[i], this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item)) }, _wrapperMousedown: function (t) { var i = this, s = "input" !== t.target.nodeName.toLowerCase(), n = e(t.target), l = n.hasClass("k-select") || n.hasClass("k-icon"); l && (l = !n.closest(".k-select").children(".k-i-arrow-60-down").length), !s || l && a.support.mobileOS || t.preventDefault(), l || (i.input[0] !== o() && s && i.input.focus(), 1 === i.options.minLength && i.open()) }, _inputFocus: function () { this._placeholder(!1), this.wrapper.addClass(b) }, _inputFocusout: function () { var e = this; clearTimeout(e._typingTimeout), e.wrapper.removeClass(b), e._placeholder(!e.listView.selectedDataItems()[0], !0), e.close(), e._state === h && (e._state = p, e.listView.skipUpdate(!0)), e.listView.bound() && e.listView.isFiltered() && (e.persistTagList = !0, e._clearFilter()), e.element.blur() }, _removeTag: function (e, i) { var a, s, n = this, l = n._state, o = e.index(), r = n.listView, c = r.value()[o], u = n.listView.selectedDataItems()[o], d = n._customOptions[c]; return n.trigger(w, { dataItem: u, item: e }) ? (n._close(), t) : (d !== t || l !== p && l !== h || (d = n._optionsMap[c]), s = function () { n.currentTag(null), i && n._change(), n._close() }, d === t ? (n.persistTagList = !1, r.select(r.select()[o]).done(s)) : (a = n.element[0].children[d], a.selected = !1, r.removeAt(o), e.remove(), s()), t) }, _tagListClick: function (t) { var i = e(t.currentTarget); i.children(".k-i-arrow-60-down").length || this._removeTag(i.closest(d), !0) }, _clearClick: function () { var t = this; "single" === t.options.tagMode ? t.value([]) : t.tagList.children().each(function (i, a) { t._removeTag(e(a), !1) }), t.input.val(""), t._search(), t.trigger(m), t.focus() }, _editable: function (t) { var i = this, a = t.disable, s = t.readonly, n = i.wrapper.off(L), l = i.tagList.off(L), o = i.element.add(i.input.off(L)); s || a ? (a ? n.addClass(C) : n.removeClass(C), o.attr(V, a).attr(S, s).attr(I, a)) : (n.removeClass(C).on(F, i._toggleHover).on("mousedown" + L + " touchend" + L, c(i._wrapperMousedown, i)), i.input.on(O, c(i._keydown, i)).on("paste" + L, c(i._search, i)).on("input" + L, c(i._search, i)).on("focus" + L, c(i._inputFocus, i)).on("focusout" + L, c(i._inputFocusout, i)), i._clear.on("click" + L, c(i._clearClick, i)), o.removeAttr(V).removeAttr(S).attr(I, !1), l.on(B, d, function () { e(this).addClass(x) }).on(E, d, function () { e(this).removeClass(x) }).on(D, "li.k-button .k-select", c(i._tagListClick, i))) }, _close: function () { var e = this; e.options.autoClose ? e.close() : e.popup.position() }, _filterSource: function (e, t) { t || (t = this._retrieveData), this._retrieveData = !1, n.fn._filterSource.call(this, e, t) }, close: function () { this._activeItem = null, this.popup.close() }, open: function () { var t = this; t._request && (t._retrieveData = !1), t._retrieveData || !t.listView.bound() || t._state === p ? (t._open = !0, t._state = _, t.listView.skipUpdate(!0), t.persistTagList = !(t._initialOpen && !t.listView.bound()), t._filterSource(), t._focusItem()) : t._allowOpening() && (!t._initialOpen || t.options.autoBind || t.options.virtual || !t.options.value || e.isPlainObject(t.options.value[0]) || t.value(t._initialValues), t.popup._hovered = !0, t._initialOpen = !1, t.popup.open(), t._focusItem()) }, toggle: function (e) { e = e !== t ? e : !this.popup.visible(), this[e ? f : g]() }, refresh: function () { this.listView.refresh() }, _listBound: function () { var e = this, i = e.dataSource.flatView(), a = e.listView.skip(); e._render(i), e._renderFooter(), e._renderNoData(), e._toggleNoData(!i.length), e._resizePopup(), e._open && (e._open = !1, e.toggle(e._allowOpening())), e.popup.position(), !e.options.highlightFirst || a !== t && 0 !== a || e.listView.focusFirst(), e._touchScroller && e._touchScroller.reset(), e._hideBusy(), e._makeUnselectable(), e.trigger("dataBound") }, _inputValue: function () { var e = this, t = e.input.val(); return e.options.placeholder === t && (t = ""), t }, value: function (e) { var i = this, a = i.listView, s = a.value().slice(), n = i.options.maxSelectedItems, l = a.bound() && a.isFiltered(); return e === t ? s : (i._toggleCloseVisibility(), i.persistTagList = !1, i.requireValueMapper(i.options, e), e = i._normalizeValues(e), null !== n && e.length > n && (e = e.slice(0, n)), l && i._clearFilter(), a.value(e), i._old = a.value(), l || i._fetchData(), t) }, _preselect: function (t, i) { var s = this; M(t) || t instanceof a.data.ObservableArray || (t = [t]), (e.isPlainObject(t[0]) || t[0] instanceof a.data.ObservableObject || !s.options.dataValueField) && (s.dataSource.data(t), s.value(i || s._initialValues), s._retrieveData = !0) }, _setOption: function (e, t) { var i = this.element[0].children[this._optionsMap[e]]; i && (i.selected = t) }, _fetchData: function () { var e = this, t = !!e.dataSource.view().length, i = 0 === e.listView.value().length; i || e._request || (e._retrieveData || !e._fetch && !t) && (e._fetch = !0, e._retrieveData = !1, e.dataSource.read().done(function () { e._fetch = !1 })) }, _isBound: function () { return this.listView.bound() && !this._retrieveData }, _dataSource: function () { var e = this, t = e.element, i = e.options, s = i.dataSource || {}; s = M(s) ? { data: s } : s, s.select = t, s.fields = [{ field: i.dataTextField }, { field: i.dataValueField }], e.dataSource && e._refreshHandler ? e._unbindDataSource() : (e._progressHandler = c(e._showBusy, e), e._errorHandler = c(e._hideBusy, e)), e.dataSource = a.data.DataSource.create(s).bind(v, e._progressHandler).bind("error", e._errorHandler) }, _reset: function () { var t = this, i = t.element, a = i.attr("form"), s = a ? e("#" + a) : i.closest("form"); s[0] && (t._resetHandler = function () { setTimeout(function () { t.value(t._initialValues), t._placeholder() }) }, t._form = s.on("reset", t._resetHandler)) }, _initValue: function () { var e = this.options.value || this.element.val(); this._old = this._initialValues = this._normalizeValues(e) }, _normalizeValues: function (t) { var i = this; return null === t ? t = [] : t && e.isPlainObject(t) ? t = [i._value(t)] : t && e.isPlainObject(t[0]) ? t = e.map(t, function (e) { return i._value(e) }) : M(t) || t instanceof r ? M(t) && (t = t.slice()) : t = [t], t }, _change: function () { var e = this, t = e.value(); i(t, e._old) || (e._old = t.slice(), e.trigger(m), e.element.trigger(m)), e._toggleCloseVisibility() }, _click: function (e) { var t = this, i = e.item; e.preventDefault(), t._select(i).done(function () { t._activeItem = i, t._change(), t._close() }) }, _getActiveItem: function () { return this._activeItem || e(this.listView.items()[this._getSelectedIndices().length - 1]) || this.listView.focus() }, _getSelectedIndices: function () { return this.listView._selectedIndices || this.listView._selectedIndexes }, _keydown: function (i) { var s, n, o, r, c = this, u = i.keyCode, d = c._currentTag, h = c.listView, _ = c.input.val(), f = a.support.isRtl(c.wrapper), g = c.popup.visible(), v = 0; if (u === l.DOWN) { if (i.preventDefault(), !g) return c.open(), h.focus() || h.focusFirst(), t; h.focus() ? (!c._activeItem && i.shiftKey && (c._activeItem = h.focus(), v = -1), s = h.getElementIndex(c._getActiveItem()[0]), h.focusNext(), h.focus() ? i.shiftKey && c._selectRange(s, h.getElementIndex(h.focus()[0]) + v) : h.focusLast()) : h.focusFirst() } else if (u === l.UP) g && (!c._activeItem && i.shiftKey && (c._activeItem = h.focus(), v = 1), s = h.getElementIndex(c._getActiveItem()[0]), h.focusPrev(), h.focus() ? i.shiftKey && c._selectRange(s, h.getElementIndex(h.focus()[0]) + v) : c.close()), i.preventDefault(); else if (u === l.LEFT && !f || u === l.RIGHT && f) _ || (d = d ? d.prev() : e(c.tagList[0].lastChild), d[0] && c.currentTag(d)); else if (u === l.RIGHT && !f || u === l.LEFT && f) !_ && d && (d = d.next(), c.currentTag(d[0] ? d : null)); else if (i.ctrlKey && u === l.A && g) this._getSelectedIndices().length === h.items().length && (c._activeItem = null), h.items().length && c._selectRange(0, h.items().length - 1); else if (u === l.ENTER && g) { if (!h.focus()) return; if (i.preventDefault(), h.focus().hasClass(y)) return c._close(), t; c._select(h.focus()).done(function () { c._change(), c._close() }) } else if (u === l.SPACEBAR && i.ctrlKey && g) c._activeItem && h.focus() && h.focus()[0] === c._activeItem[0] && (c._activeItem = null), e(h.focus()).hasClass(y) || (c._activeItem = h.focus()), c._select(h.focus()).done(function () { c._change() }), i.preventDefault(); else if (u === l.SPACEBAR && i.shiftKey && g) n = h.getElementIndex(c._getActiveItem()), o = h.getElementIndex(h.focus()), n !== t && o !== t && c._selectRange(n, o), i.preventDefault(); else if (u === l.ESC) g ? i.preventDefault() : (c.tagList.children().each(function (t, i) { c._removeTag(e(i), !1) }), c.trigger(m)), c.close(); else if (u === l.HOME) g ? h.focus() ? (i.ctrlKey && i.shiftKey && c._selectRange(h.getElementIndex(h.focus()[0]), 0), h.focusFirst()) : c.close() : _ || (d = c.tagList[0].firstChild, d && c.currentTag(e(d))); else if (u === l.END) g ? h.focus() ? (i.ctrlKey && i.shiftKey && c._selectRange(h.getElementIndex(h.focus()[0]), h.element.children().length - 1), h.focusLast()) : c.close() : _ || (d = c.tagList[0].lastChild, d && c.currentTag(e(d))); else if (u !== l.DELETE && u !== l.BACKSPACE || _) !c.popup.visible() || u !== l.PAGEDOWN && u !== l.PAGEUP ? (clearTimeout(c._typingTimeout), setTimeout(function () { c._scale() }), c._search()) : (i.preventDefault(), r = u === l.PAGEDOWN ? 1 : -1, h.scrollWith(r * h.screenHeight())); else { if (c._state = p, "single" === c.options.tagMode) return h.value([]), c._change(), c._close(), t; u !== l.BACKSPACE || d || (d = e(c.tagList[0].lastChild)), d && d[0] && c._removeTag(d, !0) } }, _hideBusy: function () { var e = this; clearTimeout(e._busy), e.input.attr("aria-busy", !1), e._loading.addClass(k), e._request = !1, e._busy = null, e._toggleCloseVisibility() }, _showBusyHandler: function () { this.input.attr("aria-busy", !0), this._loading.removeClass(k), this._hideClear() }, _showBusy: function () { var e = this; e._request = !0, e._busy || (e._busy = setTimeout(c(e._showBusyHandler, e), 100)) }, _placeholder: function (e, i) { var s = this, n = s.input, l = o(), r = s.options.placeholder, c = n.val(), u = n[0] === l, d = c.length; u && !s.options.autoClose && c !== r || (d = 0, c = ""), e === t && (e = !1, n[0] !== l && (e = !s.listView.selectedDataItems()[0])), s._prev = c, n.toggleClass("k-readonly", e).val(e ? r : c), u && !i && a.caret(n[0], d, d), s._scale() }, _scale: function () { var e, t = this, i = t.wrapper.find(".k-multiselect-wrap"), a = i.width(), s = t._span.text(t.input.val()); i.is(":visible") ? e = s.width() + 25 : (s.appendTo(document.documentElement), a = e = s.width() + 25, s.appendTo(i)), t.input.width(e > a ? a : e) }, _option: function (e, i, s) { var n = "<option"; return e !== t && (e += "", e.indexOf('"') !== -1 && (e = e.replace(A, "&quot;")), n += ' value="' + e + '"'), s && (n += " selected"), n += ">", i !== t && (n += a.htmlEncode(i)), n += "</option>" }, _render: function (e) { var t, i, a, s, n, l, o = this.listView.selectedDataItems(), r = this.listView.value(), c = e.length, u = ""; for (r.length !== o.length && (o = this._buildSelectedItems(r)), n = {}, l = {}, s = 0; s < c; s++)i = e[s], a = this._value(i), t = this._selectedItemIndex(a, o), t !== -1 && o.splice(t, 1), l[a] = s, u += this._option(a, this._text(i), t !== -1); if (o.length) for (s = 0; s < o.length; s++)i = o[s], a = this._value(i), n[a] = c, l[a] = c, c += 1, u += this._option(a, this._text(i), !0); this._customOptions = n, this._optionsMap = l, this.element.html(u) }, _buildSelectedItems: function (e) { var t, i, a = this.options.dataValueField, s = this.options.dataTextField, n = []; for (i = 0; i < e.length; i++)t = {}, t[a] = e[i], t[s] = e[i], n.push(t); return n }, _selectedItemIndex: function (e, t) { for (var i = this._value, a = 0; a < t.length; a++)if (e === i(t[a])) return a; return -1 }, _search: function () { var e = this; e._typingTimeout = setTimeout(function () { var t = e._inputValue(); e._prev !== t && (e._prev = t, e.search(t), e._toggleCloseVisibility()) }, e.options.delay) }, _toggleCloseVisibility: function () { this.value().length || this.input.val() && this.input.val() !== this.options.placeholder ? this._showClear() : this._hideClear() }, _allowOpening: function () { return this._allowSelection() && n.fn._allowOpening.call(this) }, _allowSelection: function () { var e = this.options.maxSelectedItems; return null === e || e > this.listView.value().length }, _angularTagItems: function (t) { var i = this; i.angular(t, function () { return { elements: i.tagList[0].children, data: e.map(i.dataItems(), function (e) { return { dataItem: e } }) } }) }, updatePersistTagList: function (e, t) { this.persistTagList = (!this.persistTagList.added || this.persistTagList.added.length !== t.length || !this.persistTagList.removed || this.persistTagList.removed.length !== e.length) && { added: e, removed: t } }, _selectValue: function (e, i) { var a, s, n, l = this, o = l.value(), r = l.dataSource.total(), c = l.tagList, u = l._value; if (this.persistTagList) return this.updatePersistTagList(e, i), t; if (l._angularTagItems("cleanup"), "multiple" === l.options.tagMode) { for (n = i.length - 1; n > -1; n--)a = i[n], c.children().length && (c[0].removeChild(c[0].children[a.position]), l._setOption(u(a.dataItem), !1)); for (n = 0; n < e.length; n++)s = e[n], c.append(l.tagTemplate(s.dataItem)), l._setOption(u(s.dataItem), !0) } else { for ((!l._maxTotal || l._maxTotal < r) && (l._maxTotal = r), c.html(""), o.length && c.append(l.tagTemplate({ values: o, dataItems: l.dataItems(), maxTotal: l._maxTotal, currentTotal: r })), n = i.length - 1; n > -1; n--)l._setOption(u(i[n].dataItem), !1); for (n = 0; n < e.length; n++)l._setOption(u(e[n].dataItem), !0) } l._angularTagItems("compile"), l._placeholder() }, _select: function (t) { var i, a, s, n, l = e.Deferred().resolve(); return t ? (i = this, a = i.listView, s = a.dataItemByIndex(a.getElementIndex(t)), n = t.hasClass("k-state-selected"), i._state === _ && (i._state = ""), i._allowSelection() || n ? i.trigger(n ? w : T, { dataItem: s, item: t }) ? (i._close(), l) : (i.persistTagList = !1, a.select(t).done(function () { i._placeholder(), i._state === h && (i._state = p, a.skipUpdate(!0)) })) : l) : l }, _selectRange: function (i, a) { var s, n, l = this, o = this.listView, r = this.options.maxSelectedItems, c = this._getSelectedIndices().slice(), u = [], d = function (t) { o.select(t).done(function () { t.forEach(function (t) { var i = o.dataItemByIndex(t), a = o.element.children()[t], s = e(a).hasClass("k-state-selected"); l.trigger(s ? T : w, { dataItem: i, item: e(a) }) }), l._change() }) }; if (c.length - 1 === a - i) return d(c); if (i < a) for (s = i; s <= a; s++)u.push(s); else for (s = i; s >= a; s--)u.push(s); for (null !== r && u.length > r && (u = u.slice(0, r)), s = 0; s < u.length; s++)n = u[s], this._getSelectedIndices().indexOf(n) == -1 ? c.push(n) : c.splice(c.indexOf(n), 1); return c.length ? (l.persistTagList = !1, d(c)) : t }, _input: function () { var t = this, i = t.element, a = i[0].accessKey, s = t._innerWrapper.children("input.k-input"); s[0] || (s = e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)), i.removeAttr("accesskey"), t._focused = t.input = s.attr({ accesskey: a, autocomplete: "off", role: "listbox", title: i[0].title, "aria-expanded": !1 }) }, _tagList: function () { var t = this, i = t._innerWrapper.children("ul"); i[0] || (i = e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)), t.tagList = i }, _tagTemplate: function () { var e, t = this, i = t.options, s = i.tagTemplate, n = i.dataSource, l = "multiple" === i.tagMode; t.element[0].length && !n && (i.dataTextField = i.dataTextField || "text", i.dataValueField = i.dataValueField || "value"), e = l ? a.template("#:" + a.expr(i.dataTextField, "data") + "#", { useWithBlock: !1 }) : a.template("#:values.length# item(s) selected"), t.tagTextTemplate = s = s ? a.template(s) : e, t.tagTemplate = function (e) { return '<li class="k-button" unselectable="on"><span unselectable="on">' + s(e) + '</span><span unselectable="on" aria-label="' + (l ? "delete" : "open") + '" class="k-select"><span class="k-icon ' + (l ? "k-i-close" : "k-i-arrow-60-down") + '"></span></span></li>' } }, _loader: function () { this._loading = e('<span class="k-icon k-i-loading ' + k + '"></span>').insertAfter(this.input) }, _clearButton: function () { n.fn._clearButton.call(this), this.options.clearButton && (this._clear.insertAfter(this.input), this.wrapper.addClass("k-multiselect-clearable")) }, _textContainer: function () { var t = a.getComputedStyles(this.input[0], P); t.position = "absolute", t.visibility = "hidden", t.top = -3333, t.left = -3333, this._span = e("<span/>").css(t).appendTo(this.wrapper) }, _wrapper: function () { var t = this, i = t.element, a = i.parent("span.k-multiselect"); a[0] || (a = i.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent(), a[0].style.cssText = i[0].style.cssText, a[0].title = i[0].title, e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(i)), t.wrapper = a.addClass(i[0].className).css("display", ""), t._innerWrapper = e(a[0].firstChild) } }); s.plugin(H) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (t, define) { define("kendo.notification.min", ["kendo.core.min", "kendo.popup.min"], t) }(function () { return function (t, i) { var n = window.kendo, e = n.ui.Widget, o = t.proxy, a = t.extend, p = window.setTimeout, s = "click", d = "show", c = "hide", l = "k-notification", u = ".k-notification-wrap .k-i-close", r = "k-hiding", f = "info", h = "success", g = "warning", m = "error", _ = "top", w = "left", k = "bottom", v = "right", P = "up", T = ".kendoNotification", C = '<div class="k-widget k-popup k-notification"></div>', b = '<div class="k-notification-wrap"><span class="k-icon k-i-#=typeIcon#" title="#=typeIcon#"></span>#=content#<span class="k-icon k-i-close" title="Hide"></span></div>', y = b.replace("#=content#", "#:content#"), S = e.extend({ init: function (i, o) { var a = this; e.fn.init.call(a, i, o), o = a.options, o.appendTo && t(o.appendTo).is(i) || a.element.hide(), a._compileTemplates(o.templates), a._guid = "_" + n.guid(), a._isRtl = n.support.isRtl(i), a._compileStacking(o.stacking, o.position.top, o.position.left), n.notify(a) }, events: [d, c], options: { name: "Notification", position: { pinned: !0, top: null, left: null, bottom: 20, right: 20 }, stacking: "default", hideOnClick: !0, button: !1, allowHideAfter: 0, autoHideAfter: 5e3, appendTo: null, width: null, height: null, templates: [], animation: { open: { effects: "fade:in", duration: 300 }, close: { effects: "fade:out", duration: 600, hide: !0 } } }, _compileTemplates: function (i) { var e = this, o = n.template; e._compiled = {}, t.each(i, function (i, n) { e._compiled[n.type] = o(n.template || t("#" + n.templateId).html()) }), e._defaultCompiled = o(b), e._safeCompiled = o(y) }, _getCompiled: function (t, i) { var n = i ? this._safeCompiled : this._defaultCompiled; return t ? this._compiled[t] || n : n }, _compileStacking: function (t, i, n) { var e, o, a = this, p = { paddingTop: 0, paddingRight: 0, paddingBottom: 0, paddingLeft: 0 }, s = null !== n ? w : v; switch (t) { case "down": e = k + " " + s, o = _ + " " + s, delete p.paddingBottom; break; case v: e = _ + " " + v, o = _ + " " + w, delete p.paddingRight; break; case w: e = _ + " " + w, o = _ + " " + v, delete p.paddingLeft; break; case P: e = _ + " " + s, o = k + " " + s, delete p.paddingTop; break; default: null !== i ? (e = k + " " + s, o = _ + " " + s, delete p.paddingBottom) : (e = _ + " " + s, o = k + " " + s, delete p.paddingTop) }a._popupOrigin = e, a._popupPosition = o, a._popupPaddings = p }, _attachPopupEvents: function (t, i) { function n(t) { t.on(s + T, function () { o._hidePopup(i) }) } var e, o = this, a = t.allowHideAfter, d = !isNaN(a) && a > 0; t.hideOnClick ? i.bind("activate", function () { d ? p(function () { n(i.element) }, a) : n(i.element) }) : t.button && (e = i.element.find(u), d ? p(function () { n(e) }, a) : n(e)) }, _showPopup: function (i, e) { var o, s, d = this, c = e.autoHideAfter, l = e.position.left, f = e.position.top; s = t("." + d._guid + ":not(." + r + ")").last(), o = new n.ui.Popup(i, { anchor: s[0] ? s : document.body, origin: d._popupOrigin, position: d._popupPosition, animation: e.animation, modal: !0, collision: "", isRtl: d._isRtl, close: function () { d._triggerHide(this.element) }, deactivate: function (t) { t.sender.element.off(T), t.sender.element.find(u).off(T), t.sender.destroy() } }), d._attachPopupEvents(e, o), i.removeClass("k-group k-reset"), s[0] ? o.open() : (null === l && (l = t(window).width() - i.width() - e.position.right), null === f && (f = t(window).height() - i.height() - e.position.bottom), o.open(l, f)), o.wrapper.addClass(d._guid).css(a({ margin: 0, zIndex: 10050 }, d._popupPaddings)), e.position.pinned ? (o.wrapper.css("position", "fixed"), s[0] && d._togglePin(o.wrapper, !0)) : s[0] || d._togglePin(o.wrapper, !1), c > 0 && p(function () { d._hidePopup(o) }, c) }, _hidePopup: function (t) { t.wrapper.addClass(r), t.close() }, _togglePin: function (i, n) { var e = t(window), o = n ? -1 : 1; i.css({ top: parseInt(i.css(_), 10) + o * e.scrollTop(), left: parseInt(i.css(w), 10) + o * e.scrollLeft() }) }, _attachStaticEvents: function (t, i) { function n(t) { t.on(s + T, o(e._hideStatic, e, i)) } var e = this, a = t.allowHideAfter, d = !isNaN(a) && a > 0; t.hideOnClick ? d ? p(function () { n(i) }, a) : n(i) : t.button && (d ? p(function () { n(i.find(u)) }, a) : n(i.find(u))) }, _showStatic: function (t, i) { var n = this, e = i.autoHideAfter, o = i.animation, a = i.stacking == P || i.stacking == w ? "prependTo" : "appendTo"; t.removeClass("k-popup").addClass(n._guid)[a](i.appendTo).hide().kendoAnimate(o.open || !1), n._attachStaticEvents(i, t), e > 0 && p(function () { n._hideStatic(t) }, e) }, _hideStatic: function (t) { t.kendoAnimate(a(this.options.animation.close || !1, { complete: function () { t.off(T).find(u).off(T), t.remove() } })), this._triggerHide(t) }, _triggerHide: function (t) { this.trigger(c, { element: t }), this.angular("cleanup", function () { return { elements: t } }) }, show: function (e, o, p) { var s, c, u = this, r = u.options, h = t(C); return o || (o = f), null !== e && e !== i && "" !== e && (n.isFunction(e) && (e = e()), c = { typeIcon: o, content: "" }, s = t.isPlainObject(e) ? a(c, e) : a(c, { content: e }), h.addClass(l + "-" + o).toggleClass(l + "-button", r.button).attr("data-role", "alert").css({ width: r.width, height: r.height }).append(u._getCompiled(o, p)(s)), u.angular("compile", function () { return { elements: h, data: [{ dataItem: s }] } }), t(r.appendTo)[0] ? u._showStatic(h, r) : u._showPopup(h, r), u.trigger(d, { element: h })), u }, showText: function (t, i) { this.show(t, i, !0) }, info: function (t) { return this.show(t, f) }, success: function (t) { return this.show(t, h) }, warning: function (t) { return this.show(t, g) }, error: function (t) { return this.show(t, m) }, hide: function () { var i = this, n = i.getNotifications(); return n.each(i.options.appendTo ? function (n, e) { i._hideStatic(t(e)) } : function (n, e) { var o = t(e).data("kendoPopup"); o && i._hidePopup(o) }), i }, getNotifications: function () { var i = this, n = t("." + i._guid + ":not(." + r + ")"); return i.options.appendTo ? n : n.children("." + l) }, setOptions: function (t) { var n, o = this; e.fn.setOptions.call(o, t), n = o.options, t.templates !== i && o._compileTemplates(n.templates), t.stacking === i && t.position === i || o._compileStacking(n.stacking, n.position.top, n.position.left) }, destroy: function () { e.fn.destroy.call(this), this.getNotifications().off(T).find(u).off(T) } }); n.ui.plugin(S) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, i, n) { (n || i)() });; !function (e, define) { define("kendo.splitter.min", ["kendo.resizable.min"], e) }(function () { return function (e, t) { function n(e) { return m.test(e) } function i(e) { return k.test(e) || /^\d+$/.test(e) } function r(e) { return !n(e) && !i(e) } function s(e, t) { var i = parseInt(e, 10); return n(e) && (i = Math.floor(i * t / 100)), i } function a(e, n) { return function (i, r) { var s, a = this.element.find(i).data(T); return 1 == arguments.length ? a[e] : (a[e] = r, n && (s = this.element.data("kendo" + this.options.name), s.resize(!0)), t) } } function o(e) { var t = this, n = e.orientation; t.owner = e, t._element = e.element, t.orientation = n, u(t, n === P ? p : l), t._resizable = new d.ui.Resizable(e.element, { orientation: n, handle: ".k-splitbar-draggable-" + n + "[data-marker=" + e._marker + "]", hint: f(t._createHint, t), start: f(t._start, t), max: f(t._max, t), min: f(t._min, t), invalidClass: "k-restricted-size-" + n, resizeend: f(t._stop, t) }) } var l, p, d = window.kendo, c = d.ui, h = d.keys, u = e.extend, f = e.proxy, g = c.Widget, k = /^\d+(\.\d+)?px$/i, m = /^\d+(\.\d+)?%$/i, v = ".kendoSplitter", _ = "expand", z = "collapse", x = "contentLoad", y = "error", w = "resize", b = "layoutChange", P = "horizontal", C = "vertical", S = "mouseenter", A = "click", T = "pane", D = "mouseleave", E = "k-state-focused", B = "k-" + T, H = "." + B, I = g.extend({ init: function (e, t) { var n, i = this; g.fn.init.call(i, e, t), i.wrapper = i.element, i.options.orientation && (n = i.options.orientation.toLowerCase() != C), i.orientation = n ? P : C, i._dimension = n ? "width" : "height", i._keys = { decrease: n ? h.LEFT : h.UP, increase: n ? h.RIGHT : h.DOWN }, i._resizeStep = 10, i._marker = d.guid().substring(0, 8), i._initPanes(), i.resizing = new o(i), i.element.triggerHandler("init" + v) }, events: [_, z, x, y, w, b], _addOverlays: function () { this._panes().append("<div class='k-splitter-overlay k-overlay' />") }, _removeOverlays: function () { this._panes().children(".k-splitter-overlay").remove() }, _attachEvents: function () { var t = this, n = t.options.orientation; t.element.children(".k-splitbar-draggable-" + n).on("keydown" + v, f(t._keydown, t)).on("mousedown" + v, function (e) { e.currentTarget.focus() }).on("focus" + v, function (t) { e(t.currentTarget).addClass(E) }).on("blur" + v, function (n) { e(n.currentTarget).removeClass(E), t.resizing && t.resizing.end() }).on(S + v, function () { e(this).addClass("k-splitbar-" + t.orientation + "-hover") }).on(D + v, function () { e(this).removeClass("k-splitbar-" + t.orientation + "-hover") }).on("mousedown" + v, f(t._addOverlays, t)).end().children(".k-splitbar").on("dblclick" + v, f(t._togglePane, t)).children(".k-collapse-next, .k-collapse-prev").on(A + v, t._arrowClick(z)).end().children(".k-expand-next, .k-expand-prev").on(A + v, t._arrowClick(_)).end().end(), e(window).on("resize" + v + t._marker, f(t.resize, t, !1)), e(document).on("mouseup" + v + t._marker, f(t._removeOverlays, t)) }, _detachEvents: function () { var t = this; t.element.children(".k-splitbar-draggable-" + t.orientation).off(v).end().children(".k-splitbar").off("dblclick" + v).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(v), e(window).off(v + t._marker), e(document).off(v + t._marker) }, options: { name: "Splitter", orientation: P, panes: [] }, destroy: function () { g.fn.destroy.call(this), this._detachEvents(), this.resizing && this.resizing.destroy(), d.destroy(this.element), this.wrapper = this.element = null }, _keydown: function (t) { var n, i = this, r = t.keyCode, s = i.resizing, a = e(t.currentTarget), o = i._keys, l = r === o.increase, p = r === o.decrease; l || p ? (t.ctrlKey ? (n = a[p ? "next" : "prev"](), s && s.isResizing() && s.end(), n[i._dimension]() ? i._triggerAction(z, a[p ? "prev" : "next"]()) : i._triggerAction(_, n)) : s && s.move((p ? -1 : 1) * i._resizeStep, a), t.preventDefault()) : r === h.HOME ? (s.move(-s._maxPosition, a), t.preventDefault()) : r === h.END ? (s.move(s._maxPosition, a), t.preventDefault()) : r === h.ENTER && s && (s.end(), t.preventDefault()) }, _initPanes: function () { var e = this.options.panes || [], t = this; this.element.addClass("k-widget").addClass("k-splitter").children().each(function (n, i) { "script" != i.nodeName.toLowerCase() && t._initPane(i, e[n]) }), this.resize() }, _initPane: function (t, n) { t = e(t).attr("role", "group").addClass(B), t.data(T, n ? n : {}).toggleClass("k-scrollable", !n || n.scrollable !== !1), this.ajaxRequest(t) }, ajaxRequest: function (e, t, n) { var i, r = this; e = r.element.find(e), i = e.data(T), t = t || i.contentUrl, t && (e.append("<span class='k-icon k-i-loading k-pane-loading' />"), d.isLocalUrl(t) ? jQuery.ajax({ url: t, data: n || {}, type: "GET", dataType: "html", success: function (t) { r.angular("cleanup", function () { return { elements: e.get() } }), e.html(t), r.angular("compile", function () { return { elements: e.get() } }), r.trigger(x, { pane: e[0] }) }, error: function (t, n) { r.trigger(y, { pane: e[0], status: n, xhr: t }) } }) : e.removeClass("k-scrollable").html("<iframe src='" + t + "' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")) }, _triggerAction: function (e, t) { this.trigger(e, { pane: t[0] }) || this[e](t[0]) }, _togglePane: function (t) { var n, i = this, r = e(t.target); r.closest(".k-splitter")[0] == i.element[0] && (n = r.children(".k-icon:not(.k-resize-handle)"), 1 === n.length && (n.is(".k-collapse-prev") ? i._triggerAction(z, r.prev()) : n.is(".k-collapse-next") ? i._triggerAction(z, r.next()) : n.is(".k-expand-prev") ? i._triggerAction(_, r.prev()) : n.is(".k-expand-next") && i._triggerAction(_, r.next()))) }, _arrowClick: function (t) { var n = this; return function (i) { var r, s = e(i.target); s.closest(".k-splitter")[0] == n.element[0] && (r = s.is(".k-" + t + "-prev") ? s.parent().prev() : s.parent().next(), n._triggerAction(t, r)) } }, _updateSplitBar: function (e, t, n) { var i = function (e, t) { return t ? "<div class='k-icon " + e + "' />" : "" }, r = this.orientation, s = t.resizable !== !1 && n.resizable !== !1, a = t.collapsible, o = t.collapsed, l = n.collapsible, p = n.collapsed; e.addClass("k-splitbar k-state-default k-splitbar-" + r).attr("role", "separator").attr("aria-expanded", !(o || p)).removeClass("k-splitbar-" + r + "-hover").toggleClass("k-splitbar-draggable-" + r, s && !o && !p).toggleClass("k-splitbar-static-" + r, !s && !a && !l).html(i("k-collapse-prev k-i-arrow-60-up", a && !o && !p && r == C) + i("k-collapse-prev k-i-arrow-60-left", a && !o && !p && r == P) + i("k-expand-prev k-i-arrow-60-down", a && o && !p && r == C) + i("k-expand-prev k-i-arrow-60-right", a && o && !p && r == P) + i("k-resize-handle k-i-hbar", s && r == C) + i("k-resize-handle k-i-vbar", s && r == P) + i("k-collapse-next k-i-arrow-60-down", l && !p && !o && r == C) + i("k-collapse-next k-i-arrow-60-right", l && !p && !o && r == P) + i("k-expand-next k-i-arrow-60-up", l && p && !o && r == C) + i("k-expand-next k-i-arrow-60-left", l && p && !o && r == P)), s || a || l || e.removeAttr("tabindex") }, _updateSplitBars: function () { var t = this; this.element.children(".k-splitbar").each(function () { var n = e(this), i = n.prevAll(H).first().data(T), r = n.nextAll(H).first().data(T); r && t._updateSplitBar(n, i, r) }) }, _removeSplitBars: function () { this.element.children(".k-splitbar").remove() }, _panes: function () { return this.element ? this.element.children(H) : e() }, _resize: function () { var n, i, a, o, l, p, c, h, u, f, g = this, k = g.element, m = k.children(H), v = g.orientation == P, _ = k.children(".k-splitbar"), z = _.length, x = v ? "width" : "height", y = k[x](); g.wrapper.addClass("k-splitter-resizing"), 0 === z ? (z = m.length - 1, m.slice(0, z).after("<div tabindex='0' class='k-splitbar' data-marker='" + g._marker + "' />"), g._updateSplitBars(), _ = k.children(".k-splitbar")) : g._updateSplitBars(), _.each(function () { y -= this[v ? "offsetWidth" : "offsetHeight"] }), n = 0, i = 0, a = e(), m.css({ position: "absolute", top: 0 })[x](function () { var o, l = e(this), p = l.data(T) || {}; if (l.removeClass("k-state-collapsed"), p.collapsed) o = p.collapsedSize ? s(p.collapsedSize, y) : 0, l.css("overflow", "hidden").addClass("k-state-collapsed"); else { if (r(p.size)) return a = a.add(this), t; o = s(p.size, y) } return i++ , n += o, o }), y -= n, o = a.length, l = Math.floor(y / o), a.slice(0, o - 1).css(x, l).end().eq(o - 1).css(x, y - (o - 1) * l), p = 0, c = v ? "height" : "width", h = v ? "left" : "top", u = v ? "offsetWidth" : "offsetHeight", 0 === o && (f = m.filter(function () { return !(e(this).data(T) || {}).collapsed }).last(), f[x](y + f[0][u])), k.children().css(c, k[c]()).each(function (e, t) { "script" != t.tagName.toLowerCase() && (t.style[h] = Math.floor(p) + "px", p += t[u]) }), g._detachEvents(), g._attachEvents(), g.wrapper.removeClass("k-splitter-resizing"), d.resize(m), g.trigger(b) }, toggle: function (e, n) { var i, r = this; e = r.element.find(e), i = e.data(T), (n || i.collapsible) && (1 == arguments.length && (n = i.collapsed !== t && i.collapsed), i.collapsed = !n, i.collapsed ? e.css("overflow", "hidden") : e.css("overflow", ""), r.resize(!0)) }, collapse: function (e) { this.toggle(e, !1) }, expand: function (e) { this.toggle(e, !0) }, _addPane: function (e, t, n) { var i = this; return n.length && (i.options.panes.splice(t, 0, e), i._initPane(n, e), i._removeSplitBars(), i.resize(!0)), n }, append: function (t) { t = t || {}; var n = this, i = e("<div />").appendTo(n.element); return n._addPane(t, n.options.panes.length, i) }, insertBefore: function (t, n) { n = e(n), t = t || {}; var i = this, r = i.wrapper.children(".k-pane").index(n), s = e("<div />").insertBefore(e(n)); return i._addPane(t, r, s) }, insertAfter: function (t, n) { n = e(n), t = t || {}; var i = this, r = i.wrapper.children(".k-pane").index(n), s = e("<div />").insertAfter(e(n)); return i._addPane(t, r + 1, s) }, remove: function (t) { t = e(t); var n = this; return t.length && (d.destroy(t), t.each(function (t, i) { n.options.panes.splice(n.wrapper.children(".k-pane").index(i), 1), e(i).remove() }), n._removeSplitBars(), n.options.panes.length && n.resize(!0)), n }, size: a("size", !0), min: a("min"), max: a("max") }); c.plugin(I), l = { sizingProperty: "height", sizingDomProperty: "offsetHeight", alternateSizingProperty: "width", positioningProperty: "top", mousePositioningProperty: "pageY" }, p = { sizingProperty: "width", sizingDomProperty: "offsetWidth", alternateSizingProperty: "height", positioningProperty: "left", mousePositioningProperty: "pageX" }, o.prototype = { press: function (e) { this._resizable.press(e) }, move: function (e, t) { this.pressed || (this.press(t), this.pressed = !0), this._resizable.target || this._resizable.press(t), this._resizable.move(e) }, end: function () { this._resizable.end(), this.pressed = !1 }, destroy: function () { this._resizable.destroy(), this._resizable = this._element = this.owner = null }, isResizing: function () { return this._resizable.resizing }, _createHint: function (t) { var n = this; return e("<div class='k-ghost-splitbar k-ghost-splitbar-" + n.orientation + " k-state-default' />").css(n.alternateSizingProperty, t[n.alternateSizingProperty]()) }, _start: function (t) { var n = this, r = e(t.currentTarget), s = r.prev(), a = r.next(), o = s.data(T), l = a.data(T), p = parseInt(s[0].style[n.positioningProperty], 10), d = parseInt(a[0].style[n.positioningProperty], 10) + a[0][n.sizingDomProperty] - r[0][n.sizingDomProperty], c = parseInt(n._element.css(n.sizingProperty), 10), h = function (e) { var t = parseInt(e, 10); return (i(e) ? t : c * t / 100) || 0 }, u = h(o.min), f = h(o.max) || d - p, g = h(l.min), k = h(l.max) || d - p; n.previousPane = s, n.nextPane = a, n._maxPosition = Math.min(d - g, p + f), n._minPosition = Math.max(p + u, d - k) }, _max: function () { return this._maxPosition }, _min: function () { return this._minPosition }, _stop: function (t) { var n, i, s, a, o, l, p, c, h = this, u = e(t.currentTarget), f = h.owner; return f._panes().children(".k-splitter-overlay").remove(), t.keyCode !== d.keys.ESC && (n = t.position, i = u.prev(), s = u.next(), a = i.data(T), o = s.data(T), l = n - parseInt(i[0].style[h.positioningProperty], 10), p = parseInt(s[0].style[h.positioningProperty], 10) + s[0][h.sizingDomProperty] - n - u[0][h.sizingDomProperty], c = h._element.children(H).filter(function () { return r(e(this).data(T).size) }).length, (!r(a.size) || c > 1) && (r(a.size) && c-- , a.size = l + "px"), (!r(o.size) || c > 1) && (o.size = p + "px"), f.resize(!0)), !1 } } }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (t, define) { define("kendo.toolbar.min", ["kendo.core.min", "kendo.userevents.min", "kendo.popup.min"], t) }(function () { return function (t, e) { function o(t) { t.target.is(".k-toggle-button") || t.target.toggleClass(N, "press" == t.type) } function i(e) { return e = t(e), e.hasClass("km-actionsheet") ? e.closest(".km-popup-wrapper") : e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent() } function n(e) { t(e.target).closest("a.k-button").length && e.preventDefault() } function s(e, o) { var i = "next" === o ? t.fn.next : t.fn.prev, n = "next" === o ? t.fn.first : t.fn.last, l = i.call(e); return l.is(":kendoFocusable") || !l.length ? l : l.find(":kendoFocusable").length ? n.call(l.find(":kendoFocusable")) : s(l, o) } var l, r, a, d, h, p, u, c, f, m, v, b, g, w, k, C, y = window.kendo, _ = y.Class, A = y.ui.Widget, x = t.proxy, B = y.isFunction, E = y.keys, T = y._outerWidth, O = "k-toolbar", I = "k-button", F = "k-overflow-button", P = "k-toggle-button", U = "k-button-group", D = "k-split-button", z = "k-separator", G = "k-popup", H = "k-toolbar-resizable", N = "k-state-active", M = "k-state-disabled", R = "k-state-hidden", W = "k-group-start", S = "k-group-end", K = "k-primary", j = "k-icon", q = "k-i-", Q = "k-button-icon", V = "k-button-icontext", L = "k-list-container k-split-container", J = "k-split-button-arrow", X = "k-overflow-anchor", Y = "k-overflow-container", Z = "k-toolbar-first-visible", $ = "k-toolbar-last-visible", tt = "click", et = "toggle", ot = "open", it = "close", nt = "overflowOpen", st = "overflowClose", lt = "never", rt = "auto", at = "always", dt = "k-overflow-hidden", ht = "_optionlist", pt = y.attr("uid"); y.toolbar = {}, l = { overflowAnchor: '<div tabindex="0" class="k-overflow-anchor"></div>', overflowContainer: '<ul class="k-overflow-container k-list-container"></ul>' }, y.toolbar.registerComponent = function (t, e, o) { l[t] = { toolbar: e, overflow: o } }, r = y.Class.extend({ addOverflowAttr: function () { this.element.attr(y.attr("overflow"), this.options.overflow || rt) }, addUidAttr: function () { this.element.attr(pt, this.options.uid) }, addIdAttr: function () { this.options.id && this.element.attr("id", this.options.id) }, addOverflowIdAttr: function () { this.options.id && this.element.attr("id", this.options.id + "_overflow") }, attributes: function () { this.options.attributes && this.element.attr(this.options.attributes) }, show: function () { this.element.removeClass(R).show(), this.options.hidden = !1 }, hide: function () { this.element.addClass(R).hide(), this.overflow && this.overflowHidden && this.overflowHidden(), this.options.hidden = !0 }, remove: function () { this.element.remove() }, enable: function (t) { t === e && (t = !0), this.element.toggleClass(M, !t), this.options.enable = t }, twin: function () { var o = this.element.attr(pt); return this.overflow && this.options.splitContainerId ? t("#" + this.options.splitContainerId).find("[" + pt + "='" + o + "']").data(this.options.type) : this.overflow ? this.toolbar.element.find("[" + pt + "='" + o + "']").data(this.options.type) : this.toolbar.options.resizable ? this.toolbar.popup.element.find("[" + pt + "='" + o + "']").data(this.options.type) : e } }), y.toolbar.Item = r, a = r.extend({ init: function (o, i) { var n = t(o.useButtonTag ? '<button tabindex="0"></button>' : '<a href tabindex="0"></a>'); this.element = n, this.options = o, this.toolbar = i, this.attributes(), o.primary && n.addClass(K), o.togglable && (n.addClass(P), this.toggle(o.selected)), o.url === e || o.useButtonTag || (n.attr("href", o.url), o.mobile && n.attr(y.attr("role"), "button")), o.group && (n.attr(y.attr("group"), o.group), this.group = this.toolbar.addToGroup(this, o.group)), !o.togglable && o.click && B(o.click) && (this.clickHandler = o.click), o.togglable && o.toggle && B(o.toggle) && (this.toggleHandler = o.toggle) }, toggle: function (t, e) { t = !!t, this.group && t ? this.group.select(this) : this.group || this.select(t), e && this.twin() && this.twin().toggle(t) }, getParentGroup: function () { if (this.options.isChild) return this.element.closest("." + U).data("buttonGroup") }, _addGraphics: function () { var e, o, i, n = this.element, s = this.options.icon, l = this.options.spriteCssClass, r = this.options.imageUrl; (l || r || s) && (e = !0, n.contents().filter(function () { return !t(this).hasClass("k-sprite") && !t(this).hasClass(j) && !t(this).hasClass("k-image") }).each(function (o, i) { (1 == i.nodeType || 3 == i.nodeType && t.trim(i.nodeValue).length > 0) && (e = !1) }), n.addClass(e ? Q : V)), s ? (o = n.children("span." + j).first(), o[0] || (o = t('<span class="' + j + '"></span>').prependTo(n)), o.addClass(q + s)) : l ? (o = n.children("span.k-sprite").first(), o[0] || (o = t('<span class="k-sprite ' + j + '"></span>').prependTo(n)), o.addClass(l)) : r && (i = n.children("img.k-image").first(), i[0] || (i = t('<img alt="icon" class="k-image" />').prependTo(n)), i.attr("src", r)) } }), y.toolbar.Button = a, d = a.extend({ init: function (t, e) { a.fn.init.call(this, t, e); var o = this.element; o.addClass(I), this.addIdAttr(), t.align && o.addClass("k-align-" + t.align), "overflow" != t.showText && t.text && o.html(t.mobile ? '<span class="km-text">' + t.text + "</span>" : t.text), t.hasIcon = "overflow" != t.showIcon && (t.icon || t.spriteCssClass || t.imageUrl), t.hasIcon && this._addGraphics(), this.addUidAttr(), this.addOverflowAttr(), this.enable(t.enable), t.hidden && this.hide(), this.element.data({ type: "button", button: this }) }, select: function (t) { t === e && (t = !1), this.element.toggleClass(N, t), this.options.selected = t } }), y.toolbar.ToolBarButton = d, h = a.extend({ init: function (e, o) { this.overflow = !0, a.fn.init.call(this, t.extend({}, e), o); var i = this.element; "toolbar" != e.showText && e.text && i.html(e.mobile ? '<span class="km-text">' + e.text + "</span>" : '<span class="k-text">' + e.text + "</span>"), e.hasIcon = "toolbar" != e.showIcon && (e.icon || e.spriteCssClass || e.imageUrl), e.hasIcon && this._addGraphics(), e.isChild || this._wrap(), this.addOverflowIdAttr(), this.attributes(), this.addUidAttr(), this.addOverflowAttr(), this.enable(e.enable), i.addClass(F + " " + I), e.hidden && this.hide(), e.togglable && this.toggle(e.selected), this.element.data({ type: "button", button: this }) }, _wrap: function () { this.element = this.element.wrap("<li></li>").parent() }, overflowHidden: function () { this.element.addClass(dt) }, select: function (t) { t === e && (t = !1), this.options.isChild ? this.element.toggleClass(N, t) : this.element.find(".k-button").toggleClass(N, t), this.options.selected = t } }), y.toolbar.OverflowButton = h, y.toolbar.registerComponent("button", d, h), p = r.extend({ createButtons: function (e) { var o, i, n = this.options, s = n.buttons || []; for (i = 0; i < s.length; i++)s[i].uid || (s[i].uid = y.guid()), o = new e(t.extend({ mobile: n.mobile, isChild: !0, type: "button" }, s[i]), this.toolbar), o.element.appendTo(this.element) }, refresh: function () { this.element.children().filter(":not('." + R + "'):first").addClass(W), this.element.children().filter(":not('." + R + "'):last").addClass(S) } }), y.toolbar.ButtonGroup = p, u = p.extend({ init: function (e, o) { var i = this.element = t("<div></div>"); this.options = e, this.toolbar = o, this.addIdAttr(), e.align && i.addClass("k-align-" + e.align), this.createButtons(d), this.attributes(), this.addUidAttr(), this.addOverflowAttr(), this.refresh(), i.addClass(U), this.element.data({ type: "buttonGroup", buttonGroup: this }) } }), y.toolbar.ToolBarButtonGroup = u, c = p.extend({ init: function (e, o) { var i = this.element = t("<li></li>"); this.options = e, this.toolbar = o, this.overflow = !0, this.addOverflowIdAttr(), this.createButtons(h), this.attributes(), this.addUidAttr(), this.addOverflowAttr(), this.refresh(), i.addClass((e.mobile ? "" : U) + " k-overflow-group"), this.element.data({ type: "buttonGroup", buttonGroup: this }) }, overflowHidden: function () { this.element.addClass(dt) } }), y.toolbar.OverflowButtonGroup = c, y.toolbar.registerComponent("buttonGroup", u, c), f = r.extend({ init: function (e, o) { var i = this.element = t('<div class="' + D + '" tabindex="0"></div>'); this.options = e, this.toolbar = o, this.mainButton = new d(t.extend({}, e, { hidden: !1 }), o), this.arrowButton = t('<a class="' + I + " " + J + '"><span class="' + (e.mobile ? "km-icon km-arrowdown" : "k-icon k-i-arrow-60-down") + '"></span></a>'), this.popupElement = t('<ul class="' + L + '"></ul>'), this.mainButton.element.removeAttr("href tabindex").appendTo(i), this.arrowButton.appendTo(i), this.popupElement.appendTo(i), e.align && i.addClass("k-align-" + e.align), e.id || (e.id = e.uid), i.attr("id", e.id + "_wrapper"), this.addOverflowAttr(), this.addUidAttr(), this.createMenuButtons(), this.createPopup(), this._navigatable(), this.mainButton.main = !0, this.enable(e.enable), e.hidden && this.hide(), i.data({ type: "splitButton", splitButton: this, kendoPopup: this.popup }) }, _navigatable: function () { var e = this; e.popupElement.on("keydown", "." + I, function (o) { var i = t(o.target).parent(); o.preventDefault(), o.keyCode === E.ESC || o.keyCode === E.TAB || o.altKey && o.keyCode === E.UP ? (e.toggle(), e.focus()) : o.keyCode === E.DOWN ? s(i, "next").focus() : o.keyCode === E.UP ? s(i, "prev").focus() : o.keyCode === E.SPACEBAR || o.keyCode === E.ENTER ? e.toolbar.userEvents.trigger("tap", { target: t(o.target) }) : o.keyCode === E.HOME ? i.parent().find(":kendoFocusable").first().focus() : o.keyCode === E.END && i.parent().find(":kendoFocusable").last().focus() }) }, createMenuButtons: function () { var e, o, i = this.options, n = i.menuButtons; for (o = 0; o < n.length; o++)e = new d(t.extend({ mobile: i.mobile, type: "button", click: i.click }, n[o]), this.toolbar), e.element.wrap("<li></li>").parent().appendTo(this.popupElement) }, createPopup: function () { var o = this, s = this.options, l = this.element; this.popupElement.attr("id", s.id + ht).attr(pt, s.rootUid), s.mobile && (this.popupElement = i(this.popupElement)), this.popup = this.popupElement.kendoPopup({ appendTo: s.mobile ? t(s.mobile).children(".km-pane") : null, anchor: l, isRtl: this.toolbar._isRtl, copyAnchorStyles: !1, animation: s.animation, open: function (t) { var i = o.toolbar.trigger(ot, { target: l }); return i ? (t.preventDefault(), e) : (o.adjustPopupWidth(t.sender), e) }, activate: function () { this.element.find(":kendoFocusable").first().focus() }, close: function (t) { var e = o.toolbar.trigger(it, { target: l }); e && t.preventDefault(), l.focus() } }).data("kendoPopup"), this.popup.element.on(tt, "a.k-button", n) }, adjustPopupWidth: function (t) { var e, o = t.options.anchor, i = T(o); y.wrap(t.element).addClass("k-split-wrapper"), e = "border-box" !== t.element.css("box-sizing") ? i - (T(t.element) - t.element.width()) : i, t.element.css({ fontFamily: o.css("font-family"), "min-width": e }) }, remove: function () { this.popup.element.off(tt, "a.k-button"), this.popup.destroy(), this.element.remove() }, toggle: function () { (this.options.enable || this.popup.visible()) && this.popup.toggle() }, enable: function (t) { t === e && (t = !0), this.mainButton.enable(t), this.element.toggleClass(M, !t), this.options.enable = t }, focus: function () { this.element.focus() }, hide: function () { this.popup && this.popup.close(), this.element.addClass(R).hide(), this.options.hidden = !0 }, show: function () { this.element.removeClass(R).hide(), this.options.hidden = !1 } }), y.toolbar.ToolBarSplitButton = f, m = r.extend({ init: function (e, o) { var i, n, s, l = this.element = t('<li class="' + D + '"></li>'), r = e.menuButtons; for (this.options = e, this.toolbar = o, this.overflow = !0, n = (e.id || e.uid) + ht, this.mainButton = new h(t.extend({}, e)), this.mainButton.element.appendTo(l), s = 0; s < r.length; s++)i = new h(t.extend({ mobile: e.mobile, type: "button", splitContainerId: n }, r[s]), this.toolbar), i.element.appendTo(l); this.addUidAttr(), this.addOverflowAttr(), this.mainButton.main = !0, l.data({ type: "splitButton", splitButton: this }) }, overflowHidden: function () { this.element.addClass(dt) } }), y.toolbar.OverflowSplitButton = m, y.toolbar.registerComponent("splitButton", f, m), v = r.extend({ init: function (e, o) { var i = this.element = t("<div>&nbsp;</div>"); this.element = i, this.options = e, this.toolbar = o, this.attributes(), this.addIdAttr(), this.addUidAttr(), this.addOverflowAttr(), i.addClass(z), i.data({ type: "separator", separator: this }) } }), b = r.extend({ init: function (e, o) { var i = this.element = t("<li>&nbsp;</li>"); this.element = i, this.options = e, this.toolbar = o, this.overflow = !0, this.attributes(), this.addUidAttr(), this.addOverflowIdAttr(), i.addClass(z), i.data({ type: "separator", separator: this }) }, overflowHidden: function () { this.element.addClass(dt) } }), y.toolbar.registerComponent("separator", v, b), g = r.extend({ init: function (e, o, i) { var n = B(e) ? e(o) : e; n = n instanceof jQuery ? n.wrap("<div></div>").parent() : t("<div></div>").html(n), this.element = n, this.options = o, this.options.type = "template", this.toolbar = i, this.attributes(), this.addUidAttr(), this.addIdAttr(), this.addOverflowAttr(), n.data({ type: "template", template: this }) } }), y.toolbar.TemplateItem = g, w = r.extend({ init: function (e, o, i) { var n = t(B(e) ? e(o) : e); n = n instanceof jQuery ? n.wrap("<li></li>").parent() : t("<li></li>").html(n), this.element = n, this.options = o, this.options.type = "template", this.toolbar = i, this.overflow = !0, this.attributes(), this.addUidAttr(), this.addOverflowIdAttr(), this.addOverflowAttr(), n.data({ type: "template", template: this }) }, overflowHidden: function () { this.element.addClass(dt) } }), y.toolbar.OverflowTemplateItem = w, k = _.extend({ init: function (t) { this.name = t, this.buttons = [] }, add: function (t) { this.buttons[this.buttons.length] = t }, remove: function (e) { var o = t.inArray(e, this.buttons); this.buttons.splice(o, 1) }, select: function (t) { var e, o; for (o = 0; o < this.buttons.length; o++)e = this.buttons[o], e.select(!1); t.select(!0), t.twin() && t.twin().select(!0) } }), C = A.extend({ init: function (e, i) { var s, l = this; if (A.fn.init.call(l, e, i), i = l.options, e = l.wrapper = l.element, e.addClass(O + " k-widget"), this.uid = y.guid(), this._isRtl = y.support.isRtl(e), this._groups = {}, e.attr(pt, this.uid), l.isMobile = "boolean" == typeof i.mobile ? i.mobile : l.element.closest(".km-root")[0], l.animation = l.isMobile ? { open: { effects: "fade" } } : {}, l.isMobile && (e.addClass("km-widget"), j = "km-icon", q = "km-", I = "km-button", U = "km-buttongroup km-widget", N = "km-state-active", M = "km-state-disabled"), i.resizable ? (l._renderOverflow(), e.addClass(H), l.overflowUserEvents = new y.UserEvents(l.element, { threshold: 5, allowSelection: !0, filter: "." + X, tap: x(l._toggleOverflow, l) }), l._resizeHandler = y.onResize(function () { l.resize() })) : l.popup = { element: t([]) }, i.items && i.items.length) { for (s = 0; s < i.items.length; s++)l.add(i.items[s]); i.resizable && l._shrink(l.element.innerWidth()) } l.userEvents = new y.UserEvents(document, { threshold: 5, allowSelection: !0, filter: "[" + pt + "=" + this.uid + "] a." + I + ", [" + pt + "=" + this.uid + "] ." + F, tap: x(l._buttonClick, l), press: o, release: o }), l.element.on(tt, "a.k-button", n), l._navigatable(), i.resizable && l.popup.element.on(tt, NaN, n), i.resizable && this._toggleOverflowAnchor(), y.notify(l) }, events: [tt, et, ot, it, nt, st], options: { name: "ToolBar", items: [], resizable: !0, mobile: null }, addToGroup: function (t, e) { var o; return o = this._groups[e] ? this._groups[e] : this._groups[e] = new k, o.add(t), o }, destroy: function () { var e = this; e.element.find("." + D).each(function (e, o) { t(o).data("kendoPopup").destroy() }), e.element.off(tt, "a.k-button"), e.userEvents.destroy(), e.options.resizable && (y.unbindResize(e._resizeHandler), e.overflowUserEvents.destroy(), e.popup.element.off(tt, "a.k-button"), e.popup.destroy()), A.fn.destroy.call(e) }, add: function (e) { var o, i, n, s = l[e.type], r = e.template, a = this, d = a.isMobile ? "" : "k-item k-state-default", h = e.overflowTemplate; if (t.extend(e, { uid: y.guid(), animation: a.animation, mobile: a.isMobile, rootUid: a.uid }), e.menuButtons) for (n = 0; n < e.menuButtons.length; n++)t.extend(e.menuButtons[n], { uid: y.guid() }); r && !h ? e.overflow = lt : e.overflow || (e.overflow = rt), e.overflow !== lt && a.options.resizable && (h ? i = new w(h, e, a) : s && (i = new s.overflow(e, a), i.element.addClass(d)), i && (e.overflow === rt && i.overflowHidden(), i.element.appendTo(a.popup.container), a.angular("compile", function () { return { elements: i.element.get() } }))), e.overflow !== at && (r ? o = new g(r, e, a) : s && (o = new s.toolbar(e, a)), o && (o.element.appendTo(a.element), a.angular("compile", function () { return { elements: o.element.get() } }))) }, _getItem: function (e) { var o, i, n, s, l = this.options.resizable; return o = this.element.find(e), o.length || (o = t(".k-split-container[data-uid=" + this.uid + "]").find(e)), s = o.length ? o.data("type") : "", i = o.data(s), i ? (i.main && (o = o.parent("." + D), s = "splitButton", i = o.data(s)), l && (n = i.twin())) : l && (o = this.popup.element.find(e), s = o.length ? o.data("type") : "", n = o.data(s), n && n.main && (o = o.parent("." + D), s = "splitButton", n = o.data(s))), { type: s, toolbar: i, overflow: n } }, remove: function (t) { var e = this._getItem(t); e.toolbar && e.toolbar.remove(), e.overflow && e.overflow.remove(), this.resize(!0) }, hide: function (t) { var e = this._getItem(t); e.toolbar && ("button" === e.toolbar.options.type && e.toolbar.options.isChild ? (e.toolbar.hide(), e.toolbar.getParentGroup().refresh()) : e.toolbar.options.hidden || e.toolbar.hide()), e.overflow && ("button" === e.overflow.options.type && e.overflow.options.isChild ? (e.overflow.hide(), e.overflow.getParentGroup().refresh()) : e.overflow.options.hidden || e.overflow.hide()), this.resize(!0) }, show: function (t) { var e = this._getItem(t); e.toolbar && ("button" === e.toolbar.options.type && e.toolbar.options.isChild ? (e.toolbar.show(), e.toolbar.getParentGroup().refresh()) : e.toolbar.options.hidden && e.toolbar.show()), e.overflow && ("button" === e.overflow.options.type && e.overflow.options.isChild ? (e.toolbar.show(), e.overflow.getParentGroup().refresh()) : e.overflow.options.hidden && e.overflow.show()), this.resize(!0) }, enable: function (t, o) { var i = this._getItem(t); e === o && (o = !0), i.toolbar && i.toolbar.enable(o), i.overflow && i.overflow.enable(o) }, getSelectedFromGroup: function (t) { return this.element.find("." + P + "[data-group='" + t + "']").filter("." + N) }, toggle: function (o, i) { var n = t(o), s = n.data("button"); s.options.togglable && (i === e && (i = !0), s.toggle(i, !0)) }, _renderOverflow: function () { var e = this, o = l.overflowContainer, n = e._isRtl, r = n ? "left" : "right"; e.overflowAnchor = t(l.overflowAnchor).addClass(I), e.element.append(e.overflowAnchor), e.isMobile ? (e.overflowAnchor.append('<span class="km-icon km-more"></span>'), o = i(o)) : e.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'), e.popup = new y.ui.Popup(o, { origin: "bottom " + r, position: "top " + r, anchor: e.overflowAnchor, isRtl: n, animation: e.animation, appendTo: e.isMobile ? t(e.isMobile).children(".km-pane") : null, copyAnchorStyles: !1, open: function (o) { var i = y.wrap(e.popup.element).addClass("k-overflow-wrapper"); e.isMobile ? e.popup.container.css("max-height", parseFloat(t(".km-content:visible").innerHeight()) - 15 + "px") : i.css("margin-left", (n ? -1 : 1) * ((T(i) - i.width()) / 2 + 1)), e.trigger(nt) && o.preventDefault() }, activate: function () { this.element.find(":kendoFocusable").first().focus() }, close: function (t) { e.trigger(st) && t.preventDefault(), this.element.focus() } }), e.popup.element.on("keydown", "." + I, function (o) { var i, n = t(o.target), l = n.parent(), r = l.is("." + U) || l.is("." + D); o.preventDefault(), o.keyCode === E.ESC || o.keyCode === E.TAB || o.altKey && o.keyCode === E.UP ? (e._toggleOverflow(), e.overflowAnchor.focus()) : o.keyCode === E.DOWN ? (i = !r || r && n.is(":last-child") ? l : n, s(i, "next").focus()) : o.keyCode === E.UP ? (i = !r || r && n.is(":first-child") ? l : n, s(i, "prev").focus()) : o.keyCode === E.SPACEBAR || o.keyCode === E.ENTER ? (e.userEvents.trigger("tap", { target: t(o.target) }), e.overflowAnchor.focus()) : o.keyCode === E.HOME ? l.parent().find(":kendoFocusable").first().focus() : o.keyCode === E.END && l.parent().find(":kendoFocusable").last().focus() }), e.popup.container = e.isMobile ? e.popup.element.find("." + Y) : e.popup.element, e.popup.container.attr(pt, this.uid) }, _toggleOverflowAnchor: function () { var t = !1; t = this.options.mobile ? this.popup.element.find("." + Y).children(":not(." + dt + ", ." + G + ")").length > 0 : this.popup.element.children(":not(." + dt + ", ." + G + ")").length > 0, this.overflowAnchor.css(t ? { visibility: "visible", width: "" } : { visibility: "hidden", width: "1px" }) }, _buttonClick: function (o) { var i, n, s, l, r, a, d, h = this, p = o.target.closest("." + J).length; return o.preventDefault(), p ? (h._toggle(o), e) : (n = t(o.target).closest("." + I, h.element), n.hasClass(X) || (s = n.data("button"), !s && h.popup && (n = t(o.target).closest("." + F, h.popup.container), s = n.parent("li").data("button")), s && s.options.enable && (s.options.togglable ? (r = B(s.toggleHandler) ? s.toggleHandler : null, s.toggle(!s.options.selected, !0), a = { target: n, group: s.options.group, checked: s.options.selected, id: s.options.id }, r && r.call(h, a), h.trigger(et, a)) : (r = B(s.clickHandler) ? s.clickHandler : null, a = { sender: h, target: n, id: s.options.id }, r && r.call(h, a), h.trigger(tt, a)), s.options.url && (s.options.attributes && s.options.attributes.target && (d = s.options.attributes.target), window.open(s.options.url, d || "_self")), n.hasClass(F) && h.popup.close(), l = n.closest(".k-split-container"), l[0] && (i = l.data("kendoPopup"), (i ? i : l.parents(".km-popup-wrapper").data("kendoPopup")).close()))), e) }, _navigatable: function () { var e = this; e.element.attr("tabindex", 0).on("focusin", function (e) { var o = t(e.target), i = t(this).find(":kendoFocusable:first"); o.is("." + O) && 0 !== i.length && (i.is("." + X) && (i = s(i, "next")), i[0].focus()) }).on("keydown", x(e._keydown, e)) }, _keydown: function (o) { var i, n, s, l, r, a, d, h = t(o.target), p = o.keyCode, u = this.element.children(":not(.k-separator):visible"), c = this._isRtl ? -1 : 1; if (p === E.TAB && (i = h.parentsUntil(this.element).last(), n = !1, s = !1, i.length || (i = h), i.is("." + X) && (o.shiftKey && o.preventDefault(), u.last().is(":kendoFocusable") ? u.last().focus() : u.last().find(":kendoFocusable").last().focus()), o.shiftKey || u.index(i) !== u.length - 1 || (n = !i.is("." + U) || h.is(":last-child")), l = u.index(i) === u.not(".k-overflow-anchor").first().index(), o.shiftKey && l && (s = !i.is("." + U) || h.is(":first-child")), n && this.overflowAnchor && "hidden" !== this.overflowAnchor.css("visibility") && (o.preventDefault(), this.overflowAnchor.focus()), s && (o.preventDefault(), r = this._getPrevFocusable(this.wrapper), r && r.focus()), this._preventNextFocus = !1), o.altKey && p === E.DOWN) return a = t(document.activeElement).data("splitButton"), d = t(document.activeElement).is("." + X), a ? a.toggle() : d && this._toggleOverflow(), e; if ((p === E.SPACEBAR || p === E.ENTER) && !h.is("input, checkbox")) return o.preventDefault(), h.is("." + D) && (h = h.children().first()), this.userEvents.trigger("tap", { target: h }), e; if (p === E.HOME) { if (h.is(".k-dropdown") || h.is("input")) return; this.overflowAnchor ? u.eq(1).focus() : u.first().focus(), o.preventDefault() } else if (p === E.END) { if (h.is(".k-dropdown") || h.is("input")) return; this.overflowAnchor && "hidden" != t(this.overflowAnchor).css("visibility") ? this.overflowAnchor.focus() : u.last().focus(), o.preventDefault() } else p !== E.RIGHT || this._preventNextFocus || h.is("input, select, .k-dropdown, .k-colorpicker") || !this._getNextElement(o.target, 1 * c) ? p !== E.LEFT || this._preventNextFocus || h.is("input, select, .k-dropdown, .k-colorpicker") || !this._getNextElement(o.target, -1 * c) || (this._getNextElement(o.target, -1 * c).focus(), o.preventDefault()) : (this._getNextElement(o.target, 1 * c).focus(), o.preventDefault()) }, _getNextElement: function (e, o) { var i = this.element.children(":not(.k-separator):visible"), n = i.index(i.index(e) === -1 ? e.parentElement : e), s = this.overflowAnchor ? 1 : 0, l = o, r = 1 === o ? i.length - 1 : s, a = 1 === o ? s : i.length - 1, d = i[n + o]; if (this._preventNextFocus = !1, t(e).closest("." + U).length && !t(e).is(1 === o ? ":last-child" : ":first-child")) return t(e).closest("." + U).children()[t(e).closest("." + U).children().index(e) + o]; for (this.overflowAnchor && e === this.overflowAnchor[0] && o === -1 && (d = i[i.length - 1]), n === r && (d = !this.overflowAnchor || this.overflowAnchor && "hidden" === t(this.overflowAnchor).css("visibility") ? i[a] : this.overflowAnchor); !t(d).is(":kendoFocusable");) { if (d = o === -1 && t(d).closest("." + U).length ? t(d).children(":not(label, div)").last() : t(d).children(":not(label, div)").first(), !d.length && (l += o, d = i[n + l], !d)) return this.overflowAnchor; this._preventNextFocus = !t(d).closest("." + U).length } return d }, _getPrevFocusable: function (o) { if (o.is("html")) return o; var i, n, s = o.prevAll(); return s.each(function () { return n = t(this), n.is(":kendoFocusable") ? (i = n, !1) : n.find(":kendoFocusable").length > 0 ? (i = n.find(":kendoFocusable").last(), !1) : e }), i ? i : this._getPrevFocusable(o.parent()) }, _toggle: function (e) { var o = t(e.target).closest("." + D).data("splitButton"); e.preventDefault(), o.options.enable && o.toggle() }, _toggleOverflow: function () { this.popup.toggle() }, _resize: function (t) { var e = t.width; this.options.resizable && (this.popup.close(), this._shrink(e), this._stretch(e), this._markVisibles(), this._toggleOverflowAnchor()) }, _childrenWidth: function () { var e = 0; return this.element.children(":visible:not('." + R + "')").each(function () { e += T(t(this), !0) }), Math.ceil(e) }, _shrink: function (t) { var e, o, i; if (t < this._childrenWidth()) for (o = this.element.children(":visible:not([data-overflow='never'], ." + X + ")"), i = o.length - 1; i >= 0 && (e = o.eq(i), !(t > this._childrenWidth())); i--)this._hideItem(e) }, _stretch: function (t) { var e, o, i; if (t > this._childrenWidth()) for (o = this.element.children(":hidden:not('." + R + "')"), i = 0; i < o.length && (e = o.eq(i), !(t < this._childrenWidth()) && this._showItem(e, t)); i++); }, _hideItem: function (t) { t.hide(), this.popup && this.popup.container.find(">li[data-uid='" + t.data("uid") + "']").removeClass(dt) }, _showItem: function (t, e) { return !!(t.length && e > this._childrenWidth() + T(t, !0)) && (t.show(), this.popup && this.popup.container.find(">li[data-uid='" + t.data("uid") + "']").addClass(dt), !0) }, _markVisibles: function () { var t = this.popup.container.children(), e = this.element.children(":not(.k-overflow-anchor)"), o = t.filter(":not(.k-overflow-hidden)"), i = e.filter(":visible"); t.add(e).removeClass(Z + " " + $), o.first().add(i.first()).addClass(Z), o.last().add(i.last()).addClass($) } }), y.ui.plugin(C) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, o) { (o || e)() });; !function (t, define) { define("kendo.tooltip.min", ["kendo.core.min", "kendo.popup.min"], t) }(function () { return function (t, o) { function e(t) { for (; t.length && !n(t);)t = t.parent() } function n(t) { var o = t.data(s.ns + "title"); if (o) return t.attr("title", o), t.removeData(s.ns + "title"), !0 } function i(t) { var o = t.attr("title"); if (o) return t.data(s.ns + "title", o), t.attr("title", ""), !0 } function r(t) { for (; t.length && !t.is("body") && !i(t);)t = t.parent() } var s = window.kendo, c = s.ui.Widget, u = s.ui.Popup, a = s.isFunction, l = t.isPlainObject, p = t.extend, h = t.proxy, d = t(document), f = s.isLocalUrl, m = "_tt_active", w = "aria-describedby", g = "show", _ = "hide", v = "error", k = "contentLoad", y = "requestStart", b = "k-content-frame", O = '<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>', H = s.template("<iframe frameborder='0' class='" + b + "' src='#= content.url #'>This page requires frames in order to show content</iframe>"), T = ".kendoTooltip", S = { bottom: { origin: "bottom center", position: "top center" }, top: { origin: "top center", position: "bottom center" }, left: { origin: "center left", position: "center right", collision: "fit flip" }, right: { origin: "center right", position: "center left", collision: "fit flip" }, center: { position: "center center", origin: "center center" } }, C = { bottom: "n", top: "s", left: "e", right: "w", center: "n" }, D = { horizontal: { offset: "top", size: "outerHeight" }, vertical: { offset: "left", size: "outerWidth" } }, x = function (t) { return t.target.data(s.ns + "title") }, F = c.extend({ init: function (t, o) { var e, n = this; c.fn.init.call(n, t, o), e = n.options.position.match(/left|right/) ? "horizontal" : "vertical", n.dimensions = D[e], n._documentKeyDownHandler = h(n._documentKeyDown, n), n.element.on(n.options.showOn + T, n.options.filter, h(n._showOn, n)), this._isShownOnFocus() || n.element.on("mouseenter" + T, n.options.filter, h(n._mouseenter, n)), this.options.autoHide && !this._isShownOnFocus() && n.element.on("mouseleave" + T, n.options.filter, h(n._mouseleave, n)), this.options.autoHide && this._isShownOnFocus() && n.element.on("blur" + T, n.options.filter, h(n._blur, n)) }, options: { name: "Tooltip", filter: "", content: x, showAfter: 100, callout: !0, position: "bottom", showOn: "mouseenter", autoHide: !0, width: null, height: null, animation: { open: { effects: "fade:in", duration: 0 }, close: { duration: 40, hide: !0 } } }, events: [g, _, k, v, y], _isShownOnFocus: function () { return this.options.showOn && this.options.showOn.match(/focus/) }, _mouseenter: function (o) { r(t(o.currentTarget)) }, _showOn: function (o) { var e = this, n = t(o.currentTarget); e.options.showOn && e.options.showOn.match(/click/) ? e._show(n) : e._isShownOnFocus() ? (r(n), e._show(n)) : (clearTimeout(e.timeout), e.timeout = setTimeout(function () { e._show(n) }, e.options.showAfter)) }, _appendContent: function (t) { var o, e = this, n = e.options.content, i = e.content, r = e.options.iframe; l(n) && n.url ? ("iframe" in e.options || (r = !f(n.url)), e.trigger(y, { options: n, target: t }), r ? (i.hide(), o = i.find("." + b)[0], o ? o.src = n.url || o.src : i.html(H({ content: n })), i.find("." + b).off("load" + T).on("load" + T, function () { e.trigger(k), i.show() })) : (i.empty(), s.ui.progress(i, !0), e._ajaxRequest(n))) : n && a(n) ? (n = n({ sender: this, target: t }), i.html(n || "")) : i.html(n), e.angular("compile", function () { return { elements: i } }) }, _ajaxRequest: function (t) { var o = this; jQuery.ajax(p({ type: "GET", dataType: "html", cache: !1, error: function (t, e) { s.ui.progress(o.content, !1), o.trigger(v, { status: e, xhr: t }) }, success: h(function (t) { s.ui.progress(o.content, !1), o.content.html(t), o.trigger(k) }, o) }, t)) }, _documentKeyDown: function (t) { t.keyCode === s.keys.ESC && this.hide() }, refresh: function () { var t = this, o = t.popup; o && o.options.anchor && t._appendContent(o.options.anchor) }, hide: function () { this.popup && this.popup.close() }, show: function (t) { t = t || this.element, r(t), this._show(t) }, _show: function (t) { var o = this, n = o.target(); o.popup || o._initPopup(), n && n[0] != t[0] && (o.popup.close(), o.popup.element.kendoStop(!0, !0)), n && n[0] == t[0] || (o._appendContent(t), o.popup.options.anchor = t), o.popup.one("deactivate", function () { e(t), t.removeAttr(w), this.element.removeAttr("id").attr("aria-hidden", !0), d.off("keydown" + T, o._documentKeyDownHandler) }), o.popup.open() }, _initPopup: function () { var o = this, e = o.options, n = t(s.template(O)({ callout: e.callout && "center" !== e.position, dir: C[e.position], autoHide: e.autoHide })); o.popup = new u(n, p({ activate: function () { var t = this.options.anchor, e = t[0].id || o.element[0].id; e && (t.attr(w, e + m), this.element.attr("id", e + m)), this.element.removeAttr("aria-hidden"), d.on("keydown" + T, o._documentKeyDownHandler), o.trigger(g) }, close: function () { o.trigger(_) }, copyAnchorStyles: !1, animation: e.animation }, S[e.position])), n.css({ width: e.width, height: e.height }), o.content = n.find(".k-tooltip-content"), o.arrow = n.find(".k-callout"), e.autoHide && !this._isShownOnFocus() ? n.on("mouseleave" + T, h(o._mouseleave, o)) : n.on("click" + T, ".k-tooltip-button", h(o._closeButtonClick, o)) }, _closeButtonClick: function (t) { t.preventDefault(), this.hide() }, _mouseleave: function (t) { this._closePopup(t.currentTarget), clearTimeout(this.timeout) }, _blur: function (t) { this._closePopup(t.currentTarget) }, _closePopup: function (o) { this.popup ? this.popup.close() : e(t(o)) }, target: function () { return this.popup ? this.popup.options.anchor : null }, destroy: function () { var t = this.popup; t && (t.element.off(T), t.destroy()), clearTimeout(this.timeout), this.element.off(T), d.off("keydown" + T, this._documentKeyDownHandler), c.fn.destroy.call(this) } }); s.ui.plugin(F) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, o, e) { (e || o)() });; !function (t, define) { define("kendo.treeview.draganddrop.min", ["kendo.data.min", "kendo.draganddrop.min"], t) }(function () { return function (t, i) { var e = window.kendo, o = e.ui, s = t.proxy, n = t.extend, r = "visibility", a = "k-state-hover", d = "input,a:not(.k-in),textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-arrow-60-right,span.k-icon.k-i-arrow-45-down-right"; o.HierarchicalDragAndDrop = e.Class.extend({ init: function (i, r) { this.element = i, this.hovered = i, this.options = n({ dragstart: t.noop, drag: t.noop, drop: t.noop, dragend: t.noop }, r), this._draggable = new o.Draggable(i, { ignore: d, filter: r.filter, autoScroll: r.autoScroll, cursorOffset: { left: 10, top: e.support.mobileOS ? -40 / e.support.zoomLevel() : 10 }, hint: s(this._hint, this), dragstart: s(this.dragstart, this), dragcancel: s(this.dragcancel, this), drag: s(this.drag, this), dragend: s(this.dragend, this), $angular: r.$angular }) }, _hint: function (t) { return "<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />" + this.options.hintText(t) + "</div>" }, _removeTouchHover: function () { e.support.touch && this.hovered && (this.hovered.find("." + a).removeClass(a), this.hovered = !1) }, _hintStatus: function (e) { var o = this._draggable.hint.find(".k-drag-status")[0]; return e ? (o.className = "k-icon k-drag-status " + e, i) : t.trim(o.className.replace(/(p|k)-(icon|drag-status)/g, "")) }, dragstart: function (i) { this.source = i.currentTarget.closest(this.options.itemSelector), this.options.dragstart(this.source) && i.preventDefault(), this.dropHint = this.options.reorderable ? t("<div class='k-i-drag-and-drop' />").css(r, "hidden").appendTo(this.element) : t() }, drag: function (i) { var o, s, n, d, h, l, c, p, g, u, v, k = this.options, f = this.source, m = this.dropTarget = t(e.eventTarget(i)), _ = m.closest(k.allowedContainers); _.length ? f[0] == m[0] || k.contains(f[0], m[0]) ? v = "k-i-cancel" : (v = "k-i-insert-middle", g = k.itemFromTarget(m), o = g.item, o.length ? (this._removeTouchHover(), s = e._outerHeight(o), d = g.content, k.reorderable ? (h = s / (d.length > 0 ? 4 : 2), n = e.getOffset(o).top, l = i.y.location < n + h, c = n + s - h < i.y.location, p = d.length && !l && !c) : (p = !0, l = !1, c = !1), this.hovered = !!p && _, this.dropHint.css(r, p ? "hidden" : "visible"), this._lastHover && this._lastHover[0] != d[0] && this._lastHover.removeClass(a), this._lastHover = d.toggleClass(a, p), p ? v = "k-i-plus" : (u = o.position(), u.top += l ? 0 : s, this.dropHint.css(u)[l ? "prependTo" : "appendTo"](k.dropHintContainer(o)), l && g.first && (v = "k-i-insert-up"), c && g.last && (v = "k-i-insert-down"))) : m[0] != this.dropHint[0] && (this._lastHover && this._lastHover.removeClass(a), v = t.contains(this.element[0], _[0]) ? "k-i-cancel" : "k-i-plus")) : (v = "k-i-cancel", this._removeTouchHover()), this.options.drag({ originalEvent: i.originalEvent, source: f, target: m, pageY: i.y.location, pageX: i.x.location, status: v.substring(2), setStatus: function (t) { v = t } }), 0 !== v.indexOf("k-i-insert") && this.dropHint.css(r, "hidden"), this._hintStatus(v) }, dragcancel: function () { this.dropHint.remove() }, dragend: function (t) { var e, o, s, n = "over", d = this.source, h = this.dropHint, l = this.dropTarget; return "visible" == h.css(r) ? (n = this.options.dropPositionFrom(h), e = h.closest(this.options.itemSelector)) : l && (e = l.closest(this.options.itemSelector), e.length || (e = l.closest(this.options.allowedContainers))), o = { originalEvent: t.originalEvent, source: d[0], destination: e[0], valid: "k-i-cancel" != this._hintStatus(), setValid: function (t) { this.valid = t }, dropTarget: l[0], position: n }, s = this.options.drop(o), h.remove(), this._removeTouchHover(), this._lastHover && this._lastHover.removeClass(a), !o.valid || s ? (this._draggable.dropped = o.valid, i) : (this._draggable.dropped = !0, this.options.dragend({ originalEvent: t.originalEvent, source: d, destination: e, position: n }), i) }, destroy: function () { this._lastHover = this.hovered = null, this._draggable.destroy() } }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, i, e) { (e || i)() });; !function (e, define) { define("kendo.dom.min", ["kendo.core.min"], e) }(function () { return function (e) { function t() { this.node = null } function n() { } function o(e, t, n) { this.nodeName = e, this.attr = t || {}, this.children = n || [] } function r(e) { this.nodeValue = e + "" } function i(e) { this.html = e } function d(e, t) { for (f.innerHTML = t; f.firstChild;)e.appendChild(f.firstChild) } function s(e) { return new i(e) } function h(e, t, n) { return new o(e, t, n) } function l(e) { return new r(e) } function a(e) { this.root = e, this.children = [] } var u, f; t.prototype = { remove: function () { this.node.parentNode && this.node.parentNode.removeChild(this.node), this.attr = {} }, attr: {}, text: function () { return "" } }, n.prototype = { nodeName: "#null", attr: { style: {} }, children: [], remove: function () { } }, u = new n, o.prototype = new t, o.prototype.appendTo = function (e) { var t, n = document.createElement(this.nodeName), o = this.children; for (t = 0; t < o.length; t++)o[t].render(n, u); return e.appendChild(n), n }, o.prototype.render = function (e, t) { var n, o, r, i, d, s; if (t.nodeName !== this.nodeName) t.remove(), n = this.appendTo(e); else { if (n = t.node, r = this.children, i = r.length, d = t.children, s = d.length, Math.abs(s - i) > 2) return void this.render({ appendChild: function (n) { e.replaceChild(n, t.node) } }, u); for (o = 0; o < i; o++)r[o].render(n, d[o] || u); for (o = i; o < s; o++)d[o].remove() } this.node = n, this.syncAttributes(t.attr), this.removeAttributes(t.attr) }, o.prototype.syncAttributes = function (e) { var t, n, o, r = this.attr; for (t in r) n = r[t], o = e[t], "style" === t ? this.setStyle(n, o) : n !== o && this.setAttribute(t, n, o) }, o.prototype.setStyle = function (e, t) { var n, o = this.node; if (t) for (n in e) e[n] !== t[n] && (o.style[n] = e[n]); else for (n in e) o.style[n] = e[n] }, o.prototype.removeStyle = function (e) { var t, n = this.attr.style || {}, o = this.node; for (t in e) void 0 === n[t] && (o.style[t] = "") }, o.prototype.removeAttributes = function (e) { var t, n = this.attr; for (t in e) "style" === t ? this.removeStyle(e.style) : void 0 === n[t] && this.removeAttribute(t) }, o.prototype.removeAttribute = function (e) { var t = this.node; "style" === e ? t.style.cssText = "" : "className" === e ? t.className = "" : t.removeAttribute(e) }, o.prototype.setAttribute = function (e, t) { var n = this.node; void 0 !== n[e] ? n[e] = t : n.setAttribute(e, t) }, o.prototype.text = function () { var e, t = ""; for (e = 0; e < this.children.length; ++e)t += this.children[e].text(); return t }, r.prototype = new t, r.prototype.nodeName = "#text", r.prototype.render = function (e, t) { var n; t.nodeName !== this.nodeName ? (t.remove(), n = document.createTextNode(this.nodeValue), e.appendChild(n)) : (n = t.node, this.nodeValue !== t.nodeValue && n.parentNode && (n.nodeValue = this.nodeValue)), this.node = n }, r.prototype.text = function () { return this.nodeValue }, i.prototype = { nodeName: "#html", attr: {}, remove: function () { var e, t; for (e = 0; e < this.nodes.length; e++)t = this.nodes[e], t.parentNode && t.parentNode.removeChild(t) }, render: function (e, t) { var n, o; if (t.nodeName !== this.nodeName || t.html !== this.html) for (t.remove(), n = e.lastChild, d(e, this.html), this.nodes = [], o = n ? n.nextSibling : e.firstChild; o; o = o.nextSibling)this.nodes.push(o); else this.nodes = t.nodes.slice(0) } }, f = document.createElement("div"), a.prototype = { html: s, element: h, text: l, render: function (e) { var t, n, o, r = this.children; for (t = 0, n = e.length; t < n; t++)o = r[t], o ? o.node && o.node.parentNode || (o.remove(), o = u) : o = u, e[t].render(this.root, o); for (t = n; t < r.length; t++)r[t].remove(); this.children = e } }, e.dom = { html: s, text: l, element: h, Tree: a, Node: t } }(window.kendo), window.kendo }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });; !function (e, define) { define("kendo.treelist.min", ["kendo.dom.min", "kendo.data.min", "kendo.columnsorter.min", "kendo.editable.min", "kendo.window.min", "kendo.filtermenu.min", "kendo.selectable.min", "kendo.resizable.min", "kendo.treeview.draganddrop.min"], e) }(function () {
    return function (e, t) {
        function i(e) { return function (t) { return t[e] } } function n(e) { return function (t) { return !e(t) } } function r() { return "none" !== this.style.display } function s(i) { var n, r = i.find(">tr:not(.k-filter-row)"), s = function () { var t = e(this); return !t.hasClass("k-group-cell") && !t.hasClass("k-hierarchy-cell") }, o = e(); return r.length > 1 && (o = r.find("th").filter(s).filter(function () { return this.rowSpan > 1 })), o = o.add(r.last().find("th").filter(s)), n = kendo.attr("index"), o.sort(function (i, r) { var s, o; return i = e(i), r = e(r), s = i.attr(n), o = r.attr(n), s === t && (s = e(i).index()), o === t && (o = e(r).index()), s = parseInt(s, 10), o = parseInt(o, 10), s > o ? 1 : s < o ? -1 : 0 }), o } function o(e) { var t, i, n = [], r = e.className; for (t = 0, i = e.level; t < i; t++)n.push(b("span", { className: r })); return n } function a(e) { var t, i, n, r = 0; for (i = 0, n = e.length; i < n; i++)t = e[i].style.width, t && t.indexOf("%") == -1 && (r += parseInt(t, 10)); return r } function l(e, t) { var i, n, r, s; e = e[0], t = t[0], e.rows.length !== t.rows.length && (i = e.offsetHeight, n = t.offsetHeight, i > n ? (r = t.rows[t.rows.length - 1], s = i - n) : (r = e.rows[e.rows.length - 1], s = n - i), r.style.height = r.offsetHeight + s + "px") } function d(t) { return e(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon") } function h(t, i) { var n, r, s = R.msie || R.edge; if (i === !0) { if (t = e(t), n = t.parent().scrollTop(), r = t.parent().scrollLeft(), s) try { t[0].setActive() } catch (o) { t[0].focus() } else t[0].focus(); t.parent().scrollTop(n).scrollLeft(r) } else e(t).one("focusin", function (e) { e.preventDefault() }).focus() } var c, u, f, p, g = kendo.data, m = e.extend, _ = kendo.dom, b = _.element, k = _.text, v = _.html, C = kendo._outerWidth, w = kendo.keys, y = kendo._outerHeight, T = kendo.ui, x = T.DataBoundWidget, H = g.DataSource, I = g.ObservableArray, S = g.Query, L = g.Model, R = kendo.support.browser, E = e.proxy, N = e.map, F = e.grep, A = e.inArray, z = e.isPlainObject, D = Array.prototype.push, M = "string", P = "change", W = "error", q = "progress", B = ".", j = ".kendoTreeList", O = "click", K = "mousedown", U = "edit", V = "save", $ = "expand", G = "collapse", J = "remove", Q = "dataBinding", X = "dataBound", Y = "cancel", Z = "tabIndex", ee = "filterMenuInit", te = "columnHide", ie = "columnShow", ne = "th.k-header", re = "columnReorder", se = "columnResize", oe = "columnMenuInit", ae = "columnLock", le = "columnUnlock", de = "parentId", he = "dragstart", ce = "drag", ue = "drop", fe = "dragend", pe = "tr:visible", ge = "td:visible", me = "th:visible", _e = pe + " > td:first:visible", be = "tr:not(.k-footer-template):visible:last", ke = "th:visible", ve = !1, Ce = "height", we = { wrapper: "k-treelist k-grid k-widget k-display-block", header: "k-header", button: "k-button", alt: "k-alt", editCell: "k-edit-cell", group: "k-treelist-group", gridToolbar: "k-grid-toolbar", gridHeader: "k-grid-header", gridHeaderWrap: "k-grid-header-wrap", gridContent: "k-grid-content", gridContentWrap: "k-grid-content", gridFilter: "k-grid-filter", footerTemplate: "k-footer-template", focused: "k-state-focused", loading: "k-i-loading", refresh: "k-i-reload", retry: "k-request-retry", selected: "k-state-selected", status: "k-status", link: "k-link", withIcon: "k-with-icon", filterable: "k-filterable", icon: "k-icon", iconFilter: "k-i-filter", iconCollapse: "k-i-collapse", iconExpand: "k-i-expand", iconHidden: "k-i-none", iconPlaceHolder: "k-icon k-i-none", input: "k-input", dropPositions: "k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle", dropTop: "k-i-insert-up", dropBottom: "k-i-insert-down", dropAdd: "k-i-plus", dropMiddle: "k-i-insert-middle", dropDenied: "k-i-cancel", dragStatus: "k-drag-status", dragClue: "k-drag-clue", dragClueText: "k-clue-text" }, ye = { create: { imageClass: "k-i-plus", className: "k-grid-add", methodName: "addRow" }, createchild: { imageClass: "k-i-plus", className: "k-grid-add", methodName: "addRow" }, destroy: { imageClass: "k-i-close", className: "k-grid-delete", methodName: "removeRow" }, edit: { imageClass: "k-i-edit", className: "k-grid-edit", methodName: "editRow" }, update: { imageClass: "k-i-check", className: "k-primary k-grid-update", methodName: "saveRow" }, canceledit: { imageClass: "k-i-cancel", className: "k-grid-cancel", methodName: "_cancelEdit" }, excel: { imageClass: "k-i-file-excel", className: "k-grid-excel", methodName: "saveAsExcel" }, pdf: { imageClass: "k-i-file-pdf", className: "k-grid-pdf", methodName: "saveAsPDF" } }, Te = L.define({ id: "id", parentId: de, fields: { id: { type: "number" }, parentId: { type: "number", nullable: !0 } }, init: function (e) { L.fn.init.call(this, e), this._loaded = !1, this.parentIdField || (this.parentIdField = de), this.parentId = this.get(this.parentIdField) }, accept: function (e) { L.fn.accept.call(this, e), this.parentId = this.get(this.parentIdField) }, set: function (e, t, i) { e == de && this.parentIdField != de && (this[this.parentIdField] = t), L.fn.set.call(this, e, t, i), e == this.parentIdField && (this.parentId = this.get(this.parentIdField)) }, loaded: function (e) { return e === t ? this._loaded : (this._loaded = e, t) }, shouldSerialize: function (e) { return L.fn.shouldSerialize.call(this, e) && "_loaded" !== e && "_error" != e && "_edit" != e && !("parentId" !== this.parentIdField && "parentId" === e) } }); Te.parentIdField = de, Te.define = function (e, i) { var n, r; return i === t && (i = e, e = Te), n = i.parentId || de, i.parentIdField = n, r = L.define(e, i), n && (r.parentIdField = n), r }, c = H.extend({ init: function (e) { H.fn.init.call(this, m(!0, {}, { schema: { modelBase: Te, model: Te } }, e)) }, _createNewModel: function (e) { var t = {}, i = e instanceof L; return i && (t = e), t = H.fn._createNewModel.call(this, t), i || (e.parentId && (e[t.parentIdField] = e.parentId), t.accept(e)), t }, _shouldWrap: function () { return !0 }, _push: function (e, t) { var i = H.fn._readData.call(this, e); i || (i = e), this[t](i) }, _readData: function (e) { var t = this.data(); return e = H.fn._readData.call(this, e), this._replaceData(t.toJSON().concat(e), t), e instanceof I ? e : t }, _replaceData: function (e, t) { var i, n = e.length; for (i = 0; i < n; i++)t[i] = e[i]; t.length = n }, _readAggregates: function (e) { var t = m(this._aggregateResult, this.reader.aggregates(e)); return "" in t && (t[this._defaultParentId()] = t[""], delete t[""]), t }, remove: function (e) { this._removeChildData(e), H.fn.remove.call(this, e) }, _removeChildData: function (e) { var t = this._subtree(this._childrenMap(this.data()), e.id); this._removeItems(t) }, _filterCallback: function (e) { var t, i, n = {}, r = [], s = e.toArray(); for (t = 0; t < s.length; t++)for (i = s[t]; i && (n[i.id] || (n[i.id] = !0, r.push(i)), !n[i.parentId]);)n[i.parentId] = !0, i = this.parentNode(i), i && r.push(i); return new S(r) }, _subtree: function (e, t) { var i, n, r = e[t] || [], s = this._defaultParentId(); for (i = 0, n = r.length; i < n; i++)r[i].id !== s && (r = r.concat(this._subtree(e, r[i].id))); return r }, _childrenMap: function (e) { var t, i, n, r, s = {}; for (e = this._observeView(e), t = 0; t < e.length; t++)i = e[t], n = i.id, r = i.parentId, s[n] = s[n] || [], s[r] = s[r] || [], s[r].push(i); return s }, _calculateAggregates: function (e, t) { var i, n, r, s, o, a; for (t = t || {}, i = {}, o = t.filter, o && (e = S.process(e, { filter: o, filterCallback: E(this._filterCallback, this) }).data), a = this._childrenMap(e), i[this._defaultParentId()] = new S(this._subtree(a, this._defaultParentId())).aggregate(t.aggregate), s = 0; s < e.length; s++)n = e[s], r = this._subtree(a, n.id), i[n.id] = new S(r).aggregate(t.aggregate); return i }, _queryProcess: function (e, t) { var i, n, r, s, o, a, l; for (t = t || {}, t.filterCallback = E(this._filterCallback, this), i = this._defaultParentId(), n = S.process(e, t), r = this._childrenMap(n.data), e = r[i] || [], o = 0; o < e.length; o++)a = e[o], a.id !== i && (l = r[a.id], s = !(!l || !l.length), a.loaded() || a.loaded(s || !a.hasChildren), (a.loaded() || a.hasChildren !== !0) && (a.hasChildren = s), s && (e = e.slice(0, o + 1).concat(l, e.slice(o + 1)))); return n.data = e, n }, _queueRequest: function (e, t) { t.call(this) }, _modelLoaded: function (e) { var t = this.get(e); t.loaded(!0), t.hasChildren = this.childNodes(t).length > 0 }, _modelError: function (e, t) { this.get(e)._error = t }, success: function (e, i) { return i && t !== i.id || (this._data = this._observe([])), H.fn.success.call(this, e, i) }, load: function (t) { var i = "_query", n = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates, r = e.Deferred().resolve().promise(); if (t.loaded()) { if (n) return r } else t.hasChildren && (i = "read", this._removeChildData(t)); return this[i]({ id: t.id }).done(E(this._modelLoaded, this, t.id)).fail(E(this._modelError, this, t.id)) }, contains: function (e, t) { for (var i = e.id; t;) { if (t.parentId === i) return !0; t = this.parentNode(t) } return !1 }, _byParentId: function (e, t) { var i, n, r = [], s = this.view(); if (e === t) return []; for (n = 0; n < s.length; n++)i = s.at(n), i.parentId == e && r.push(i); return r }, _defaultParentId: function () { return this.reader.model.fn.defaults[this.reader.model.parentIdField] }, childNodes: function (e) { return this._byParentId(e.id, this._defaultParentId()) }, rootNodes: function () { return this._byParentId(this._defaultParentId()) }, parentNode: function (e) { return this.get(e.parentId) }, level: function (e) { var t = -1; e instanceof Te || (e = this.get(e)); do e = this.parentNode(e), t++; while (e); return t }, filter: function (e) { var i = H.fn.filter; return e === t ? i.call(this, e) : (i.call(this, e), t) } }), c.create = function (t) { return e.isArray(t) ? t = { data: t } : t instanceof I && (t = { data: t.toJSON() }), t instanceof c ? t : new c(t) }, u = kendo.Observable.extend({ init: function (e, t) { kendo.Observable.fn.init.call(this), t = this.options = m(!0, {}, this.options, t), this.element = e, this.bind(this.events, t), this.model = this.options.model, this.fields = this._fields(this.options.columns), this._initContainer(), this.createEditable() }, events: [], _initContainer: function () { this.wrapper = this.element }, createEditable: function () { var e = this.options; this.editable = new T.Editable(this.wrapper, { fields: this.fields, target: e.target, clearContainer: e.clearContainer, model: this.model }) }, _isEditable: function (e) { return e.field && this.model.editable(e.field) }, _fields: function (e) { var t, i, n, r = []; for (t = 0, i = e.length; t < i; t++)n = e[t], this._isEditable(n) && r.push({ field: n.field, format: n.format, editor: n.editor }); return r }, end: function () { return this.editable.end() }, close: function () { this.destroy() }, destroy: function () { this.editable.destroy(), this.editable.element.find("[" + kendo.attr("container-for") + "]").empty().end().removeAttr(kendo.attr("role")), this.model = this.wrapper = this.element = this.columns = this.editable = null } }), f = u.extend({ init: function (e, t) { u.fn.init.call(this, e, t), this._attachHandlers(), kendo.cycleForm(this.wrapper), this.open() }, events: [Y, V], options: { window: { modal: !0, resizable: !1, draggable: !0, title: "Edit", visible: !1 } }, _initContainer: function () { var t = this.options, i = []; this.wrapper = e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"), this.model.uid).append('<div class="k-edit-form-container"/>'), t.template ? (this._appendTemplate(i), this.fields = []) : this._appendFields(i), this._appendButtons(i), new _.Tree(this.wrapper.children()[0]).render(i), this.wrapper.appendTo(t.appendTo), this.window = new T.Window(this.wrapper, t.window) }, _appendTemplate: function (e) { var t = this.options.template; typeof t === M && (t = window.unescape(t)), t = kendo.template(t)(this.model), e.push(v(t)) }, _appendFields: function (e) { var t, i, n, r = this.options.columns; for (t = 0, i = r.length; t < i; t++)n = r[t], n.command || (e.push(v('<div class="k-edit-label"><label for="' + n.field + '">' + (n.title || n.field || "") + "</label></div>")), e.push(this._isEditable(n) ? v("<div " + kendo.attr("container-for") + '="' + n.field + '" class="k-edit-field"></div>') : b("div", { "class": "k-edit-field" }, [this.options.fieldRenderer(n, this.model)]))) }, _appendButtons: function (e) { e.push(b("div", { "class": "k-edit-buttons k-state-default" }, this.options.commandRenderer())) }, _attachHandlers: function () { var e = this._cancelProxy = E(this._cancel, this); this.wrapper.on(O + j, ".k-grid-cancel", this._cancelProxy), this._saveProxy = E(this._save, this), this.wrapper.on(O + j, ".k-grid-update", this._saveProxy), this.window.bind("close", function (t) { t.userTriggered && e(t) }) }, _dettachHandlers: function () { this._cancelProxy = null, this._saveProxy = null, this.wrapper.off(j) }, _cancel: function (e) { this.trigger(Y, e) }, _save: function () { this.trigger(V) }, open: function () { this.window.center().open() }, close: function () { this.window.bind("deactivate", E(this.destroy, this)).close() }, destroy: function () { this.window.destroy(), this.window = null, this._dettachHandlers(), u.fn.destroy.call(this) } }), p = x.extend({
            init: function (t, i) { if (x.fn.init.call(this, t, i), ve = kendo.support.isRtl(t), this._dataSource(this.options.dataSource), this._aria(), this._columns(), this._layout(), this._navigatable(), this._selectable(), this._sortable(), this._resizable(), this._filterable(), this._attachEvents(), this._toolbar(), this._scrollable(), this._reorderable(), this._columnMenu(), this._minScreenSupport(), this._draggable(), this.options.autoBind && this.dataSource.fetch(), this._hasLockedColumns) { var n = this; this.wrapper.addClass("k-grid-lockedcolumns"), this._resizeHandler = function () { n.resize() }, e(window).on("resize" + j, this._resizeHandler) } kendo.notify(this) }, _draggable: function () { var t = this.options.editable; t && t.move && (this._dragging = new kendo.ui.HierarchicalDragAndDrop(this.wrapper, { $angular: this.$angular, autoScroll: !0, filter: "tbody>tr", itemSelector: "tr", allowedContainers: this.wrapper, hintText: function (t) { var i = function () { return e(this).text() }, n = "<span class='k-header k-drag-separator' />"; return t.children("td").map(i).toArray().join(n) }, contains: E(function (e, t) { var i = this.dataItem(t), n = this.dataItem(e); return n == i || this.dataSource.contains(n, i) }, this), itemFromTarget: function (e) { var t = e.closest("tr"); return { item: t, content: t } }, dragstart: E(function (e) { this.wrapper.addClass("k-treelist-dragging"); var t = this.dataItem(e); return this.trigger(he, { source: t }) }, this), drag: E(function (e) { e.source = this.dataItem(e.source), this.trigger(ce, e) }, this), drop: E(function (e) { return e.source = this.dataItem(e.source), e.destination = this.dataItem(e.destination), this.wrapper.removeClass("k-treelist-dragging"), this.trigger(ue, e) }, this), dragend: E(function (e) { var t = this.dataItem(e.destination), i = this.dataItem(e.source); i.set("parentId", t ? t.id : null), e.source = i, e.destination = t, this.trigger(fe, e) }, this), reorderable: !1, dropHintContainer: function (e) { return e.children("td:eq(1)") }, dropPositionFrom: function (e) { return e.prevAll(".k-i-none").length > 0 ? "after" : "before" } })) }, itemFor: function (e) { return "number" == typeof e && (e = this.dataSource.get(e)), this.tbody.find("[" + kendo.attr("uid") + "=" + e.uid + "]") }, _scrollable: function () { var t, i, n; this.options.scrollable && (t = this.thead.closest(".k-grid-header-wrap"), i = e(this.lockedContent).bind("DOMMouseScroll" + j + " mousewheel" + j, E(this._wheelScroll, this)), this.content.bind("scroll" + j, function () { t.scrollLeft(this.scrollLeft), i.scrollTop(this.scrollTop) }), n = kendo.touchScroller(this.content), n && n.movable && (this._touchScroller = n, n.movable.bind("change", function (e) { t.scrollLeft(-e.sender.x), i && i.scrollTop(-e.sender.y) }))) }, _wheelScroll: function (t) { var i, n; t.ctrlKey || (i = kendo.wheelDeltaY(t), n = e(t.currentTarget), i && (n[0].scrollHeight > n[0].clientHeight && (n[0].scrollTop < n[0].scrollHeight - n[0].clientHeight && i < 0 || n[0].scrollTop > 0 && i > 0) && t.preventDefault(), n.one("wheel" + j, !1), this.content.scrollTop(this.content.scrollTop() + -i))) }, _progress: function () { var e = this.options.messages; this.tbody.find("tr").length || this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({ className: we.icon + " " + we.loading, messages: e })) }, _error: function (e) { this.dataSource.rootNodes().length || this._render({ error: e }) }, refresh: function (t) { var i, n, r; t = t || {}, "itemchange" == t.action && this.editor || this.trigger(Q) || (i = e(this.current()), n = !1, this._cancelEditor(), this._render(), this._adjustHeight(), this.options.navigatable && ((this._isActiveInTable() || this.editor) && (n = i.is("th"), r = Math.max(this.cellIndex(i), 0)), this._restoreCurrent(r, n)), this.trigger(X)) }, _angularFooters: function (e) { var t, i, n, r = this.dataSource.aggregates(), s = this._footerItems(); for (t = 0; t < s.length; t++)i = s.eq(t), n = r[i.attr("data-parentId")], this._angularFooter(e, i.find("td").get(), n) }, _angularFooter: function (e, t, i) { var n = this.columns; this.angular(e, function () { return { elements: t, data: N(n, function (e) { return { column: e, aggregate: i && i[e.field] } }) } }) }, items: function () { return this._hasLockedColumns ? this._items(this.tbody).add(this._items(this.lockedTable)) : this._items(this.tbody) }, _items: function (t) { return t.find("tr").filter(function () { return !e(this).hasClass(we.footerTemplate) }) }, _footerItems: function () { var t = this.tbody; return this._hasLockedColumns && (t = t.add(this.lockedTable)), t.find("tr").filter(function () { return e(this).hasClass(we.footerTemplate) }) }, dataItems: function () { var e, t, i, n = kendo.ui.DataBoundWidget.fn.dataItems.call(this); if (this._hasLockedColumns) { for (e = n.length, t = Array(2 * e), i = e; --i >= 0;)t[i] = t[i + e] = n[i]; n = t } return n }, _showStatus: function (t) { var i = this.element.find(".k-status"), n = e(this.content).add(this.lockedContent); i.length || (i = e("<div class='k-status' />").appendTo(this.element)), this._contentTree.render([]), this._hasLockedColumns && this._lockedContentTree.render([]), n.hide(), i.html(t) }, _hideStatus: function () { this.element.find(".k-status").remove(), e(this.content).add(this.lockedContent).show() }, _adjustHeight: function () { var e, t, i = this.element, n = i.find(B + we.gridContentWrap), r = i.find(B + we.gridHeader), s = i.find(B + we.gridToolbar), o = kendo.support.scrollbar(); i.css(Ce, this.options.height), t = function (e) { var t, i; return !!e[0].style.height || (t = e.height(), e.height("auto"), i = e.height(), e.height(""), t != i) }, t(i) && (e = i.height() - y(r) - y(s), n.height(e), this._hasLockedColumns && (o = this.table[0].offsetWidth > this.table.parent()[0].clientWidth ? o : 0, this.lockedContent.height(e - o))) }, _resize: function () { this._applyLockedContainersWidth(), this._adjustHeight() }, _minScreenSupport: function () { var t = this.hideMinScreenCols(); t && (this.minScreenResizeHandler = E(this.hideMinScreenCols, this), e(window).on("resize", this.minScreenResizeHandler)) }, hideMinScreenCols: function () { var e, i, n, r = this.columns, s = !1, o = window.innerWidth > 0 ? window.innerWidth : screen.width; for (e = 0; e < r.length; e++)i = r[e], n = i.minScreenWidth, n !== t && null !== n && (s = !0, n > o ? this.hideColumn(i) : this.showColumn(i)); return s }, destroy: function () { x.fn.destroy.call(this); var t = this.dataSource; t.unbind(P, this._refreshHandler), t.unbind(W, this._errorHandler), t.unbind(q, this._progressHandler), this._navigatableTables = null, this._current = null, this._resizeHandler && e(window).off("resize" + j, this._resizeHandler), this._dragging && (this._dragging.destroy(), this._dragging = null), this.resizable && (this.resizable.destroy(), this.resizable = null), this.reorderable && (this.reorderable.destroy(), this.reorderable = null), this._draggableInstance && this._draggableInstance.element && (this._draggableInstance.destroy(), this._draggableInstance = null), this.minScreenResizeHandler && e(window).off("resize", this.minScreenResizeHandler), this._destroyEditor(), this.element.off(j), this._touchScroller && this._touchScroller.destroy(), this._autoExpandable = null, this._refreshHandler = this._errorHandler = this._progressHandler = this._dataSourceFetchProxy = null, this.thead = this.content = this.tbody = this.table = this.element = this.lockedHeader = this.lockedContent = null, this._statusTree = this._headerTree = this._contentTree = this._lockedHeaderColsTree = this._lockedContentColsTree = this._lockedHeaderTree = this._lockedContentTree = null }, options: { name: "TreeList", columns: [], autoBind: !0, scrollable: !0, selectable: !1, sortable: !1, toolbar: null, height: null, columnMenu: !1, messages: { noRows: "No records to display", loading: "Loading...", requestFailed: "Request failed.", retry: "Retry", commands: { edit: "Edit", update: "Update", canceledit: "Cancel", create: "Add new record", createchild: "Add child record", destroy: "Delete", excel: "Export to Excel", pdf: "Export to PDF" } }, excel: { hierarchy: !0 }, resizable: !1, filterable: !1, editable: !1, reorderable: !1 }, events: [P, U, V, J, $, G, Q, X, Y, he, ce, ue, fe, ee, te, ie, re, se, oe, ae, le], _toggle: function (i, n) { var r = e.Deferred().resolve().promise(), s = i.loaded(); return i._error && (i.expanded = !1, i._error = t), !s && i.expanded ? r : (t === n && (n = !i.expanded), i.expanded = n, s || (r = this.dataSource.load(i).always(E(function () { this._render(), this._syncLockedContentHeight() }, this))), this._render(), this._syncLockedContentHeight(), r) }, expand: function (e) { return this._toggle(this.dataItem(e), !0) }, collapse: function (e) { return this._toggle(this.dataItem(e), !1) }, _toggleChildren: function (t) { var i = e(t.currentTarget), n = this.dataItem(i), r = n.expanded ? G : $; this.trigger(r, { model: n }) || this._toggle(n), t.preventDefault() }, _navigatable: function () { var t, i, n = this; n.options.navigatable && (t = n.table.add(n.lockedTable), i = n.thead.parent().add(e(">table", n.lockedHeader)), n.options.scrollable && (t = t.add(i), i.attr(Z, -1)), this._navigatableTables = t, t.on(kendo.support.touch ? "touchstart" + j : "mousedown" + j, pe + ">:visible", E(n._tableClick, n)).on("focus" + j, E(n._tableFocus, n)).on("focusout" + j, E(n._tableBlur, n)).on("keydown" + j, E(n._tableKeyDown, n))) }, cellIndex: function (t) { var i = 0; return this.lockedTable && !e.contains(this.lockedTable[0], t[0]) && (i = this.lockedColumns(this.columns).length), e(t).parent().children("td:visible").index(t) + i }, _isActiveInTable: function () { var t = kendo._activeElement(); return !!t && (this.table[0] === t || e.contains(this.table[0], t) || this.lockedTable && (this.lockedTable[0] === t || e.contains(this.lockedTable[0], t))) }, _restoreCurrent: function (i, n) { var r, s, o; i === t || i < 0 || (this._current && this._current.removeClass("k-state-focused"), n ? this.current(this.thead.find("th").eq(i)) : (r = 0, i = 0, s = e(), this.lockedTable && (s = this.lockedTable.find(">tbody>tr:visible").eq(r)), s = s.add(this.tbody.children().eq(r)), o = s.find(">td:visible").eq(i), this.current(o)), this._current && h(this._current.closest("table")[0], !0)) }, current: function (t) { var i = this._current; return t = e(t), !t.length || i && i[0] === t[0] || (this._updateCurrentAttr(i, t), this._scrollCurrent()), this._current }, _scrollCurrent: function () { var t, i, n, r, s, o = this._current, a = this.options.scrollable; o && a && (t = o.parent(), i = t.closest("table").parent(), n = i.is(".k-grid-content-locked,.k-grid-header-locked"), r = i.is(".k-grid-content-locked,.k-grid-content"), s = e(this.content)[0], r && this._scrollTo(this._relatedRow(t)[0], s), this.lockedContent && (this.lockedContent[0].scrollTop = s.scrollTop), n || this._scrollTo(o[0], s)) }, _scrollTo: function (t, i) { var n, r = t.tagName.toLowerCase(), s = "td" === r || "th" === r, o = t[s ? "offsetLeft" : "offsetTop"], a = t[s ? "offsetWidth" : "offsetHeight"], l = i[s ? "scrollLeft" : "scrollTop"], d = i[s ? "clientWidth" : "clientHeight"], h = o + a, c = 0, u = 0, f = 0; ve && s && (n = e(t).closest("table")[0], R.msie ? u = n.offsetLeft : R.mozilla && (f = n.offsetLeft - kendo.support.scrollbar())), l = Math.abs(l + u - f), c = l > o ? o : h > l + d ? a <= d ? h - d : o : l, c = Math.abs(c + u) + f, i[s ? "scrollLeft" : "scrollTop"] = c }, _aria: function () { var e = this.element.attr("id") || "aria"; e && (this._elementId = e + "_active_element") }, _verticalContainer: function (e, t) { var i = this._navigatableTables.length, n = Math.floor(i / 2), r = A(e[0], this._navigatableTables); return t && (n *= -1), r += n, (r >= 0 || r < i) && (e = this._navigatableTables.eq(r)), e.find(t ? "thead" : "tbody") }, _updateCurrentAttr: function (t, i) { var n = e(t).data("headerId"); e(t).removeClass(we.focused).closest("table").removeAttr("aria-activedescendant"), n ? (n = n.replace(this._elementId, ""), e(t).attr("id", n)) : e(t).removeAttr("id"), i.data("headerId", i.attr("id")).attr("id", this._elementId).addClass(we.focused).closest("table").attr("aria-activedescendant", this._elementId), this._current = i }, _tableKeyDown: function (t) { var i = !1, n = this.current(), r = e(t.target), s = !t.isDefaultPrevented() && !r.is(":button,a,:input,a>.k-icon"); n = n ? n : e(this.lockedTable).add(this.table).find(_e), s && t.keyCode == w.UP && (i = this._moveUp(n)), s && t.keyCode == w.DOWN && (i = this._moveDown(n)), s && t.keyCode == (ve ? w.LEFT : w.RIGHT) && (i = t.altKey ? this._handleExpand(n) : this._moveRight(n)), s && t.keyCode == (ve ? w.RIGHT : w.LEFT) && (i = t.altKey ? this._handleCollapse(n) : this._moveLeft(n)), t.keyCode != w.ENTER && t.keyCode != w.F2 || (i = this._handleEnterKey(n, t.currentTarget, r)), t.keyCode == w.ESC && (i = this._handleEscKey(n, t.currentTarget)), s && t.keyCode == w.HOME && (i = this._handleHome(n, t.ctrlKey)), s && t.keyCode == w.END && (i = this._handleEnd(n, t.ctrlKey)), i && (t.preventDefault(), t.stopPropagation()) }, _handleExpand: function (e) { var t = this, i = e.parent(), n = t.dataItem(i); return !e.hasClass("k-header") && (!(!n || !n.hasChildren || n.expanded || t.trigger($, { model: n })) && (this.expand(i), !0)) }, _handleCollapse: function (e) { var t = this, i = e.parent(), n = t.dataItem(i); return !e.hasClass("k-header") && (!(!(n && n.hasChildren && n.expanded) || t.trigger(G, { model: n })) && (t.collapse(i), !0)) }, _handleHome: function (e, t) { var i, n = e.parent(), r = n.parent(), s = this.lockedTable && this.lockedTable.children("tbody")[0] === r[0], o = r[0] === this.tbody[0]; if (t ? i = this.lockedTable ? this.lockedTable.find(_e) : this.table.find(_e) : (o || s) && (o && this.lockedTable && (n = this._relatedRow(n)), i = n.children(ge + ":first")), i && i.length) return this.current(i), !0 }, _handleEnd: function (e, t) { var i, n = e.parent(), r = n.parent(), s = this.lockedTable && this.lockedTable.children("tbody")[0] === r[0], o = r[0] === this.tbody[0]; if (t ? i = this.table.find(be + ">" + ge + ":last") : (o || s) && (!o && this.lockedTable && (n = this._relatedRow(n)), i = n.children(ge + ":last")), i && i.length) return this.current(i), !0 }, _handleEscKey: function (t, i) { var n, r = kendo._activeElement(); return t && t.parent().hasClass("k-grid-edit-row") ? (n = e(t).parent().index(), r && r.blur(), this.cancelRow(), n >= 0 && this.current(this.items().eq(n).children(ge).first()), R.msie && R.version < 9 && document.body.focus(), h(i, !0), !0) : !!t.has(r).length && (h(i, !0), !0) }, _handleEnterKey: function (t, i, n) { var r, s = this.options.editable, o = n.closest("[role=gridcell]"); return n.is("table") || e.contains(t[0], n[0]) || (t = o), t.is("th") ? (t.find(".k-link").click(), !0) : (r = t.find(":kendoFocusable:first"), r[0] && t.hasClass("k-state-focused") ? (r.focus(), !0) : !(!s || n.is(":button,.k-button,textarea")) && (o[0] || (o = t), this._handleEditing(o, !1, i), !0)) }, _handleEditing: function (i, n, r) { var s, o, a, l, d = this, c = e(kendo._activeElement()), u = R.msie; if (r = e(r), a = i.parent().hasClass("k-grid-edit-row"), d.editor) { if (s = d.editor.wrapper, s && e.contains(s[0], c[0]) && (R.opera ? c.blur().change().triggerHandler("blur") : (c.blur(), u && c.blur())), !d.editor) return h(r), t; if (!d.editor.end()) return d.current(s.children().filter(ge).first()), o = s.find(":kendoFocusable:first")[0], o && o.focus(), t; d.saveRow(), a = !0 } n && d.current(n), h(r, !0), d.options.editable && (!a && !n || n) && (l = d.current().index(), d.editRow(d.current().parent()), d.current(d.editor.wrapper.children().eq(l)), d.current().removeClass("k-state-focused")) }, _moveRight: function (e) { var t = e.nextAll(ge).first(), i = e.parent(); return e.hasClass("k-header") && (t = e.next(me), !t[0] && this.lockedTable && e.closest("table")[0] === this.lockedHeader.find("table")[0] && (t = this.thead.find(me + ":first"))), !t[0] && this.lockedTable && e.closest("table")[0] === this.lockedTable[0] && (t = this._relatedRow(i).children(ge).first()), t[0] && t[0] !== e[0] && h(t.closest("table"), !0), this.current(t), !0 }, _moveLeft: function (e) { var t = e.prevAll(ge).first(), i = e.parent(); return e.hasClass("k-header") && (t = e.prev(me), !t[0] && this.lockedTable && e.closest("table")[0] === this.thead.parent()[0] && (t = this.lockedHeader.find(">table>thead>tr>" + me + ":last"))), !t[0] && this.lockedTable && e.closest("table")[0] === this.table[0] && (t = this._relatedRow(i).children(ge).last()), t[0] && t[0] !== e[0] && h(t.closest("table"), !0), this.current(t), !0 }, _moveUp: function (e) { var t, i, n = e.parent(), r = n.prevAll(pe + ":first"); return r[0] ? t = r.children().eq(e.index()) : (i = this._verticalContainer(e.closest("table"), !0), t = i.find(ke).eq(e.siblings(":visible").addBack().index(e)), t[0] && h(t.closest("table"), !0)), this.current(t), !0 }, _moveDown: function (e) { var t, i, n = e.parent(), r = n.nextAll(pe + ":first"); return r[0] ? t = r.children().eq(e.index()) : (i = this._verticalContainer(e.closest("table")), t = i.find(ge).eq(e.siblings(":visible").addBack().index(e)), t[0] && h(t.closest("table"), !0)), this.current(t), !0 }, _tableClick: function (t) { var i = e(t.currentTarget), n = i.is("th"), r = this.table.add(this.lockedTable), s = this.thead.parent().add(e(">table", this.lockedHeader)), o = d(t.target), a = i.closest("table")[0]; kendo.support.touch || a !== r[0] && a !== r[1] && a !== s[0] && a !== s[1] || (this.options.navigatable && this.current(i), !n && o || setTimeout(function () { d(kendo._activeElement()) && e.contains(a, kendo._activeElement()) || h(a, !0) }), n && t.preventDefault()) }, _setTabIndex: function (e) { this._navigatableTables.attr(Z, -1), e.attr(Z, 0) }, _tableFocus: function (t) { var i = this.current(), n = e(t.currentTarget); i && i.is(":visible") ? i.addClass(we.focused) : this.current(n.find(_e)), this._setTabIndex(n) }, _tableBlur: function () { var e = this.current(); e && e.removeClass(we.focused) }, _attachEvents: function () { var e = B + we.iconCollapse + ", ." + we.iconExpand + ", ." + we.refresh, t = B + we.retry; this.element.on(K + j, e, E(this._toggleChildren, this)).on(O + j, t, this._dataSourceFetchProxy).on(O + j, ".k-button[data-command]", E(this._commandClick, this)) }, _commandByName: function (t) { var i, n, r, s, o = this.columns, a = e.isArray(this.options.toolbar) ? this.options.toolbar : []; if (t = t.toLowerCase(), ye[t]) return ye[t]; for (i = 0; i < o.length; i++)if (r = o[i].command) for (n = 0; n < r.length; n++)if (s = r[n].name, s && s.toLowerCase() == t) return r[n]; for (i = 0; i < a.length; i++)if (s = a[i].name, s && s.toLowerCase() == t) return a[i] }, _commandClick: function (i) { var n = e(i.currentTarget), r = n.attr("data-command"), s = this._commandByName(r), o = n.parentsUntil(this.wrapper, "tr"); o = o.length ? o : t, s && (s.methodName ? this[s.methodName](o) : s.click && s.click.call(this, i), i.preventDefault()) }, _ensureExpandableColumn: function () { var e, t; this._autoExpandable && delete this._autoExpandable.expandable, e = F(this.columns, n(i("hidden"))), t = F(e, i("expandable")), this.columns.length && !t.length && (this._autoExpandable = e[0], e[0].expandable = !0) }, _columns: function () { var e, t = this.options.columns || []; this.columns = N(t, function (e) { return e = "string" == typeof e ? { field: e } : e, m({ encoded: !0 }, e) }), e = this._lockedColumns(), e.length > 0 && (this._hasLockedColumns = !0, this.columns = e.concat(this._nonLockedColumns())), this._ensureExpandableColumn(), this._columnTemplates(), this._columnAttributes() }, _columnTemplates: function () { var e, t, i, n = this.columns; for (e = 0, t = n.length; e < t; e++)i = n[e], i.template && (i.template = kendo.template(i.template)), i.headerTemplate && (i.headerTemplate = kendo.template(i.headerTemplate)), i.footerTemplate && (i.footerTemplate = kendo.template(i.footerTemplate)) }, _columnAttributes: function () { function t(t) { var i, n, r, s; if (t && t.style) for (i = t.style.split(";"), t.style = {}, n = 0; n < i.length; n++)r = i[n].split(":"), s = e.trim(r[0]), s && (t.style[e.camelCase(s)] = e.trim(r[1])) } var i, n, r = this.columns; for (i = 0, n = r.length; i < n; i++)t(r[i].attributes), t(r[i].headerAttributes) }, _layout: function () { var e, t, i, n = this.columns, r = this.element, s = ""; this.wrapper = r.addClass(we.wrapper), s = "<div class='#= gridHeader #'>", this._hasLockedColumns && (s += "<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"), s += "<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>", this._hasLockedColumns && (s += "<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"), s += "<div class='#= gridContentWrap # k-auto-scrollable'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>", this.options.scrollable || (s = "<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"), this.options.toolbar && (s = "<div class='#= header # #= gridToolbar #' />" + s), r.append(kendo.template(s)(we) + "<div class='k-status' />"), this.toolbar = r.find(B + we.gridToolbar), e = r.find(B + we.gridHeader).find("thead").addBack().filter("thead"), this.thead = e.last(), this.options.scrollable && (t = kendo.support.isRtl(r), r.find("div." + we.gridHeader).css(t ? "padding-left" : "padding-right", kendo.support.scrollbar())), i = r.find(B + we.gridContentWrap), i.length ? this.content = i : i = r, this.table = i.find(">table"), this.tbody = this.table.find(">tbody"), this._hasLockedColumns && (this.lockedHeader = e.first().closest(".k-grid-header-locked"), this.lockedContent = r.find(".k-grid-content-locked"), this.lockedTable = this.lockedContent.children()), this._initVirtualTrees(), this._renderCols(), this._renderHeader(), this.angular("compile", function () { return { elements: e.find("th.k-header").get(), data: N(n, function (e) { return { column: e } }) } }) }, _initVirtualTrees: function () {
            this._headerColsTree = new _.Tree(this.thead.prev()[0]), this._contentColsTree = new _.Tree(this.tbody.prev()[0]), this._headerTree = new _.Tree(this.thead[0]), this._contentTree = new _.Tree(this.tbody[0]),
                this._statusTree = new _.Tree(this.element.children(".k-status")[0]), this.lockedHeader && (this._lockedHeaderColsTree = new _.Tree(this.lockedHeader.find("colgroup")[0]), this._lockedContentColsTree = new _.Tree(this.lockedTable.find(">colgroup")[0]), this._lockedHeaderTree = new _.Tree(this.lockedHeader.find("thead")[0]), this._lockedContentTree = new _.Tree(this.lockedTable.find(">tbody")[0]))
            }, _toolbar: function () { var t, i = this.options.toolbar, n = this.toolbar; i && (e.isArray(i) ? (t = this._buildCommands(i), new _.Tree(n[0]).render(t)) : n.append(kendo.template(i)({})), this.angular("compile", function () { return { elements: n.get() } })) }, _lockedColumns: function () { return F(this.columns, i("locked")) }, _nonLockedColumns: function () { return F(this.columns, n(i("locked"))) }, _templateColumns: function () { return F(this.columns, i("template")) }, _flushCache: function () { this.options.$angular && this._templateColumns().length && (this._contentTree.render([]), this._hasLockedColumns && this._lockedContentTree.render([])) }, _render: function (t) { var i, n, r, s; t = t || {}, i = this.options.messages, n = this.dataSource.rootNodes(), r = kendo.attr("uid"), s = this.select().removeClass("k-state-selected").map(function (t, i) { return e(i).attr(r) }), this._absoluteIndex = 0, this._angularItems("cleanup"), this._angularFooters("cleanup"), this._flushCache(), t.error ? this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({ buttonClass: [we.button, we.retry].join(" "), messages: i })) : n.length ? (this._hideStatus(), this._contentTree.render(this._trs({ columns: this._nonLockedColumns(), aggregates: t.aggregates, selected: s, data: n, visible: !0, level: 0 })), this._hasLockedColumns && (this._absoluteIndex = 0, this._lockedContentTree.render(this._trs({ columns: this._lockedColumns(), aggregates: t.aggregates, selected: s, data: n, visible: !0, level: 0 })))) : this._showStatus(kendo.htmlEncode(i.noRows)), this._touchScroller && this._touchScroller.contentResized(), this._muteAngularRebind(function () { this._angularItems("compile"), this._angularFooters("compile") }), this.items().filter(function () { return e.inArray(e(this).attr(r), s) >= 0 }).addClass("k-state-selected"), this._adjustRowsHeight() }, _adjustRowsHeight: function () { var e, t, i, n, r, s, o, a, l, d, h, c, u, f; if (this._hasLockedColumns) { for (e = this.table, t = this.lockedTable, i = e[0].rows, n = i.length, s = t[0].rows, o = e.add(t), a = o.length, l = [], d = this.lockedHeader.find("tr"), h = this.thead.find("tr"), d.add(h).height("auto").height(Math.max(d.height(), h.height())), r = 0; r < n && s[r]; r++)i[r].style.height && (i[r].style.height = s[r].style.height = ""); for (r = 0; r < n && s[r]; r++)c = i[r].offsetHeight, u = s[r].offsetHeight, f = 0, c > u ? f = c : c < u && (f = u), l.push(f); for (r = 0; r < a; r++)o[r].style.display = "none"; for (r = 0; r < n; r++)l[r] && (i[r].style.height = s[r].style.height = l[r] + 1 + "px"); for (r = 0; r < a; r++)o[r].style.display = "" } }, _ths: function (e) { var t, i, n, r, s, o, a, l, d = []; for (a = 0, l = e.length; a < l; a++)t = e[a], n = [], r = [we.header], i = t.headerTemplate ? t.headerTemplate({}) : t.title || t.field || "", o = t.headerTemplate ? v(i) : k(i), n.push(t.sortable ? b("a", { href: "#", className: we.link }, [o]) : o), s = { "data-field": t.field, "data-title": t.title, style: t.hidden === !0 ? { display: "none" } : {}, className: r.join(" "), role: "columnheader" }, s = m(!0, {}, s, t.headerAttributes), d.push(b("th", s, n)); return d }, _cols: function (e) { var t, i, n, r = []; for (n = 0; n < e.length; n++)e[n].hidden !== !0 && (t = e[n].width, i = {}, t && 0 !== parseInt(t, 10) && (i.style = { width: "string" == typeof t ? t : t + "px" }), r.push(b("col", i))); return r }, _renderCols: function () { var e = this._nonLockedColumns(); this._headerColsTree.render(this._cols(e)), this.options.scrollable && this._contentColsTree.render(this._cols(e)), this._hasLockedColumns && (e = this._lockedColumns(), this._lockedHeaderColsTree.render(this._cols(e)), this._lockedContentColsTree.render(this._cols(e))) }, _renderHeader: function () { var e = this._nonLockedColumns(); this._headerTree.render([b("tr", { role: "row" }, this._ths(e))]), this._hasLockedColumns && (e = this._lockedColumns(), this._lockedHeaderTree.render([b("tr", { role: "row" }, this._ths(e))]), this._applyLockedContainersWidth()) }, _applyLockedContainersWidth: function () { var e, t, i, n, r, s; this._hasLockedColumns && (e = a(this.lockedHeader.find(">table>colgroup>col")), t = this.thead.parent(), i = a(t.find(">colgroup>col")), n = this.wrapper[0].clientWidth, r = kendo.support.scrollbar(), e >= n && (e = n - 3 * r), this.lockedHeader.add(this.lockedContent).width(e), t.add(this.table).width(i), s = n - e - 2, this.content.width(s), t.parent().width(s - r)) }, _trs: function (t) { var i, n, r, s, o, a, l, d = [], h = t.level, c = t.data, u = this.dataSource, f = u.aggregates() || {}, p = t.columns; for (a = 0, l = c.length; a < l; a++)r = [], i = c[a], o = i.loaded() && u.childNodes(i), s = o && o.length, n = { role: "row" }, n[kendo.attr("uid")] = i.uid, s && (n["aria-expanded"] = !!i.expanded), t.visible ? (this._absoluteIndex % 2 !== 0 && r.push(we.alt), this._absoluteIndex++) : n.style = { display: "none" }, e.inArray(i.uid, t.selected) >= 0 && r.push(we.selected), s && r.push(we.group), i._edit && r.push("k-grid-edit-row"), n.className = r.join(" "), d.push(this._tds({ model: i, attr: n, level: h }, p, E(this._td, this))), s && (d = d.concat(this._trs({ columns: p, aggregates: f, selected: t.selected, visible: t.visible && !!i.expanded, data: o, level: h + 1 }))); return this._hasFooterTemplate() && (n = { className: we.footerTemplate, "data-parentId": i.parentId }, t.visible || (n.style = { display: "none" }), d.push(this._tds({ model: f[i.parentId], attr: n, level: h }, p, this._footerTd))), d }, _footerTd: function (t) { var i = [], n = t.column, r = t.column.footerTemplate || e.noop, s = t.model[n.field] || {}, a = { role: "gridcell", style: n.hidden === !0 ? { display: "none" } : {} }; return n.expandable && (i = i.concat(o({ level: t.level + 1, className: we.iconPlaceHolder }))), n.attributes && m(a, n.attributes), i.push(v(r(s) || "")), b("td", a, i) }, _hasFooterTemplate: function () { return !!F(this.columns, function (e) { return e.footerTemplate }).length }, _tds: function (e, t, i) { var n, r, s, o = []; for (r = 0, s = t.length; r < s; r++)n = t[r], o.push(i({ model: e.model, column: n, level: e.level })); return b("tr", e.attr, o) }, _td: function (e) { var t, i = [], n = e.model, r = e.column, s = { role: "gridcell", style: r.hidden === !0 ? { display: "none" } : {} }; return r.attributes && m(!0, s, r.attributes), n._edit && r.field && n.editable(r.field) ? s[kendo.attr("container-for")] = r.field : (r.expandable && (i = o({ level: e.level, className: we.iconPlaceHolder }), t = [we.icon], t.push(n.hasChildren ? n.expanded ? we.iconCollapse : we.iconExpand : we.iconHidden), n._error ? t.push(we.refresh) : !n.loaded() && n.expanded && t.push(we.loading), i.push(b("span", { className: t.join(" ") })), s.style["white-space"] = "nowrap"), r.command ? (s.className && s.className.indexOf("k-command-cell") !== -1 ? s.className += " k-command-cell" : s.className || (s.className = "k-command-cell"), i = this._buildCommands(n._edit ? ["update", "canceledit"] : r.command)) : i.push(this._cellContent(r, n))), b("td", s, i) }, _cellContent: function (e, i) { var n; return e.template ? n = e.template(i) : e.field && (n = i.get(e.field), null !== n && e.format && (n = kendo.format(e.format, n))), null !== n && t !== n || (n = ""), e.template || !e.encoded ? v(n) : k(n) }, _buildCommands: function (e) { var t, i = []; for (t = 0; t < e.length; t++)i.push(this._button(e[t])); return i }, _button: function (e) { var t = (e.name || e).toLowerCase(), i = this.options.messages.commands[t], n = []; return e = m({}, ye[t], { text: i }, e), e.imageClass && n.push(b("span", { className: ["k-icon", e.imageClass].join(" ") })), b("button", { type: "button", "data-command": t, className: ["k-button k-button-icontext", e.className].join(" ") }, n.concat([k(e.text || e.name)])) }, _positionResizeHandle: function (i) { var n, r, s, o = e(i.currentTarget), a = this.resizeHandle, l = o.position(), d = l.left, h = C(o), c = o.closest("div"), u = i.clientX + e(window).scrollLeft(), f = this.options.columnResizeHandleWidth || 3; return d += c.scrollLeft(), a || (a = this.resizeHandle = e('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')), n = o.offset().left + h, (r = u > n - f && u < n + f) ? (c.append(a), a.show().css({ top: l.top, left: d + h - f - 1, height: y(o), width: 3 * f }).data("th", o), s = this, a.off("dblclick" + j).on("dblclick" + j, function () { var t = o.index(); e.contains(s.thead[0], o[0]) && (t += F(s.columns, function (e) { return e.locked && !e.hidden }).length), s.autoFitColumn(t) }), t) : (a.hide(), t) }, autoFitColumn: function (t) { var i, n, o, a, l, d, h, c, u, f, p, g, m, _, b, k, v, w = this, y = w.options, T = w.columns, x = kendo.support.browser, H = w.lockedHeader ? s(w.lockedHeader.find(">table>thead")).filter(r).length : 0; if (t = "number" == typeof t ? T[t] : z(t) ? F(T, function (e) { return e === t })[0] : F(T, function (e) { return e.field === t })[0], t && !t.hidden) { for (i = A(t, T), a = t.locked, o = a ? w.lockedHeader.children("table") : w.thead.parent(), n = o.find("[data-index='" + i + "']"), d = a ? w.lockedTable : w.table, h = w.footer || e(), w.footer && w.lockedContent && (h = w.footer.children(a ? ".k-grid-footer-locked" : ".k-grid-footer-wrap")), c = h.find("table").first(), w.lockedHeader && H >= i && !a && (i -= H), u = 0; u < T.length && T[u] !== t; u++)T[u].hidden && i--; if (l = y.scrollable ? o.find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + i + ")").add(d.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + i + ")")).add(c.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + i + ")")) : d.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq(" + i + ")"), f = o.add(d).add(c), p = C(n), l.width(""), f.css("table-layout", "fixed"), l.width("auto"), f.addClass("k-autofitting"), f.css("table-layout", ""), g = Math.ceil(Math.max(C(n), C(d.find("tr").eq(0).children("td:visible").eq(i)), C(c.find("tr").eq(0).children("td:visible").eq(i)))), l.width(g), t.width = g, y.scrollable) { for (m = o.find("col"), b = 0, k = 0, v = m.length; k < v; k += 1) { if (_ = m[k].style.width, !_ || _.indexOf("%") != -1) { b = 0; break } b += parseInt(_, 10) } b && f.each(function () { this.style.width = b + "px" }) } x.msie && 8 == x.version && (f.css("display", "inline-table"), setTimeout(function () { f.css("display", "table") }, 1)), f.removeClass("k-autofitting"), w.trigger(se, { column: t, oldWidth: p, newWidth: g }), w._applyLockedContainersWidth(), w._syncLockedContentHeight(), w._syncLockedHeaderHeight() } }, _adjustLockedHorizontalScrollBar: function () { var e = this.table, t = e.parent(), i = e[0].offsetWidth > t[0].clientWidth ? kendo.support.scrollbar() : 0; this.lockedContent.height(t.height() - i) }, _syncLockedContentHeight: function () { this.lockedTable && (this._touchScroller || this._adjustLockedHorizontalScrollBar(), this._adjustRowsHeight(this.table, this.lockedTable)) }, _syncLockedHeaderHeight: function () { var e, t; this.lockedHeader && (e = this.lockedHeader.children("table"), t = this.thead.parent(), this._adjustRowsHeight(e, t), l(e, t)) }, _resizable: function () { if (this.options.resizable) { this.resizable && this.resizable.destroy(); var t = this; e(this.lockedHeader).find("thead").add(this.thead).on("mousemove" + j, "th", e.proxy(this._positionResizeHandle, this)), this.resizable = new kendo.ui.Resizable(this.wrapper, { handle: ".k-resize-handle", start: function (i) { var n, r, s = e(i.currentTarget).data("th"), o = "col:eq(" + e.inArray(s[0], s.parent().children().filter(":visible")) + ")"; t.wrapper.addClass("k-grid-column-resizing"), t.lockedHeader && e.contains(t.lockedHeader[0], s[0]) ? (n = t.lockedHeader, r = t.lockedTable) : (n = t.thead.parent(), r = t.table), this.col = r.children("colgroup").find(o).add(n.find(o)), this.th = s, this.startLocation = i.x.location, this.columnWidth = C(s), this.table = this.col.closest("table"), this.totalWidth = this.table.width() }, resize: function (e) { var t = 11, i = e.x.location - this.startLocation; this.columnWidth + i < t && (i = t - this.columnWidth), this.table.width(this.totalWidth + i), this.col.width(this.columnWidth + i) }, resizeend: function () { var e, i, n; t.wrapper.removeClass("k-grid-column-resizing"), e = this.th.attr("data-field"), i = F(t.columns, function (t) { return t.field == e }), n = Math.floor(C(this.th)), i[0].width = n, t._resize(), t._adjustRowsHeight(), t.trigger(se, { column: i, oldWidth: this.columnWidth, newWidth: n }), this.table = this.col = this.th = null } }) } }, _sortable: function () { var t, i, n, r, s, o = this.columns, a = e(this.lockedHeader).add(this.thead).find("th"), l = kendo.attr("field"), d = this.options.sortable; if (d) for (r = 0, s = a.length; r < s; r++)t = o[r], t.sortable !== !1 && !t.command && t.field && (n = a.eq(r), i = n.data("kendoColumnSorter"), i && i.destroy(), n.attr(l, t.field).kendoColumnSorter(m({}, d, t.sortable, { dataSource: this.dataSource }))) }, _filterable: function () { var t, i, n, r, s, o, a = e(this.lockedHeader).add(this.thead).find("th"), l = this.options.filterable; if (l && !this.options.columnMenu) for (o = E(function (e) { this.trigger(ee, { field: e.field, container: e.container }) }, this), t = 0, i = a.length; t < i; t++)n = this.columns[t], r = a.eq(t), s = r.data("kendoFilterMenu"), s && s.destroy(), n.command || n.filterable === !1 || r.kendoFilterMenu(m(!0, {}, l, n.filterable, { dataSource: this.dataSource, init: o })) }, _change: function () { this.trigger(P) }, _isLocked: function () { return null !== this.lockedHeader }, _selectable: function () { var i, n, r, s, o = this, a = this.options.selectable, l = this.table, d = o._isLocked(); a && (a = kendo.ui.Selectable.parseOptions(a), this._hasLockedColumns && (l = l.add(this.lockedTable), n = a.multiple && a.cell), i = ">tbody>tr:not(.k-footer-template)", a.cell && (i += ">td"), this.selectable = new kendo.ui.Selectable(l, { filter: i, aria: !0, multiple: a.multiple, change: E(this._change, this), useAllItems: n, continuousItems: E(this._continuousItems, this, i, a.cell), relatedTarget: !a.cell && this._hasLockedColumns ? E(this._selectableTarget, this) : t }), o.options.navigatable && (r = a.multiple, s = a.cell, l.on("keydown" + j, function (i) { var n = o.current(), a = i.target; if (i.keyCode === w.SPACEBAR && !i.shiftKey && e.inArray(a, l) > -1 && !n.is(".k-header")) { if (i.preventDefault(), i.stopPropagation(), n = s ? n : n.parent(), d && !s && (n = n.add(o._relatedRow(n))), r) if (i.ctrlKey) { if (n.hasClass(we.selected)) return n.removeClass(we.selected), o.trigger(P), t } else o.selectable.clear(); else o.selectable.clear(); s || (o.selectable._lastActive = n), o.selectable.value(n) } else !s && (i.shiftKey && i.keyCode == w.LEFT || i.shiftKey && i.keyCode == w.RIGHT || i.shiftKey && i.keyCode == w.UP || i.shiftKey && i.keyCode == w.DOWN || i.keyCode === w.SPACEBAR && i.shiftKey) && (i.preventDefault(), i.stopPropagation(), n = n.parent(), d && (n = n.add(o._relatedRow(n))), r ? (o.selectable._lastActive || (o.selectable._lastActive = n), o.selectable.selectRange(o.selectable._firstSelectee(), n)) : (o.selectable.clear(), o.selectable.value(n))) }))) }, _continuousItems: function (t, i) { var n, r, s, o, a, l; if (this.lockedContent) { for (n = e(t, this.lockedTable), r = e(t, this.table), s = i ? this._lockedColumns().length : 1, o = i ? this.columns.length - s : 1, a = [], l = 0; l < n.length; l += s)D.apply(a, n.slice(l, l + s)), D.apply(a, r.splice(0, o)); return a } }, _selectableTarget: function (t) { var i, n, r, s = e(); for (n = 0, r = t.length; n < r; n++)i = this._relatedRow(t[n]), A(i[0], t) < 0 && (s = s.add(i)); return s }, _relatedRow: function (t) { var i, n, r = this.lockedTable; return t = e(t), r ? (i = t.closest(this.table.add(this.lockedTable)), n = i.find(">tbody>tr").index(t), i = i[0] === this.table[0] ? r : this.table, i.find(">tbody>tr").eq(n)) : t }, select: function (i) { var n = this.selectable; return n ? (t !== i && (n.options.multiple || (n.clear(), i = i.first()), this._hasLockedColumns && (i = i.add(e.map(i, E(this._relatedRow, this))))), n.value(i)) : e() }, clearSelection: function () { var e = this.select(); e.length && (this.selectable.clear(), this.trigger(P)) }, _dataSource: function (e) { var t = this.dataSource; t && (t.unbind(P, this._refreshHandler), t.unbind(W, this._errorHandler), t.unbind(q, this._progressHandler)), this._refreshHandler = E(this.refresh, this), this._errorHandler = E(this._error, this), this._progressHandler = E(this._progress, this), t = this.dataSource = c.create(e), t.bind(P, this._refreshHandler), t.bind(W, this._errorHandler), t.bind(q, this._progressHandler), this._dataSourceFetchProxy = E(function () { this.dataSource.fetch() }, this) }, setDataSource: function (e) { this._dataSource(e), this._sortable(), this._filterable(), this._contentTree.render([]), this.options.autoBind && this.dataSource.fetch() }, dataItem: function (t) { var i, n; return t instanceof Te ? t : (i = e(t).closest("tr"), n = this.dataSource.getByUid(i.attr(kendo.attr("uid")))) }, editRow: function (e) { var t; typeof e === M && (e = this.tbody.find(e)), t = this.dataItem(e), t && ("popup" != this._editMode() && (t._edit = !0), this._cancelEditor(), this._render(), this._createEditor(t), this.trigger(U, { container: this.editor.wrapper, model: t })) }, _cancelEdit: function (t) { if (this.editor) { var i; t = m(t, { container: this.editor.wrapper, model: this.editor.model }), this.trigger(Y, t) || (this.options.navigatable && (i = this.items().index(e(this.current()).parent())), this.cancelRow(), this.options.navigatable && (this.current(this.items().eq(i).children().filter(ge).first()), h(this.table, !0))) } }, cancelRow: function () { this._cancelEditor(), this._render() }, saveRow: function () { var e, t = this.editor; t && (e = { model: t.model, container: t.wrapper }, t.end() && !this.trigger(V, e) && this.dataSource.sync()) }, addRow: function (e) { var i = this.editor, n = 0, r = {}; if (!i || i.end()) return e ? (e instanceof Te || (e = this.dataItem(e)), r[e.parentIdField] = e.id, n = this.dataSource.indexOf(e) + 1, this.expand(e).then(E(this._insertAt, this, r, n)), t) : (this._insertAt(r, n), t) }, _insertAt: function (e, t) { e = this.dataSource.insert(t, e); var i = this.itemFor(e); this.editRow(i) }, removeRow: function (e) { var t = this.dataItem(e), i = { model: t, row: e }; t && !this.trigger(J, i) && (this.dataSource.remove(t), this.dataSource.sync()) }, _cancelEditor: function () { var e, t = this.editor; t && (e = t.model, this._destroyEditor(), this.dataSource.cancelChanges(e), e._edit = !1) }, _destroyEditor: function () { this.editor && (this.editor.close(), this.editor = null) }, _createEditor: function (e) { var t, i, n = this.itemFor(e); n = n.add(this._relatedRow(n)), t = this._editMode(), i = { columns: this.columns, model: e, target: this, clearContainer: !1, template: this.options.editable.template }, "inline" == t ? this.editor = new u(n, i) : (m(i, { window: this.options.editable.window, commandRenderer: E(function () { return this._buildCommands(["update", "canceledit"]) }, this), fieldRenderer: this._cellContent, save: E(this.saveRow, this), cancel: E(this._cancelEdit, this), appendTo: this.wrapper }), this.editor = new f(n, i)) }, _editMode: function () { var e = "inline", t = this.options.editable; return t !== !0 && (e = "string" == typeof t ? t : t.mode || e), e.toLowerCase() }, hideColumn: function (e) { this._toggleColumnVisibility(e, !0) }, showColumn: function (e) { this._toggleColumnVisibility(e, !1) }, _toggleColumnVisibility: function (e, t) { e = this._findColumn(e), e && e.hidden !== t && (e.hidden = t, this._ensureExpandableColumn(), this._renderCols(), this._renderHeader(), this._render(), this._adjustTablesWidth(), this.trigger(t ? te : ie, { column: e }), t || e.width || this.table.add(this.thead.closest("table")).width("")) }, _findColumn: function (e) { return e = "number" == typeof e ? this.columns[e] : z(e) ? F(this.columns, function (t) { return t === e })[0] : F(this.columns, function (t) { return t.field === e })[0] }, _adjustTablesWidth: function () { var e, t, i, n = this.thead.prev().children(), r = 0; for (e = 0, t = n.length; e < t; e++) { if (i = n[e].style.width, !i || i.indexOf("%") != -1) { r = 0; break } r += parseInt(i, 10) } r && this.table.add(this.thead.closest("table")).width(r) }, _reorderable: function () { var t, i, n; this.options.reorderable && (t = this.options.scrollable === !0, i = (t ? ".k-grid-header:first " : "table:first>.k-grid-header ") + ne, n = this, this._draggableInstance = new T.Draggable(this.wrapper, { group: kendo.guid(), filter: i, hint: function (t) { return e('<div class="k-header k-drag-clue" />').css({ width: t.width(), paddingLeft: t.css("paddingLeft"), paddingRight: t.css("paddingRight"), lineHeight: t.height() + "px", paddingTop: t.css("paddingTop"), paddingBottom: t.css("paddingBottom") }).html(t.attr(kendo.attr("title")) || t.attr(kendo.attr("field")) || t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />') } }), this.reorderable = new T.Reorderable(this.wrapper, { draggable: this._draggableInstance, dragOverContainers: E(this._allowDragOverContainers, this), inSameContainer: function (t) { return e(t.source).parent()[0] === e(t.target).parent()[0] }, change: function (e) { var t = e.newIndex, i = e.oldIndex, r = "before" === e.position, s = n.columns[i]; n.trigger(re, { newIndex: t, oldIndex: i, column: s }), n.reorderColumn(t, s, r) } })) }, _allowDragOverContainers: function (e) { return this.columns[e].lockable !== !1 }, reorderColumn: function (i, n, r) { var s, o, a, l = this.columns, d = A(n, l), h = l[i], c = !!h.locked, u = this._nonLockedColumns().length; d !== i && (c && !n.locked && 1 == u || !c && n.locked && l.length - u == 1 || (r === t && (r = i < d), s = !!n.locked, s = s != c, n.locked = c, l.splice(r ? i : i + 1, 0, n), l.splice(d < i ? d : d + 1, 1), this._renderCols(), o = e(this.lockedHeader).add(this.thead).find("th"), o.eq(d)[r ? "insertBefore" : "insertAfter"](o.eq(i)), a = this._headerTree.children[0].children, this._hasLockedColumns && (a = this._lockedHeaderTree.children[0].children.concat(a)), a.splice(r ? i : i + 1, 0, a[d]), a.splice(d < i ? d : d + 1, 1), this._hasLockedColumns && (this._lockedHeaderTree.children[0].children = a.splice(0, this._lockedColumns().length), this._headerTree.children[0].children = a), this._applyLockedContainersWidth(), this.refresh(), s && (c ? this.trigger(ae, { column: n }) : this.trigger(le, { column: n })))) }, lockColumn: function (e) { var t, i = this.columns; e = "number" == typeof e ? i[e] : F(i, function (t) { return t.field === e })[0], e && !e.hidden && (t = this._lockedColumns().length - 1, this.reorderColumn(t, e, !1)) }, unlockColumn: function (e) { var t, i = this.columns; e = "number" == typeof e ? i[e] : F(i, function (t) { return t.field === e })[0], e && !e.hidden && (t = this._lockedColumns().length, this.reorderColumn(t, e, !0)) }, _columnMenu: function () { var t, i, n, r, s, o, a = e(this.lockedHeader).add(this.thead).find("th"), l = this.columns, d = this.options, h = d.columnMenu, c = E(this._columnMenuInit, this), u = this._lockedColumns().length; if (h) for ("boolean" == typeof h && (h = {}), o = 0; o < a.length; o++)t = l[o], t.field && (i = a.eq(o).data("kendoColumnMenu"), i && i.destroy(), r = !1, t.sortable !== !1 && h.sortable !== !1 && d.sortable !== !1 && (r = m({}, d.sortable, { compare: (t.sortable || {}).compare })), s = !1, d.filterable && t.filterable !== !1 && h.filterable !== !1 && (s = m({ pane: this.pane }, t.filterable, d.filterable)), n = { dataSource: this.dataSource, values: t.values, columns: h.columns, sortable: r, filterable: s, messages: h.messages, owner: this, closeCallback: e.noop, init: c, pane: this.pane, lockedColumns: t.lockable !== !1 && u > 0 }, d.$angular && (n.$angular = d.$angular), a.eq(o).kendoColumnMenu(n)) }, _columnMenuInit: function (e) { this.trigger(oe, { field: e.field, container: e.container }) }
        }), kendo.ExcelMixin && kendo.ExcelMixin.extend(p.prototype), kendo.PDFMixin && (kendo.PDFMixin.extend(p.prototype), p.fn._drawPDF = function (t) { var i = new e.Deferred; return this._drawPDFShadow({ width: this.wrapper.width() }, { avoidLinks: this.options.pdf.avoidLinks }).done(function (e) { var n = { page: e, pageNumber: 1, progress: 1, totalPages: 1 }; t.notify(n), i.resolve(n.page) }).fail(function (e) { i.reject(e) }), i }), m(!0, kendo.data, { TreeListDataSource: c, TreeListModel: Te }), m(!0, kendo.ui, { TreeList: p }), T.plugin(p)
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (e, t, i) { (i || t)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function i(t) { return (t + "").replace(a, l) } function n(t) { var i, n = []; for (i in t) n.push(i + t[i]); return n.sort().join("") } function e(t) { var i, n = 2166136261; for (i = 0; i < t.length; ++i)n += (n << 1) + (n << 4) + (n << 7) + (n << 8) + (n << 24), n ^= t.charCodeAt(i); return n >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function r(t, i, n) { return c.current.measure(t, i, n) } var s, a, l, h, u, c; window.kendo.util = window.kendo.util || {}, s = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, i) { var n = this._map, e = { key: t, value: i }; n[t] = e, this._head ? (this._tail.newer = e, e.older = this._tail, this._tail = e) : this._head = this._tail = e, this._length >= this._size ? (n[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var i = this._map[t]; if (i) return i === this._head && i !== this._tail && (this._head = i.newer, this._head.older = null), i !== this._tail && (i.older && (i.older.newer = i.newer, i.newer.older = i.older), i.older = this._tail, i.newer = null, this._tail.newer = i, this._tail = i), i.value } }), a = /\r?\n|\r|\t/g, l = " ", h = { baselineMarkerSize: 1 }, "undefined" != typeof document && (u = document.createElement("div"), u.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), c = kendo.Class.extend({ init: function (i) { this._cache = new s(1e3), this.options = t.extend({}, h, i) }, measure: function (t, r, s) { var a, l, h, c, f, p, d, m, g; if (void 0 === s && (s = {}), !t) return o(); if (a = n(r), l = e(t + a), h = this._cache.get(l)) return h; c = o(), f = s.box || u, p = this._baselineMarker().cloneNode(!1); for (d in r) m = r[d], void 0 !== m && (f.style[d] = m); return g = s.normalizeText !== !1 ? i(t) : t + "", f.textContent = g, f.appendChild(p), document.body.appendChild(f), g.length && (c.width = f.offsetWidth - this.options.baselineMarkerSize, c.height = f.offsetHeight, c.baseline = p.offsetTop + this.options.baselineMarkerSize), c.width > 0 && c.height > 0 && this._cache.put(l, c), f.parentNode.removeChild(f), c }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), c.current = new c, kendo.deepExtend(kendo.util, { LRUCache: s, TextMetrics: c, measureText: r, objectKey: n, hashKey: e, normalizeText: i }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, i, n) { (n || i)() }), function (t, define) { define("dataviz/core/kendo-core.min", ["kendo.core.min", "kendo.drawing.min"], t) }(function () {
    !function (t) {
        function i(t) { return Array.isArray(t) } function n(t, n) { var e, o, r = i(n) ? n : [n]; for (e = 0; e < r.length; e++)o = r[e], t.className.indexOf(o) === -1 && (t.className += " " + o) } function e(t, i) { t && t.className && (t.className = t.className.replace(i, "").replace(ui, " ")) } function o(t) { var i, n = .5; for (t.options.stroke && kendo.drawing.util.defined(t.options.stroke.width) && t.options.stroke.width % 2 === 0 && (n = 0), i = 0; i < t.segments.length; i++)t.segments[i].anchor().round(0).translate(n, n); return t } function r(t, i) { return -t.x * i.y + t.y * i.x < 0 } function s(t) { return "number" == typeof t && !isNaN(t) } function a(t) { return typeof t === oi } function l(t) { return s(t) || a(t) && isFinite(t) } function h(t) { return "object" == typeof t } function u(t) { return s(t) ? t + "px" : t } function c(t) { return ci.test(t) } function f(t, n) { var e, o, r, s, l, f = a(n) ? [n] : n; if (i(f)) { for (e = {}, o = window.getComputedStyle(t), r = 0; r < f.length; r++)s = f[r], e[s] = c(s) ? parseFloat(o[s]) : o[s]; return e } if (h(n)) for (l in n) t.style[l] = u(n[l]) } function p(t, i) { void 0 === i && (i = 0); var n = { top: 0, right: 0, bottom: 0, left: 0 }; return "number" == typeof t ? n[At] = n[_t] = n[It] = n[Pt] = t : (n[At] = t[At] || i, n[_t] = t[_t] || i, n[It] = t[It] || i, n[Pt] = t[Pt] || i), n } function d(t) { void 0 === t && (t = {}); var i; return t.template ? t.template = i = wi.compile(t.template) : jt(t.content) && (i = t.content), i } function m(t, i) { var n, e = t.length, o = []; for (n = 0; n < e; n++)i(t[n]) && o.push(t[n]); return o } function g(t, i) { var n, e; if (t.className) for (n = i.split(" "), e = 0; e < n.length; e++)if (t.className.indexOf(n[e]) !== -1) return !0 } function x(t, i) { if (i) return i.indexOf(t) !== -1 } function v(t, i, n) { return kendo.drawing.util.round(t + (i - t) * n, Dt) } function b(t, i) { var n, e, o = t.length, r = []; for (n = 0; n < o; n++)e = i(t[n]), kendo.drawing.util.defined(e) && r.push(e); return r } function y(t) { var i = 0; return t.wheelDelta && (i = -t.wheelDelta / 120, i = i > 0 ? Math.ceil(i) : Math.floor(i)), t.detail && (i = kendo.drawing.util.round(t.detail / 3)), i } function w(t, i) { var n = t.prototype; n.options = n.options ? Rt({}, n.options, i) : i } function M(t) { var i, n, e, o = Gt, r = Et; for (i = 0, n = t.length; i < n; i++)e = t[i], null !== e && isFinite(e) && (o = Math.min(o, e), r = Math.max(r, e)); return { min: o === Gt ? void 0 : o, max: r === Et ? void 0 : r } } function k(t, i, n, e, o) { var r = Vi(o); return new Fi(n + (t - n) * Math.cos(r) + (i - e) * Math.sin(r), e - (t - n) * Math.sin(r) + (i - e) * Math.cos(r)) } function T(t, i) { return t - i } function S(t, i) { var n, e, o, r, s, a, l, h, u; return t.x1 === i.x1 && t.y1 === i.y1 && t.x2 === i.x2 && t.y2 === i.y2 ? i : (n = Math.min(t.x1, i.x1), e = Math.max(t.x1, i.x1), o = Math.min(t.x2, i.x2), r = Math.max(t.x2, i.x2), s = Math.min(t.y1, i.y1), a = Math.max(t.y1, i.y1), l = Math.min(t.y2, i.y2), h = Math.max(t.y2, i.y2), u = [], u[0] = new Ni(e, s, o, a), u[1] = new Ni(n, a, e, l), u[2] = new Ni(o, a, r, l), u[3] = new Ni(e, l, o, h), t.x1 === n && t.y1 === s || i.x1 === n && i.y1 === s ? (u[4] = new Ni(n, s, e, a), u[5] = new Ni(o, l, r, h)) : (u[4] = new Ni(o, s, r, a), u[5] = new Ni(n, l, e, h)), m(u, function (t) { return t.height() > 0 && t.width() > 0 })[0]) } function R(i) { var n, e, o = i.stops, r = i.innerRadius / i.radius * 100, s = o.length, a = []; for (n = 0; n < s; n++)e = t.extend({}, o[n]), e.offset = (e.offset * (100 - r) + r) / 100, a.push(e); return a } function j(t) { var i = t.origin, n = t.bottomRight(); return new Ni(i.x, i.y, n.x, n.y) } function L(t, i) { var n = t.tickX, e = t.tickY, r = t.position, s = new xt({ stroke: { width: i.width, color: i.color } }); return t.vertical ? s.moveTo(n, r).lineTo(n + i.size, r) : s.moveTo(r, e).lineTo(r, e + i.size), o(s), s } function U(t, i) { var n = t.lineStart, e = t.lineEnd, r = t.position, s = new xt({ stroke: { width: i.width, color: i.color, dashType: i.dashType } }); return t.vertical ? s.moveTo(n, r).lineTo(e, r) : s.moveTo(r, n).lineTo(r, e), o(s), s } function B(t, i) { var n = t.getTime() - i, e = t.getTimezoneOffset() - i.getTimezoneOffset(); return n - e * kn } function A(t, i) { return new Date(t.getTime() + i) } function I(t) { var i; return t instanceof Date ? i = t : t && (i = new Date(t)), i } function P(t, i) { var n, e; if (void 0 === i && (i = 0), n = 0, e = t.getDay(), !isNaN(e)) for (; e !== i;)0 === e ? e = 6 : e-- , n++; return A(t, -n * Sn) } function _(t, i) { return 0 === i && 23 === t.getHours() && (t.setHours(t.getHours() + 2), !0) } function C(t, i) { var n, e = new Date(t); return e.setMinutes(0, 0, 0), n = (t.getTimezoneOffset() - e.getTimezoneOffset()) * kn, A(e, n + i * Tn) } function z(t, i, n, e) { var o, r, s = t; return t && (o = I(t), r = o.getHours(), n === yn ? (s = new Date(o.getFullYear() + i, 0, 1), _(s, 0)) : n === bn ? (s = new Date(o.getFullYear(), o.getMonth() + i, 1), _(s, r)) : n === vn ? (s = z(P(o, e), 7 * i, xn), _(s, r)) : n === xn ? (s = new Date(o.getFullYear(), o.getMonth(), o.getDate() + i), _(s, r)) : n === gn ? s = C(o, i) : n === mn ? (s = A(o, i * kn), s.getSeconds() > 0 && s.setSeconds(0)) : n === dn ? s = A(o, i * Mn) : n === pn && (s = A(o, i)), n !== pn && s.getMilliseconds() > 0 && s.setMilliseconds(0)), s } function V(t, i, n) { return z(I(t), 0, i, n) } function D(t, i, n) { var e = I(t); return e && V(e, i, n).getTime() === e.getTime() ? e : z(e, 1, i, n) } function G(t, i) { return t && i ? t.getTime() - i.getTime() : -1 } function E(t, i) { return t.getTime() - i } function O(t) { var n, e; if (i(t)) { for (n = [], e = 0; e < t.length; e++)n.push(O(t[e])); return n } if (t) return I(t).getTime() } function F(t, i) { return t && i ? O(t) === O(i) : t === i } function N(t, i, n) { return B(t, i) / Un[n] } function H(t, i, n, e) { var o, r = I(t), s = I(i); return o = n === bn ? r.getMonth() - s.getMonth() + 12 * (r.getFullYear() - s.getFullYear()) + N(r, new Date(r.getFullYear(), r.getMonth()), xn) / new Date(r.getFullYear(), r.getMonth() + 1, 0).getDate() : n === yn ? r.getFullYear() - s.getFullYear() + H(r, new Date(r.getFullYear(), 0), bn, 1) / 12 : n === xn || n === vn ? N(r, s, n) : E(r, i) / Un[n], o / e } function Y(t, i, n) { var e; return e = n === yn ? i.getFullYear() - t.getFullYear() : n === bn ? 12 * Y(t, i, yn) + i.getMonth() - t.getMonth() : n === xn ? Math.floor(E(i, t) / Sn) : Math.floor(E(i, t) / Un[n]) } function X(t, i) { for (var n, e, o = 0, r = i.length - 1; o <= r;)if (n = Math.floor((o + r) / 2), e = i[n], e < t) o = n + 1; else { if (!(e > t)) { for (; F(i[n - 1], t);)n--; return n } r = n - 1 } return i[n] <= t ? n : n - 1 } function q(t, i) { var n; return n = a(i) ? t.parseDate(i) || I(i) : I(i) } function K(t, n) { var e, o; if (i(n)) { for (e = [], o = 0; o < n.length; o++)e.push(q(t, n[o])); return e } return q(t, n) } function W(t, i) { var n, e; if (t instanceof Date) { for (n = i.length, e = 0; e < n; e++)if (F(i[e], t)) return e; return -1 } return i.indexOf(t) } function Q(t, i) { var n, e, o, r = Di(i - t, Xt - 1); if (0 === r) { if (0 === i) return .1; r = Math.abs(i) } return n = Math.pow(10, Math.floor(Math.log(r) / Math.log(10))), e = Di(r / n, Xt), o = 1, o = e < 1.904762 ? .2 : e < 4.761904 ? .5 : e < 9.523809 ? 1 : 2, Di(n * o, Xt) } function J(t, i, n) { var e, o, r; if (!t && !i) return 0; if (t >= 0 && i >= 0) { if (o = t === i ? 0 : t, r = (i - o) / i, n === !1 || !n && r > _n) return 0; e = Math.max(0, o - (i - o) / 2) } else e = t; return e } function Z(t, i, n) { var e, o, r; if (!t && !i) return 1; if (t <= 0 && i <= 0) { if (o = t === i ? 0 : i, r = Math.abs((o - t) / o), n === !1 || !n && r > _n) return 0; e = Math.min(0, o - (t - o) / 2) } else e = i; return e } function $(t, i) { return Di(Math.floor(t / i) * i, Xt) } function tt(t, i) { return Di(Math.ceil(t / i) * i, Xt) } function it(t) { return Math.max(Math.min(t, In), -In) } function nt(t, i, n) { var e = n.narrowRange, o = J(t, i, e), r = Z(t, i, e), s = Q(o, r), a = { majorUnit: s }; return n.roundToMajorUnit !== !1 && (o < 0 && rt(o, s, 1 / 3) && (o -= s), r > 0 && rt(r, s, 1 / 3) && (r += s)), a.min = $(o, s), a.max = tt(r, s), a } function et(t, i) { return { min: Li(i.min) ? Math.min(t.min, i.min) : t.min, max: Li(i.max) ? Math.max(t.max, i.max) : t.max, majorUnit: t.majorUnit } } function ot(t, i) { var n, e, o, r, s = i; return i && (n = Li(i.min), e = Li(i.max), o = n || e, o && i.min === i.max && (i.min > 0 ? i.min = 0 : i.max = 1), i.majorUnit ? (t.min = $(t.min, i.majorUnit), t.max = tt(t.max, i.majorUnit)) : o && (s = Rt(t, i), t.majorUnit = Q(s.min, s.max))), t.minorUnit = (s.majorUnit || t.majorUnit) / 5, r = Rt(t, s), r.min >= r.max && (n && !e ? r.max = r.min + r.majorUnit : !n && e && (r.min = r.max - r.majorUnit)), r } function rt(t, i, n) { var e = Di(Math.abs(t % i), Xt), o = i * (1 - n); return 0 === e || e > o } function st(t) { var i = gn; return t >= Ln ? i = yn : t >= jn ? i = bn : t >= Rn ? i = vn : t >= Sn && (i = xn), i } function at(t, i, n) { var e = n.min || t, o = n.max || i, r = n.baseUnit || (o && e ? st(B(o, e)) : gn), s = Un[r], a = V(O(e) - 1, r) || I(o), l = D(O(o) + 1, r), h = n.majorUnit ? n.majorUnit : void 0, u = h || tt(Q(a.getTime(), l.getTime()), s) / s, c = Y(a, l, r), f = tt(c, u), p = f - c, d = Math.floor(p / 2), m = p - d; return n.baseUnit || delete n.baseUnit, n.baseUnit = n.baseUnit || r, n.min = n.min || z(a, -d, r), n.max = n.max || z(l, m, r), n.minorUnit = n.minorUnit || u / 5, n.majorUnit = u, n } function lt(t, i, n, e) { var o = n.min, r = n.max; return Li(n.axisCrossingValue) && n.axisCrossingValue <= 0 && ct(), Li(e.max) ? e.max <= 0 && ct() : r = i, Li(e.min) ? e.min <= 0 && ct() : o = t, { min: o, max: r } } function ht(t, i, n) { var e = n.majorUnit, o = t; return t <= 0 ? o = i <= 1 ? Math.pow(e, -2) : 1 : n.narrowRange || (o = Math.pow(e, Math.floor(ft(t, e)))), o } function ut(t, i) { var n, e = Di(ft(t, i), Xt) % 1; return n = t <= 0 ? i : 0 !== e && (e < .3 || e > .9) ? Math.pow(i, ft(t, i) + .2) : Math.pow(i, Math.ceil(ft(t, i))) } function ct() { throw Error("Non positive values cannot be used for a logarithmic axis") } function ft(t, i) { return Math.log(t) / Math.log(i) } function pt(t, i) { return 180 - Math.abs(Math.abs(t - i) - 180) } function dt(t) { return t <= 0 ? -1 : 1 } var mt, gt, xt, vt, bt, yt, wt, Mt, kt, Tt, St, Rt, jt, Lt, Ut, Bt, At, It, Pt, _t, Ct, zt, Vt, Dt, Gt, Et, Ot, Ft, Nt, Ht, Yt, Xt, qt, Kt, Wt, Qt, Jt, Zt, $t, ti, ii, ni, ei, oi, ri, si, ai, li, hi, ui, ci, fi, pi, di, mi, gi, xi, vi, bi, yi, wi, Mi, ki, Ti, Si, Ri, ji, Li, Ui, Bi, Ai, Ii, Pi, _i, Ci, zi, Vi, Di, Gi, Ei, Oi, Fi, Ni, Hi, Yi, Xi, qi, Ki, Wi, Qi, Ji, Zi, $i, tn, nn, en, on, rn, sn, an, ln, hn, un, cn, fn, pn, dn, mn, gn, xn, vn, bn, yn, wn, Mn, kn, Tn, Sn, Rn, jn, Ln, Un, Bn, An, In, Pn, _n, Cn, zn, Vn, Dn, Gn, En, On, Fn, Nn, Hn, Yn, Xn, qn, Kn, Wn, Qn, Jn, Zn; window.kendo.dataviz = window.kendo.dataviz || {}, mt = kendo.drawing, gt = mt.util, xt = mt.Path, vt = mt.Group, bt = kendo.Class, yt = kendo.geometry, wt = yt.Rect, Mt = yt.Circle, kt = yt.transform, Tt = yt.Segment, St = kendo.dataviz, Rt = kendo.deepExtend, jt = kendo.isFunction, Lt = kendo.getter, Ut = "x", Bt = "y", At = "top", It = "bottom", Pt = "left", _t = "right", Ct = "center", zt = "width", Vt = "height", Dt = 3, Gt = Number.MAX_VALUE, Et = -Number.MAX_VALUE, Ot = 600, Ft = 400, Nt = "#fff", Ht = "#000", Yt = "12px sans-serif", Xt = 10, qt = "axisLabelClick", Kt = "noteClick", Wt = "noteHover", Qt = "outside", Jt = "none", Zt = "circle", $t = "triangle", ti = "cross", ii = "arc", ni = "inside", ei = "value", oi = "string", ri = "object", si = "date", ai = /\{\d+:?/, li = 100, hi = { X: Ut, Y: Bt, WIDTH: zt, HEIGHT: Vt, DEFAULT_HEIGHT: Ft, DEFAULT_WIDTH: Ot, TOP: At, LEFT: Pt, BOTTOM: It, RIGHT: _t, CENTER: Ct, COORD_PRECISION: Dt, DEFAULT_PRECISION: Xt, CIRCLE: Zt, TRIANGLE: $t, CROSS: ti, MAX_VALUE: Gt, MIN_VALUE: Et, WHITE: Nt, BLACK: Ht, DEFAULT_FONT: Yt, AXIS_LABEL_CLICK: qt, OUTSIDE: Qt, INSIDE: ni, NONE: Jt, NOTE_CLICK: Kt, NOTE_HOVER: Wt, VALUE: ei, STRING: oi, OBJECT: ri, DATE: si, ARC: ii, FORMAT_REGEX: ai, HIGHLIGHT_ZINDEX: li }, ui = /\s+/g, ci = /width|height|top|left|bottom|right/i, fi = { format: function (t, i) { return i }, toString: function (t) { return t }, parseDate: function (t) { return new Date(t) } }, pi = fi, di = bt.extend({}), di.register = function (t) { pi = t }, Object.defineProperties && Object.defineProperties(di, { implementation: { get: function () { return pi } } }), mi = /\{(\d+)(:[^\}]+)?\}/g, gi = bt.extend({ init: function (t) { this._intlService = t }, auto: function (t) { for (var i, n = [], e = arguments.length - 1; e-- > 0;)n[e] = arguments[e + 1]; return i = this.intlService, a(t) && t.match(ai) ? i.format.apply(i, [t].concat(n)) : i.toString(n[0], t) }, localeAuto: function (t, i, n) { var e, o = this.intlService; return e = a(t) && t.match(ai) ? t.replace(mi, function (t, e, r) { var s = i[parseInt(e, 10)]; return o.toString(s, r ? r.substring(1) : "", n) }) : o.toString(i[0], t, n) } }), Object.defineProperties && Object.defineProperties(gi.fn, { intlService: { get: function () { return this._intlService || di.implementation } } }), xi = bt.extend({ init: function (t, i) { void 0 === i && (i = {}), this._intlService = i.intlService, this.sender = i.sender || t, this.format = new gi(i.intlService), this.chart = t, this.rtl = i.rtl }, notify: function (t, i) { this.chart.trigger(t, i) } }), Object.defineProperties && Object.defineProperties(xi.fn, { intl: { get: function () { return this._intlService || di.implementation } } }), bi = bt.extend({}), bi.register = function (t) { vi = t }, bi.create = function (t, i) { if (vi) return vi.create(t, i) }, yi = { compile: function (t) { return t } }, wi = bt.extend({}), wi.register = function (t) { yi = t }, wi.compile = function (t) { return yi.compile(t) }, Mi = { ChartService: xi, DomEventsBuilder: bi, FormatService: gi, IntlService: di, TemplateService: wi }, ki = "trigger", Ti = bt.extend({ init: function (t, i) { this.observer = t, this.handlerMap = Rt({}, this.handlerMap, i) }, trigger: function (t, i) { var n, e = this, o = e.observer, r = e.handlerMap; return r[t] ? n = this.callObserver(r[t], i) : o[ki] && (n = this.callObserver(ki, t, i)), n }, callObserver: function (t) { for (var i = [], n = arguments.length - 1; n-- > 0;)i[n] = arguments[n + 1]; return this.observer[t].apply(this.observer, i) }, requiresHandlers: function (t) { var i, n = this; if (this.observer.requiresHandlers) return this.observer.requiresHandlers(t); for (i = 0; i < t.length; i++)if (n.handlerMap[t[i]]) return !0 } }), Si = kendo.drawing.util, Ri = Si.append, ji = Si.bindEvents, Li = Si.defined, Ui = Si.deg, Bi = Si.elementOffset, Ai = Si.elementSize, Ii = Si.eventElement, Pi = Si.eventCoordinates, _i = Si.last, Ci = Si.limitValue, zi = Si.objectKey, Vi = Si.rad, Di = Si.round, Gi = Si.unbindEvents, Ei = Si.valueOrDefault, Oi = bt.extend({}), Oi.fetchFonts = function (t, i, n) { void 0 === n && (n = { depth: 0 }); var e = 5; !t || n.depth > e || !document.fonts || Object.keys(t).forEach(function (e) { var o = t[e]; "dataSource" !== e && "$" !== e[0] && o && ("font" === e ? i.push(o) : "object" == typeof o && (n.depth++ , Oi.fetchFonts(o, i, n), n.depth--)) }) }, Oi.loadFonts = function (t, i) { var n = []; if (t.length > 0 && document.fonts) { try { n = t.map(function (t) { return document.fonts.load(t) }) } catch (e) { kendo.logToConsole(e) } Promise.all(n).then(i, i) } else i() }, Oi.preloadFonts = function (t, i) { var n = []; Oi.fetchFonts(t, n), Oi.loadFonts(n, i) }, Fi = bt.extend({ init: function (t, i) { this.x = t || 0, this.y = i || 0 }, clone: function () { return new Fi(this.x, this.y) }, equals: function (t) { return t && this.x === t.x && this.y === t.y }, rotate: function (t, i) { var n = Vi(i), e = Math.cos(n), o = Math.sin(n), r = t.x, s = t.y, a = this, l = a.x, h = a.y; return this.x = Di(r + (l - r) * e + (h - s) * o, Dt), this.y = Di(s + (h - s) * e - (l - r) * o, Dt), this }, multiply: function (t) { return this.x *= t, this.y *= t, this }, distanceTo: function (t) { var i = this.x - t.x, n = this.y - t.y; return Math.sqrt(i * i + n * n) } }), Fi.onCircle = function (t, i, n) { var e = Vi(i); return new Fi(t.x - n * Math.cos(e), t.y - n * Math.sin(e)) }, Ni = bt.extend({ init: function (t, i, n, e) { this.x1 = t || 0, this.y1 = i || 0, this.x2 = n || 0, this.y2 = e || 0 }, equals: function (t) { return this.x1 === t.x1 && this.x2 === t.x2 && this.y1 === t.y1 && this.y2 === t.y2 }, width: function () { return this.x2 - this.x1 }, height: function () { return this.y2 - this.y1 }, translate: function (t, i) { return this.x1 += t, this.x2 += t, this.y1 += i, this.y2 += i, this }, move: function (t, i) { var n = this.height(), e = this.width(); return Li(t) && (this.x1 = t, this.x2 = this.x1 + e), Li(i) && (this.y1 = i, this.y2 = this.y1 + n), this }, wrap: function (t) { return this.x1 = Math.min(this.x1, t.x1), this.y1 = Math.min(this.y1, t.y1), this.x2 = Math.max(this.x2, t.x2), this.y2 = Math.max(this.y2, t.y2), this }, wrapPoint: function (t) { var n = i(t), e = n ? t[0] : t.x, o = n ? t[1] : t.y; return this.wrap(new Ni(e, o, e, o)), this }, snapTo: function (t, i) { return i !== Ut && i || (this.x1 = t.x1, this.x2 = t.x2), i !== Bt && i || (this.y1 = t.y1, this.y2 = t.y2), this }, alignTo: function (t, i) { var n, e, o = this.height(), r = this.width(), s = i === At || i === It ? Bt : Ut, a = s === Bt ? o : r; return i === Ct ? (n = t.center(), e = this.center(), this.x1 += n.x - e.x, this.y1 += n.y - e.y) : this[s + 1] = i === At || i === Pt ? t[s + 1] - a : t[s + 2], this.x2 = this.x1 + r, this.y2 = this.y1 + o, this }, shrink: function (t, i) { return this.x2 -= t, this.y2 -= i, this }, expand: function (t, i) { return this.shrink(-t, -i), this }, pad: function (t) { var i = p(t); return this.x1 -= i.left, this.x2 += i.right, this.y1 -= i.top, this.y2 += i.bottom, this }, unpad: function (t) { var i = p(t); return i.left = -i.left, i.top = -i.top, i.right = -i.right, i.bottom = -i.bottom, this.pad(i) }, clone: function () { return new Ni(this.x1, this.y1, this.x2, this.y2) }, center: function () { return new Fi(this.x1 + this.width() / 2, this.y1 + this.height() / 2) }, containsPoint: function (t) { return t.x >= this.x1 && t.x <= this.x2 && t.y >= this.y1 && t.y <= this.y2 }, points: function () { return [new Fi(this.x1, this.y1), new Fi(this.x2, this.y1), new Fi(this.x2, this.y2), new Fi(this.x1, this.y2)] }, getHash: function () { return [this.x1, this.y1, this.x2, this.y2].join(",") }, overlaps: function (t) { return !(t.y2 < this.y1 || this.y2 < t.y1 || t.x2 < this.x1 || this.x2 < t.x1) }, rotate: function (t) { var i = this.width(), n = this.height(), e = this.center(), o = e.x, r = e.y, s = k(0, 0, o, r, t), a = k(i, 0, o, r, t), l = k(i, n, o, r, t), h = k(0, n, o, r, t); return i = Math.max(s.x, a.x, l.x, h.x) - Math.min(s.x, a.x, l.x, h.x), n = Math.max(s.y, a.y, l.y, h.y) - Math.min(s.y, a.y, l.y, h.y), this.x2 = this.x1 + i, this.y2 = this.y1 + n, this }, toRect: function () { return new wt([this.x1, this.y1], [this.width(), this.height()]) }, hasSize: function () { return 0 !== this.width() && 0 !== this.height() }, align: function (t, i, n) { var e = i + 1, o = i + 2, r = i === Ut ? zt : Vt, s = this[r](); x(n, [Pt, At]) ? (this[e] = t[e], this[o] = this[e] + s) : x(n, [_t, It]) ? (this[o] = t[o], this[e] = this[o] - s) : n === Ct && (this[e] = t[e] + (t[r]() - s) / 2, this[o] = this[e] + s) } }), Hi = bt.extend({ init: function (t, i, n, e, o) { this.center = t, this.innerRadius = i, this.radius = n, this.startAngle = e, this.angle = o }, clone: function () { return new Hi(this.center, this.innerRadius, this.radius, this.startAngle, this.angle) }, middle: function () { return this.startAngle + this.angle / 2 }, setRadius: function (t, i) { return i ? this.innerRadius = t : this.radius = t, this }, point: function (t, i) { var n = Vi(t), e = Math.cos(n), o = Math.sin(n), r = i ? this.innerRadius : this.radius, s = Di(this.center.x - e * r, Dt), a = Di(this.center.y - o * r, Dt); return new Fi(s, a) }, adjacentBox: function (t, i, n) { var e = this.clone().expand(t), o = e.middle(), r = e.point(o), s = i / 2, a = n / 2, l = Math.sin(Vi(o)), h = Math.cos(Vi(o)), u = r.x - s, c = r.y - a; return Math.abs(l) < .9 && (u += s * -h / Math.abs(h)), Math.abs(h) < .9 && (c += a * -l / Math.abs(l)), new Ni(u, c, u + i, c + n) }, containsPoint: function (t) { var i = this.center, n = this.innerRadius, e = this.radius, o = this.startAngle, s = this.startAngle + this.angle, a = t.x - i.x, l = t.y - i.y, h = new Fi(a, l), u = this.point(o), c = new Fi(u.x - i.x, u.y - i.y), f = this.point(s), p = new Fi(f.x - i.x, f.y - i.y), d = Di(a * a + l * l, Dt); return (c.equals(h) || r(c, h)) && !r(p, h) && d >= n * n && d <= e * e }, getBBox: function () { var t, i, n, e = this, o = new Ni(Gt, Gt, Et, Et), r = Di(this.startAngle % 360), s = Di((r + this.angle) % 360), a = this.innerRadius, l = [0, 90, 180, 270, r, s].sort(T), h = l.indexOf(r), u = l.indexOf(s); for (t = r === s ? l : h < u ? l.slice(h, u + 1) : [].concat(l.slice(0, u + 1), l.slice(h, l.length)), i = 0; i < t.length; i++)n = e.point(t[i]), o.wrapPoint(n), o.wrapPoint(n, a); return a || o.wrapPoint(this.center), o }, expand: function (t) { return this.radius += t, this } }), Yi = Hi.extend({ init: function (t, i, n, e) { Hi.fn.init.call(this, t, 0, i, n, e) }, expand: function (t) { return Hi.fn.expand.call(this, t) }, clone: function () { return new Yi(this.center, this.radius, this.startAngle, this.angle) }, setRadius: function (t) { return this.radius = t, this } }), Xi = .001, qi = bt.extend({ createRing: function (t, i) { var n, e, o, r, s, a, l = t.startAngle + 180, h = t.angle + l; return t.angle > 0 && l === h && (h += Xi), n = new yt.Point(t.center.x, t.center.y), e = Math.max(t.radius, 0), o = Math.max(t.innerRadius, 0), r = new yt.Arc(n, { startAngle: l, endAngle: h, radiusX: e, radiusY: e }), s = xt.fromArc(r, i).close(), o ? (r.radiusX = r.radiusY = o, a = r.pointAt(h), s.lineTo(a.x, a.y), s.arc(h, l, o, o, !0)) : s.lineTo(n.x, n.y), s } }), qi.current = new qi, Ki = bt.extend({ init: function (t) { this.children = [], this.options = Rt({}, this.options, t) }, reflow: function (t) { var i, n, e, o = this.children; for (n = 0; n < o.length; n++)e = o[n], e.reflow(t), i = i ? i.wrap(e.box) : e.box.clone(); this.box = i || t }, destroy: function () { var t, i = this.children; for (this.animation && this.animation.destroy(), t = 0; t < i.length; t++)i[t].destroy() }, getRoot: function () { var t = this.parent; return t ? t.getRoot() : null }, getSender: function () { var t = this.getService(); if (t) return t.sender }, getService: function () { for (var t = this; t;) { if (t.chartService) return t.chartService; t = t.parent } }, translateChildren: function (t, i) { var n, e = this.children, o = e.length; for (n = 0; n < o; n++)e[n].box.translate(t, i) }, append: function () { var t, i, n = arguments, e = this; for (t = 0; t < arguments.length; t++)i = n[t], e.children.push(i), i.parent = e }, renderVisual: function () { this.options.visible !== !1 && (this.createVisual(), this.addVisual(), this.renderChildren(), this.createAnimation(), this.renderComplete()) }, addVisual: function () { this.visual && (this.visual.chartElement = this, this.parent && this.parent.appendVisual(this.visual)) }, renderChildren: function () { var t, i = this.children, n = i.length; for (t = 0; t < n; t++)i[t].renderVisual() }, createVisual: function () { this.visual = new vt({ zIndex: this.options.zIndex, visible: Ei(this.options.visible, !0) }) }, createAnimation: function () { this.visual && (this.animation = mt.Animation.create(this.visual, this.options.animation)) }, appendVisual: function (t) { t.chartElement || (t.chartElement = this), t.options.noclip ? this.clipRoot().visual.append(t) : Li(t.options.zIndex) ? this.stackRoot().stackVisual(t) : this.isStackRoot ? this.stackVisual(t) : this.visual ? this.visual.append(t) : this.parent.appendVisual(t) }, clipRoot: function () { return this.parent ? this.parent.clipRoot() : this }, stackRoot: function () { return this.parent ? this.parent.stackRoot() : this }, stackVisual: function (t) { var i, n, e, o = t.options.zIndex || 0, r = this.visual.children, s = r.length; for (i = 0; i < s && (n = r[i], e = Ei(n.options.zIndex, 0), !(e > o)); i++); this.visual.insert(i, t) }, traverse: function (t) { var i, n, e = this.children, o = e.length; for (i = 0; i < o; i++)n = e[i], t(n), n.traverse && n.traverse(t) }, closest: function (t) { for (var i = this, n = !1; i && !n;)n = t(i), n || (i = i.parent); if (n) return i }, renderComplete: function () { }, hasHighlight: function () { var t = (this.options || {}).highlight; return !(!this.createHighlight || t && t.visible === !1) }, toggleHighlight: function (i) { var n, e = this, o = (this.options || {}).highlight || {}, r = o.visual, s = this._highlight; if (!s) { if (n = { fill: { color: Nt, opacity: .2 }, stroke: { color: Nt, width: 1, opacity: .2 } }, r) { if (s = this._highlight = r(t.extend(this.highlightVisualArgs(), { createVisual: function () { return e.createHighlight(n) }, sender: this.getSender(), series: this.series, dataItem: this.dataItem, category: this.category, value: this.value, percentage: this.percentage, runningTotal: this.runningTotal, total: this.total })), !s) return } else s = this._highlight = this.createHighlight(n); Li(s.options.zIndex) || (s.options.zIndex = Ei(o.zIndex, this.options.zIndex)), this.appendVisual(s) } s.visible(i) }, createGradientOverlay: function (i, n, e) { var o = new xt(t.extend({ stroke: { color: "none" }, fill: this.createGradient(e), closed: i.options.closed }, n)); return o.segments.elements(i.segments.elements()), o }, createGradient: function (t) { if (this.parent) return this.parent.createGradient(t) } }), Ki.prototype.options = {}, Wi = Ki.extend({ init: function (t) { Ki.fn.init.call(this, t), this.options.margin = p(this.options.margin), this.options.padding = p(this.options.padding) }, reflow: function (t) { var i, n, e, o, r = this, s = this.options, a = s.width, l = s.height, h = s.shrinkToFit, u = a && l, c = s.margin, f = s.padding, p = s.border.width, d = function () { r.align(t, Ut, s.align), r.align(t, Bt, s.vAlign), r.paddingBox = i.clone().unpad(c).unpad(p) }, m = t.clone(); for (u && (m.x2 = m.x1 + a, m.y2 = m.y1 + l), h && m.unpad(c).unpad(p).unpad(f), Ki.fn.reflow.call(this, m), i = u ? this.box = new Ni(0, 0, a, l) : this.box, h && u ? (d(), m = this.contentBox = this.paddingBox.clone().unpad(f)) : (m = this.contentBox = i.clone(), i.pad(f).pad(p).pad(c), d()), this.translateChildren(i.x1 - m.x1 + c.left + p + f.left, i.y1 - m.y1 + c.top + p + f.top), n = this.children, e = 0; e < n.length; e++)o = n[e], o.reflow(o.box) }, align: function (t, i, n) { this.box.align(t, i, n) }, hasBox: function () { var t = this.options; return t.border.width || t.background }, createVisual: function () { Ki.fn.createVisual.call(this); var t = this.options; t.visible && this.hasBox() && this.visual.append(xt.fromRect(this.paddingBox.toRect(), this.visualStyle())) }, visualStyle: function () { var t = this.options, i = t.border || {}; return { stroke: { width: i.width, color: i.color, opacity: Ei(i.opacity, t.opacity), dashType: i.dashType }, fill: { color: t.background, opacity: t.opacity }, cursor: t.cursor } } }), w(Wi, { align: Pt, vAlign: At, margin: {}, padding: {}, border: { color: Ht, width: 0 }, background: "", shrinkToFit: !1, width: 0, height: 0, visible: !0 }), Qi = Wi.extend({ init: function (t, i) { Wi.fn.init.call(this, t), this.pointData = i }, getElement: function () { var t, i, n = this, e = n.options, o = n.paddingBox, r = e.type, s = e.rotation, a = o.center(), l = o.width() / 2; return e.visible && this.hasBox() ? (t = this.visualStyle(), r === Zt ? i = new mt.Circle(new Mt([Di(o.x1 + l, Dt), Di(o.y1 + o.height() / 2, Dt)], l), t) : r === $t ? i = xt.fromPoints([[o.x1 + l, o.y1], [o.x1, o.y2], [o.x2, o.y2]], t).close() : r === ti ? (i = new mt.MultiPath(t), i.moveTo(o.x1, o.y1).lineTo(o.x2, o.y2), i.moveTo(o.x1, o.y2).lineTo(o.x2, o.y1)) : i = xt.fromRect(o.toRect(), t), s && i.transform(kt().rotate(-s, [a.x, a.y])), i.options.zIndex = e.zIndex, i) : null }, createElement: function () { var t, i = this, n = this.options.visual, e = this.pointData || {}; return t = n ? n({ value: e.value, dataItem: e.dataItem, sender: this.getSender(), series: e.series, category: e.category, rect: this.paddingBox.toRect(), options: this.visualOptions(), createVisual: function () { return i.getElement() } }) : this.getElement() }, visualOptions: function () { var t = this.options; return { background: t.background, border: t.border, margin: t.margin, padding: t.padding, type: t.type, size: t.width, visible: t.visible } }, createVisual: function () { this.visual = this.createElement() } }), w(Qi, { type: Zt, align: Ct, vAlign: Ct }), Ji = "linear", Zi = "radial", $i = { glass: { type: Ji, rotation: 0, stops: [{ offset: 0, color: Nt, opacity: 0 }, { offset: .25, color: Nt, opacity: .3 }, { offset: 1, color: Nt, opacity: 0 }] }, sharpBevel: { type: Zi, stops: [{ offset: 0, color: Nt, opacity: .55 }, { offset: .65, color: Nt, opacity: 0 }, { offset: .95, color: Nt, opacity: .25 }] }, roundedBevel: { type: Zi, stops: [{ offset: .33, color: Nt, opacity: .06 }, { offset: .83, color: Nt, opacity: .2 }, { offset: .95, color: Nt, opacity: 0 }] }, roundedGlass: { type: Zi, supportVML: !1, stops: [{ offset: 0, color: Nt, opacity: 0 }, { offset: .5, color: Nt, opacity: .3 }, { offset: .99, color: Nt, opacity: 0 }] }, sharpGlass: { type: Zi, supportVML: !1, stops: [{ offset: 0, color: Nt, opacity: .2 }, { offset: .15, color: Nt, opacity: .15 }, { offset: .17, color: Nt, opacity: .35 }, { offset: .85, color: Nt, opacity: .05 }, { offset: .87, color: Nt, opacity: .15 }, { offset: .99, color: Nt, opacity: 0 }] }, bubbleShadow: { type: Zi, center: [.5, .5], radius: .5 } }, tn = Ki.extend({ init: function (t) { Ki.fn.init.call(this, t); var i = this.options; i.width = parseInt(i.width, 10), i.height = parseInt(i.height, 10), this.gradients = {} }, reflow: function () { var t, i = this, n = i.options, e = i.children, o = new Ni(0, 0, n.width, n.height); for (this.box = o.unpad(n.margin), t = 0; t < e.length; t++)e[t].reflow(o), o = S(o, e[t].box) || new Ni }, createVisual: function () { this.visual = new vt, this.createBackground() }, createBackground: function () { var t = this.options, i = t.border || {}, n = this.box.clone().pad(t.margin).unpad(i.width), e = xt.fromRect(n.toRect(), { stroke: { color: i.width ? i.color : "", width: i.width, dashType: i.dashType }, fill: { color: t.background, opacity: t.opacity }, zIndex: -10 }); this.visual.append(e) }, getRoot: function () { return this }, createGradient: function (i) { var n, e, o = this.gradients, r = zi(i), s = $i[i.gradient]; return o[r] ? n = o[r] : (e = t.extend({}, s, i), "linear" === s.type ? n = new mt.LinearGradient(e) : (i.innerRadius && (e.stops = R(e)), n = new mt.RadialGradient(e), n.supportVML = s.supportVML !== !1), o[r] = n), n } }), w(tn, { width: Ot, height: Ft, background: Nt, border: { color: Ht, width: 0 }, margin: p(5), zIndex: -2 }), nn = Ki.extend({ init: function (t) { Ki.fn.init.call(this, t), this._initDirection() }, _initDirection: function () { var t = this.options; t.vertical ? (this.groupAxis = Ut, this.elementAxis = Bt, this.groupSizeField = zt, this.elementSizeField = Vt, this.groupSpacing = t.spacing, this.elementSpacing = t.vSpacing) : (this.groupAxis = Bt, this.elementAxis = Ut, this.groupSizeField = Vt, this.elementSizeField = zt, this.groupSpacing = t.vSpacing, this.elementSpacing = t.spacing) }, reflow: function (t) { this.box = t.clone(), this.reflowChildren() }, reflowChildren: function () { var t, i, n, e, o, r, s, a, l, h, u, c = this, f = this, p = f.box, d = f.elementAxis, m = f.groupAxis, g = f.elementSizeField, x = f.groupSizeField, v = this.groupOptions(), b = v.groups, y = v.groupsSize, w = v.maxGroupElementsSize, M = b.length, k = p[m + 1] + this.alignStart(y, p[x]()); if (M) { for (t = k, i = 0; i < M; i++) { for (n = b[i], e = n.groupElements, o = p[d + 1], r = e.length, s = 0; s < r; s++)a = e[s], l = c.elementSize(a), h = t + c.alignStart(l[x], n.groupSize), u = new Ni, u[m + 1] = h, u[m + 2] = h + l[x], u[d + 1] = o, u[d + 2] = o + l[g], a.reflow(u), o += l[g] + c.elementSpacing; t += n.groupSize + c.groupSpacing } p[m + 1] = k, p[m + 2] = k + y, p[d + 2] = p[d + 1] + w } }, alignStart: function (t, i) { var n = 0, e = this.options.align; return e === _t || e === It ? n = i - t : e === Ct && (n = (i - t) / 2), n }, groupOptions: function () { var t, i, n, e = this, o = this, r = o.box, s = o.children, a = o.elementSizeField, l = o.groupSizeField, h = o.elementSpacing, u = o.groupSpacing, c = Di(r[a]()), f = s.length, p = [], d = 0, m = 0, g = 0, x = 0, v = []; for (t = 0; t < f; t++)i = s[t], i.box || i.reflow(r), n = e.elementSize(i), e.options.wrap && Di(m + h + n[a]) > c && (p.push({ groupElements: v, groupSize: d, groupElementsSize: m }), x = Math.max(x, m), g += u + d, d = 0, m = 0, v = []), d = Math.max(d, n[l]), m > 0 && (m += h), m += n[a], v.push(i); return p.push({ groupElements: v, groupSize: d, groupElementsSize: m }), x = Math.max(x, m), g += d, { groups: p, groupsSize: g, maxGroupElementsSize: x } }, elementSize: function (t) { return { width: t.box.width(), height: t.box.height() } }, createVisual: function () { } }), w(nn, { vertical: !0, wrap: !0, vSpacing: 0, spacing: 0 }), en = mt.Text, on = Ki.extend({ init: function (t, i) { Ki.fn.init.call(this, i), this.content = t, this.reflow(new Ni) }, reflow: function (t) { var i = this.options, n = i.size = gt.measureText(this.content, { font: i.font }); this.baseline = n.baseline, this.box = new Ni(t.x1, t.y1, t.x1 + n.width, t.y1 + n.height) }, createVisual: function () { var t = this.options, i = t.font, n = t.color, e = t.opacity, o = t.cursor; this.visual = new en(this.content, this.box.toRect().topLeft(), { font: i, fill: { color: n, opacity: e }, cursor: o }) } }), w(on, { font: Yt, color: Ht }), rn = /\n/m, sn = Wi.extend({
            init: function (t, i) { Wi.fn.init.call(this, i), this.content = t, this._initContainer(), this.options._autoReflow !== !1 && this.reflow(new Ni) }, _initContainer: function () { var t, i, n = this.options, e = (this.content + "").split(rn), o = new nn({ vertical: !0, align: n.align, wrap: !1 }), r = Rt({}, n, { opacity: 1, animation: null }); for (this.container = o, this.append(o), t = 0; t < e.length; t++)i = new on(e[t].trim(), r), o.append(i) }, reflow: function (t) { var i, n, e, o, r = this.options, s = r.visual; this.container.options.align = r.align, s && !this._boxReflow ? (i = t, i.hasSize() || (this._boxReflow = !0, this.reflow(i), this._boxReflow = !1, i = this.box), n = this.visual = s(this.visualContext(i)), n && (i = j(n.clippedBBox() || new wt), n.options.zIndex = r.zIndex), this.box = this.contentBox = this.paddingBox = i) : (Wi.fn.reflow.call(this, t), r.rotation && (e = p(r.margin), o = this.box.unpad(e), this.targetBox = t, this.normalBox = o.clone(), o = this.rotate(), o.translate(e.left - e.right, e.top - e.bottom), this.rotatedBox = o.clone(), o.pad(e))) }, createVisual: function () {
                var t, i = this.options; i.visible && (this.visual = new vt({
                    transform: this.rotationTransform(), zIndex: i.zIndex, noclip: i.noclip
                }), this.hasBox() && (t = xt.fromRect(this.paddingBox.toRect(), this.visualStyle()), this.visual.append(t)))
            }, renderVisual: function () { if (this.options.visual) { var t = this.visual; t && !Li(t.options.noclip) && (t.options.noclip = this.options.noclip), this.addVisual(), this.createAnimation() } else Wi.fn.renderVisual.call(this) }, visualOptions: function () { var t = this.options; return { background: t.background, border: t.border, color: t.color, font: t.font, margin: t.margin, padding: t.padding, visible: t.visible } }, visualContext: function (t) { var i = this; return { text: this.content, rect: t.toRect(), sender: this.getSender(), options: this.visualOptions(), createVisual: function () { return i._boxReflow = !0, i.reflow(t), i._boxReflow = !1, i.getDefaultVisual() } } }, getDefaultVisual: function () { this.createVisual(), this.renderChildren(); var t = this.visual; return delete this.visual, t }, rotate: function () { var t = this.options; return this.box.rotate(t.rotation), this.align(this.targetBox, Ut, t.align), this.align(this.targetBox, Bt, t.vAlign), this.box }, rotationTransform: function () { var t, i, n, e, o = this.options.rotation; return o ? (t = this.normalBox.center(), i = t.x, n = t.y, e = this.rotatedBox.center(), kt().translate(e.x - i, e.y - n).rotate(o, [i, n])) : null }
        }), an = Ki.extend({ init: function (i) { Ki.fn.init.call(this, i), this.append(new sn(this.options.text, t.extend({}, this.options, { vAlign: this.options.position }))) }, reflow: function (t) { Ki.fn.reflow.call(this, t), this.box.snapTo(t, Ut) } }), an.buildTitle = function (i, n, e) { var o, r = i; return "string" == typeof i && (r = { text: i }), r = t.extend({ visible: !0 }, e, r), r && r.visible && r.text && (o = new an(r), n.append(o)), o }, w(an, { color: Ht, position: At, align: Ct, margin: p(5), padding: p(5) }), ln = sn.extend({ init: function (t, i, n, e, o) { sn.fn.init.call(this, i, o), this.text = i, this.value = t, this.index = n, this.dataItem = e, this.reflow(new Ni) }, visualContext: function (t) { var i = sn.fn.visualContext.call(this, t); return i.value = this.value, i.dataItem = this.dataItem, i.format = this.options.format, i.culture = this.options.culture, i }, click: function (t, i) { t.trigger(qt, { element: Ii(i), value: this.value, text: this.text, index: this.index, dataItem: this.dataItem, axis: this.parent.options }) }, rotate: function () { var t, i; return this.options.alignRotation !== Ct ? (t = this.normalBox.toRect(), i = this.rotationTransform(), this.box = j(t.bbox(i.matrix()))) : sn.fn.rotate.call(this), this.box }, rotationTransform: function () { var t, i, n, e, o, r, s, a, l, h, u, c, f, p, d, m, g, x, v = this.options, b = v.rotation; return b ? v.alignRotation === Ct ? sn.fn.rotationTransform.call(this) : (t = kt().rotate(b).matrix(), i = this.normalBox.toRect(), n = this.targetBox.toRect(), e = v.rotationOrigin || At, o = e === At || e === It ? Ut : Bt, r = e === At || e === It ? Bt : Ut, s = e === At || e === Pt ? n.origin : n.bottomRight(), a = i.topLeft().transformCopy(t), l = i.topRight().transformCopy(t), h = i.bottomRight().transformCopy(t), u = i.bottomLeft().transformCopy(t), c = wt.fromPoints(a, l, h, u), f = {}, f[r] = n.origin[r] - c.origin[r], p = Math.abs(a[r] + f[r] - s[r]), d = Math.abs(l[r] + f[r] - s[r]), Di(p, Xt) === Di(d, Xt) ? (m = a, g = l) : d < p ? (m = l, g = h) : (m = a, g = u), x = m[o] + (g[o] - m[o]) / 2, f[o] = n.center()[o] - x, kt().translate(f.x, f.y).rotate(b)) : null } }), w(ln, { _autoReflow: !1 }), hn = 7, un = "#fff", cn = Wi.extend({ init: function (t, i, n) { Wi.fn.init.call(this, i), this.fields = t, this.chartService = n, this.render() }, hide: function () { this.options.visible = !1 }, show: function () { this.options.visible = !0 }, render: function () { var t, i, n, e, o, r, s, a, l, h = this.options; h.visible && (t = h.label, i = h.icon, n = new Ni, e = i.size, o = this.fields.text, Li(t) && t.visible && (a = d(t), a ? o = a(this.fields) : t.format && (o = this.chartService.format.auto(t.format, o)), t.color || (t.color = t.position === ni ? un : i.background), this.label = new sn(o, Rt({}, t)), t.position !== ni || Li(e) || (i.type === Zt ? e = Math.max(this.label.box.width(), this.label.box.height()) : (r = this.label.box.width(), s = this.label.box.height()), n.wrap(this.label.box))), i.width = r || e || hn, i.height = s || e || hn, l = new Qi(Rt({}, i)), this.marker = l, this.append(l), this.label && this.append(this.label), l.reflow(new Ni), this.wrapperBox = n.wrap(l.box)) }, reflow: function (t) { var i, n, e, o = this, r = o.options, s = o.label, a = o.marker, l = o.wrapperBox, h = t.center(), u = r.line.length, c = r.position; r.visible && (x(c, [Pt, _t]) ? c === Pt ? (e = l.alignTo(t, c).translate(-u, t.center().y - l.center().y), r.line.visible && (i = [t.x1, h.y], this.linePoints = [i, [e.x2, h.y]], n = e.clone().wrapPoint(i))) : (e = l.alignTo(t, c).translate(u, t.center().y - l.center().y), r.line.visible && (i = [t.x2, h.y], this.linePoints = [i, [e.x1, h.y]], n = e.clone().wrapPoint(i))) : c === It ? (e = l.alignTo(t, c).translate(t.center().x - l.center().x, u), r.line.visible && (i = [h.x, t.y2], this.linePoints = [i, [h.x, e.y1]], n = e.clone().wrapPoint(i))) : (e = l.alignTo(t, c).translate(t.center().x - l.center().x, -u), r.line.visible && (i = [h.x, t.y1], this.linePoints = [i, [h.x, e.y2]], n = e.clone().wrapPoint(i))), a && a.reflow(e), s && (s.reflow(e), a && (r.label.position === Qt && s.box.alignTo(a.box, c), s.reflow(s.box))), this.contentBox = e, this.targetBox = t, this.box = n || e) }, createVisual: function () { Wi.fn.createVisual.call(this), this.visual.options.noclip = this.options.noclip, this.options.visible && this.createLine() }, renderVisual: function () { var i = this, n = this.options, e = n.visual; n.visible && e ? (this.visual = e(t.extend(this.fields, { sender: this.getSender(), rect: this.targetBox.toRect(), options: { background: n.background, border: n.background, icon: n.icon, label: n.label, line: n.line, position: n.position, visible: n.visible }, createVisual: function () { i.createVisual(), i.renderChildren(); var t = i.visual; return delete i.visual, t } })), this.addVisual()) : Wi.fn.renderVisual.call(this) }, createLine: function () { var t, i = this.options.line; this.linePoints && (t = xt.fromPoints(this.linePoints, { stroke: { color: i.color, width: i.width, dashType: i.dashType } }), o(t), this.visual.append(t)) }, click: function (t, i) { var n = this.eventArgs(i); t.trigger(Kt, n) || i.preventDefault() }, hover: function (t, i) { var n = this.eventArgs(i); t.trigger(Wt, n) || i.preventDefault() }, leave: function (t) { t._unsetActivePoint() }, eventArgs: function (i) { var n = this.options; return t.extend(this.fields, { element: Ii(i), text: Li(n.label) ? n.label.text : "", visual: this.visual }) } }), w(cn, { icon: { visible: !0, type: Zt }, label: { position: ni, visible: !0, align: Ct, vAlign: Ct }, line: { visible: !0 }, visible: !0, position: At, zIndex: 2 }), fn = Ki.extend({ init: function (t, i) { void 0 === i && (i = new xi), Ki.fn.init.call(this, t), this.chartService = i, this.options.visible || (this.options = Rt({}, this.options, { labels: { visible: !1 }, line: { visible: !1 }, margin: 0, majorTickSize: 0, minorTickSize: 0 })), this.options.minorTicks = Rt({}, { color: this.options.line.color, width: this.options.line.width, visible: this.options.minorTickType !== Jt }, this.options.minorTicks, { size: this.options.minorTickSize, align: this.options.minorTickType }), this.options.majorTicks = Rt({}, { color: this.options.line.color, width: this.options.line.width, visible: this.options.majorTickType !== Jt }, this.options.majorTicks, { size: this.options.majorTickSize, align: this.options.majorTickType }), this.options._deferLabels || this.createLabels(), this.createTitle(), this.createNotes() }, labelsRange: function () { return { min: this.options.labels.skip, max: this.labelsCount() } }, createLabels: function () { var t, i, n, e, o = this, r = this.options, s = r.vertical ? _t : Ct, a = Rt({}, r.labels, { align: s, zIndex: r.zIndex }), l = Math.max(1, a.step); if (this.children = m(this.children, function (t) { return !(t instanceof ln) }), this.labels = [], a.visible) for (t = this.labelsRange(), i = a.rotation, h(i) && (a.alignRotation = i.align, a.rotation = i.angle), "auto" === a.rotation && (a.rotation = 0, r.autoRotateLabels = !0), n = t.min; n < t.max; n += l)e = o.createAxisLabel(n, a), e && (o.append(e), o.labels.push(e)) }, lineBox: function () { var t = this, i = t.options, n = t.box, e = i.vertical, o = i.labels.mirror, r = o ? n.x1 : n.x2, s = o ? n.y2 : n.y1, a = i.line.width || 0; return e ? new Ni(r, n.y1, r, n.y2 - a) : new Ni(n.x1, s, n.x2 - a, s) }, createTitle: function () { var t, i = this.options, n = Rt({ rotation: i.vertical ? -90 : 0, text: "", zIndex: 1, visualSize: !0 }, i.title); n.visible && n.text && (t = new sn(n.text, n), this.append(t), this.title = t) }, createNotes: function () { var t, i, n, e = this, o = this.options, r = o.notes, s = r.data || []; for (this.notes = [], t = 0; t < s.length; t++)i = Rt({}, r, s[t]), i.value = e.parseNoteValue(i.value), n = new cn({ value: i.value, text: i.label.text, dataItem: i }, i, e.chartService), n.options.visible && (Li(n.options.position) ? o.vertical && !x(n.options.position, [Pt, _t]) ? n.options.position = o.reverse ? Pt : _t : o.vertical || x(n.options.position, [At, It]) || (n.options.position = o.reverse ? It : At) : n.options.position = o.vertical ? o.reverse ? Pt : _t : o.reverse ? It : At, e.append(n), e.notes.push(n)) }, parseNoteValue: function (t) { return t }, renderVisual: function () { Ki.fn.renderVisual.call(this), this.createPlotBands() }, createVisual: function () { Ki.fn.createVisual.call(this), this.createBackground(), this.createLine() }, gridLinesVisual: function () { var t = this._gridLines; return t || (t = this._gridLines = new vt({ zIndex: -2 }), this.appendVisual(this._gridLines)), t }, createTicks: function (t) { function i(i, n, r) { var a, l = i.length, h = Math.max(1, n.step); if (n.visible) for (a = n.skip; a < l; a += h)Li(r) && a % r === 0 || (s.tickX = o ? e.x2 : e.x2 - n.size, s.tickY = o ? e.y1 - n.size : e.y1, s.position = i[a], t.append(L(s, n))) } var n = this.options, e = this.lineBox(), o = n.labels.mirror, r = n.majorTicks.visible ? n.majorUnit : 0, s = { vertical: n.vertical }; i(this.getMajorTickPositions(), n.majorTicks), i(this.getMinorTickPositions(), n.minorTicks, r / n.minorUnit) }, createLine: function () { var t, i, n = this.options, e = n.line, r = this.lineBox(); e.width > 0 && e.visible && (t = new xt({ stroke: { width: e.width, color: e.color, dashType: e.dashType } }), t.moveTo(r.x1, r.y1).lineTo(r.x2, r.y2), n._alignLines && o(t), i = this._lineGroup = new vt, i.append(t), this.visual.append(i), this.createTicks(i)) }, getActualTickSize: function () { var t = this.options, i = 0; return t.majorTicks.visible && t.minorTicks.visible ? i = Math.max(t.majorTicks.size, t.minorTicks.size) : t.majorTicks.visible ? i = t.majorTicks.size : t.minorTicks.visible && (i = t.minorTicks.size), i }, createBackground: function () { var t = this, i = t.options, n = t.box, e = i.background; e && (this._backgroundPath = xt.fromRect(n.toRect(), { fill: { color: e }, stroke: null }), this.visual.append(this._backgroundPath)) }, createPlotBands: function () { var t, i, n, e, o, r, s, a, l = this, h = this.options, u = h.plotBands || [], c = h.vertical, f = this.plotArea; if (0 !== u.length) { for (t = this._plotbandGroup = new vt({ zIndex: -1 }), i = m(this.pane.axes, function (t) { return t.options.vertical !== l.options.vertical })[0], n = 0; n < u.length; n++)e = u[n], o = void 0, r = void 0, c ? (o = (i || f.axisX).lineBox(), r = l.getSlot(e.from, e.to, !0)) : (o = l.getSlot(e.from, e.to, !0), r = (i || f.axisY).lineBox()), 0 !== o.width() && 0 !== r.height() && (s = new wt([o.x1, r.y1], [o.width(), r.height()]), a = xt.fromRect(s, { fill: { color: e.color, opacity: e.opacity }, stroke: null }), t.append(a)); this.appendVisual(t) } }, createGridLines: function (t) { function i(t, i, n) { var e, o, r = t.length, s = Math.max(1, i.step); if (i.visible) for (e = i.skip; e < r; e += s)o = Di(t[e]), x(o, f) || e % n === 0 || a && u === o || (c.position = o, p.append(U(c, i)), f.push(o)) } var n = this.options, e = n.minorGridLines, o = n.majorGridLines, r = n.minorUnit, s = n.vertical, a = t.options.line.visible, l = o.visible ? n.majorUnit : 0, h = t.lineBox(), u = h[s ? "y1" : "x1"], c = { lineStart: h[s ? "x1" : "y1"], lineEnd: h[s ? "x2" : "y2"], vertical: s }, f = [], p = this.gridLinesVisual(); return i(this.getMajorTickPositions(), o), i(this.getMinorTickPositions(), e, l / r), p.children }, reflow: function (t) { var i, n, e = this, o = e.options, r = e.labels, s = e.title, a = o.vertical, l = r.length, h = a ? zt : Vt, u = s ? s.box[h]() : 0, c = this.getActualTickSize() + o.margin + u, f = (this.getRoot() || {}).box || t, p = f[h](), d = 0; for (i = 0; i < l; i++)n = r[i].box[h](), n + c <= p && (d = Math.max(d, n)); this.box = a ? new Ni(t.x1, t.y1, t.x1 + d + c, t.y2) : new Ni(t.x1, t.y1, t.x2, t.y1 + d + c), this.arrangeTitle(), this.arrangeLabels(), this.arrangeNotes() }, getLabelsTickPositions: function () { return this.getMajorTickPositions() }, labelTickIndex: function (t) { return t.index }, arrangeLabels: function () { var t, i, n, e, o, r, s, a, l, h, u, c = this, f = this, p = f.options, d = f.labels, m = !p.justified, g = p.vertical, x = this.lineBox(), v = p.labels.mirror, b = this.getLabelsTickPositions(), y = this.getActualTickSize() + p.margin; for (t = 0; t < d.length; t++)i = d[t], n = c.labelTickIndex(i), e = g ? i.box.height() : i.box.width(), o = b[n] - e / 2, r = void 0, s = void 0, a = void 0, g ? (m && (s = b[n], a = b[n + 1], l = s + (a - s) / 2, o = l - e / 2), h = x.x2, v ? (h += y, i.options.rotationOrigin = Pt) : (h -= y + i.box.width(), i.options.rotationOrigin = _t), r = i.box.move(h, o)) : (m ? (s = b[n], a = b[n + 1]) : (s = o, a = o + e), u = x.y1, v ? (u -= y + i.box.height(), i.options.rotationOrigin = It) : (u += y, i.options.rotationOrigin = At), r = new Ni(s, u, a, u + i.box.height())), i.reflow(r) }, autoRotateLabels: function () { var t, i, n, e, o, r, s; if (this.options.autoRotateLabels && !this.options.vertical) { for (t = this.getMajorTickPositions(), i = this.labels, e = 0; e < i.length; e++)if (o = Math.abs(t[e + 1] - t[e]), r = i[e].box, r.width() > o) { if (r.height() > o) { n = -90; break } n = -45 } if (n) { for (s = 0; s < i.length; s++)i[s].options.rotation = n, i[s].reflow(new Ni); return !0 } } }, arrangeTitle: function () { var t = this, i = t.options, n = t.title, e = i.labels.mirror, o = i.vertical; n && (o ? (n.options.align = e ? _t : Pt, n.options.vAlign = n.options.position) : (n.options.align = n.options.position, n.options.vAlign = e ? At : It), n.reflow(this.box)) }, arrangeNotes: function () { var t, i, n, e, o = this; for (t = 0; t < this.notes.length; t++)i = o.notes[t], n = i.options.value, e = void 0, Li(n) ? (o.shouldRenderNote(n) ? i.show() : i.hide(), e = o.noteSlot(n)) : i.hide(), i.reflow(e || o.lineBox()) }, noteSlot: function (t) { return this.getSlot(t) }, alignTo: function (t) { var i = t.lineBox(), n = this.options.vertical, e = n ? Bt : Ut; this.box.snapTo(i, e), n ? this.box.shrink(0, this.lineBox().height() - i.height()) : this.box.shrink(this.lineBox().width() - i.width(), 0), this.box[e + 1] -= this.lineBox()[e + 1] - i[e + 1], this.box[e + 2] -= this.lineBox()[e + 2] - i[e + 2] }, axisLabelText: function (t, i, n) { var e = d(n), o = t; return e ? o = e({ value: t, dataItem: i, format: n.format, culture: n.culture }) : n.format && (o = this.chartService.format.localeAuto(n.format, [t], n.culture)), o }, slot: function (t, i, n) { var e = this.getSlot(t, i, n); if (e) return e.toRect() }, contentBox: function () { var t, i = this.box.clone(), n = this.labels; return n.length && (n[0].options.visible && i.wrap(n[0].box), t = n[n.length - 1], t.options.visible && i.wrap(t.box)), i }, limitRange: function (t, i, n, e, o) { var r, s, a, l = this.options; return t < n && o < 0 && (!Li(l.min) || l.min <= n) || e < i && o > 0 && (!Li(l.max) || e <= l.max) ? null : i < n && o > 0 || e < t && o < 0 ? { min: t, max: i } : (r = i - t, s = t, a = i, t < n ? (s = Ci(t, n, e), a = Ci(t + r, n + r, e)) : i > e && (a = Ci(i, n, e), s = Ci(i - r, n, e - r)), { min: s, max: a }) }, valueRange: function () { return { min: this.seriesMin, max: this.seriesMax } } }), w(fn, { labels: { visible: !0, rotation: 0, mirror: !1, step: 1, skip: 0 }, line: { width: 1, color: Ht, visible: !0 }, title: { visible: !0, position: Ct }, majorTicks: { align: Qt, size: 4, skip: 0, step: 1 }, minorTicks: { align: Qt, size: 3, skip: 0, step: 1 }, axisCrossingValue: 0, majorTickType: Qt, minorTickType: Jt, majorGridLines: { skip: 0, step: 1 }, minorGridLines: { visible: !1, width: 1, color: Ht, skip: 0, step: 1 }, margin: 5, visible: !0, reverse: !1, justified: !0, notes: { label: { text: "" } }, _alignLines: !0, _deferLabels: !1 }), pn = "milliseconds", dn = "seconds", mn = "minutes", gn = "hours", xn = "days", vn = "weeks", bn = "months", yn = "years", wn = 1, Mn = 1e3, kn = 60 * Mn, Tn = 60 * kn, Sn = 24 * Tn, Rn = 7 * Sn, jn = 31 * Sn, Ln = 365 * Sn, Un = { years: Ln, months: jn, weeks: Rn, days: Sn, hours: Tn, minutes: kn, seconds: Mn, milliseconds: wn }, Bn = .01, An = fn.extend({ init: function (t, i) { fn.fn.init.call(this, t, i), this._ticks = {}, this._initCategories(this.options) }, _initCategories: function (t) { var i, n, e = (t.categories || []).slice(0), o = Li(t.min), r = Li(t.max); t.categories = e, (o || r) && e.length && (t.srcCategories = t.categories, i = o ? Math.floor(t.min) : 0, n = r ? t.justified ? Math.floor(t.max) + 1 : Math.ceil(t.max) : e.length, t.categories = t.categories.slice(i, n)) }, rangeIndices: function () { var t, i = this.options, n = i.categories.length || 1, e = s(i.min) ? i.min % 1 : 0; return t = s(i.max) && i.max % 1 !== 0 && i.max < this.totalRange().max ? n - (1 - i.max % 1) : n - (i.justified ? 1 : 0), { min: e, max: t } }, totalRangeIndices: function (t) { var i, n, e = this.options, o = s(e.min) ? e.min : 0; return i = s(e.max) ? e.max : s(e.min) ? o + e.categories.length : (e.srcCategories || e.categories).length - (e.justified ? 1 : 0) || 1, t && (n = this.totalRange(), o = Ci(o, 0, n.max), i = Ci(i, 0, n.max)), { min: o, max: i } }, range: function () { var t = this.options; return { min: s(t.min) ? t.min : 0, max: s(t.max) ? t.max : t.categories.length } }, totalRange: function () { var t = this.options; return { min: 0, max: Math.max(this._seriesMax || 0, (t.srcCategories || t.categories).length) - (t.justified ? 1 : 0) } }, getScale: function () { var t = this.rangeIndices(), i = t.min, n = t.max, e = this.lineBox(), o = this.options.vertical ? e.height() : e.width(), r = o / (n - i || 1); return r * (this.options.reverse ? -1 : 1) }, getTickPositions: function (t) { for (var i = this.options, n = i.vertical, e = i.reverse, o = this.rangeIndices(), r = o.min, s = o.max, a = this.lineBox(), l = this.getScale(), h = a[(n ? Bt : Ut) + (e ? 2 : 1)], u = [], c = r % 1 !== 0 ? Math.floor(r / 1) + t : r; c <= s;)u.push(h + Di(l * (c - r), Dt)), c += t; return u }, getLabelsTickPositions: function () { var t = this.getMajorTickPositions().slice(0), i = this.rangeIndices(), n = this.getScale(), e = this.lineBox(), o = this.options, r = o.vertical ? Bt : Ut, s = o.reverse ? 2 : 1, a = o.reverse ? 1 : 2; return i.min % 1 !== 0 && t.unshift(e[r + s] - n * (i.min % 1)), i.max % 1 !== 0 && t.push(e[r + a] + n * (1 - i.max % 1)), t }, labelTickIndex: function (t) { var i = this.rangeIndices(), n = t.index; return i.min > 0 && (n -= Math.floor(i.min)), n }, arrangeLabels: function () { fn.fn.arrangeLabels.call(this), this.hideOutOfRangeLabels() }, hideOutOfRangeLabels: function () { var t, i, n, e, o, r = this, s = r.box, a = r.labels; a.length && (t = this.options.vertical ? Bt : Ut, i = s[t + 1], n = s[t + 2], e = a[0], o = _i(a), (e.box[t + 1] > n || e.box[t + 2] < i) && (e.options.visible = !1), (o.box[t + 1] > n || o.box[t + 2] < i) && (o.options.visible = !1)) }, getMajorTickPositions: function () { return this.getTicks().majorTicks }, getMinorTickPositions: function () { return this.getTicks().minorTicks }, getTicks: function () { var t = this.options, i = t.reverse, n = t.justified, e = this._ticks, o = this.rangeIndices(), r = this.lineBox(), s = r.getHash() + o.min + "," + o.max + i + n; return e._hash !== s && (e._hash = s, e.majorTicks = this.getTickPositions(1), e.minorTicks = this.getTickPositions(.5)), e }, getSlot: function (t, i, n) { var e, o, r = this.options, s = r.reverse, a = r.justified, l = r.vertical, h = this.rangeIndices(), u = h.min, c = l ? Bt : Ut, f = this.lineBox(), p = this.getScale(), d = f[c + (s ? 2 : 1)], m = f.clone(), g = !Li(i), x = Ei(t, 0), v = Ei(i, x); return v = Math.max(v - 1, x), v = Math.max(x, v), e = d + (x - u) * p, o = d + (v + 1 - u) * p, g && a && (o = e), n && (e = Ci(e, f[c + 1], f[c + 2]), o = Ci(o, f[c + 1], f[c + 2])), m[c + 1] = s ? o : e, m[c + 2] = s ? e : o, m }, limitSlot: function (t) { var i = this.options.vertical, n = i ? Bt : Ut, e = this.lineBox(), o = t.clone(); return o[n + 1] = Ci(t[n + 1], e[n + 1], e[n + 2]), o[n + 2] = Ci(t[n + 2], e[n + 1], e[n + 2]), o }, slot: function (t, i, n) { var e = t, o = i; return "string" == typeof e && (e = this.categoryIndex(e)), "string" == typeof o && (o = this.categoryIndex(o)), fn.fn.slot.call(this, e, o, n) }, pointCategoryIndex: function (t) { var i, n, e = this.options, o = e.reverse, r = e.justified, s = e.vertical, a = s ? Bt : Ut, l = this.lineBox(), h = this.rangeIndices(), u = o ? h.max : h.min, c = this.getScale(), f = l[a + 1], p = l[a + 2], d = t[a]; return d < f || d > p ? null : (i = u + (d - f) / c, n = i % 1, r ? i = Math.round(i) : 0 === n && i > 0 && i-- , Math.floor(i)) }, getCategory: function (t) { var i = this.pointCategoryIndex(t); return null === i ? null : this.options.categories[i] }, categoryIndex: function (t) { var i = this.options, n = W(t, i.srcCategories || i.categories); return n - Math.floor(i.min || 0) }, translateRange: function (t) { var i = this.options, n = this.lineBox(), e = i.vertical ? n.height() : n.width(), o = i.categories.length, r = e / o, s = Di(t / r, Xt); return { min: s, max: o + s } }, zoomRange: function (t) { var i = this.totalRangeIndices(), n = this.totalRange(), e = n.min, o = n.max, r = Ci(i.min + t, e, o), s = Ci(i.max - t, e, o); if (s - r > 0) return { min: r, max: s } }, scaleRange: function (t) { var i = this.options.categories.length, n = t * i; return { min: -n, max: i + n } }, labelsCount: function () { var t = this.labelsRange(); return t.max - t.min }, labelsRange: function () { var t, i = this.options, n = i.justified, e = i.labels, o = this.totalRangeIndices(!0), r = o.min, s = o.max, a = Math.floor(r); return n ? (r = Math.ceil(r), s = Math.floor(s)) : (r = Math.floor(r), s = Math.ceil(s)), t = r > e.skip ? e.skip + e.step * Math.ceil((r - e.skip) / e.step) : e.skip, { min: t - a, max: (i.categories.length ? s + (n ? 1 : 0) : 0) - a } }, createAxisLabel: function (t, i) { var n = this.options, e = n.dataItems ? n.dataItems[t] : null, o = Ei(n.categories[t], ""), r = this.axisLabelText(o, e, i); return new ln(o, r, t, e, i) }, shouldRenderNote: function (t) { var i = this.totalRangeIndices(); return Math.floor(i.min) <= t && t <= Math.ceil(i.max) }, noteSlot: function (t) { var i = this.options, n = t - Math.floor(i.min || 0); return this.getSlot(n) }, arrangeNotes: function () { fn.fn.arrangeNotes.call(this), this.hideOutOfRangeNotes() }, hideOutOfRangeNotes: function () { var t, i, n, e, o, r = this, s = r.notes, a = r.box; if (s && s.length) for (t = this.options.vertical ? Bt : Ut, i = a[t + 1], n = a[t + 2], e = 0; e < s.length; e++)o = s[e], o.box && (n < o.box[t + 1] || o.box[t + 2] < i) && o.hide() }, pan: function (t) { var i = this.totalRangeIndices(!0), n = this.getScale(), e = Di(t / n, Xt), o = this.totalRange(), r = i.min + e, s = i.max + e; return this.limitRange(r, s, 0, o.max, e) }, pointsRange: function (t, i) { var n = this.options, e = n.reverse, o = n.vertical, r = o ? Bt : Ut, s = this.lineBox(), a = this.totalRangeIndices(!0), l = this.getScale(), h = s[r + (e ? 2 : 1)], u = t[r] - h, c = i[r] - h, f = a.min + u / l, p = a.min + c / l, d = Math.min(f, p), m = Math.max(f, p); if (m - d >= Bn) return { min: d, max: m } }, valueRange: function () { return this.range() } }), w(An, { type: "category", categories: [], vertical: !1, majorGridLines: { visible: !1, width: 1, color: Ht }, labels: { zIndex: 1 }, justified: !1, _deferLabels: !0 }), In = 3e5, Pn = { milliseconds: "HH:mm:ss.fff", seconds: "HH:mm:ss", minutes: "HH:mm", hours: "HH:mm", days: "M/d", weeks: "M/d", months: "MMM 'yy", years: "yyyy" }, _n = .2, Cn = "auto", zn = [pn, dn, mn, gn, xn, vn, bn, yn], Vn = "fit", Dn = An.extend({ init: function (t, i) { var n, e, o, r; An.fn.init.call(this, t, i), n = i.intl, e = this.options, e = Rt({ roundToBaseUnit: !0 }, e, { categories: K(n, e.categories), min: q(n, e.min), max: q(n, e.max) }), e.userSetBaseUnit = e.userSetBaseUnit || e.baseUnit, e.userSetBaseUnitStep = e.userSetBaseUnitStep || e.baseUnitStep, e.categories && e.categories.length > 0 ? (o = (e.baseUnit || "").toLowerCase(), r = o !== Vn && !x(o, zn), r && (e.baseUnit = this.defaultBaseUnit(e)), o !== Vn && e.baseUnitStep !== Cn || this.autoBaseUnit(e), this._groupsStart = z(e.categories[0], 0, e.baseUnit, e.weekStartDay), this.groupCategories(e)) : e.baseUnit = e.baseUnit || xn, this.options = e }, _initCategories: function () { }, shouldRenderNote: function (t) { var i = this.range(), n = this.options.categories || []; return G(t, i.min) >= 0 && G(t, i.max) <= 0 && n.length }, parseNoteValue: function (t) { return q(this.chartService.intl, t) }, noteSlot: function (t) { return this.getSlot(t) }, translateRange: function (t) { var i, n, e = this.options, o = e.baseUnit, r = e.weekStartDay, s = e.vertical, a = this.lineBox(), l = s ? a.height() : a.width(), h = this.range(), u = l / (h.max - h.min), c = Di(t / u, Xt); return h.min && h.max && (i = A(e.min || h.min, c), n = A(e.max || h.max, c), h = { min: z(i, 0, o, r), max: z(n, 0, o, r) }), h }, scaleRange: function (t) { var i, n, e = Math.abs(t), o = this.range(), r = o.min, s = o.max; if (r && s) { for (; e--;)i = E(r, s), n = Math.round(.1 * i), t < 0 ? (r = A(r, n), s = A(s, -n)) : (r = A(r, -n), s = A(s, n)); o = { min: r, max: s } } return o }, defaultBaseUnit: function (t) { var i, n, e, o, r, s = t.categories, a = Li(s) ? s.length : 0, l = Gt; for (e = 0; e < a; e++)o = s[e], o && i && (r = B(o, i), r > 0 && (l = Math.min(l, r), n = l >= Ln ? yn : l >= jn - 3 * Sn ? bn : l >= Rn ? vn : l >= Sn ? xn : l >= Tn ? gn : l >= kn ? mn : dn)), i = o; return n || xn }, _categoryRange: function (t) { var i = t._range; return i || (i = t._range = M(t)), i }, totalRange: function () { return { min: 0, max: this.options.categories.length } }, rangeIndices: function () { var t = this.options, i = t.categories, n = t.baseUnit, e = t.baseUnitStep || 1, o = this.categoriesRange(), r = I(t.min || o.min), s = I(t.max || o.max), a = 0, l = 0; return i.length && (a = H(r, i[0], n, e), l = H(s, i[0], n, e), t.roundToBaseUnit && (a = Math.floor(a), l = t.justified ? Math.floor(l) : Math.ceil(l))), { min: a, max: l } }, labelsRange: function () { var t = this.options, i = t.labels, n = this.rangeIndices(), e = Math.floor(n.min), o = Math.ceil(n.max); return { min: e + i.skip, max: t.categories.length ? o + (t.justified ? 1 : 0) : 0 } }, categoriesRange: function () { var t = this.options, i = this._categoryRange(t.srcCategories || t.categories), n = I(i.max); return !t.justified && F(n, this._roundToTotalStep(n, t, !1)) && (n = this._roundToTotalStep(n, t, !0, !0)), { min: I(i.min), max: n } }, currentRange: function () { var t = this.options, i = t.roundToBaseUnit !== !1, n = this.categoriesRange(), e = t.min, o = t.max; return e || (e = i ? this._roundToTotalStep(n.min, t, !1) : n.min), o || (o = i ? this._roundToTotalStep(n.max, t, !t.justified) : n.max), { min: e, max: o } }, datesRange: function () { var t = this._categoryRange(this.options.srcCategories || this.options.categories); return { min: I(t.min), max: I(t.max) } }, pan: function (t) { var i = this.options, n = this.lineBox(), e = i.vertical ? n.height() : n.width(), o = this.currentRange(), r = o.min, s = o.max, a = this.totalLimits(), l = e / (s - r), h = Di(t / l, Xt), u = A(r, h), c = A(s, h), f = this.limitRange(O(u), O(c), O(a.min), O(a.max), h); if (f) return f.min = I(f.min), f.max = I(f.max), f.baseUnit = i.baseUnit, f.baseUnitStep = i.baseUnitStep || 1, f.userSetBaseUnit = i.userSetBaseUnit, f.userSetBaseUnitStep = i.userSetBaseUnitStep, f }, pointsRange: function (t, i) { var n = An.fn.pointsRange.call(this, t, i), e = this.currentRange(), o = this.rangeIndices(), r = E(e.max, e.min) / (o.max - o.min), s = this.options, a = A(e.min, n.min * r), l = A(e.min, n.max * r); return { min: a, max: l, baseUnit: s.userSetBaseUnit, baseUnitStep: s.userSetBaseUnitStep } }, zoomRange: function (t) { var i, n, e, o, r, s, a, l, h, u = this.options, c = this.totalLimits(), f = u.weekStartDay, p = u.baseUnit, d = u.baseUnitStep || 1, m = this.currentRange(), g = m.min, x = m.max, v = z(g, t * d, p, f), b = z(x, -t * d, p, f); if (u.userSetBaseUnit === Vn) if (i = u.autoBaseUnitSteps, n = u.maxDateGroups, e = _i(i[p]) * n * Un[p], o = E(x, g), r = E(b, v), s = zn.indexOf(p), r < Un[p] && p !== pn) p = zn[s - 1], a = _i(i[p]), l = (o - (n - 1) * a * Un[p]) / 2, v = A(g, l), b = A(x, -l); else if (r > e && p !== yn) { h = 0; do { s++ , p = zn[s], h = 0, l = 2 * Un[p]; do a = i[p][h], h++; while (h < i[p].length && l * a < o) } while (p !== yn && l * a < o); l = (l * a - o) / 2, l > 0 && (v = A(g, -l), b = A(x, l), v = A(v, Ci(b, c.min, c.max) - b), b = A(b, Ci(v, c.min, c.max) - v)) } if (v = I(Ci(v, c.min, c.max)), b = I(Ci(b, c.min, c.max)), v && b && E(b, v) > 0) return { min: v, max: b, baseUnit: u.userSetBaseUnit, baseUnitStep: u.userSetBaseUnitStep } }, totalLimits: function () { var t = this.options, i = this.datesRange(), n = this._roundToTotalStep(I(i.min), t, !1), e = i.max; return t.justified || (e = this._roundToTotalStep(e, t, !0, F(e, this._roundToTotalStep(e, t, !1)))), { min: n, max: e } }, range: function (t) { var i = t || this.options, n = i.categories, e = i.baseUnit === Vn, o = e ? zn[0] : i.baseUnit, r = i.baseUnitStep || 1, s = { baseUnit: o, baseUnitStep: r, weekStartDay: i.weekStartDay }, a = this._categoryRange(n), l = I(i.min || a.min), h = I(i.max || a.max); return { min: this._roundToTotalStep(l, s, !1), max: this._roundToTotalStep(h, s, !0, !0) } }, autoBaseUnit: function (t) { for (var i, n, e, o = this._categoryRange(t.categories), r = I(t.max || o.max) - I(t.min || o.min), s = t.maxDateGroups || this.options.maxDateGroups, a = t.baseUnit === Vn, l = 0, h = a ? zn[l++] : t.baseUnit, u = r / Un[h], c = u, f = Rt({}, this.options.autoBaseUnitSteps, t.autoBaseUnitSteps); !n || u >= s;)if (i = i || f[h].slice(0), e = i.shift()) n = e, u = c / n; else { if (h === _i(zn)) { n = Math.ceil(c / s); break } if (!a) { u > s && (n = Math.ceil(c / s)); break } h = zn[l++] || _i(zn), c = r / Un[h], i = null } t.baseUnitStep = n, t.baseUnit = h }, groupCategories: function (t) { var i, n, e = t.categories, o = t.baseUnit, r = t.baseUnitStep || 1, s = I(M(e).max), a = this.range(t), l = a.min, h = a.max, u = []; for (n = l; n < h && (u.push(n), i = z(n, r, o, t.weekStartDay), !(i > s) || t.max); n = i); t.srcCategories = e, t.categories = u }, _roundToTotalStep: function (t, i, n, e) { var o, r, s = i || this.options, a = s.baseUnit, l = s.baseUnitStep || 1, h = this._groupsStart; return h ? (o = H(t, h, a, l), r = n ? Math.ceil(o) : Math.floor(o), e && r++ , z(h, r * l, a, s.weekStartDay)) : z(t, n ? l : 0, a, s.weekStartDay) }, createAxisLabel: function (t, i) { var n, e, o = this.options, r = o.dataItems ? o.dataItems[t] : null, s = o.categories[t], a = o.baseUnit, l = i.dateFormats[a], h = !0; if (o.justified ? (n = V(s, a, o.weekStartDay), h = F(n, s)) : o.roundToBaseUnit || (h = !F(this.range().max, s)), h && (i.format = i.format || l, e = this.axisLabelText(s, r, i))) return new ln(s, e, t, r, i) }, categoryIndex: function (t) { var i = this.options, n = i.categories, e = -1; return n.length && (e = Math.floor(H(I(t), n[0], i.baseUnit, i.baseUnitStep || 1))), e }, getSlot: function (t, i, n) { var e = t, o = i; return typeof e === ri && (e = this.categoryIndex(e)), typeof o === ri && (o = this.categoryIndex(o)), An.fn.getSlot.call(this, e, o, n) }, valueRange: function () { var t = this.options, i = this._categoryRange(t.srcCategories || t.categories); return { min: I(i.min), max: I(i.max) } } }), w(Dn, { type: si, labels: { dateFormats: Pn }, autoBaseUnitSteps: { milliseconds: [1, 10, 100], seconds: [1, 2, 5, 15, 30], minutes: [1, 2, 5, 15, 30], hours: [1, 2, 3], days: [1, 2, 3], weeks: [1, 2], months: [1, 2, 3, 6], years: [1, 2, 3, 5, 10, 25, 50] }, maxDateGroups: 10 }), Gn = Math.pow(10, -Xt + 1), En = fn.extend({ init: function (t, i, n, e) { var o = nt(t, i, n), r = et(o, n); fn.fn.init.call(this, ot(o, n), e), this.totalMin = r.min, this.totalMax = r.max, this.totalMajorUnit = r.majorUnit, this.seriesMin = t, this.seriesMax = i }, startValue: function () { return 0 }, range: function () { var t = this.options; return { min: t.min, max: t.max } }, getDivisions: function (t) { var i, n; return 0 === t ? 1 : (i = this.options, n = i.max - i.min, Math.floor(Di(n / t, Dt)) + 1) }, getTickPositions: function (t, i) { var n, e = this.options, o = e.vertical, r = e.reverse, s = this.lineBox(), a = o ? s.height() : s.width(), l = e.max - e.min, h = a / l, u = t * h, c = this.getDivisions(t), f = (o ? -1 : 1) * (r ? -1 : 1), p = 1 === f ? 1 : 2, d = [], m = s[(o ? Bt : Ut) + p], g = 0; for (i && (g = i / t), n = 0; n < c; n++)n % g !== 0 && d.push(Di(m, Dt)), m += u * f; return d }, getMajorTickPositions: function () { return this.getTickPositions(this.options.majorUnit) }, getMinorTickPositions: function () { return this.getTickPositions(this.options.minorUnit) }, getSlot: function (t, i, n) { var e, o, r, s, a, l, h, u, c, f, p, d, m, g; return void 0 === n && (n = !1), e = this.options, o = e.vertical, r = e.reverse, s = o ? Bt : Ut, a = this.lineBox(), l = a[s + (r ? 2 : 1)], h = o ? a.height() : a.width(), u = r ? -1 : 1, c = u * (h / (e.max - e.min)), f = new Ni(a.x1, a.y1, a.x1, a.y1), p = t, d = i, Li(p) || (p = d || 0), Li(d) || (d = p || 0), n && (p = Math.max(Math.min(p, e.max), e.min), d = Math.max(Math.min(d, e.max), e.min)), o ? (m = e.max - Math.max(p, d), g = e.max - Math.min(p, d)) : (m = Math.min(p, d) - e.min, g = Math.max(p, d) - e.min), f[s + 1] = it(l + c * (r ? g : m)), f[s + 2] = it(l + c * (r ? m : g)), f }, getValue: function (t) { var i, n = this.options, e = n.vertical, o = n.reverse, r = +n.max, s = +n.min, a = e ? Bt : Ut, l = this.lineBox(), h = l[a + (o ? 2 : 1)], u = e ? l.height() : l.width(), c = o ? -1 : 1, f = c * (t[a] - h), p = (r - s) / u, d = f * p; return f < 0 || f > u ? null : (i = e ? r - d : s + d, Di(i, Xt)) }, translateRange: function (t) { var i = this.options, n = i.vertical, e = i.reverse, o = i.max, r = i.min, s = this.lineBox(), a = n ? s.height() : s.width(), l = o - r, h = a / l, u = Di(t / h, Xt); return !n && !e || n && e || (u = -u), { min: r + u, max: o + u } }, scaleRange: function (t) { var i = this.options, n = -t * i.majorUnit; return { min: i.min - n, max: i.max + n } }, labelsCount: function () { return this.getDivisions(this.options.majorUnit) }, createAxisLabel: function (t, i) { var n = this.options, e = Di(n.min + t * n.majorUnit, Xt), o = this.axisLabelText(e, null, i); return new ln(e, o, t, null, i) }, shouldRenderNote: function (t) { var i = this.range(); return i.min <= t && t <= i.max }, pan: function (t) { var i = this.translateRange(t); return this.limitRange(i.min, i.max, this.totalMin, this.totalMax) }, pointsRange: function (t, i) { var n = this.getValue(t), e = this.getValue(i), o = Math.min(n, e), r = Math.max(n, e); if (this.isValidRange(o, r)) return { min: o, max: r } }, zoomRange: function (t) { var i = this, n = i.totalMin, e = i.totalMax, o = this.scaleRange(t), r = Ci(o.min, n, e), s = Ci(o.max, n, e); if (this.isValidRange(r, s)) return { min: r, max: s } }, isValidRange: function (t, i) { return i - t > Gn } }), w(En, { type: "numeric", min: 0, max: 1, vertical: !0, majorGridLines: { visible: !0, width: 1, color: Ht }, labels: { format: "#.####################" }, zIndex: 1 }), On = fn.extend({
            init: function (t, i, n, e) { var o = I(t), r = I(i), s = e.intl, a = n || {}; a = Rt(a || {}, { min: q(s, a.min), max: q(s, a.max), axisCrossingValue: K(s, a.axisCrossingValues || a.axisCrossingValue) }), a = at(o, r, a), fn.fn.init.call(this, a, e), this.seriesMin = o, this.seriesMax = r, this.totalMin = O(V(O(o) - 1, a.baseUnit)), this.totalMax = O(D(O(r) + 1, a.baseUnit)) }, range: function () { var t = this.options; return { min: t.min, max: t.max } }, getDivisions: function (t) { var i = this.options; return Math.floor(Y(i.min, i.max, i.baseUnit) / t + 1) }, getTickPositions: function (t) { var i, n, e, o = this.options, r = o.vertical, s = this.lineBox(), a = (r ? -1 : 1) * (o.reverse ? -1 : 1), l = 1 === a ? 1 : 2, h = s[(r ? Bt : Ut) + l], u = this.getDivisions(t), c = E(o.max, o.min), f = r ? s.height() : s.width(), p = f / c, d = [h]; for (i = 1; i < u; i++)n = z(o.min, i * t, o.baseUnit), e = h + E(n, o.min) * p * a, d.push(Di(e, Dt)); return d }, getMajorTickPositions: function () { return this.getTickPositions(this.options.majorUnit) }, getMinorTickPositions: function () { return this.getTickPositions(this.options.minorUnit) }, getSlot: function (t, i, n) { return En.prototype.getSlot.call(this, I(t), I(i), n) }, getValue: function (t) { var i = En.prototype.getValue.call(this, t); return null !== i ? I(i) : null }, labelsCount: function () { return this.getDivisions(this.options.majorUnit) }, createAxisLabel: function (t, i) { var n, e, o = this.options, r = t * o.majorUnit, s = o.min; return r > 0 && (s = z(s, r, o.baseUnit)), n = i.dateFormats[o.baseUnit], i.format = i.format || n, e = this.axisLabelText(s, null, i), new ln(s, e, t, null, i) }, translateRange: function (t, i) {
                var n = this.options, e = n.baseUnit, o = n.weekStartDay, r = this.lineBox(), s = n.vertical ? r.height() : r.width(), a = this.range(), l = s / E(a.max, a.min), h = Di(t / l, Xt), u = A(n.min, h), c = A(n.max, h);
                return i || (u = z(u, 0, e, o), c = z(c, 0, e, o)), { min: u, max: c }
            }, scaleRange: function (t) { for (var i, n, e = this.options, o = e.min, r = e.max, s = Math.abs(t); s--;)i = E(o, r), n = Math.round(.1 * i), t < 0 ? (o = A(o, n), r = A(r, -n)) : (o = A(o, -n), r = A(r, n)); return { min: o, max: r } }, shouldRenderNote: function (t) { var i = this.range(); return G(t, i.min) >= 0 && G(t, i.max) <= 0 }, pan: function (t) { var i = this.translateRange(t, !0), n = this.limitRange(O(i.min), O(i.max), this.totalMin, this.totalMax); if (n) return { min: I(n.min), max: I(n.max) } }, pointsRange: function (t, i) { var n = this.getValue(t), e = this.getValue(i), o = Math.min(n, e), r = Math.max(n, e); return { min: I(o), max: I(r) } }, zoomRange: function (t) { var i = this.scaleRange(t), n = I(Ci(O(i.min), this.totalMin, this.totalMax)), e = I(Ci(O(i.max), this.totalMin, this.totalMax)); return { min: n, max: e } }
        }), w(On, { type: si, majorGridLines: { visible: !0, width: 1, color: Ht }, labels: { dateFormats: Pn } }), Fn = 10, Nn = fn.extend({ init: function (t, i, n, e) { var o = Rt({ majorUnit: Fn, min: t, max: i }, n), r = o.majorUnit, s = ut(i, r), a = ht(t, i, o), l = lt(a, s, o, n); o.max = l.max, o.min = l.min, o.minorUnit = n.minorUnit || Di(r - 1, Xt), fn.fn.init.call(this, o, e), this.totalMin = Li(n.min) ? Math.min(a, n.min) : a, this.totalMax = Li(n.max) ? Math.max(s, n.max) : s, this.logMin = Di(ft(l.min, r), Xt), this.logMax = Di(ft(l.max, r), Xt), this.seriesMin = t, this.seriesMax = i, this.createLabels() }, startValue: function () { return this.options.min }, getSlot: function (t, i, n) { var e, o, r = this, s = r.options, a = r.logMin, l = r.logMax, h = s.reverse, u = s.vertical, c = s.majorUnit, f = u ? Bt : Ut, p = this.lineBox(), d = p[f + (h ? 2 : 1)], m = u ? p.height() : p.width(), g = h ? -1 : 1, x = g * (m / (l - a)), v = new Ni(p.x1, p.y1, p.x1, p.y1), b = t, y = i; return Li(b) || (b = y || 1), Li(y) || (y = b || 1), b <= 0 || y <= 0 ? null : (n && (b = Math.max(Math.min(b, s.max), s.min), y = Math.max(Math.min(y, s.max), s.min)), b = ft(b, c), y = ft(y, c), u ? (e = l - Math.max(b, y), o = l - Math.min(b, y)) : (e = Math.min(b, y) - a, o = Math.max(b, y) - a), v[f + 1] = it(d + x * (h ? o : e)), v[f + 2] = it(d + x * (h ? e : o)), v) }, getValue: function (t) { var i, n = this, e = n.options, o = n.logMin, r = n.logMax, s = e.reverse, a = e.vertical, l = e.majorUnit, h = this.lineBox(), u = a === s ? 1 : -1, c = 1 === u ? 1 : 2, f = a ? h.height() : h.width(), p = (r - o) / f, d = a ? Bt : Ut, m = h[d + c], g = u * (t[d] - m), x = g * p; return g < 0 || g > f ? null : (i = o + x, Di(Math.pow(l, i), Xt)) }, range: function () { var t = this.options; return { min: t.min, max: t.max } }, scaleRange: function (t) { var i = this.options.majorUnit, n = -t; return { min: Math.pow(i, this.logMin - n), max: Math.pow(i, this.logMax + n) } }, translateRange: function (t) { var i = this, n = i.options, e = i.logMin, o = i.logMax, r = n.reverse, s = n.vertical, a = n.majorUnit, l = this.lineBox(), h = s ? l.height() : l.width(), u = h / (o - e), c = Di(t / u, Xt); return !s && !r || s && r || (c = -c), { min: Math.pow(a, e + c), max: Math.pow(a, o + c) } }, labelsCount: function () { var t = Math.floor(this.logMax), i = Math.floor(t - this.logMin) + 1; return i }, getMajorTickPositions: function () { var t = []; return this.traverseMajorTicksPositions(function (i) { t.push(i) }, { step: 1, skip: 0 }), t }, createTicks: function (t) { function i(i, n) { h.tickX = s ? a.x2 : a.x2 - n.size, h.tickY = s ? a.y1 - n.size : a.y1, h.position = i, t.append(L(h, n)) } var n = this.options, e = n.majorTicks, o = n.minorTicks, r = n.vertical, s = n.labels.mirror, a = this.lineBox(), l = [], h = { vertical: r }; return e.visible && this.traverseMajorTicksPositions(i, e), o.visible && this.traverseMinorTicksPositions(i, o), l }, createGridLines: function (t) { function i(t, i) { x(t, l) || (a.position = t, h.append(U(a, i)), l.push(t)) } var n = this.options, e = n.minorGridLines, o = n.majorGridLines, r = n.vertical, s = t.lineBox(), a = { lineStart: s[r ? "x1" : "y1"], lineEnd: s[r ? "x2" : "y2"], vertical: r }, l = [], h = this.gridLinesVisual(); return o.visible && this.traverseMajorTicksPositions(i, o), e.visible && this.traverseMinorTicksPositions(i, e), h.children }, traverseMajorTicksPositions: function (t, i) { var n, e, o = this._lineOptions(), r = o.lineStart, s = o.step, a = this, l = a.logMin, h = a.logMax; for (n = Math.ceil(l) + i.skip; n <= h; n += i.step)e = Di(r + s * (n - l), Xt), t(e, i) }, traverseMinorTicksPositions: function (t, i) { var n, e, o, r, s, a = this, l = this.options, h = l.min, u = l.max, c = l.minorUnit, f = l.majorUnit, p = this._lineOptions(), d = p.lineStart, m = p.step, g = this, x = g.logMin, v = g.logMax, b = Math.floor(x); for (n = b; n < v; n++)for (e = a._minorIntervalOptions(n), o = i.skip; o < c && (r = e.value + o * e.minorStep, !(r > u)); o += i.step)r >= h && (s = Di(d + m * (ft(r, f) - x), Xt), t(s, i)) }, createAxisLabel: function (t, i) { var n = Math.ceil(this.logMin + t), e = Math.pow(this.options.majorUnit, n), o = this.axisLabelText(e, null, i); return new ln(e, o, t, null, i) }, shouldRenderNote: function (t) { var i = this.range(); return i.min <= t && t <= i.max }, pan: function (t) { var i = this.translateRange(t); return this.limitRange(i.min, i.max, this.totalMin, this.totalMax, -t) }, pointsRange: function (t, i) { var n = this.getValue(t), e = this.getValue(i), o = Math.min(n, e), r = Math.max(n, e); return { min: o, max: r } }, zoomRange: function (t) { var i = this, n = i.options, e = i.totalMin, o = i.totalMax, r = this.scaleRange(t), s = Ci(r.min, e, o), a = Ci(r.max, e, o), l = n.majorUnit, h = a > s && n.min && n.max && Di(ft(n.max, l) - ft(n.min, l), Xt) < 1, u = !(n.min === e && n.max === o) && Di(ft(a, l) - ft(s, l), Xt) >= 1; if (h || u) return { min: s, max: a } }, _minorIntervalOptions: function (t) { var i = this.options, n = i.minorUnit, e = i.majorUnit, o = Math.pow(e, t), r = Math.pow(e, t + 1), s = r - o, a = s / n; return { value: o, minorStep: a } }, _lineOptions: function () { var t = this.options, i = t.reverse, n = t.vertical, e = n ? Bt : Ut, o = this.lineBox(), r = n === i ? 1 : -1, s = 1 === r ? 1 : 2, a = n ? o.height() : o.width(), l = r * (a / (this.logMax - this.logMin)), h = o[e + s]; return { step: l, lineStart: h, lineBox: o } } }), w(Nn, { type: "log", majorUnit: Fn, minorUnit: 1, axisCrossingValue: 1, vertical: !0, majorGridLines: { visible: !0, width: 1, color: Ht }, zIndex: 1, _deferLabels: !0 }), Hn = { createGridLines: function (t) { var i, n, e = this.options, o = Math.abs(this.box.center().y - t.lineBox().y1), r = [], s = !1; return e.majorGridLines.visible && (i = this.majorGridLineAngles(t), s = !0, r = this.renderMajorGridLines(i, o, e.majorGridLines)), e.minorGridLines.visible && (n = this.minorGridLineAngles(t, s), Ri(r, this.renderMinorGridLines(n, o, e.minorGridLines, t, s))), r }, renderMajorGridLines: function (t, i, n) { return this.renderGridLines(t, i, n) }, renderMinorGridLines: function (t, i, n, e, o) { var r = this.radiusCallback && this.radiusCallback(i, e, o); return this.renderGridLines(t, i, n, r) }, renderGridLines: function (t, i, n, e) { var o, r, s = { stroke: { width: n.width, color: n.color, dashType: n.dashType } }, a = this.box.center(), l = new Mt([a.x, a.y], i), h = this.gridLinesVisual(); for (o = 0; o < t.length; o++)r = new xt(s), e && (l.radius = e(t[o])), r.moveTo(l.center).lineTo(l.pointAt(t[o] + 180)), h.append(r); return h.children }, gridLineAngles: function (t, i, n, e, o) { var r = this, s = this.intervals(i, n, e, o), a = t.options, l = a.visible && (a.line || {}).visible !== !1; return b(s, function (t) { var i = r.intervalAngle(t); if (!l || 90 !== i) return i }) } }, Yn = An.extend({ range: function () { return { min: 0, max: this.options.categories.length } }, reflow: function (t) { this.box = t, this.reflowLabels() }, lineBox: function () { return this.box }, reflowLabels: function () { var t, i, n = this, e = this, o = e.labels, r = e.options.labels, s = r.skip || 0, a = r.step || 1, l = new Ni; for (t = 0; t < o.length; t++)o[t].reflow(l), i = o[t].box, o[t].reflow(n.getSlot(s + t * a).adjacentBox(0, i.width(), i.height())) }, intervals: function (t, i, n, e) { var o, r, s, a, l, h, u, c, f; for (void 0 === e && (e = !1), o = this.options, r = o.categories.length, s = r / t || 1, a = 360 / s, l = i || 0, h = n || 1, u = [], c = 0, f = l; f < s; f += h)c = o.reverse ? 360 - f * a : f * a, c = Di(c, Dt) % 360, e && x(c, e) || u.push(c); return u }, majorIntervals: function () { return this.intervals(1) }, minorIntervals: function () { return this.intervals(.5) }, intervalAngle: function (t) { return (360 + t + this.options.startAngle) % 360 }, majorAngles: function () { var t = this; return b(this.majorIntervals(), function (i) { return t.intervalAngle(i) }) }, createLine: function () { return [] }, majorGridLineAngles: function (t) { var i = this.options.majorGridLines; return this.gridLineAngles(t, 1, i.skip, i.step) }, minorGridLineAngles: function (t, i) { var n = this.options, e = n.minorGridLines, o = n.majorGridLines, r = i ? this.intervals(1, o.skip, o.step) : null; return this.gridLineAngles(t, .5, e.skip, e.step, r) }, radiusCallback: function (t, i, n) { var e, o, r, s; if (i.options.type !== ii) return e = Vi(360 / (2 * this.options.categories.length)), o = Math.cos(e) * t, r = this.majorAngles(), s = function (i) { return !n && x(i, r) ? t : o } }, createPlotBands: function () { var t, i, n, e, o, r, s, a = this, l = this.options.plotBands || [], h = this._plotbandGroup = new vt({ zIndex: -1 }); for (t = 0; t < l.length; t++)i = l[t], n = a.plotBandSlot(i), e = a.getSlot(i.from), o = i.from - Math.floor(i.from), n.startAngle += o * e.angle, r = Math.ceil(i.to) - i.to, n.angle -= (r + o) * e.angle, s = qi.current.createRing(n, { fill: { color: i.color, opacity: i.opacity }, stroke: { opacity: i.opacity } }), h.append(s); this.appendVisual(h) }, plotBandSlot: function (t) { return this.getSlot(t.from, t.to - 1) }, getSlot: function (t, i) { var n, e, o, r, s = this.options, a = s.justified, l = this.box, h = this.majorAngles(), u = h.length, c = 360 / u, f = t; return s.reverse && !a && (f = (f + 1) % u), f = Ci(Math.floor(f), 0, u - 1), n = h[f], a && (n -= c / 2, n < 0 && (n += 360)), e = Ci(Math.ceil(i || f), f, u - 1), o = e - f + 1, r = c * o, new Hi(l.center(), 0, l.height() / 2, n, r) }, slot: function (t, i) { var n = this.getSlot(t, i), e = n.startAngle + 180, o = e + n.angle; return new yt.Arc([n.center.x, n.center.y], { startAngle: e, endAngle: o, radiusX: n.radius, radiusY: n.radius }) }, pointCategoryIndex: function (t) { var i, n, e = this, o = this.options.categories.length, r = null; for (i = 0; i < o; i++)if (n = e.getSlot(i), n.containsPoint(t)) { r = i; break } return r } }), w(Yn, { startAngle: 90, labels: { margin: p(10) }, majorGridLines: { visible: !0 }, justified: !0 }), Rt(Yn.prototype, Hn), Xn = fn.extend({ init: function (t, i) { fn.fn.init.call(this, t, i); var n = this.options; n.minorUnit = n.minorUnit || n.majorUnit / 2 }, getDivisions: function (t) { return En.prototype.getDivisions.call(this, t) - 1 }, reflow: function (t) { this.box = t, this.reflowLabels() }, reflowLabels: function () { var t, i, n = this, e = this, o = e.options, r = e.labels, s = e.options.labels, a = s.skip || 0, l = s.step || 1, h = new Ni, u = this.intervals(o.majorUnit, a, l); for (t = 0; t < r.length; t++)r[t].reflow(h), i = r[t].box, r[t].reflow(n.getSlot(u[t]).adjacentBox(0, i.width(), i.height())) }, lineBox: function () { return this.box }, intervals: function (t, i, n, e) { var o, r, s, a, l, h, u; for (void 0 === e && (e = !1), o = this.options.min, r = this.getDivisions(t), s = [], a = i || 0, l = n || 1, h = a; h < r; h += l)u = (360 + o + h * t) % 360, e && x(u, e) || s.push(u); return s }, majorIntervals: function () { return this.intervals(this.options.majorUnit) }, minorIntervals: function () { return this.intervals(this.options.minorUnit) }, intervalAngle: function (t) { return (540 - t - this.options.startAngle) % 360 }, createLine: function () { return [] }, majorGridLineAngles: function (t) { var i = this.options.majorGridLines; return this.gridLineAngles(t, this.options.majorUnit, i.skip, i.step) }, minorGridLineAngles: function (t, i) { var n = this.options, e = n.minorGridLines, o = n.majorGridLines, r = i ? this.intervals(n.majorUnit, o.skip, o.step) : null; return this.gridLineAngles(t, n.minorUnit, e.skip, e.step, r) }, plotBandSlot: function (t) { return this.getSlot(t.from, t.to) }, getSlot: function (t, i) { var n, e = this, o = e.options, r = e.box, s = o.startAngle, a = Ci(t, o.min, o.max), l = Ci(i || a, a, o.max); return o.reverse && (a *= -1, l *= -1), a = (540 - a - s) % 360, l = (540 - l - s) % 360, l < a && (n = a, a = l, l = n), new Hi(r.center(), 0, r.height() / 2, a, l - a) }, slot: function (t, i) { var n, e, o, r, s, a, l; return void 0 === i && (i = t), n = this.options, e = 360 - n.startAngle, o = this.getSlot(t, i), r = Math.min(t, i), s = Math.max(t, i), n.reverse ? (a = r, l = s) : (a = 360 - s, l = 360 - r), a = (a + e) % 360, l = (l + e) % 360, new yt.Arc([o.center.x, o.center.y], { startAngle: a, endAngle: l, radiusX: o.radius, radiusY: o.radius }) }, getValue: function (t) { var i = this.options, n = this.box.center(), e = t.x - n.x, o = t.y - n.y, r = Math.round(Ui(Math.atan2(o, e))), s = i.startAngle; return i.reverse || (r *= -1, s *= -1), (r + s + 360) % 360 }, valueRange: function () { return { min: 0, max: 2 * Math.PI } } }), w(Xn, { type: "polar", startAngle: 0, reverse: !1, majorUnit: 60, min: 0, max: 360, labels: { margin: p(10) }, majorGridLines: { color: Ht, visible: !0, width: 1 }, minorGridLines: { color: "#aaa" } }), Rt(Xn.prototype, Hn, { createPlotBands: Yn.prototype.createPlotBands, majorAngles: Yn.prototype.majorAngles, range: En.prototype.range, labelsCount: En.prototype.labelsCount, createAxisLabel: En.prototype.createAxisLabel }), qn = { options: { majorGridLines: { visible: !0 } }, createPlotBands: function () { var t, i, n, e, o, r, s, a, l, h, u = this, c = this.options, f = c.majorGridLines.type, p = c.plotBands; for (void 0 === p && (p = []), t = this.plotArea.polarAxis, i = t.majorAngles(), n = t.box.center(), e = this._plotbandGroup = new vt({ zIndex: -1 }), o = 0; o < p.length; o++)r = p[o], s = { fill: { color: r.color, opacity: r.opacity }, stroke: { opacity: r.opacity } }, a = u.getSlot(r.from, r.to, !0), l = new Hi(n, n.y - a.y2, n.y - a.y1, 0, 360), h = void 0, h = f === ii ? qi.current.createRing(l, s) : xt.fromPoints(u.plotBandPoints(l, i), s).close(), e.append(h); this.appendVisual(e) }, plotBandPoints: function (t, i) { var n, e = [], o = [], r = [t.center.x, t.center.y], s = new Mt(r, t.innerRadius), a = new Mt(r, t.radius); for (n = 0; n < i.length; n++)e.push(s.pointAt(i[n] + 180)), o.push(a.pointAt(i[n] + 180)); return e.reverse(), e.push(e[0]), o.push(o[0]), o.concat(e) }, createGridLines: function (t) { var i, n = this.options, e = this.radarMajorGridLinePositions(), o = t.majorAngles(), r = t.box.center(), s = []; return n.majorGridLines.visible && (s = this.renderGridLines(r, e, o, n.majorGridLines)), n.minorGridLines.visible && (i = this.radarMinorGridLinePositions(), Ri(s, this.renderGridLines(r, i, o, n.minorGridLines))), s }, renderGridLines: function (t, i, n, e) { var o, r, s, a, l, h, u, c = { stroke: { width: e.width, color: e.color, dashType: e.dashType } }, f = e.skip; for (void 0 === f && (f = 0), o = e.step, void 0 === o && (o = 0), r = this.gridLinesVisual(), s = f; s < i.length; s += o)if (a = t.y - i[s], a > 0) if (l = new Mt([t.x, t.y], a), e.type === ii) r.append(new mt.Circle(l, c)); else { for (h = new xt(c), u = 0; u < n.length; u++)h.lineTo(l.pointAt(n[u] + 180)); h.close(), r.append(h) } return r.children }, getValue: function (t) { var i, n, e, o, r, s, a, l = this.lineBox(), h = this.plotArea.polarAxis, u = h.majorAngles(), c = h.box.center(), f = t.distanceTo(c), p = f; return this.options.majorGridLines.type !== ii && u.length > 1 && (i = t.x - c.x, n = t.y - c.y, e = (Ui(Math.atan2(n, i)) + 540) % 360, u.sort(function (t, i) { return pt(t, e) - pt(i, e) }), o = pt(u[0], u[1]) / 2, r = pt(e, u[0]), s = 90 - o, a = 180 - r - s, p = f * (Math.sin(Vi(a)) / Math.sin(Vi(s)))), this.axisType().prototype.getValue.call(this, new Fi(l.x1, l.y2 - p)) } }, Kn = En.extend({ radarMajorGridLinePositions: function () { return this.getTickPositions(this.options.majorUnit) }, radarMinorGridLinePositions: function () { var t = this.options, i = 0; return t.majorGridLines.visible && (i = t.majorUnit), this.getTickPositions(t.minorUnit, i) }, axisType: function () { return En } }), Rt(Kn.prototype, qn), Wn = Nn.extend({ radarMajorGridLinePositions: function () { var t = []; return this.traverseMajorTicksPositions(function (i) { t.push(i) }, this.options.majorGridLines), t }, radarMinorGridLinePositions: function () { var t = []; return this.traverseMinorTicksPositions(function (i) { t.push(i) }, this.options.minorGridLines), t }, axisType: function () { return Nn } }), Rt(Wn.prototype, qn), Qn = .333, Jn = .01, Zn = bt.extend({ init: function (t) { this.closed = t }, process: function (t) { var i, n, e, o, r, s, a, l, h, u, c, f, p, d, m = this, g = t.slice(0), x = [], v = this.closed, b = g.length; if (b > 2 && (this.removeDuplicates(0, g), b = g.length), b < 2 || 2 === b && g[0].equals(g[1])) return x; for (i = g[0], n = g[1], e = g[2], x.push(new Tt(i)); i.equals(g[b - 1]);)v = !0, g.pop(), b--; if (2 === b) return o = this.tangent(i, n, Ut, Bt), _i(x).controlOut(this.firstControlPoint(o, i, n, Ut, Bt)), x.push(new Tt(n, this.secondControlPoint(o, i, n, Ut, Bt))), x; for (v ? (i = g[b - 1], n = g[0], e = g[1], a = this.controlPoints(i, n, e), r = a[1], s = a[0]) : (l = this.tangent(i, n, Ut, Bt), r = this.firstControlPoint(l, i, n, Ut, Bt)), h = r, u = 0; u <= b - 3; u++)m.removeDuplicates(u, g), b = g.length, u + 3 <= b && (i = g[u], n = g[u + 1], e = g[u + 2], c = m.controlPoints(i, n, e), _i(x).controlOut(h), h = c[1], f = c[0], x.push(new Tt(n, f))); return v ? (i = g[b - 2], n = g[b - 1], e = g[0], p = this.controlPoints(i, n, e), _i(x).controlOut(h), x.push(new Tt(n, p[0])), _i(x).controlOut(p[1]), x.push(new Tt(e, s))) : (d = this.tangent(n, e, Ut, Bt), _i(x).controlOut(h), x.push(new Tt(e, this.secondControlPoint(d, n, e, Ut, Bt)))), x }, removeDuplicates: function (t, i) { for (; i[t + 1] && (i[t].equals(i[t + 1]) || i[t + 1].equals(i[t + 2]));)i.splice(t + 1, 1) }, invertAxis: function (t, i, n) { var e, o, r = !1; return t.x === i.x ? r = !0 : i.x === n.x ? (i.y < n.y && t.y <= i.y || n.y < i.y && i.y <= t.y) && (r = !0) : (e = this.lineFunction(t, i), o = this.calculateFunction(e, n.x), t.y <= i.y && n.y <= o || i.y <= t.y && n.y >= o || (r = !0)), r }, isLine: function (t, i, n) { var e = this.lineFunction(t, i), o = this.calculateFunction(e, n.x); return t.x === i.x && i.x === n.x || Di(o, 1) === Di(n.y, 1) }, lineFunction: function (t, i) { var n = (i.y - t.y) / (i.x - t.x), e = t.y - n * t.x; return [e, n] }, controlPoints: function (t, i, n) { var e, o, r, s, a, l, h = Ut, u = Bt, c = !1, f = !1; return this.isLine(t, i, n) ? e = this.tangent(t, i, Ut, Bt) : (o = { x: this.isMonotonicByField(t, i, n, Ut), y: this.isMonotonicByField(t, i, n, Bt) }, o.x && o.y ? (e = this.tangent(t, n, Ut, Bt), c = !0) : (this.invertAxis(t, i, n) && (h = Bt, u = Ut), o[h] ? e = 0 : (r = n[u] < t[u] && t[u] <= i[u] || t[u] < n[u] && i[u] <= t[u] ? dt((n[u] - t[u]) * (i[h] - t[h])) : -dt((n[h] - t[h]) * (i[u] - t[u])), e = Jn * r, f = !0))), s = this.secondControlPoint(e, t, i, h, u), f && (a = h, h = u, u = a), l = this.firstControlPoint(e, i, n, h, u), c && (this.restrictControlPoint(t, i, s, e), this.restrictControlPoint(i, n, l, e)), [s, l] }, restrictControlPoint: function (t, i, n, e) { t.y < i.y ? i.y < n.y ? (n.x = t.x + (i.y - t.y) / e, n.y = i.y) : n.y < t.y && (n.x = i.x - (i.y - t.y) / e, n.y = t.y) : n.y < i.y ? (n.x = t.x - (t.y - i.y) / e, n.y = i.y) : t.y < n.y && (n.x = i.x + (t.y - i.y) / e, n.y = t.y) }, tangent: function (t, i, n, e) { var o, r = i[n] - t[n], s = i[e] - t[e]; return o = 0 === r ? 0 : s / r }, isMonotonicByField: function (t, i, n, e) { return n[e] > i[e] && i[e] > t[e] || n[e] < i[e] && i[e] < t[e] }, firstControlPoint: function (t, i, n, e, o) { var r = i[e], s = n[e], a = (s - r) * Qn; return this.point(r + a, i[o] + a * t, e, o) }, secondControlPoint: function (t, i, n, e, o) { var r = i[e], s = n[e], a = (s - r) * Qn; return this.point(s - a, n[o] - a * t, e, o) }, point: function (t, i, n, e) { var o = new yt.Point; return o[n] = t, o[e] = i, o }, calculateFunction: function (t, i) { var n, e = t.length, o = 0; for (n = 0; n < e; n++)o += Math.pow(i, n) * t[n]; return o } }), St.Gradients = $i, kendo.deepExtend(kendo.dataviz, { constants: hi, services: Mi, autoMajorUnit: Q, Point: Fi, Box: Ni, Ring: Hi, Sector: Yi, ShapeBuilder: qi, ShapeElement: Qi, ChartElement: Ki, BoxElement: Wi, RootElement: tn, FloatElement: nn, Text: on, TextBox: sn, Title: an, AxisLabel: ln, Axis: fn, Note: cn, CategoryAxis: An, DateCategoryAxis: Dn, DateValueAxis: On, NumericAxis: En, LogarithmicAxis: Nn, PolarAxis: Xn, RadarCategoryAxis: Yn, RadarNumericAxis: Kn, RadarLogarithmicAxis: Wn, CurveProcessor: Zn, rectToBox: j, addClass: n, removeClass: e, alignPathToPixel: o, clockwise: r, convertableToNumber: l, deepExtend: Rt, elementStyles: f, getSpacing: p, getTemplate: d, getter: Lt, grep: m, hasClasses: g, inArray: x, interpolateValue: v, InstanceObserver: Ti, isArray: i, isFunction: jt, isNumber: s, isObject: h, isString: a, map: b, mousewheelDelta: y, FontLoader: Oi, setDefaultOptions: w, sparseArrayLimits: M, styleValue: u, append: Ri, bindEvents: ji, Class: bt, defined: Li, deg: Ui, elementOffset: Bi, elementSize: Ai, eventElement: Ii, eventCoordinates: Pi, last: _i, limitValue: Ci, logToConsole: kendo.logToConsole, objectKey: zi, rad: Vi, round: Di, unbindEvents: Gi, valueOrDefault: Ei, absoluteDateDiff: B, addDuration: z, addTicks: A, ceilDate: D, dateComparer: G, dateDiff: E, dateEquals: F, dateIndex: H, duration: Y, floorDate: V, lteDateIndex: X, startOfWeek: P, toDate: I, parseDate: q, parseDates: K, toTime: O })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, i, n) { (n || i)() }), function (t, define) { define("dataviz/core/core.min", ["dataviz/core/kendo-core.min"], t) }(function () { !function (t) { var i = kendo.dataviz, n = i.services, e = kendo.drawing; i.ExportMixin = { extend: function (t, i) { if (!t.exportVisual) throw Error("Mixin target has no exportVisual method defined."); t.exportSVG = this.exportSVG, t.exportImage = this.exportImage, t.exportPDF = this.exportPDF, i || (t.svg = this.svg, t.imageDataURL = this.imageDataURL) }, exportSVG: function (t) { return e.exportSVG(this.exportVisual(), t) }, exportImage: function (t) { return e.exportImage(this.exportVisual(t), t) }, exportPDF: function (t) { return e.exportPDF(this.exportVisual(), t) }, svg: function () { if (e.svg.Surface) return e.svg.exportGroup(this.exportVisual()); throw Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface") }, imageDataURL: function () { var i, n, o; if (!kendo.support.canvas) return null; if (e.canvas.Surface) return i = t("<div />").css({ display: "none", width: this.element.width(), height: this.element.height() }).appendTo(document.body), n = new e.canvas.Surface(i[0]), n.draw(this.exportVisual()), o = n._rootElement.toDataURL(), n.destroy(), i.remove(), o; throw Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface") } }, n.IntlService.register({ format: function (t) { return kendo.format.apply(null, [t].concat(Array.prototype.slice.call(arguments, 1))) }, toString: kendo.toString, parseDate: kendo.parseDate }), n.TemplateService.register({ compile: kendo.template }), i.Point2D = i.Point, i.Box2D = i.Box, i.mwDelta = function (t) { return i.mousewheelDelta(t.originalEvent) } }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, i, n) { (n || i)() }), function (t, define) { define("kendo.dataviz.core.min", ["dataviz/core/kendo-core.min", "dataviz/core/core.min"], t) }(function () { }, "function" == typeof define && define.amd ? define : function (t, i, n) { (n || i)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(s, h) } function a(t) { var e, a = []; for (e in t) a.push(e + t[e]); return a.sort().join("") } function n(t) { var e, a = 2166136261; for (e = 0; e < t.length; ++e)a += (a << 1) + (a << 4) + (a << 7) + (a << 8) + (a << 24), a ^= t.charCodeAt(e); return a >>> 0 } function i() { return { width: 0, height: 0, baseline: 0 } } function r(t, e, a) { return c.current.measure(t, e, a) } var o, s, h, d, u, c; window.kendo.util = window.kendo.util || {}, o = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var a = this._map, n = { key: t, value: e }; a[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (a[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), s = /\r?\n|\r|\t/g, h = " ", d = { baselineMarkerSize: 1 }, "undefined" != typeof document && (u = document.createElement("div"), u.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), c = kendo.Class.extend({ init: function (e) { this._cache = new o(1e3), this.options = t.extend({}, d, e) }, measure: function (t, r, o) { var s, h, d, c, l, p, f, v, g; if (void 0 === o && (o = {}), !t) return i(); if (s = a(r), h = n(t + s), d = this._cache.get(h)) return d; c = i(), l = o.box || u, p = this._baselineMarker().cloneNode(!1); for (f in r) v = r[f], void 0 !== v && (l.style[f] = v); return g = o.normalizeText !== !1 ? e(t) : t + "", l.textContent = g, l.appendChild(p), document.body.appendChild(l), g.length && (c.width = l.offsetWidth - this.options.baselineMarkerSize, c.height = l.offsetHeight, c.baseline = p.offsetTop + this.options.baselineMarkerSize), c.width > 0 && c.height > 0 && this._cache.put(h, c), l.parentNode.removeChild(l), c }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), c.current = new c, kendo.deepExtend(kendo.util, { LRUCache: o, TextMetrics: c, measureText: r, objectKey: a, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, a) { (a || e)() }), function (t, define) { define("kendo.dataviz.barcode.min", ["kendo.dataviz.core.min", "kendo.drawing.min"], t) }(function () { return function (t, e) { function a(t, e, a) { return t.substring(e, e + a) } var n, i, r, o, s, h, d = window.kendo, u = d.ui.Widget, c = t.extend, l = d.deepExtend, p = t.inArray, f = t.isPlainObject, v = d.drawing, g = d.geometry, b = d.drawing.util, m = b.defined, w = d.dataviz, S = w.Box2D, C = w.TextBox, B = 300, x = 100, k = 10, y = /^\d+$/, A = /^[a-z0-9]+$/i, M = "Character '{0}' is not valid for symbology {1}", T = d.Class.extend({ init: function (t) { this.setOptions(t) }, setOptions: function (t) { var e = this; e.options = c({}, e.options, t), e.quietZoneLength = e.options.addQuietZone ? 2 * e.options.quietZoneLength : 0 }, encode: function (t, e, a) { var n = this; return m(t) && (t += ""), n.initValue(t, e, a), n.options.addQuietZone && n.addQuietZone(), n.addData(), n.options.addQuietZone && n.addQuietZone(), { baseUnit: n.baseUnit, pattern: n.pattern } }, options: { quietZoneLength: k, addQuietZone: !0, addCheckSum: !0 }, initValue: function () { }, addQuietZone: function () { this.pattern.push(this.options.quietZoneLength || k) }, addData: function () { }, invalidCharacterError: function (t) { throw Error(d.format(M, t, this.name)) } }), _ = {}, W = T.extend({ minBaseUnitLength: .7, addData: function () { var t, e = this, a = e.value; for (e.addStart(), t = 0; t < a.length; t++)e.addCharacter(a.charAt(t)); e.options.addCheckSum && e.pushCheckSum(), e.addStop(), e.prepareValues() }, addCharacter: function (t) { var e = this, a = e.characterMap[t]; a || e.invalidCharacterError(t), e.addBase(a) }, addBase: function () { } }), P = { addCharacter: function (t) { var e = this; e.characterMap[t] ? e.addBase(e.characterMap[t]) : t.charCodeAt(0) > 127 ? e.invalidCharacterError(t) : e.addExtended(t.charCodeAt(0)) }, addExtended: function (t) { var a, n, i, r = this; for (n = 0; n < r.extendedMappings.length; n++)if (a = r.extendedMappings[n].call(r, t)) { for (i = 0; i < a.length; i++)r.addBase(a[i]); return r.dataLength += a.length - 1, e } }, extendedMappings: [function (t) { if (97 <= t && t <= 122) { var e = this; return [e.characterMap[e.shiftCharacters[0]], e.characterMap[String.fromCharCode(t - 32)]] } }, function (t) { if (33 <= t && t <= 58) { var e = this; return [e.characterMap[e.shiftCharacters[1]], e.characterMap[String.fromCharCode(t + 32)]] } }, function (t) { if (1 <= t && t <= 26) { var e = this; return [e.characterMap[e.shiftCharacters[2]], e.characterMap[String.fromCharCode(t + 64)]] } }, function (t) { var e, a, n, i = this; if (i.specialAsciiCodes[t]) for (e = [], n = 0; n < i.specialAsciiCodes[t].length; n++)e.push(i.characterMap[i.shiftCharacters[3]]), e.push(i.characterMap[i.specialAsciiCodes[t][n]]); else a = 6 * Math.floor(t / 32) + (t - 27) % 32 + 64, e = [i.characterMap[i.shiftCharacters[3]], i.characterMap[String.fromCharCode(a)]]; return e }], specialAsciiCodes: { 0: ["U"], 64: ["V"], 96: ["W"], 127: ["T", "X", "Y", "Z"] }, shiftValuesAsciiCodes: { 39: 36, 40: 47, 41: 43, 42: 37 }, characterMap: { "+": !1, "/": !1, $: !1, "%": !1 }, shiftCharacters: ["SHIFT0", "SHIFT1", "SHIFT2", "SHIFT3"] }; _.code39 = W.extend({ name: "Code 39", checkSumMod: 43, minRatio: 2.5, maxRatio: 3, gapWidth: 1, splitCharacter: "|", initValue: function (t, e, a) { var n = this; n.width = e, n.height = a, n.value = t, n.dataLength = t.length, n.pattern = [], n.patternString = "" }, prepareValues: function () { var t, e, a = this, n = a.minBaseUnitLength, i = a.maxRatio, r = a.minRatio, o = Math.max(.15 * a.width, 24); if (a.height < o) throw Error("Insufficient Height. The minimum height for value: " + a.value + " is: " + o); for (; (t = a.getBaseUnit(i)) < n && i > r;)i = parseFloat((i - .1).toFixed(1)); if (t < n) throw e = Math.ceil(a.getBaseWidth(r) * n), Error("Insufficient width. The minimum width for value: " + a.value + " is: " + e); a.ratio = i, a.baseUnit = t, a.patternString = a.patternString.substring(0, a.patternString.length - 1), a.pattern = a.pattern.concat(a.patternString.replace(/ratio/g, i).split(a.splitCharacter)) }, getBaseUnit: function (t) { return this.width / this.getBaseWidth(t) }, getBaseWidth: function (t) { var e = this, a = 3 * (t + 2); return e.quietZoneLength + a * (e.dataLength + 2) + e.gapWidth * (e.dataLength + 1) }, addStart: function () { var t = this; t.addPattern(t.characterMap.START.pattern), t.addCharacterGap() }, addBase: function (t) { this.addPattern(t.pattern), this.addCharacterGap() }, addStop: function () { this.addPattern(this.characterMap.START.pattern) }, addPattern: function (t) { for (var e = 0; e < t.length; e++)this.patternString += this.patternMappings[t.charAt(e)] }, addCharacterGap: function () { var t = this; t.patternString += t.gapWidth + t.splitCharacter }, patternMappings: { b: "1|", w: "1|", B: "ratio|", W: "ratio|" }, characterMap: { 0: { pattern: "bwbWBwBwb", value: 0 }, 1: { pattern: "BwbWbwbwB", value: 1 }, 2: { pattern: "bwBWbwbwB", value: 2 }, 3: { pattern: "BwBWbwbwb", value: 3 }, 4: { pattern: "bwbWBwbwB", value: 4 }, 5: { pattern: "BwbWBwbwb", value: 5 }, 6: { pattern: "bwBWBwbwb", value: 6 }, 7: { pattern: "bwbWbwBwB", value: 7 }, 8: { pattern: "BwbWbwBwb", value: 8 }, 9: { pattern: "bwBWbwBwb", value: 9 }, A: { pattern: "BwbwbWbwB", value: 10 }, B: { pattern: "bwBwbWbwB", value: 11 }, C: { pattern: "BwBwbWbwb", value: 12 }, D: { pattern: "bwbwBWbwB", value: 13 }, E: { pattern: "BwbwBWbwb", value: 14 }, F: { pattern: "bwBwBWbwb", value: 15 }, G: { pattern: "bwbwbWBwB", value: 16 }, H: { pattern: "BwbwbWBwb", value: 17 }, I: { pattern: "bwBwbWBwb", value: 18 }, J: { pattern: "bwbwBWBwb", value: 19 }, K: { pattern: "BwbwbwbWB", value: 20 }, L: { pattern: "bwBwbwbWB", value: 21 }, M: { pattern: "BwBwbwbWb", value: 22 }, N: { pattern: "bwbwBwbWB", value: 23 }, O: { pattern: "BwbwBwbWb", value: 24 }, P: { pattern: "bwBwBwbWb", value: 25 }, Q: { pattern: "bwbwbwBWB", value: 26 }, R: { pattern: "BwbwbwBWb", value: 27 }, S: { pattern: "bwBwbwBWb", value: 28 }, T: { pattern: "bwbwBwBWb", value: 29 }, U: { pattern: "BWbwbwbwB", value: 30 }, V: { pattern: "bWBwbwbwB", value: 31 }, W: { pattern: "BWBwbwbwb", value: 32 }, X: { pattern: "bWbwBwbwB", value: 33 }, Y: { pattern: "BWbwBwbwb", value: 34 }, Z: { pattern: "bWBwBwbwb", value: 35 }, "-": { pattern: "bWbwbwBwB", value: 36 }, ".": { pattern: "BWbwbwBwb", value: 37 }, " ": { pattern: "bWBwbwBwb", value: 38 }, $: { pattern: "bWbWbWbwb", value: 39 }, "/": { pattern: "bWbWbwbWb", value: 40 }, "+": { pattern: "bWbwbWbWb", value: 41 }, "%": { pattern: "bwbWbWbWb", value: 42 }, START: { pattern: "bWbwBwBwb" } }, options: { addCheckSum: !1 } }), _.code39extended = _.code39.extend(l({}, P, { name: "Code 39 extended", characterMap: { SHIFT0: { pattern: "bWbwbWbWb", value: 41 }, SHIFT1: { pattern: "bWbWbwbWb", value: 40 }, SHIFT2: { pattern: "bWbWbWbwb", value: 39 }, SHIFT3: { pattern: "bwbWbWbWb", value: 42 } } })), _.code93 = W.extend({ name: "Code 93", cCheckSumTotal: 20, kCheckSumTotal: 15, checkSumMod: 47, initValue: function (t, e, a) { var n = this; n.value = t, n.width = e, n.height = a, n.pattern = [], n.values = [], n.dataLength = t.length }, prepareValues: function () { var t = this, e = Math.max(.15 * t.width, 24); if (t.height < e) throw Error("Insufficient Height"); if (t.setBaseUnit(), t.baseUnit < t.minBaseUnitLength) throw Error("Insufficient Width") }, setBaseUnit: function () { var t = this, e = 2; t.baseUnit = t.width / (9 * (t.dataLength + 2 + e) + t.quietZoneLength + 1) }, addStart: function () { var t = this.characterMap.START.pattern; this.addPattern(t) }, addStop: function () { var t = this; t.addStart(), t.pattern.push(t.characterMap.TERMINATION_BAR) }, addBase: function (t) { this.addPattern(t.pattern), this.values.push(t.value) }, pushCheckSum: function () { var t, e, a = this, n = a._getCheckValues(); for (a.checksum = n.join(""), e = 0; e < n.length; e++)t = a.characterMap[a._findCharacterByValue(n[e])], a.addPattern(t.pattern) }, _getCheckValues: function () { var t, e, a, n = this, i = n.values, r = i.length, o = 0; for (a = r - 1; a >= 0; a--)o += n.weightedValue(i[a], r - a, n.cCheckSumTotal); for (t = o % n.checkSumMod, o = n.weightedValue(t, 1, n.kCheckSumTotal), a = r - 1; a >= 0; a--)o += n.weightedValue(i[a], r - a + 1, n.kCheckSumTotal); return e = o % n.checkSumMod, [t, e] }, _findCharacterByValue: function (t) { for (var e in this.characterMap) if (this.characterMap[e].value === t) return e }, weightedValue: function (t, e, a) { return (e % a || a) * t }, addPattern: function (t) { var e, a; for (a = 0; a < t.length; a++)e = parseInt(t.charAt(a), 10), this.pattern.push(e) }, characterMap: { 0: { pattern: "131112", value: 0 }, 1: { pattern: "111213", value: 1 }, 2: { pattern: "111312", value: 2 }, 3: { pattern: "111411", value: 3 }, 4: { pattern: "121113", value: 4 }, 5: { pattern: "121212", value: 5 }, 6: { pattern: "121311", value: 6 }, 7: { pattern: "111114", value: 7 }, 8: { pattern: "131211", value: 8 }, 9: { pattern: "141111", value: 9 }, A: { pattern: "211113", value: 10 }, B: { pattern: "211212", value: 11 }, C: { pattern: "211311", value: 12 }, D: { pattern: "221112", value: 13 }, E: { pattern: "221211", value: 14 }, F: { pattern: "231111", value: 15 }, G: { pattern: "112113", value: 16 }, H: { pattern: "112212", value: 17 }, I: { pattern: "112311", value: 18 }, J: { pattern: "122112", value: 19 }, K: { pattern: "132111", value: 20 }, L: { pattern: "111123", value: 21 }, M: { pattern: "111222", value: 22 }, N: { pattern: "111321", value: 23 }, O: { pattern: "121122", value: 24 }, P: { pattern: "131121", value: 25 }, Q: { pattern: "212112", value: 26 }, R: { pattern: "212211", value: 27 }, S: { pattern: "211122", value: 28 }, T: { pattern: "211221", value: 29 }, U: { pattern: "221121", value: 30 }, V: { pattern: "222111", value: 31 }, W: { pattern: "112122", value: 32 }, X: { pattern: "112221", value: 33 }, Y: { pattern: "122121", value: 34 }, Z: { pattern: "123111", value: 35 }, "-": { pattern: "121131", value: 36 }, ".": { pattern: "311112", value: 37 }, " ": { pattern: "311211", value: 38 }, $: { pattern: "321111", value: 39 }, "/": { pattern: "112131", value: 40 }, "+": { pattern: "113121", value: 41 }, "%": { pattern: "211131", value: 42 }, SHIFT0: { pattern: "122211", value: 46 }, SHIFT1: { pattern: "311121", value: 45 }, SHIFT2: { pattern: "121221", value: 43 }, SHIFT3: { pattern: "312111", value: 44 }, START: { pattern: "111141" }, TERMINATION_BAR: "1" } }), _.code93extended = _.code93.extend(l({}, P, { name: "Code 93 extended", pushCheckSum: function () { var t, e, a = this, n = a._getCheckValues(); for (a.checksum = n.join(""), e = 0; e < n.length; e++)t = n[e], a.shiftValuesAsciiCodes[t] ? a.addExtended(a.shiftValuesAsciiCodes[t]) : a.addPattern(a.characterMap[a._findCharacterByValue(t)].pattern) } })), n = d.Class.extend({ init: function (t) { this.encoding = t }, addStart: function () { }, is: function () { }, move: function () { }, pushState: function () { } }), i = n.extend({ FNC4: "FNC4", init: function (t, e) { var a = this; a.encoding = t, a.states = e, a._initMoves(e) }, addStart: function () { this.encoding.addPattern(this.START) }, is: function (t, e) { var a = t.charCodeAt(e); return this.isCode(a) }, move: function (t) { for (var e = this, a = 0; !e._moves[a].call(e, t) && a < e._moves.length;)a++ }, pushState: function (t) { var e, a, n = this, i = n.states, r = t.value, o = r.length; for (p("C", i) >= 0 && (a = r.substr(t.index).match(/\d{4,}/g), a && (o = r.indexOf(a[0], t.index))); (e = t.value.charCodeAt(t.index)) >= 0 && n.isCode(e) && t.index < o;)n.encoding.addPattern(n.getValue(e)), t.index++ }, _initMoves: function (t) { var e = this; e._moves = [], p(e.FNC4, t) >= 0 && e._moves.push(e._moveFNC), p(e.shiftKey, t) >= 0 && e._moves.push(e._shiftState), e._moves.push(e._moveState) }, _moveFNC: function (t) { if (t.fnc) return t.fnc = !1, t.previousState == this.key }, _shiftState: function (t) { var e = this; if (t.previousState == e.shiftKey && (t.index + 1 >= t.value.length || e.encoding[e.shiftKey].is(t.value, t.index + 1))) return e.encoding.addPattern(e.SHIFT), t.shifted = !0, !0 }, _moveState: function () { return this.encoding.addPattern(this.MOVE), !0 }, SHIFT: 98 }), r = {}, r.A = i.extend({ key: "A", shiftKey: "B", isCode: function (t) { return 0 <= t && t < 96 }, getValue: function (t) { return t < 32 ? t + 64 : t - 32 }, MOVE: 101, START: 103 }), r.B = i.extend({ key: "B", shiftKey: "A", isCode: function (t) { return 32 <= t && t < 128 }, getValue: function (t) { return t - 32 }, MOVE: 100, START: 104 }), r.C = n.extend({ key: "C", addStart: function () { this.encoding.addPattern(this.START) }, is: function (t, e) { var n = a(t, e, 4); return (e + 4 <= t.length || 2 == t.length) && y.test(n) }, move: function () { this.encoding.addPattern(this.MOVE) }, pushState: function (t) { for (var e; (e = a(t.value, t.index, 2)) && y.test(e) && 2 == e.length;)this.encoding.addPattern(parseInt(e, 10)), t.index += 2 }, getValue: function (t) { return t }, MOVE: 99, START: 105 }), r.FNC4 = n.extend({ key: "FNC4", dependentStates: ["A", "B"], init: function (t, e) { this.encoding = t, this._initSubStates(e) }, addStart: function (t) { var e = t.value.charCodeAt(0) - 128, a = this._getSubState(e); this.encoding[a].addStart() }, is: function (t, e) { var a = t.charCodeAt(e); return this.isCode(a) }, isCode: function (t) { return 128 <= t && t < 256 }, pushState: function (t) { var e, a = this, n = a._initSubState(t), i = a.encoding, r = n.value.length; if (t.index += r, r < 3) for (; n.index < r; n.index++)e = n.value.charCodeAt(n.index), n.state = a._getSubState(e), n.previousState != n.state && (n.previousState = n.state, i[n.state].move(n)), i.addPattern(i[n.state].MOVE), i.addPattern(i[n.state].getValue(e)); else n.state != n.previousState && i[n.state].move(n), a._pushStart(n), i.pushData(n, a.subStates), t.index < t.value.length && a._pushStart(n); t.fnc = !0, t.state = n.state }, _pushStart: function (t) { var e = this; e.encoding.addPattern(e.encoding[t.state].MOVE), e.encoding.addPattern(e.encoding[t.state].MOVE) }, _initSubState: function (t) { var e = this, a = { value: e._getAll(t.value, t.index), index: 0 }; return a.state = e._getSubState(a.value.charCodeAt(0)), a.previousState = t.previousState == e.key ? a.state : t.previousState, a }, _initSubStates: function (t) { var e, a = this; for (a.subStates = [], e = 0; e < t.length; e++)p(t[e], a.dependentStates) >= 0 && a.subStates.push(t[e]) }, _getSubState: function (t) { var e, a = this; for (e = 0; e < a.subStates.length; e++)if (a.encoding[a.subStates[e]].isCode(t)) return a.subStates[e] }, _getAll: function (t, e) { for (var a, n = ""; (a = t.charCodeAt(e++)) && this.isCode(a);)n += String.fromCharCode(a - 128); return n } }), r.FNC1 = n.extend({ key: "FNC1", startState: "C", dependentStates: ["C", "B"], startAI: "(", endAI: ")", init: function (t, e) { this.encoding = t, this.states = e }, addStart: function () { this.encoding[this.startState].addStart() }, is: function () { return p(this.key, this.states) >= 0 }, pushState: function (t) { var e, a, n, i = this, r = i.encoding, o = t.value.replace(/\s/g, ""), s = RegExp("[" + i.startAI + i.endAI + "]", "g"), h = t.index, d = { state: i.startState }; for (r.addPattern(i.START); ;) { if (d.index = 0, n = o.charAt(h) === i.startAI ? 2 : 0, e = n > 0 ? i.getBySeparator(o, h) : i.getByLength(o, h), e.ai.length) a = h + n + e.id.length + e.ai.length; else if (a = o.indexOf(i.startAI, h + 1), a < 0) { if (h + e.ai.max + e.id.length + n < o.length) throw Error("Separators are required after variable length identifiers"); a = o.length } if (d.value = o.substring(h, a).replace(s, ""), i.validate(e, d.value), r.pushData(d, i.dependentStates), a >= o.length) break; h = a, d.state != i.startState && (r[i.startState].move(d), d.state = i.startState), e.ai.length || r.addPattern(i.START) } t.index = t.value.length }, validate: function (t, e) { var a = e.substr(t.id.length), n = t.ai; if (!n.type && !y.test(a)) throw Error("Application identifier " + t.id + " is numeric only but contains non numeric character(s)."); if ("alphanumeric" == n.type && !A.test(a)) throw Error("Application identifier " + t.id + " is alphanumeric only but contains non alphanumeric character(s)."); if (n.length && n.length !== a.length) throw Error("Application identifier " + t.id + " must be " + n.length + " characters long."); if (n.min && n.min > a.length) throw Error("Application identifier " + t.id + " must be at least " + n.min + " characters long."); if (n.max && n.max < a.length) throw Error("Application identifier " + t.id + " must be at most " + n.max + " characters long.") }, getByLength: function (t, e) { var n, i, r, o = this; for (r = 2; r <= 4; r++)if (n = a(t, e, r), i = o.getAI(n) || o.getAI(n.substring(0, n.length - 1))) return { id: n, ai: i }; o.unsupportedAIError(n) }, unsupportedAIError: function (t) { throw Error(d.format("'{0}' is not a supported Application Identifier"), t) }, getBySeparator: function (t, e) { var a = this, n = t.indexOf(a.startAI, e), i = t.indexOf(a.endAI, n), r = t.substring(n + 1, i), o = a.getAI(r) || a.getAI(r.substr(r.length - 1)); return o || a.unsupportedAIError(r), { ai: o, id: r } }, getAI: function (t) { var e, a, n, i = this.applicationIdentifiers, r = i.multiKey; if (i[t]) return i[t]; for (e = 0; e < r.length; e++) { if (r[e].ids && p(t, r[e].ids) >= 0) return r[e].type; if (r[e].ranges) for (a = r[e].ranges, n = 0; n < a.length; n++)if (a[n][0] <= t && t <= a[n][1]) return r[e].type } }, applicationIdentifiers: { 22: { max: 29, type: "alphanumeric" }, 402: { length: 17 }, 7004: { max: 4, type: "alphanumeric" }, 242: { max: 6, type: "alphanumeric" }, 8020: { max: 25, type: "alphanumeric" }, 703: { min: 3, max: 30, type: "alphanumeric" }, 8008: { min: 8, max: 12, type: "alphanumeric" }, 253: { min: 13, max: 17, type: "alphanumeric" }, 8003: { min: 14, max: 30, type: "alphanumeric" }, multiKey: [{ ids: ["15", "17", "8005", "8100"], ranges: [[11, 13], [310, 316], [320, 336], [340, 369]], type: { length: 6 } }, { ids: ["240", "241", "250", "251", "400", "401", "403", "7002", "8004", "8007", "8110"], ranges: [[-9]], type: { max: 30, type: "alphanumeric" } }, { ids: ["7001"], ranges: [[410, 414]], type: { length: 13 } }, { ids: ["10", "21", "254", "420", "8002"], type: { max: 20, type: "alphanumeric" } }, { ids: ["00", "8006", "8017", "8018"], type: { length: 18 } }, { ids: ["01", "02", "8001"], type: { length: 14 } }, { ids: ["422"], ranges: [[424, 426]], type: { length: 3 } }, { ids: ["20", "8102"], type: { length: 2 } }, { ids: ["30", "37"], type: { max: 8, type: "alphanumeric" } }, { ids: ["390", "392"], type: { max: 15, type: "alphanumeric" } }, { ids: ["421", "423"], type: { min: 3, max: 15, type: "alphanumeric" } }, { ids: ["391", "393"], type: { min: 3, max: 18, type: "alphanumeric" } }, { ids: ["7003", "8101"], type: { length: 10 } }] }, START: 102 }), o = T.extend({ init: function (t) { T.fn.init.call(this, t), this._initStates() }, _initStates: function () { var t, e = this; for (t = 0; t < e.states.length; t++)e[e.states[t]] = new r[e.states[t]](e, e.states) }, initValue: function (t, e, a) { var n = this; n.pattern = [], n.value = t, n.width = e, n.height = a, n.checkSum = 0, n.totalUnits = 0, n.index = 0, n.position = 1 }, addData: function () { var t = this, e = { value: t.value, index: 0, state: "" }; 0 !== t.value.length && (e.state = e.previousState = t.getNextState(e, t.states), t.addStart(e), t.pushData(e, t.states), t.addCheckSum(), t.addStop(), t.setBaseUnit()) }, pushData: function (t, e) { for (var a, n = this; ;) { if (n[t.state].pushState(t), t.index >= t.value.length) break; t.shifted ? (a = t.state, t.state = t.previousState, t.previousState = a, t.shifted = !1) : (t.previousState = t.state, t.state = n.getNextState(t, e), n[t.state].move(t)) } }, addStart: function (t) { this[t.state].addStart(t), this.position = 1 }, addCheckSum: function () { var t = this; t.checksum = t.checkSum % 103, t.addPattern(t.checksum) }, addStop: function () { this.addPattern(this.STOP) }, setBaseUnit: function () { var t = this; t.baseUnit = t.width / (t.totalUnits + t.quietZoneLength) }, addPattern: function (t) { var e, a, n = this, i = "" + n.characterMap[t]; for (a = 0; a < i.length; a++)e = parseInt(i.charAt(a), 10), n.pattern.push(e), n.totalUnits += e; n.checkSum += t * n.position++ }, getNextState: function (t, e) { for (var a = 0; a < e.length; a++)if (this[e[a]].is(t.value, t.index)) return e[a]; this.invalidCharacterError(t.value.charAt(t.index)) }, characterMap: [212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213, 221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132, 221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211, 212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313, 231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331, 231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111, 314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214, 112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111, 111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141, 214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141, 114131, 311141, 411131, 211412, 211214, 211232, 2331112], STOP: 106 }), _.code128a = o.extend({ name: "Code 128 A", states: ["A"] }), _.code128b = o.extend({ name: "Code 128 B", states: ["B"] }), _.code128c = o.extend({ name: "Code 128 C", states: ["C"] }), _.code128 = o.extend({ name: "Code 128", states: ["C", "B", "A", "FNC4"] }), _["gs1-128"] = o.extend({ name: "Code GS1-128", states: ["FNC1", "C", "B"] }), s = T.extend({ initValue: function (t, e) { var a = this; a.pattern = [], a.value = t, a.checkSumLength = 0, a.width = e }, setBaseUnit: function () { var t = this, e = 7; t.baseUnit = t.width / (12 * (t.value.length + t.checkSumLength) + t.quietZoneLength + e) }, addData: function () { var t, e = this, a = e.value; for (e.addPattern(e.START), t = 0; t < a.length; t++)e.addCharacter(a.charAt(t)); e.options.addCheckSum && e.addCheckSum(), e.addPattern(e.STOP), e.setBaseUnit() }, addCharacter: function (t) { var e = this, a = e.characterMap[t]; a || e.invalidCharacterError(t), e.addPattern(a) }, addPattern: function (t) { for (var e = 0; e < t.length; e++)this.pattern.push(parseInt(t.charAt(e), 10)) }, addCheckSum: function () { var t, e = this, a = e.checkSums[e.checkSumType], n = a.call(e.checkSums, e.value); for (e.checksum = n.join(""), t = 0; t < n.length; t++)e.checkSumLength++ , e.addPattern(e.characterMap[n[t]]) }, checkSums: { Modulo10: function (t) { var e, a, n, i = [0, ""], r = t.length % 2; for (e = 0; e < t.length; e++)i[(e + r) % 2] += parseInt(t.charAt(e), 10); for (n = i[0], a = "" + 2 * i[1], e = 0; e < a.length; e++)n += parseInt(a.charAt(e), 10); return [(10 - n % 10) % 10] }, Modulo11: function (t) { var e, a, n, i = 0, r = 11, o = t.length; for (n = 0; n < o; n++)e = ((o - n) % 6 || 6) + 1, i += e * t.charAt(n); return a = (r - i % r) % r, 10 != a ? [a] : [1, 0] }, Modulo11Modulo10: function (t) { var e, a = this.Modulo11(t); return e = t + a[0], a.concat(this.Modulo10(e)) }, Modulo10Modulo10: function (t) { var e, a = this.Modulo10(t); return e = t + a[0], a.concat(this.Modulo10(e)) } }, characterMap: ["12121212", "12121221", "12122112", "12122121", "12211212", "12211221", "12212112", "12212121", "21121212", "21121221"], START: "21", STOP: "121", checkSumType: "" }), _.msimod10 = s.extend({ name: "MSI Modulo10", checkSumType: "Modulo10" }), _.msimod11 = s.extend({ name: "MSI Modulo11", checkSumType: "Modulo11" }), _.msimod1110 = s.extend({ name: "MSI Modulo11 Modulo10", checkSumType: "Modulo11Modulo10" }), _.msimod1010 = s.extend({ name: "MSI Modulo10 Modulo10", checkSumType: "Modulo10Modulo10" }), _.code11 = T.extend({ name: "Code 11", cCheckSumTotal: 10, kCheckSumTotal: 9, kCheckSumMinLength: 10, checkSumMod: 11, DASH_VALUE: 10, DASH: "-", START: "112211", STOP: "11221", initValue: function (t, e) { var a = this; a.pattern = [], a.value = t, a.width = e, a.totalUnits = 0 }, addData: function () { var t, e = this, a = e.value; for (e.addPattern(e.START), t = 0; t < a.length; t++)e.addCharacter(a.charAt(t)); e.options.addCheckSum && e.addCheckSum(), e.addPattern(e.STOP), e.setBaseUnit() }, setBaseUnit: function () { var t = this; t.baseUnit = t.width / (t.totalUnits + t.quietZoneLength) }, addCheckSum: function () { var t, e = this, a = e.value, n = a.length, i = e.getWeightedSum(a, n, e.cCheckSumTotal) % e.checkSumMod; e.checksum = i + "", e.addPattern(e.characterMap[i]), n++ , n >= e.kCheckSumMinLength && (t = (i + e.getWeightedSum(a, n, e.kCheckSumTotal)) % e.checkSumMod, e.checksum += t, e.addPattern(e.characterMap[t])) }, getWeightedSum: function (t, e, a) { var n, i = 0; for (n = 0; n < t.length; n++)i += this.weightedValue(this.getValue(t.charAt(n)), e, n, a); return i }, weightedValue: function (t, e, a, n) { var i = (e - a) % n || n; return i * t }, getValue: function (t) { var e = this; return isNaN(t) ? (t !== e.DASH && e.invalidCharacterError(t), e.DASH_VALUE) : parseInt(t, 10) }, addCharacter: function (t) { var e = this, a = e.getValue(t), n = e.characterMap[a]; e.addPattern(n) }, addPattern: function (t) { var e, a; for (a = 0; a < t.length; a++)e = parseInt(t.charAt(a), 10), this.pattern.push(e), this.totalUnits += e }, characterMap: ["111121", "211121", "121121", "221111", "112121", "212111", "122111", "111221", "211211", "211111", "112111"], options: { addCheckSum: !0 } }), _.postnet = T.extend({ name: "Postnet", START: "2", VALID_CODE_LENGTHS: [5, 9, 11], DIGIT_SEPARATOR: "-", initValue: function (t, e, a) { var n = this; n.height = a, n.width = e, n.baseHeight = a / 2, n.value = t.replace(RegExp(n.DIGIT_SEPARATOR, "g"), ""), n.pattern = [], n.validate(n.value), n.checkSum = 0, n.setBaseUnit() }, addData: function () { var t, e = this, a = e.value; for (e.addPattern(e.START), t = 0; t < a.length; t++)e.addCharacter(a.charAt(t)); e.options.addCheckSum && e.addCheckSum(), e.addPattern(e.START), e.pattern.pop() }, addCharacter: function (t) { var e = this, a = e.characterMap[t]; e.checkSum += parseInt(t, 10), e.addPattern(a) }, addCheckSum: function () { var t = this; t.checksum = (10 - t.checkSum % 10) % 10, t.addCharacter(t.checksum) }, setBaseUnit: function () { var t = this, e = 3; t.baseUnit = t.width / (10 * (t.value.length + 1) + e + t.quietZoneLength) }, validate: function (t) { var e = this; if (y.test(t) || e.invalidCharacterError(t.match(/[^0-9]/)[0]), p(t.length, e.VALID_CODE_LENGTHS) < 0) throw Error("Invalid value length. Valid lengths for the Postnet symbology are " + e.VALID_CODE_LENGTHS.join(",")) }, addPattern: function (t) { var e, a, n = this; for (a = 0; a < t.length; a++)e = n.height - n.baseHeight * t.charAt(a), n.pattern.push({ width: 1, y1: e, y2: n.height }), n.pattern.push(1) }, characterMap: ["22111", "11122", "11212", "11221", "12112", "12121", "12211", "21112", "21121", "21211"] }), _.ean13 = T.extend({ initValue: function (t, e, a) { if (t += "", 12 != t.length || /\D/.test(t)) throw Error('The value of the "EAN13" encoding should be 12 symbols'); var n = this; n.pattern = [], n.options.height = a, n.baseUnit = e / (95 + n.quietZoneLength), n.value = t, n.checksum = n.calculateChecksum(), n.leftKey = t[0], n.leftPart = t.substr(1, 6), n.rightPart = t.substr(7) + n.checksum }, addData: function () { var t = this; t.addPieces(t.characterMap.start), t.addSide(t.leftPart, t.leftKey), t.addPieces(t.characterMap.middle), t.addSide(t.rightPart), t.addPieces(t.characterMap.start) }, addSide: function (t, e) { var a, n = this; for (a = 0; a < t.length; a++)e && parseInt(n.keyTable[e].charAt(a), 10) ? n.addPieces(Array.prototype.slice.call(n.characterMap.digits[t.charAt(a)]).reverse(), !0) : n.addPieces(n.characterMap.digits[t.charAt(a)], !0) }, addPieces: function (t, e) { var a, n = this; for (a = 0; a < t.length; a++)n.pattern.push(e ? { y1: 0, y2: .95 * n.options.height, width: t[a] } : t[a]) }, calculateChecksum: function () { var t, e, a = 0, n = 0, i = this.value.split("").reverse().join(""); for (t = 0; t < i.length; t++)t % 2 ? n += parseInt(i.charAt(t), 10) : a += parseInt(i.charAt(t), 10); return e = (10 - (3 * a + n) % 10) % 10 }, keyTable: ["000000", "001011", "001101", "001110", "010011", "011001", "011100", "010101", "010110", "011010"], characterMap: { digits: [[3, 2, 1, 1], [2, 2, 2, 1], [2, 1, 2, 2], [1, 4, 1, 1], [1, 1, 3, 2], [1, 2, 3, 1], [1, 1, 1, 4], [1, 3, 1, 2], [1, 2, 1, 3], [3, 1, 1, 2]], start: [1, 1, 1], middle: [1, 1, 1, 1, 1] } }), _.ean8 = _.ean13.extend({ initValue: function (t, e, a) { var n = this; if (7 != t.length || /\D/.test(t)) throw Error("Invalid value provided"); n.value = t, n.options.height = a, n.checksum = n.calculateChecksum(n.value), n.leftPart = n.value.substr(0, 4), n.rightPart = n.value.substr(4) + n.checksum, n.pattern = [], n.baseUnit = e / (67 + n.quietZoneLength) } }), h = u.extend({ init: function (e, a) { var n = this; u.fn.init.call(n, e, a), n.element = t(e), n.wrapper = n.element, n.element.addClass("k-barcode").css("display", "block"), n.surfaceWrap = t("<div />").css("position", "relative").appendTo(this.element), n.surface = v.Surface.create(n.surfaceWrap, { type: n.options.renderAs }), n._setOptions(a), a && m(a.value) && n.redraw() }, setOptions: function (t) { this._setOptions(t), this.redraw() }, redraw: function () { var t = this._getSize(); this.surface.clear(), this.surface.setSize({ width: t.width, height: t.height }), this.createVisual(), this.surface.draw(this.visual) }, getSize: function () { return d.dimensions(this.element) }, _resize: function () { this.redraw() }, createVisual: function () { this.visual = this._render() }, _render: function () { var t, e, a, n = this, i = n.options, r = i.value, o = i.text, s = w.getSpacing(o.margin), h = n._getSize(), d = i.border || {}, u = n.encoding, c = new S(0, 0, h.width, h.height).unpad(d.width).unpad(i.padding), l = c.height(), p = new v.Group; return n.contentBox = c, p.append(n._getBackground(h)), o.visible && (a = v.util.measureText(r, { font: o.font }).height, l -= a + s.top + s.bottom), t = u.encode(r, c.width(), l), o.visible && (e = r, i.checksum && m(u.checksum) && (e += " " + u.checksum), p.append(n._getText(e))), n.barHeight = l, this._bandsGroup = this._getBands(t.pattern, t.baseUnit), p.append(this._bandsGroup), p }, exportVisual: function () { return this._render() }, _getSize: function () { var t = this, e = t.element, a = new g.Size(B, x); return e.width() > 0 && (a.width = e.width()), e.height() > 0 && (a.height = e.height()), t.options.width && (a.width = t.options.width), t.options.height && (a.height = t.options.height), a }, value: function (t) { var a = this; return m(t) ? (a.options.value = t + "", a.redraw(), e) : a.options.value }, _getBands: function (t, e) { var a, n, i, r, o, s = this, h = s.contentBox, d = h.x1, u = new v.Group; for (i = 0; i < t.length; i++)n = f(t[i]) ? t[i] : { width: t[i], y1: 0, y2: s.barHeight }, a = n.width * e, i % 2 && (r = g.Rect.fromPoints(new g.Point(d, n.y1 + h.y1), new g.Point(d + a, n.y2 + h.y1)), o = v.Path.fromRect(r, { fill: { color: s.options.color }, stroke: null }), u.append(o)), d += a; return u }, _getBackground: function (t) { var e = this, a = e.options, n = a.border || {}, i = new S(0, 0, t.width, t.height).unpad(n.width / 2), r = v.Path.fromRect(i.toRect(), { fill: { color: a.background }, stroke: { color: n.width ? n.color : "", width: n.width, dashType: n.dashType } }); return r }, _getText: function (t) { var e = this, a = e.options.text, n = e._textbox = new C(t, { font: a.font, color: a.color, align: "center", vAlign: "bottom", margin: a.margin }); return n.reflow(e.contentBox), n.renderVisual(), n.visual }, _setOptions: function (t) { var e = this; if (e.type = (t.type || e.options.type).toLowerCase(), "upca" == e.type && (e.type = "ean13", t.value = "0" + t.value), "upce" == e.type && (e.type = "ean8", t.value = "0" + t.value), !_[e.type]) throw Error("Encoding " + e.type + "is not supported."); e.encoding = new _[e.type], e.options = c(!0, e.options, t) }, options: { name: "Barcode", renderAs: "svg", value: "", type: "code39", checksum: !1, width: 0, height: 0, color: "black", background: "white", text: { visible: !0, font: "16px Consolas, Monaco, Sans Mono, monospace, sans-serif", color: "black", margin: { top: 0, bottom: 0, left: 0, right: 0 } }, border: { width: 0, dashType: "solid", color: "black" }, padding: { top: 0, bottom: 0, left: 0, right: 0 } } }), w.ExportMixin.extend(h.fn), w.ui.plugin(h), d.deepExtend(w, { encodings: _, Encoding: T }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, a) { (a || e)() });; !function (o, define) { define("util/text-metrics.min", ["kendo.core.min"], o) }(function () { !function (o) { function e(o) { return (o + "").replace(i, n) } function r(o) { var e, r = []; for (e in o) r.push(e + o[e]); return r.sort().join("") } function l(o) { var e, r = 2166136261; for (e = 0; e < o.length; ++e)r += (r << 1) + (r << 4) + (r << 7) + (r << 8) + (r << 24), r ^= o.charCodeAt(e); return r >>> 0 } function c() { return { width: 0, height: 0, baseline: 0 } } function a(o, e, r) { return d.current.measure(o, e, r) } var t, i, n, s, f, d; window.kendo.util = window.kendo.util || {}, t = kendo.Class.extend({ init: function (o) { this._size = o, this._length = 0, this._map = {} }, put: function (o, e) { var r = this._map, l = { key: o, value: e }; r[o] = l, this._head ? (this._tail.newer = l, l.older = this._tail, this._tail = l) : this._head = this._tail = l, this._length >= this._size ? (r[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (o) { var e = this._map[o]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), i = /\r?\n|\r|\t/g, n = " ", s = { baselineMarkerSize: 1 }, "undefined" != typeof document && (f = document.createElement("div"), f.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), d = kendo.Class.extend({ init: function (e) { this._cache = new t(1e3), this.options = o.extend({}, s, e) }, measure: function (o, a, t) { var i, n, s, d, b, h, u, k, g; if (void 0 === t && (t = {}), !o) return c(); if (i = r(a), n = l(o + i), s = this._cache.get(n)) return s; d = c(), b = t.box || f, h = this._baselineMarker().cloneNode(!1); for (u in a) k = a[u], void 0 !== k && (b.style[u] = k); return g = t.normalizeText !== !1 ? e(o) : o + "", b.textContent = g, b.appendChild(h), document.body.appendChild(b), g.length && (d.width = b.offsetWidth - this.options.baselineMarkerSize, d.height = b.offsetHeight, d.baseline = h.offsetTop + this.options.baselineMarkerSize), d.width > 0 && d.height > 0 && this._cache.put(n, d), b.parentNode.removeChild(b), d }, _baselineMarker: function () { var o = document.createElement("div"); return o.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", o } }), d.current = new d, kendo.deepExtend(kendo.util, { LRUCache: t, TextMetrics: d, measureText: a, objectKey: r, hashKey: l, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (o, e, r) { (r || e)() }), function (o, define) { define("dataviz/themes/chart-base-theme.min", ["kendo.dataviz.core.min"], o) }(function () { !function () { var o, e, r, l, c, a, t, i, n, s, f, d, b, h, u, k, g, m, v, p, D, w, C, y, x, B, z, T, j, L, _, A, G, P; window.kendo.dataviz = window.kendo.dataviz || {}, o = 1.5, e = .4, r = "#000", l = "Arial, Helvetica, sans-serif", c = "11px " + l, a = "12px " + l, t = "16px " + l, i = "transparent", n = "#fff", s = function () { return { icon: { border: { width: 1 } }, label: { font: a, padding: 3 }, line: { length: 10, width: 2 }, visible: !0 } }, f = function () { return { labels: { font: a }, notes: s(), title: { font: t, margin: 5 } } }, d = function () { return { highlight: { markers: { border: {} } }, line: { opacity: 1, width: 0 }, markers: { size: 6, visible: !1 }, opacity: .4 } }, b = function () { return { highlight: { markers: { border: {} } }, line: { opacity: 1, width: 0 }, markers: { size: 6, visible: !1 }, opacity: .4 } }, h = function () { return { gap: o, spacing: e } }, u = function () { return { outliersField: "", meanField: "", border: { _brightness: .8, width: 1 }, downColor: n, gap: 1, highlight: { border: { opacity: 1, width: 2 }, whiskers: { width: 3 }, mean: { width: 2 }, median: { width: 2 } }, mean: { width: 2 }, median: { width: 2 }, spacing: .3, whiskers: { width: 2 } } }, k = function () { return { border: { width: 0 }, labels: { background: i }, opacity: .6 } }, g = function () { return { gap: o, spacing: e, target: { color: "#ff0000" } } }, m = function () { return { border: { _brightness: .8, width: 1 }, downColor: n, gap: 1, highlight: { border: { opacity: 1, width: 2 }, line: { width: 2 } }, line: { color: r, width: 1 }, spacing: .3 } }, v = function () { return { gap: o, spacing: e } }, p = function () { return { margin: 1 } }, D = function () { return { width: 2 } }, w = function () { return { gap: 1, highlight: { line: { opacity: 1, width: 3 } }, line: { width: 1 }, spacing: .3 } }, C = function () { return { line: { opacity: 1, width: 0 }, markers: { size: 6, visible: !1 }, opacity: .5 } }, y = function () { return { markers: { visible: !1 }, width: 2 } }, x = function () { return { gap: o, spacing: e } }, B = function () { return { gap: o, spacing: e } }, z = function () { return { width: 1 } }, T = function () { return { gap: .5, line: { color: r, width: 1 }, spacing: e } }, j = function () { return { labels: { background: "", color: "", padding: { top: 5, bottom: 5, left: 7, right: 7 } } } }, L = function () { return { labels: { background: "", color: "", padding: { top: 5, bottom: 5, left: 7, right: 7 } } } }, _ = function (o) { return { visible: !0, labels: { font: c }, overlay: o.gradients ? {} : { gradient: "none" }, area: d(), rangeArea: b(), verticalRangeArea: b(), bar: h(), boxPlot: u(), bubble: k(), bullet: g(), candlestick: m(), column: v(), pie: j(), donut: p(), funnel: L(), horizontalWaterfall: T(), line: D(), notes: s(), ohlc: w(), radarArea: C(), radarLine: y(), polarArea: C(), polarLine: y(), rangeBar: x(), rangeColumn: B(), scatterLine: z(), verticalArea: d(), verticalBoxPlot: u(), verticalBullet: g(), verticalLine: D(), waterfall: T() } }, A = function () { return { font: t } }, G = function () { return { labels: { font: a } } }, P = function (o) { return void 0 === o && (o = {}), { axisDefaults: f(), categoryAxis: { majorGridLines: { visible: !0 } }, navigator: { pane: { height: 90, margin: { top: 10 } } }, seriesDefaults: _(o), title: A(), legend: G() } }, kendo.deepExtend(kendo.dataviz, { chartBaseTheme: P }) }() }, "function" == typeof define && define.amd ? define : function (o, e, r) { (r || e)() }), function (o, define) { define("dataviz/themes/auto-theme.min", ["kendo.dataviz.core.min"], o) }(function () { function o(o) { function r(o, e) { c(o, l(e, "backgroundColor")) } function l(o, e) { return t.find(".k-var--" + o).css(e) } function c(o, e) { for (var r = a, l = o.split("."), c = l.shift(); l.length > 0;)r = r[c] = r[c] || {}, c = l.shift(); r[c] = e } var a, t; return !o && e ? e : (a = { chart: kendo.dataviz.chartBaseTheme() }, t = $('<div style="display: none">  <div class="k-var--accent"></div>  <div class="k-var--accent-contrast"></div>  <div class="k-var--base"></div>  <div class="k-var--background"></div>  <div class="k-var--normal-background"></div>  <div class="k-var--normal-text-color"></div>  <div class="k-var--hover-background"></div>  <div class="k-var--hover-text-color"></div>  <div class="k-var--selected-background"></div>  <div class="k-var--selected-text-color"></div>  <div class="k-var--chart-error-bars-background"></div>  <div class="k-var--chart-notes-background"></div>  <div class="k-var--chart-notes-border"></div>  <div class="k-var--chart-notes-lines"></div>  <div class="k-var--chart-crosshair-background"></div>  <div class="k-var--chart-inactive"></div>  <div class="k-var--chart-major-lines"></div>  <div class="k-var--chart-minor-lines"></div>  <div class="k-var--chart-area-opacity"></div>  <div class="k-widget">      <div class="k-var--chart-font"></div>      <div class="k-var--chart-title-font"></div>      <div class="k-var--chart-label-font"></div>  </div>  <div class="k-var--series">    <div class="k-var--series-a"></div>    <div class="k-var--series-b"></div>    <div class="k-var--series-c"></div>    <div class="k-var--series-d"></div>    <div class="k-var--series-e"></div>    <div class="k-var--series-f"></div>  </div></div>').appendTo(document.body), function () { r("chart.axisDefaults.crosshair.color", "chart-crosshair-background"), r("chart.axisDefaults.labels.color", "normal-text-color"), r("chart.axisDefaults.line.color", "chart-major-lines"), r("chart.axisDefaults.majorGridLines.color", "chart-major-lines"), r("chart.axisDefaults.minorGridLines.color", "chart-minor-lines"), r("chart.axisDefaults.notes.icon.background", "chart-notes-background"), r("chart.axisDefaults.notes.icon.border.color", "chart-notes-border"), r("chart.axisDefaults.notes.line.color", "chart-notes-lines"), r("chart.axisDefaults.title.color", "normal-text-color"), r("chart.chartArea.background", "background"), r("chart.legend.inactiveItems.labels.color", "chart-inactive"), r("chart.legend.inactiveItems.markers.color", "chart-inactive"), r("chart.legend.labels.color", "normal-text-color"), r("chart.seriesDefaults.boxPlot.downColor", "chart-major-lines"), r("chart.seriesDefaults.boxPlot.mean.color", "base"), r("chart.seriesDefaults.boxPlot.median.color", "base"), r("chart.seriesDefaults.boxPlot.whiskers.color", "accent"), r("chart.seriesDefaults.bullet.target.color", "accent"), r("chart.seriesDefaults.candlestick.downColor", "normal-text-color"), r("chart.seriesDefaults.candlestick.line.color", "normal-text-color"), r("chart.seriesDefaults.errorBars.color", "chart-error-bars-background"), r("chart.seriesDefaults.horizontalWaterfall.line.color", "chart-major-lines"), r("chart.seriesDefaults.icon.border.color", "chart-major-lines"), r("chart.seriesDefaults.labels.background", "background"), r("chart.seriesDefaults.labels.color", "normal-text-color"), r("chart.seriesDefaults.notes.icon.background", "chart-notes-background"), r("chart.seriesDefaults.notes.icon.border.color", "chart-notes-border"), r("chart.seriesDefaults.notes.line.color", "chart-notes-lines"), r("chart.seriesDefaults.verticalBoxPlot.downColor", "chart-major-lines"), r("chart.seriesDefaults.verticalBoxPlot.mean.color", "base"), r("chart.seriesDefaults.verticalBoxPlot.median.color", "base"), r("chart.seriesDefaults.verticalBoxPlot.whiskers.color", "accent"), r("chart.seriesDefaults.verticalBullet.target.color", "accent"), r("chart.seriesDefaults.waterfall.line.color", "chart-major-lines"), r("chart.title.color", "normal-text-color"), c("chart.seriesDefaults.labels.opacity", l("chart-area-opacity", "opacity")), r("diagram.shapeDefaults.fill.color", "accent"), r("diagram.shapeDefaults.content.color", "accent-contrast"), r("diagram.shapeDefaults.connectorDefaults.fill.color", "normal-text-color"), r("diagram.shapeDefaults.connectorDefaults.stroke.color", "accent-contrast"), r("diagram.shapeDefaults.connectorDefaults.hover.fill.color", "accent-contrast"), r("diagram.shapeDefaults.connectorDefaults.hover.stroke.color", "normal-text-color"), r("diagram.editable.resize.handles.stroke.color", "normal-text-color"), r("diagram.editable.resize.handles.fill.color", "normal-background"), r("diagram.editable.resize.handles.hover.stroke.color", "normal-text-color"), r("diagram.editable.resize.handles.hover.fill.color", "normal-text-color"), r("diagram.selectable.stroke.color", "normal-text-color"), r("diagram.connectionDefaults.stroke.color", "normal-text-color"), r("diagram.connectionDefaults.content.color", "normal-text-color"), r("diagram.connectionDefaults.selection.handles.fill.color", "accent-contrast"), r("diagram.connectionDefaults.selection.handles.stroke.color", "normal-text-color"), r("diagram.connectionDefaults.selection.stroke.color", "normal-text-color") }(), function () { function o(o) { return l(o, "fontSize") + " " + l(o, "fontFamily") } var e = o("chart-font"), r = o("chart-title-font"), a = o("chart-label-font"); c("chart.axisDefaults.labels.font", a), c("chart.axisDefaults.notes.label.font", e), c("chart.axisDefaults.title.font", e), c("chart.legend.labels.font", e), c("chart.seriesDefaults.labels.font", a), c("chart.seriesDefaults.notes.label.font", e), c("chart.title.font", r) }(), function () { function o(o) { return o.toLowerCase().charCodeAt(0) - "a".charCodeAt(0) } function e(e) { return o(e.match(/series-([a-z])$/)[1]) } var r = $(".k-var--series div").toArray(), l = r.reduce(function (o, r) { var l = e(r.className); return o[l] = $(r).css("backgroundColor"), o }, []); c("chart.seriesColors", l) }(), t.remove(), e = a, a) } var e; kendo.dataviz.autoTheme = o }, "function" == typeof define && define.amd ? define : function (o, e, r) { (r || e)() }), function (o, define) { define("dataviz/themes/themes.min", ["dataviz/themes/chart-base-theme.min"], o) }(function () {
    return function (o) {
        function e(e, r) { return o.map(e, function (o, e) { return [[o, r[e]]] }) } var r = window.kendo, l = r.dataviz.ui, c = r.deepExtend, a = "#000", t = "Arial,Helvetica,sans-serif", i = "12px " + t, n = "#fff", s = r.dataviz.chartBaseTheme({ gradients: !0 }), f = { scale: { labels: { font: i } } }, d = { shapeDefaults: { hover: { opacity: .2 }, stroke: { width: 0 } }, editable: { resize: { handles: { width: 7, height: 7 } } }, selectable: { stroke: { width: 1, dashType: "dot" } }, connectionDefaults: { stroke: { width: 2 }, selection: { handles: { width: 8, height: 8 } }, editable: { tools: ["edit", "delete"] } } }, b = l.themes, h = l.registerTheme = function (o, e) { var r, l = {}; l.chart = c({}, s, e.chart), l.gauge = c({}, f, e.gauge), l.diagram = c({}, d, e.diagram), l.treeMap = c({}, e.treeMap), r = l.chart.seriesDefaults, r.verticalLine = c({}, r.line), r.verticalArea = c({}, r.area), r.rangeArea = c({}, r.area), r.verticalRangeArea = c({}, r.rangeArea), r.verticalBoxPlot = c({}, r.boxPlot), r.polarArea = c({}, r.radarArea), r.polarLine = c({}, r.radarLine), b[o] = l }; h("black", { chart: { title: { color: n }, legend: { labels: { color: n }, inactiveItems: { labels: { color: "#919191" }, markers: { color: "#919191" } } }, seriesDefaults: { labels: { color: n }, errorBars: { color: n }, notes: { icon: { background: "#3b3b3b", border: { color: "#8e8e8e" } }, label: { color: n }, line: { color: "#8e8e8e" } }, pie: { overlay: { gradient: "sharpBevel" } }, donut: { overlay: { gradient: "sharpGlass" } }, line: { markers: { background: "#3d3d3d" } }, scatter: { markers: { background: "#3d3d3d" } }, scatterLine: { markers: { background: "#3d3d3d" } }, waterfall: { line: { color: "#8e8e8e" } }, horizontalWaterfall: { line: { color: "#8e8e8e" } }, candlestick: { downColor: "#555", line: { color: n }, border: { _brightness: 1.5, opacity: 1 }, highlight: { border: { color: n, opacity: .2 } } }, ohlc: { line: { color: n } } }, chartArea: { background: "#3d3d3d" }, seriesColors: ["#0081da", "#3aafff", "#99c900", "#ffeb3d", "#b20753", "#ff4195"], axisDefaults: { line: { color: "#8e8e8e" }, labels: { color: n }, majorGridLines: { color: "#545454" }, minorGridLines: { color: "#454545" }, title: { color: n }, crosshair: { color: "#8e8e8e" }, notes: { icon: { background: "#3b3b3b", border: { color: "#8e8e8e" } }, label: { color: n }, line: { color: "#8e8e8e" } } } }, gauge: { pointer: { color: "#0070e4" }, scale: { rangePlaceholderColor: "#1d1d1d", labels: { color: n }, minorTicks: { color: n }, majorTicks: { color: n }, line: { color: n } } }, diagram: { shapeDefaults: { fill: { color: "#0066cc" }, connectorDefaults: { fill: { color: n }, stroke: { color: "#384049" }, hover: { fill: { color: "#3d3d3d" }, stroke: { color: "#efefef" } } }, content: { color: n } }, editable: { resize: { handles: { fill: { color: "#3d3d3d" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: n } } } }, rotate: { thumb: { stroke: { color: n }, fill: { color: n } } } }, selectable: { stroke: { color: n } }, connectionDefaults: { stroke: { color: n }, content: { color: n }, selection: { handles: { fill: { color: "#3d3d3d" }, stroke: { color: "#efefef" } } } } }, treeMap: { colors: [["#0081da", "#314b5c"], ["#3aafff", "#3c5464"], ["#99c900", "#4f5931"], ["#ffeb3d", "#64603d"], ["#b20753", "#543241"], ["#ff4195", "#643e4f"]] } }), h("blueopal", { chart: { title: { color: "#293135" }, legend: { labels: { color: "#293135" }, inactiveItems: { labels: { color: "#27A5BA" }, markers: { color: "#27A5BA" } } }, seriesDefaults: { labels: { color: a, background: n, opacity: .5 }, errorBars: { color: "#293135" }, candlestick: { downColor: "#c4d0d5", line: { color: "#9aabb2" } }, waterfall: { line: { color: "#9aabb2" } }, horizontalWaterfall: { line: { color: "#9aabb2" } }, notes: { icon: { background: "transparent", border: { color: "#9aabb2" } }, label: { color: "#293135" }, line: { color: "#9aabb2" } } }, seriesColors: ["#0069a5", "#0098ee", "#7bd2f6", "#ffb800", "#ff8517", "#e34a00"], axisDefaults: { line: { color: "#9aabb2" }, labels: { color: "#293135" }, majorGridLines: { color: "#c4d0d5" }, minorGridLines: { color: "#edf1f2" }, title: { color: "#293135" }, crosshair: { color: "#9aabb2" }, notes: { icon: { background: "transparent", border: { color: "#9aabb2" } }, label: { color: "#293135" }, line: { color: "#9aabb2" } } } }, gauge: { pointer: { color: "#005c83" }, scale: { rangePlaceholderColor: "#daecf4", labels: { color: "#293135" }, minorTicks: { color: "#293135" }, majorTicks: { color: "#293135" }, line: { color: "#293135" } } }, diagram: { shapeDefaults: { fill: { color: "#7ec6e3" }, connectorDefaults: { fill: { color: "#003f59" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#003f59" } } }, content: { color: "#293135" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#003f59" }, hover: { fill: { color: "#003f59" }, stroke: { color: "#003f59" } } } }, rotate: { thumb: { stroke: { color: "#003f59" }, fill: { color: "#003f59" } } } }, selectable: { stroke: { color: "#003f59" } }, connectionDefaults: { stroke: { color: "#003f59" }, content: { color: "#293135" }, selection: { handles: { fill: { color: "#3d3d3d" }, stroke: { color: "#efefef" } } } } }, treeMap: { colors: [["#0069a5", "#bad7e7"], ["#0098ee", "#b9e0f5"], ["#7bd2f6", "#ceeaf6"], ["#ffb800", "#e6e3c4"], ["#ff8517", "#e4d8c8"], ["#e34a00", "#ddccc2"]] } }), h("highcontrast", { chart: { title: { color: "#ffffff" }, legend: { labels: { color: "#ffffff" }, inactiveItems: { labels: { color: "#66465B" }, markers: { color: "#66465B" } } }, seriesDefaults: { labels: { color: "#ffffff" }, errorBars: { color: "#ffffff" }, notes: { icon: { background: "transparent", border: { color: "#ffffff" } }, label: { color: "#ffffff" }, line: { color: "#ffffff" } }, pie: { overlay: { gradient: "sharpGlass" } }, donut: { overlay: { gradient: "sharpGlass" } }, line: { markers: { background: "#2c232b" } }, scatter: { markers: { background: "#2c232b" } }, scatterLine: { markers: { background: "#2c232b" } }, area: { opacity: .5 }, waterfall: { line: { color: "#ffffff" } }, horizontalWaterfall: { line: { color: "#ffffff" } }, candlestick: { downColor: "#664e62", line: { color: "#ffffff" }, border: { _brightness: 1.5, opacity: 1 }, highlight: { border: { color: "#ffffff", opacity: 1 } } }, ohlc: { line: { color: "#ffffff" } } }, chartArea: { background: "#2c232b" }, seriesColors: ["#a7008f", "#ffb800", "#3aafff", "#99c900", "#b20753", "#ff4195"], axisDefaults: { line: { color: "#ffffff" }, labels: { color: "#ffffff" }, majorGridLines: { color: "#664e62" }, minorGridLines: { color: "#4f394b" }, title: { color: "#ffffff" }, crosshair: { color: "#ffffff" }, notes: { icon: { background: "transparent", border: { color: "#ffffff" } }, label: { color: "#ffffff" }, line: { color: "#ffffff" } } } }, gauge: { pointer: { color: "#a7008f" }, scale: { rangePlaceholderColor: "#2c232b", labels: { color: "#ffffff" }, minorTicks: { color: "#2c232b" }, majorTicks: { color: "#664e62" }, line: { color: "#ffffff" } } }, diagram: { shapeDefaults: { fill: { color: "#a7018f" }, connectorDefaults: { fill: { color: n }, stroke: { color: "#2c232b" }, hover: { fill: { color: "#2c232b" }, stroke: { color: n } } }, content: { color: n } }, editable: { resize: { handles: { fill: { color: "#2c232b" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: n } } } }, rotate: { thumb: { stroke: { color: n }, fill: { color: n } } } }, selectable: { stroke: { color: n } }, connectionDefaults: { stroke: { color: n }, content: { color: n }, selection: { handles: { fill: { color: "#2c232b" }, stroke: { color: n } } } } }, treeMap: { colors: [["#a7008f", "#451c3f"], ["#ffb800", "#564122"], ["#3aafff", "#2f3f55"], ["#99c900", "#424422"], ["#b20753", "#471d33"], ["#ff4195", "#562940"]] } }), h("default", { chart: { title: { color: "#8e8e8e" }, legend: { labels: { color: "#232323" }, inactiveItems: { labels: { color: "#919191" }, markers: { color: "#919191" } } }, seriesDefaults: { labels: { color: a, background: n, opacity: .5 }, errorBars: { color: "#232323" }, candlestick: { downColor: "#dedede", line: { color: "#8d8d8d" } }, waterfall: { line: { color: "#8e8e8e" } }, horizontalWaterfall: { line: { color: "#8e8e8e" } }, notes: { icon: { background: "transparent", border: { color: "#8e8e8e" } }, label: { color: "#232323" }, line: { color: "#8e8e8e" } } }, seriesColors: ["#ff6800", "#a0a700", "#ff8d00", "#678900", "#ffb53c", "#396000"], axisDefaults: { line: { color: "#8e8e8e" }, labels: { color: "#232323" }, minorGridLines: { color: "#f0f0f0" }, majorGridLines: { color: "#dfdfdf" }, title: { color: "#232323" }, crosshair: { color: "#8e8e8e" }, notes: { icon: { background: "transparent", border: { color: "#8e8e8e" } }, label: { color: "#232323" }, line: { color: "#8e8e8e" } } } }, gauge: { pointer: { color: "#ea7001" }, scale: { rangePlaceholderColor: "#dedede", labels: { color: "#2e2e2e" }, minorTicks: { color: "#2e2e2e" }, majorTicks: { color: "#2e2e2e" }, line: { color: "#2e2e2e" } } }, diagram: { shapeDefaults: { fill: { color: "#e15613" }, connectorDefaults: { fill: { color: "#282828" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#282828" } } }, content: { color: "#2e2e2e" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#282828" }, hover: { fill: { color: "#282828" }, stroke: { color: "#282828" } } } }, rotate: { thumb: { stroke: { color: "#282828" }, fill: { color: "#282828" } } } }, selectable: { stroke: { color: "#a7018f" } }, connectionDefaults: { stroke: { color: "#282828" }, content: { color: "#2e2e2e" }, selection: { handles: { fill: { color: n }, stroke: { color: "#282828" } } } } }, treeMap: { colors: [["#ff6800", "#edcfba"], ["#a0a700", "#dadcba"], ["#ff8d00", "#edd7ba"], ["#678900", "#cfd6ba"], ["#ffb53c", "#eddfc6"], ["#396000", "#c6ceba"]] } }), h("silver", { chart: { title: { color: "#4e5968" }, legend: { labels: { color: "#4e5968" }, inactiveItems: { labels: { color: "#B1BCC8" }, markers: { color: "#B1BCC8" } } }, seriesDefaults: { labels: { color: "#293135", background: "#eaeaec", opacity: .5 }, errorBars: { color: "#4e5968" }, notes: { icon: { background: "transparent", border: { color: "#4e5968" } }, label: { color: "#4e5968" }, line: { color: "#4e5968" } }, line: { markers: { background: "#eaeaec" } }, scatter: { markers: { background: "#eaeaec" } }, scatterLine: { markers: { background: "#eaeaec" } }, pie: { connectors: { color: "#A6B1C0" } }, donut: { connectors: { color: "#A6B1C0" } }, waterfall: { line: { color: "#a6b1c0" } }, horizontalWaterfall: { line: { color: "#a6b1c0" } }, candlestick: { downColor: "#a6afbe" } }, chartArea: { background: "#eaeaec" }, seriesColors: ["#007bc3", "#76b800", "#ffae00", "#ef4c00", "#a419b7", "#430B62"], axisDefaults: { line: { color: "#a6b1c0" }, labels: { color: "#4e5968" }, majorGridLines: { color: "#dcdcdf" }, minorGridLines: { color: "#eeeeef" }, title: { color: "#4e5968" }, crosshair: { color: "#a6b1c0" }, notes: { icon: { background: "transparent", border: { color: "#4e5968" } }, label: { color: "#4e5968" }, line: { color: "#4e5968" } } } }, gauge: { pointer: { color: "#0879c0" }, scale: { rangePlaceholderColor: "#f3f3f4", labels: { color: "#515967" }, minorTicks: { color: "#515967" }, majorTicks: { color: "#515967" }, line: { color: "#515967" } } }, diagram: { shapeDefaults: { fill: { color: "#1c82c2" }, connectorDefaults: { fill: { color: "#515967" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#282828" } } }, content: { color: "#515967" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#515967" }, hover: { fill: { color: "#515967" }, stroke: { color: "#515967" } } } }, rotate: { thumb: { stroke: { color: "#515967" }, fill: { color: "#515967" } } } }, selectable: { stroke: { color: "#515967" } }, connectionDefaults: { stroke: { color: "#515967" }, content: { color: "#515967" }, selection: { handles: { fill: { color: n }, stroke: { color: "#515967" } } } } }, treeMap: { colors: [["#007bc3", "#c2dbea"], ["#76b800", "#dae7c3"], ["#ffae00", "#f5e5c3"], ["#ef4c00", "#f2d2c3"], ["#a419b7", "#e3c7e8"], ["#430b62", "#d0c5d7"]] } }), h("metro", { chart: { title: { color: "#777777" }, legend: { labels: { color: "#777777" }, inactiveItems: { labels: { color: "#CBCBCB" }, markers: { color: "#CBCBCB" } } }, seriesDefaults: { labels: { color: a }, errorBars: { color: "#777777" }, notes: { icon: { background: "transparent", border: { color: "#777777" } }, label: { color: "#777777" }, line: { color: "#777777" } }, candlestick: { downColor: "#c7c7c7", line: { color: "#787878" } }, waterfall: { line: { color: "#c7c7c7" } }, horizontalWaterfall: { line: { color: "#c7c7c7" } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: ["#8ebc00", "#309b46", "#25a0da", "#ff6900", "#e61e26", "#d8e404", "#16aba9", "#7e51a1", "#313131", "#ed1691"], axisDefaults: { line: { color: "#c7c7c7" }, labels: { color: "#777777" }, minorGridLines: { color: "#c7c7c7" }, majorGridLines: { color: "#c7c7c7" }, title: { color: "#777777" }, crosshair: { color: "#c7c7c7" }, notes: { icon: { background: "transparent", border: { color: "#777777" } }, label: { color: "#777777" }, line: { color: "#777777" } } } }, gauge: { pointer: { color: "#8ebc00" }, scale: { rangePlaceholderColor: "#e6e6e6", labels: { color: "#777" }, minorTicks: { color: "#777" }, majorTicks: { color: "#777" }, line: { color: "#777" } } }, diagram: { shapeDefaults: { fill: { color: "#8ebc00" }, connectorDefaults: { fill: { color: a }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: a } } }, content: { color: "#777" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#787878" }, hover: { fill: { color: "#787878" }, stroke: { color: "#787878" } } } }, rotate: { thumb: { stroke: { color: "#787878" }, fill: { color: "#787878" } } } }, selectable: { stroke: { color: "#515967" } }, connectionDefaults: { stroke: { color: "#787878" }, content: { color: "#777" }, selection: { handles: { fill: { color: n }, stroke: { color: "#787878" } } } } }, treeMap: { colors: [["#8ebc00", "#e8f2cc"], ["#309b46", "#d6ebda"], ["#25a0da", "#d3ecf8"], ["#ff6900", "#ffe1cc"], ["#e61e26", "#fad2d4"], ["#d8e404", "#f7facd"], ["#16aba9", "#d0eeee"], ["#7e51a1", "#e5dcec"], ["#313131", "#d6d6d6"], ["#ed1691", "#fbd0e9"]] } }), h("metroblack", { chart: { title: { color: "#ffffff" }, legend: { labels: { color: "#ffffff" }, inactiveItems: { labels: { color: "#797979" }, markers: { color: "#797979" } } }, seriesDefaults: { border: { _brightness: 1 }, labels: { color: "#ffffff" }, errorBars: { color: "#ffffff" }, notes: { icon: { background: "transparent", border: { color: "#cecece" } }, label: { color: "#ffffff" }, line: { color: "#cecece" } }, line: { markers: { background: "#0e0e0e" } }, bubble: { opacity: .6 }, scatter: { markers: { background: "#0e0e0e" } }, scatterLine: { markers: { background: "#0e0e0e" } }, candlestick: { downColor: "#828282", line: { color: "#ffffff" } }, waterfall: { line: { color: "#cecece" } }, horizontalWaterfall: { line: { color: "#cecece" } }, overlay: { gradient: "none" } }, chartArea: { background: "#0e0e0e" }, seriesColors: ["#00aba9", "#309b46", "#8ebc00", "#ff6900", "#e61e26", "#d8e404", "#25a0da", "#7e51a1", "#313131", "#ed1691"], axisDefaults: { line: { color: "#cecece" }, labels: { color: "#ffffff" }, minorGridLines: { color: "#2d2d2d" }, majorGridLines: { color: "#333333" }, title: { color: "#ffffff" }, crosshair: { color: "#cecece" }, notes: { icon: { background: "transparent", border: { color: "#cecece" } }, label: { color: "#ffffff" }, line: { color: "#cecece" } } } }, gauge: { pointer: { color: "#00aba9" }, scale: { rangePlaceholderColor: "#2d2d2d", labels: { color: "#ffffff" }, minorTicks: { color: "#333333" }, majorTicks: { color: "#cecece" }, line: { color: "#cecece" } } }, diagram: { shapeDefaults: { fill: { color: "#00aba9" }, connectorDefaults: { fill: { color: n }, stroke: { color: "#0e0e0e" }, hover: { fill: { color: "#0e0e0e" }, stroke: { color: n } } }, content: { color: n } }, editable: { resize: { handles: { fill: { color: "#0e0e0e" }, stroke: { color: "#787878" }, hover: { fill: { color: "#787878" }, stroke: { color: "#787878" } } } }, rotate: { thumb: { stroke: { color: n }, fill: { color: n } } } }, selectable: { stroke: { color: "#787878" } }, connectionDefaults: { stroke: { color: n }, content: { color: n }, selection: { handles: { fill: { color: "#0e0e0e" }, stroke: { color: n } } } } }, treeMap: { colors: [["#00aba9", "#0b2d2d"], ["#309b46", "#152a19"], ["#8ebc00", "#28310b"], ["#ff6900", "#3e200b"], ["#e61e26", "#391113"], ["#d8e404", "#36390c"], ["#25a0da", "#132b37"], ["#7e51a1", "#241b2b"], ["#313131", "#151515"], ["#ed1691", "#3b1028"]] } }), h("moonlight", { chart: { title: { color: "#ffffff" }, legend: { labels: { color: "#ffffff" }, inactiveItems: { labels: { color: "#A1A7AB" }, markers: { color: "#A1A7AB" } } }, seriesDefaults: { labels: { color: "#ffffff" }, errorBars: { color: "#ffffff" }, notes: { icon: { background: "transparent", border: { color: "#8c909e" } }, label: { color: "#ffffff" }, line: { color: "#8c909e" } }, pie: { overlay: { gradient: "sharpBevel" } }, donut: { overlay: { gradient: "sharpGlass" } }, line: { markers: { background: "#212a33" } }, bubble: { opacity: .6 }, scatter: { markers: { background: "#212a33" } }, scatterLine: { markers: { background: "#212a33" } }, area: { opacity: .3 }, candlestick: { downColor: "#757d87", line: { color: "#ea9d06" }, border: { _brightness: 1.5, opacity: 1 }, highlight: { border: { color: n, opacity: .2 } } }, waterfall: { line: { color: "#8c909e" } }, horizontalWaterfall: { line: { color: "#8c909e" } }, ohlc: { line: { color: "#ea9d06" } } }, chartArea: { background: "#212a33" }, seriesColors: ["#ffca08", "#ff710f", "#ed2e24", "#ff9f03", "#e13c02", "#a00201"], axisDefaults: { line: { color: "#8c909e" }, minorTicks: { color: "#8c909e" }, majorTicks: { color: "#8c909e" }, labels: { color: "#ffffff" }, majorGridLines: { color: "#3e424d" }, minorGridLines: { color: "#2f3640" }, title: { color: "#ffffff" }, crosshair: { color: "#8c909e" }, notes: { icon: { background: "transparent", border: { color: "#8c909e" } }, label: { color: "#ffffff" }, line: { color: "#8c909e" } } } }, gauge: { pointer: { color: "#f4af03" }, scale: { rangePlaceholderColor: "#2f3640", labels: { color: n }, minorTicks: { color: "#8c909e" }, majorTicks: { color: "#8c909e" }, line: { color: "#8c909e" } } }, diagram: { shapeDefaults: { fill: { color: "#f3ae03" }, connectorDefaults: { fill: { color: n }, stroke: { color: "#414550" }, hover: { fill: { color: "#414550" }, stroke: { color: n } } }, content: { color: n } }, editable: { resize: { handles: { fill: { color: "#414550" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: n } } } }, rotate: { thumb: { stroke: { color: n }, fill: { color: n } } } }, selectable: { stroke: { color: n } }, connectionDefaults: { stroke: { color: n }, content: { color: n }, selection: { handles: { fill: { color: "#414550" }, stroke: { color: n } } } } }, treeMap: { colors: [["#ffca08", "#4e4b2b"], ["#ff710f", "#4e392d"], ["#ed2e24", "#4b2c31"], ["#ff9f03", "#4e422a"], ["#e13c02", "#482e2a"], ["#a00201", "#3b232a"]] } }), h("uniform", { chart: { title: { color: "#686868" }, legend: { labels: { color: "#686868" }, inactiveItems: { labels: { color: "#B6B6B6" }, markers: { color: "#B6B6B6" } } }, seriesDefaults: { labels: { color: "#686868" }, errorBars: { color: "#686868" }, notes: { icon: { background: "transparent", border: { color: "#9e9e9e" } }, label: { color: "#686868" }, line: { color: "#9e9e9e" } }, pie: { overlay: { gradient: "sharpBevel" } }, donut: { overlay: { gradient: "sharpGlass" } }, line: { markers: { background: "#ffffff" } }, bubble: { opacity: .6 }, scatter: { markers: { background: "#ffffff" } }, scatterLine: { markers: { background: "#ffffff" } }, area: { opacity: .3 }, candlestick: { downColor: "#cccccc", line: { color: "#cccccc" }, border: { _brightness: 1.5, opacity: 1 }, highlight: { border: { color: "#cccccc", opacity: .2 } } }, waterfall: { line: { color: "#9e9e9e" } }, horizontalWaterfall: { line: { color: "#9e9e9e" } }, ohlc: { line: { color: "#cccccc" } } }, chartArea: { background: "#ffffff" }, seriesColors: ["#527aa3", "#6f91b3", "#8ca7c2", "#a8bdd1", "#c5d3e0", "#e2e9f0"], axisDefaults: { line: { color: "#9e9e9e" }, minorTicks: { color: "#aaaaaa" }, majorTicks: { color: "#888888" }, labels: { color: "#686868" }, majorGridLines: { color: "#dadada" }, minorGridLines: { color: "#e7e7e7" }, title: { color: "#686868" }, crosshair: { color: "#9e9e9e" }, notes: { icon: { background: "transparent", border: { color: "#9e9e9e" } }, label: { color: "#686868" }, line: { color: "#9e9e9e" } } } }, gauge: { pointer: { color: "#527aa3" }, scale: { rangePlaceholderColor: "#e7e7e7", labels: { color: "#686868" }, minorTicks: { color: "#aaaaaa" }, majorTicks: { color: "#888888" }, line: { color: "#9e9e9e" } } }, diagram: { shapeDefaults: { fill: { color: "#d1d1d1" }, connectorDefaults: { fill: { color: "#686868" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#686868" } } }, content: { color: "#686868" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#686868" }, hover: { fill: { color: "#686868" }, stroke: { color: "#686868" } } } }, rotate: { thumb: { stroke: { color: "#686868" }, fill: { color: "#686868" } } } }, selectable: { stroke: { color: "#686868" } }, connectionDefaults: { stroke: { color: "#686868" }, content: { color: "#686868" }, selection: { handles: { fill: { color: n }, stroke: { color: "#686868" } } } } }, treeMap: { colors: [["#527aa3", "#d0d8e1"], ["#6f91b3", "#d6dde4"], ["#8ca7c2", "#dce1e7"], ["#a8bdd1", "#e2e6ea"], ["#c5d3e0", "#e7eaed"], ["#e2e9f0", "#edeff0"]] } }), h("bootstrap", {
            chart: { title: { color: "#333333" }, legend: { labels: { color: "#333333" }, inactiveItems: { labels: { color: "#999999" }, markers: { color: "#9A9A9A" } } }, seriesDefaults: { labels: { color: "#333333" }, overlay: { gradient: "none" }, errorBars: { color: "#343434" }, notes: { icon: { background: "#000000", border: { color: "#000000" } }, label: { color: "#333333" }, line: { color: "#000000" } }, pie: { overlay: { gradient: "none" } }, donut: { overlay: { gradient: "none" } }, line: { markers: { background: "#ffffff" } }, bubble: { opacity: .6 }, scatter: { markers: { background: "#ffffff" } }, scatterLine: { markers: { background: "#ffffff" } }, area: { opacity: .8 }, candlestick: { downColor: "#d0d0d0", line: { color: "#333333" }, border: { _brightness: 1.5, opacity: 1 }, highlight: { border: { color: "#b8b8b8", opacity: .2 } } }, waterfall: { line: { color: "#cccccc" } }, horizontalWaterfall: { line: { color: "#cccccc" } }, ohlc: { line: { color: "#333333" } } }, chartArea: { background: "#ffffff" }, seriesColors: ["#428bca", "#5bc0de", "#5cb85c", "#f2b661", "#e67d4a", "#da3b36"], axisDefaults: { line: { color: "#cccccc" }, minorTicks: { color: "#ebebeb" }, majorTicks: { color: "#cccccc" }, labels: { color: "#333333" }, majorGridLines: { color: "#cccccc" }, minorGridLines: { color: "#ebebeb" }, title: { color: "#333333" }, crosshair: { color: "#000000" }, notes: { icon: { background: "#000000", border: { color: "#000000" } }, label: { color: "#ffffff" }, line: { color: "#000000" } } } }, gauge: { pointer: { color: "#428bca" }, scale: { rangePlaceholderColor: "#cccccc", labels: { color: "#333333" }, minorTicks: { color: "#ebebeb" }, majorTicks: { color: "#cccccc" }, line: { color: "#cccccc" } } }, diagram: { shapeDefaults: { fill: { color: "#428bca" }, connectorDefaults: { fill: { color: "#333333" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#333333" } } }, content: { color: "#333333" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#333333" }, hover: { fill: { color: "#333333" }, stroke: { color: "#333333" } } } }, rotate: { thumb: { stroke: { color: "#333333" }, fill: { color: "#333333" } } } }, selectable: { stroke: { color: "#333333" } }, connectionDefaults: { stroke: { color: "#c4c4c4" }, content: { color: "#333333" }, selection: { handles: { fill: { color: n }, stroke: { color: "#333333" } }, stroke: { color: "#333333" } } } }, treeMap: {
                colors: [["#428bca", "#d1e0ec"], ["#5bc0de", "#d6eaf0"], ["#5cb85c", "#d6e9d6"], ["#5cb85c", "#f4e8d7"], ["#e67d4a", "#f2ddd3"], ["#da3b36", "#f0d0cf"]]
            }
        }), h("flat", { chart: { title: { color: "#4c5356" }, legend: { labels: { color: "#4c5356" }, inactiveItems: { labels: { color: "#CBCBCB" }, markers: { color: "#CBCBCB" } } }, seriesDefaults: { labels: { color: "#4c5356" }, errorBars: { color: "#4c5356" }, notes: { icon: { background: "transparent", border: { color: "#cdcdcd" } }, label: { color: "#4c5356" }, line: { color: "#cdcdcd" } }, candlestick: { downColor: "#c7c7c7", line: { color: "#787878" } }, area: { opacity: .9 }, waterfall: { line: { color: "#cdcdcd" } }, horizontalWaterfall: { line: { color: "#cdcdcd" } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: ["#10c4b2", "#ff7663", "#ffb74f", "#a2df53", "#1c9ec4", "#ff63a5", "#1cc47b"], axisDefaults: { line: { color: "#cdcdcd" }, labels: { color: "#4c5356" }, minorGridLines: { color: "#cdcdcd" }, majorGridLines: { color: "#cdcdcd" }, title: { color: "#4c5356" }, crosshair: { color: "#cdcdcd" }, notes: { icon: { background: "transparent", border: { color: "#cdcdcd" } }, label: { color: "#4c5356" }, line: { color: "#cdcdcd" } } } }, gauge: { pointer: { color: "#10c4b2" }, scale: { rangePlaceholderColor: "#cdcdcd", labels: { color: "#4c5356" }, minorTicks: { color: "#4c5356" }, majorTicks: { color: "#4c5356" }, line: { color: "#4c5356" } } }, diagram: { shapeDefaults: { fill: { color: "#10c4b2" }, connectorDefaults: { fill: { color: "#363940" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#363940" } } }, content: { color: "#4c5356" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#363940" }, hover: { fill: { color: "#363940" }, stroke: { color: "#363940" } } } }, rotate: { thumb: { stroke: { color: "#363940" }, fill: { color: "#363940" } } } }, selectable: { stroke: { color: "#363940" } }, connectionDefaults: { stroke: { color: "#cdcdcd" }, content: { color: "#4c5356" }, selection: { handles: { fill: { color: n }, stroke: { color: "#363940" } }, stroke: { color: "#363940" } } } }, treeMap: { colors: [["#10c4b2", "#cff3f0"], ["#ff7663", "#ffe4e0"], ["#ffb74f", "#fff1dc"], ["#a2df53", "#ecf9dd"], ["#1c9ec4", "#d2ecf3"], ["#ff63a5", "#ffe0ed"], ["#1cc47b", "#d2f3e5"]] } }), h("material", { chart: { title: { color: "#444444" }, legend: { labels: { color: "#444444" }, inactiveItems: { labels: { color: "#CBCBCB" }, markers: { color: "#CBCBCB" } } }, seriesDefaults: { labels: { color: "#444444" }, errorBars: { color: "#444444" }, notes: { icon: { background: "transparent", border: { color: "#e5e5e5" } }, label: { color: "#444444" }, line: { color: "#e5e5e5" } }, candlestick: { downColor: "#c7c7c7", line: { color: "#787878" } }, area: { opacity: .9 }, waterfall: { line: { color: "#e5e5e5" } }, horizontalWaterfall: { line: { color: "#e5e5e5" } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: ["#3f51b5", "#03a9f4", "#4caf50", "#f9ce1d", "#ff9800", "#ff5722"], axisDefaults: { line: { color: "#e5e5e5" }, labels: { color: "#444444" }, minorGridLines: { color: "#e5e5e5" }, majorGridLines: { color: "#e5e5e5" }, title: { color: "#444444" }, crosshair: { color: "#7f7f7f" }, notes: { icon: { background: "transparent", border: { color: "#e5e5e5" } }, label: { color: "#444444" }, line: { color: "#e5e5e5" } } } }, gauge: { pointer: { color: "#3f51b5" }, scale: { rangePlaceholderColor: "#e5e5e5", labels: { color: "#444444" }, minorTicks: { color: "#444444" }, majorTicks: { color: "#444444" }, line: { color: "#444444" } } }, diagram: { shapeDefaults: { fill: { color: "#3f51b5" }, connectorDefaults: { fill: { color: "#7f7f7f" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#7f7f7f" } } }, content: { color: "#444444" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#444444" }, hover: { fill: { color: "#444444" }, stroke: { color: "#444444" } } } }, rotate: { thumb: { stroke: { color: "#444444" }, fill: { color: "#444444" } } } }, selectable: { stroke: { color: "#444444" } }, connectionDefaults: { stroke: { color: "#7f7f7f" }, content: { color: "#444444" }, selection: { handles: { fill: { color: n }, stroke: { color: "#444444" } }, stroke: { color: "#444444" } } } }, treeMap: { colors: [["#3f51b5", "#cff3f0"], ["#03a9f4", "#e5f6fe"], ["#4caf50", "#edf7ed"], ["#f9ce1d", "#fefae8"], ["#ff9800", "#fff4e5"], ["#ff5722", "#ffeee8"]] } }), h("materialblack", { chart: { title: { color: "#fff" }, legend: { labels: { color: "#fff" }, inactiveItems: { labels: { color: "#CBCBCB" }, markers: { color: "#CBCBCB" } } }, seriesDefaults: { labels: { color: "#fff" }, errorBars: { color: "#fff" }, notes: { icon: { background: "transparent", border: { color: "#e5e5e5" } }, label: { color: "#fff" }, line: { color: "#e5e5e5" } }, candlestick: { downColor: "#c7c7c7", line: { color: "#787878" } }, area: { opacity: .9 }, waterfall: { line: { color: "#4d4d4d" } }, horizontalWaterfall: { line: { color: "#4d4d4d" } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, chartArea: { background: "#1c1c1c" }, seriesColors: ["#3f51b5", "#03a9f4", "#4caf50", "#f9ce1d", "#ff9800", "#ff5722"], axisDefaults: { line: { color: "#4d4d4d" }, labels: { color: "#fff" }, minorGridLines: { color: "#4d4d4d" }, majorGridLines: { color: "#4d4d4d" }, title: { color: "#fff" }, crosshair: { color: "#7f7f7f" }, notes: { icon: { background: "transparent", border: { color: "#4d4d4d" } }, label: { color: "#fff" }, line: { color: "#4d4d4d" } } } }, gauge: { pointer: { color: "#3f51b5" }, scale: { rangePlaceholderColor: "#4d4d4d", labels: { color: "#fff" }, minorTicks: { color: "#fff" }, majorTicks: { color: "#fff" }, line: { color: "#fff" } } }, diagram: { shapeDefaults: { fill: { color: "#3f51b5" }, connectorDefaults: { fill: { color: "#7f7f7f" }, stroke: { color: n }, hover: { fill: { color: n }, stroke: { color: "#7f7f7f" } } }, content: { color: "#fff" } }, editable: { resize: { handles: { fill: { color: n }, stroke: { color: "#fff" }, hover: { fill: { color: "#fff" }, stroke: { color: "#fff" } } } }, rotate: { thumb: { stroke: { color: "#fff" }, fill: { color: "#fff" } } } }, selectable: { stroke: { color: "#fff" } }, connectionDefaults: { stroke: { color: "#7f7f7f" }, content: { color: "#fff" }, selection: { handles: { fill: { color: n }, stroke: { color: "#fff" } }, stroke: { color: "#fff" } } } }, treeMap: { colors: [["#3f51b5", "#cff3f0"], ["#03a9f4", "#e5f6fe"], ["#4caf50", "#edf7ed"], ["#f9ce1d", "#fefae8"], ["#ff9800", "#fff4e5"], ["#ff5722", "#ffeee8"]] } }), function () { function o() { return { icon: { background: "#007cc0", border: { color: "#007cc0" } }, label: { color: "#ffffff" }, line: { color: a } } } var r = "#333333", l = "#7f7f7f", c = "#bdbdbd", a = "#c8c8c8", t = "#dddddd", i = ["#008fd3", "#99d101", "#f39b02", "#f05662", "#c03c53", "#acacac"], s = ["#cbe8f5", "#eaf5cb", "#fceacc", "#fbdcdf", "#f2d7dc", "#eeeeee"], f = i[0], d = n; h("fiori", { chart: { title: { color: r }, legend: { labels: { color: r }, inactiveItems: { labels: { color: l }, markers: { color: l } } }, seriesDefaults: { labels: { color: r }, errorBars: { color: r }, notes: o(), candlestick: { downColor: a, line: { color: c } }, area: { opacity: .8 }, waterfall: { line: { color: a } }, horizontalWaterfall: { line: { color: a } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: i, axisDefaults: { line: { color: a }, labels: { color: r }, minorGridLines: { color: t }, majorGridLines: { color: a }, title: { color: r }, crosshair: { color: l }, notes: o() } }, gauge: { pointer: { color: f }, scale: { rangePlaceholderColor: a, labels: { color: r }, minorTicks: { color: r }, majorTicks: { color: r }, line: { color: r } } }, diagram: { shapeDefaults: { fill: { color: f }, connectorDefaults: { fill: { color: r }, stroke: { color: d }, hover: { fill: { color: d }, stroke: { color: r } } }, content: { color: r } }, editable: { resize: { handles: { fill: { color: d }, stroke: { color: c }, hover: { fill: { color: c }, stroke: { color: c } } } }, rotate: { thumb: { stroke: { color: c }, fill: { color: c } } } }, selectable: { stroke: { color: c } }, connectionDefaults: { stroke: { color: c }, content: { color: c }, selection: { handles: { fill: { color: d }, stroke: { color: c } }, stroke: { color: c } } } }, treeMap: { colors: e(i, s) } }) }(), function () { function o() { return { icon: { background: "#00b0ff", border: { color: "#00b0ff" } }, label: { color: "#ffffff" }, line: { color: a } } } var r = "#4e4e4e", l = "#7f7f7f", c = "#bdbdbd", a = "#c8c8c8", t = "#e5e5e5", i = ["#0072c6", "#5db2ff", "#008a17", "#82ba00", "#ff8f32", "#ac193d"], s = ["#cbe2f3", "#deeffe", "#cbe7d0", "#e5f0cb", "#fee8d5", "#eed0d7"], f = i[0], d = n; h("office365", { chart: { title: { color: r }, legend: { labels: { color: r }, inactiveItems: { labels: { color: l }, markers: { color: l } } }, seriesDefaults: { labels: { color: r }, errorBars: { color: r }, notes: o(), candlestick: { downColor: a, line: { color: c } }, area: { opacity: .8 }, waterfall: { line: { color: a } }, horizontalWaterfall: { line: { color: a } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: i, axisDefaults: { line: { color: a }, labels: { color: r }, minorGridLines: { color: t }, majorGridLines: { color: a }, title: { color: r }, crosshair: { color: l }, notes: o() } }, gauge: { pointer: { color: f }, scale: { rangePlaceholderColor: a, labels: { color: r }, minorTicks: { color: r }, majorTicks: { color: r }, line: { color: r } } }, diagram: { shapeDefaults: { fill: { color: f }, connectorDefaults: { fill: { color: r }, stroke: { color: d }, hover: { fill: { color: d }, stroke: { color: r } } }, content: { color: r } }, editable: { resize: { handles: { fill: { color: d }, stroke: { color: c }, hover: { fill: { color: c }, stroke: { color: c } } } }, rotate: { thumb: { stroke: { color: c }, fill: { color: c } } } }, selectable: { stroke: { color: c } }, connectionDefaults: { stroke: { color: c }, content: { color: c }, selection: { handles: { fill: { color: d }, stroke: { color: c } }, stroke: { color: c } } } }, treeMap: { colors: e(i, s) } }) }(), function () { function o() { return { icon: { background: "#007cc0", border: { color: "#007cc0" } }, label: { color: "#ffffff" }, line: { color: a } } } var r = "#32364c", l = "#7f7f7f", c = "#bdbdbd", a = "#dfe0e1", t = "#dfe0e1", i = ["#ff4350", "#ff9ea5", "#00acc1", "#80deea", "#ffbf46", "#ffd78c"], s = ["#ffd9dc", "#ffeced", "#cceef3", "#e6f8fb", "#fff2da", "#fff7e8"], f = i[0], d = n; h("nova", { chart: { title: { color: r }, legend: { labels: { color: r }, inactiveItems: { labels: { color: l }, markers: { color: l } } }, seriesDefaults: { labels: { color: r }, errorBars: { color: r }, notes: o(), candlestick: { downColor: a, line: { color: c } }, area: { opacity: .8 }, waterfall: { line: { color: a } }, horizontalWaterfall: { line: { color: a } }, overlay: { gradient: "none" }, border: { _brightness: 1 } }, seriesColors: i, axisDefaults: { line: { color: a }, labels: { color: r }, minorGridLines: { color: t }, majorGridLines: { color: a }, title: { color: r }, crosshair: { color: r }, notes: o() } }, gauge: { pointer: { color: f }, scale: { rangePlaceholderColor: a, labels: { color: r }, minorTicks: { color: r }, majorTicks: { color: r }, line: { color: r } } }, diagram: { shapeDefaults: { fill: { color: f }, connectorDefaults: { fill: { color: r }, stroke: { color: d }, hover: { fill: { color: d }, stroke: { color: r } } }, content: { color: r } }, editable: { resize: { handles: { fill: { color: d }, stroke: { color: c }, hover: { fill: { color: c }, stroke: { color: c } } } }, rotate: { thumb: { stroke: { color: c }, fill: { color: c } } } }, selectable: { stroke: { color: c } }, connectionDefaults: { stroke: { color: c }, content: { color: c }, selection: { handles: { fill: { color: d }, stroke: { color: c } }, stroke: { color: c } } } }, treeMap: { colors: e(i, s) } }) }(), function () { var o = "#656565", r = "rgba(0, 0, 0, .04)", l = ["#ff6358", "#ffd246", "#78d237", "#28b4c8", "#2d73f5", "#aa46be"], c = ["#ffd9dc", "#ffeced", "#cceef3", "#e6f8fb", "#fff2da", "#fff7e8"], a = l[0]; h("default-v2", { chart: {}, gauge: { pointer: { color: a }, scale: { rangePlaceholderColor: r, labels: { color: o }, minorTicks: { color: o }, majorTicks: { color: o }, line: { color: o } } }, diagram: {}, treeMap: { colors: e(l, c) } }), b.sass = b["default-v2"] }(), function () { var o = "#292b2c", r = "rgba(0, 0, 0, .04)", l = ["#0275d8", "#5bc0de", "#5cb85c", "#f0ad4e", "#e67d4a", "#d9534f"], c = ["#ffd9dc", "#ffeced", "#cceef3", "#e6f8fb", "#fff2da", "#fff7e8"], a = l[0]; h("bootstrap-v4", { chart: {}, gauge: { pointer: { color: a }, scale: { rangePlaceholderColor: r, labels: { color: o }, minorTicks: { color: o }, majorTicks: { color: o }, line: { color: o } } }, diagram: {}, treeMap: { colors: e(l, c) } }) }()
    }(window.kendo.jQuery), window.kendo
}, "function" == typeof define && define.amd ? define : function (o, e, r) { (r || e)() }), function (o, define) { define("kendo.dataviz.themes.min", ["kendo.dataviz.core.min", "dataviz/themes/chart-base-theme.min", "dataviz/themes/auto-theme.min", "dataviz/themes/themes.min"], o) }(function () { }, "function" == typeof define && define.amd ? define : function (o, e, r) { (r || e)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(a, h) } function i(t) { var e, i = []; for (e in t) i.push(e + t[e]); return i.sort().join("") } function n(t) { var e, i = 2166136261; for (e = 0; e < t.length; ++e)i += (i << 1) + (i << 4) + (i << 7) + (i << 8) + (i << 24), i ^= t.charCodeAt(e); return i >>> 0 } function s() { return { width: 0, height: 0, baseline: 0 } } function o(t, e, i) { return u.current.measure(t, e, i) } var r, a, h, l, c, u; window.kendo.util = window.kendo.util || {}, r = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var i = this._map, n = { key: t, value: e }; i[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (i[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), a = /\r?\n|\r|\t/g, h = " ", l = { baselineMarkerSize: 1 }, "undefined" != typeof document && (c = document.createElement("div"), c.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), u = kendo.Class.extend({ init: function (e) { this._cache = new r(1e3), this.options = t.extend({}, l, e) }, measure: function (t, o, r) { var a, h, l, u, p, d, g, f, v; if (void 0 === r && (r = {}), !t) return s(); if (a = i(o), h = n(t + a), l = this._cache.get(h)) return l; u = s(), p = r.box || c, d = this._baselineMarker().cloneNode(!1); for (g in o) f = o[g], void 0 !== f && (p.style[g] = f); return v = r.normalizeText !== !1 ? e(t) : t + "", p.textContent = v, p.appendChild(d), document.body.appendChild(p), v.length && (u.width = p.offsetWidth - this.options.baselineMarkerSize, u.height = p.offsetHeight, u.baseline = d.offsetTop + this.options.baselineMarkerSize), u.width > 0 && u.height > 0 && this._cache.put(h, u), p.parentNode.removeChild(p), u }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), u.current = new u, kendo.deepExtend(kendo.util, { LRUCache: r, TextMetrics: u, measureText: o, objectKey: i, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/chart/kendo-chart.min", ["kendo.core.min", "kendo.color.min", "kendo.drawing.min", "kendo.dataviz.core.min"], t) }(function () {
    !function (t) {
        function e(t) { var e, i, n = t.length, s = 0; for (e = 0; e < n; e++)i = t[e], K(i) && s++; return s } function i(t, e) { if (null === e) return e; var i = ft(t, !0); return i(e) } function n(t, e, i, s) { var o, r, a, h, l; if (void 0 === i && (i = {}), void 0 === s && (s = !1), o = i.defaults = i.defaults || {}, r = i.depth = i.depth || 0, a = !1, i.excluded = i.excluded || [], r > Gi) return null; for (h in t) !bt(h, i.excluded) && t.hasOwnProperty(h) && (l = t[h], At(l) ? (a = !0, s || (t[h] = St(l(e), o[h]))) : Ct(l) && (s || (i.defaults = o[h]), i.depth++ , a = n(l, e, i, s) || a, i.depth--)); return a } function s(t) { var e, i = t.length, n = 0; for (e = 0; e < i; e++)n = Math.max(n, t[e].data.length); return n } function o(t, e, i, n, s) { var o = t.box, r = new ne; return r[e] = o[e + i], r[n] = o[n + s], r } function r(t) { for (var e = 0; e < t.length; e++)if (gt(t[e].zIndex)) return !0 } function a(t) { var e = t.overlay; return e && e.gradient && "none" !== e.gradient } function h(t, e) { t.forEach(e) } function l(t, e) { var i, n = t.length; for (i = n - 1; i >= 0; i--)e(t[i], i - n - 1) } function c(t) { return e(t) === t.length } function u(t) { return gt(t) && null !== t } function p(t) { var e, i, n, s = t.series; for (e = 0; e < s.length; e++)i = s[e], n = i.data, !n || vt(n[0]) || Ct(n[0]) || (i.data = [n]) } function d() { return "pane" + En++ } function g(t, e, i) { var n, s = e.visible; return gt(s) ? s : (n = t.pointVisibility, n ? n[i] : void 0) } function f(t) { var e, i, n, s = t.data, o = [], r = 0, a = 0; for (e = 0; e < s.length; e++)i = le.current.bindPoint(t, e), n = i.valueFields.value, Ot(n) && (n = parseFloat(n)), K(n) ? (i.visible = g(t, i.fields, e) !== !1, i.value = Math.abs(n), o.push(i), i.visible && (r += i.value), 0 !== n && a++) : o.push(null); return { total: r, points: o, count: a } } function v(t, e) { return t && e ? t.toLowerCase() === e.toLowerCase() : t === e } function x(t, e) { var i, n, s = [], o = [].concat(e); for (i = 0; i < t.length; i++)n = t[i], bt(n.type, o) && s.push(n); return s } function m(t, e, i) { var n, s; return null === e ? e : (n = "_date_" + t, s = e[n], s || (s = Bt(i, ft(t, !0)(e)), e[n] = s), s) } function y(t, e) { var i = t.type, n = e instanceof Date; return !i && n || v(i, ut) } function _(t) { return 1 === t.length ? t[0] : t } function w(t) { var e, i, n, s = t.length; if (s > 0) for (i = 0; i < s; i++)n = t[i].contentBox(), e ? e.wrap(n) : e = n.clone(); return e || new yt } function b(t, e) { var i, n; for (i = 0; i < t.length; i++)if (n = t[i], n && n.pane === e) return n } function A(t) { return "" === t || null === t || "none" === t || "transparent" === t || !gt(t) } function S(t, e, i) { var n, s = e, o = t; if (t.indexOf(".") > -1) { for (n = t.split("."); n.length > 1;)o = n.shift(), gt(s[o]) || (s[o] = {}), s = s[o]; o = n.shift() } s[o] = i } function C(t, e) { null !== e && t.push(e) } function k(t, e, i) { var n = [].concat(e instanceof Dt ? t.categoryAxis : t.valueAxis); kt(n[e.axisIndex], i) } function P(t, e, i) { return Nt(t, function (t) { return 0 === i && !t.categoryAxis || t.categoryAxis === e }) } function T() { this._defaultPrevented = !0 } function R(t, e) { var i = (e || "").toLowerCase(), n = t.event, s = "none" === i && !(n.ctrlKey || n.shiftKey || n.altKey) || n[i + "Key"]; return s } function E(t) { var e, i, n = {}; for (e = 0; e < t.length; e++)i = t[e], i.axis.options.name && (n[i.axis.options.name] = { min: i.range.min, max: i.range.max }); return n } function I(t) { var e = document.createElement("div"); return t && (e.className = t), e } function V(t) { for (var e = t; e && !Wt(e, "k-handle");)e = e.parentNode; return e } function M(t) { t.stopPropagation() } function L(t, e, i, n) { var s = [].concat(i ? t.yAxis : t.xAxis)[e]; kt(s, n) } function O(t) { var e, i, n = Y.rad(t), s = Ht(Math.sin(n), pt), o = Ht(Math.cos(n), pt); return e = Math.abs(s) > As ? et : o < 0 ? lt : st, i = Math.abs(s) < bs ? et : s < 0 ? nt : it, { horizontal: e, vertical: i } } function B(t, e, i, n) { var s, o, r = (n.x - i.x) * (t.y - i.y) - (n.y - i.y) * (t.x - i.x), a = (n.y - i.y) * (e.x - t.x) - (n.x - i.x) * (e.y - t.y); return 0 !== a && (o = r / a, s = new mt(t.x + o * (e.x - t.x), t.y + o * (e.y - t.y))), s } function z(t, e) { return t.value.x - e.value.x } function D(t) { var e, i, n = ro; for (e = 0; e < n.length; e++)i = n[e] + "Axes", t[i] && (t[n[e] + "Axis"] = t[i], delete t[i]) } function F(t, e) { if (t) for (var i = 0; i < t.length; i++)if (t[i].category === e) return [t[i]] } function H(t, e) { function i(t) { var e = (t || {}).color || s.color, i = kt({}, a, a[n], s, s[n], { line: { color: e }, labels: { color: e }, title: { color: e } }, t); return delete i[n], i } var n, s, o, r, a = (e || {}).axisDefaults || {}; for (r = 0; r < ro.length; r++)n = ro[r] + "Axis", s = t.axisDefaults || {}, o = [].concat(t[n]), o = o.map(i), t[n] = o.length > 1 ? o : o[0] } function N(t, e) { var i, n, s, o = t.series, r = o.length, a = t.seriesDefaults, h = kt({}, t.seriesDefaults), l = e ? kt({}, e.seriesDefaults) : {}, c = kt({}, l); for (G(h), G(c), i = 0; i < r; i++)n = o[i].type || t.seriesDefaults.type, s = kt({ data: [] }, c, l[n], { tooltip: t.tooltip }, h, a[n]), o[i]._defaults = s, o[i] = kt({}, s, o[i]) } function G(t) { delete t.bar, delete t.column, delete t.rangeColumn, delete t.line, delete t.verticalLine, delete t.pie, delete t.donut, delete t.area, delete t.verticalArea, delete t.scatter, delete t.scatterLine, delete t.bubble, delete t.candlestick, delete t.ohlc, delete t.boxPlot, delete t.bullet, delete t.verticalBullet, delete t.polarArea, delete t.polarLine, delete t.radarArea, delete t.radarLine, delete t.waterfall } function q(t) { var e, i, n, s = {}; for (e = 0; e < t.length; e++)i = t[e], n = i.options.name, n && (s[n] = i.range()); return s } function W(t, e) { void 0 === e && (e = Y.dateComparer); for (var i = 1, n = t.length; i < n; i++)if (e(t[i], t[i - 1]) < 0) { t.sort(e); break } return t } function X(t, e) { var i, n, s, o; for (void 0 === e && (e = Y.dateComparer), i = W(t, e), n = i.length, s = n > 0 ? [i[0]] : [], o = 1; o < n; o++)0 !== e(i[o], Pt(s)) && s.push(i[o]); return s } function U(t) { var e, i, n, s, o = t.length, r = []; for (e = 0; e < o; e++)for (i = t[e], n = i.length, s = 0; s < n; s++)r[s] = r[s] || [], r[s].push(i[s]); return r } function Z(t, e) { var i, n, s, o; for (i in e) n = e[i], s = t[i], gt(s) && (o = null === n, o || !gt(n) ? (delete t[i], o && delete e[i]) : s && Ct(n) && Ct(s) && Z(s, n)) } var Y, j, K, Q, $, J, tt, et, it, nt, st, ot, rt, at, ht, lt, ct, ut, pt, dt, gt, ft, vt, xt, mt, yt, _t, wt, bt, At, St, Ct, kt, Pt, Tt, Rt, Et, It, Vt, Mt, Lt, Ot, Bt, zt, Dt, Ft, Ht, Nt, Gt, qt, Wt, Xt, Ut, Zt, Yt, jt, Kt, Qt, $t, Jt, te, ee, ie, ne, se, oe, re, ae, he, le, ce, ue, pe, de, ge, fe, ve, xe, me, ye, _e, we, be, Ae, Se, Ce, ke, Pe, Te, Re, Ee, Ie, Ve, Me, Le, Oe, Be, ze, De, Fe, He, Ne, Ge, qe, We, Xe, Ue, Ze, Ye, je, Ke, Qe, $e, Je, ti, ei, ii, ni, si, oi, ri, ai, hi, li, ci, ui, pi, di, gi, fi, vi, xi, mi, yi, _i, wi, bi, Ai, Si, Ci, ki, Pi, Ti, Ri, Ei, Ii, Vi, Mi, Li, Oi, Bi, zi, Di, Fi, Hi, Ni, Gi, qi, Wi, Xi, Ui, Zi, Yi, ji, Ki, Qi, $i, Ji, tn, en, nn, sn, on, rn, an, hn, ln, cn, un, pn, dn, gn, fn, vn, xn, mn, yn, _n, wn, bn, An, Sn, Cn, kn, Pn, Tn, Rn, En, In, Vn, Mn, Ln, On, Bn, zn, Dn, Fn, Hn, Nn, Gn, qn, Wn, Xn, Un, Zn, Yn, jn, Kn, Qn, $n, Jn, ts, es, is, ns, ss, os, rs, as, hs, ls, cs, us, ps, ds, gs, fs, vs, xs, ms, ys, _s, ws, bs, As, Ss, Cs, ks, Ps, Ts, Rs, Es, Is, Vs, Ms, Ls, Os, Bs, zs, Ds, Fs, Hs, Ns, Gs, qs, Ws, Xs, Us, Zs, Ys, js, Ks, Qs, $s, Js, to, eo, io, no, so, oo, ro, ao, ho, lo, co; window.kendo.dataviz = window.kendo.dataviz || {}, Y = kendo.dataviz, j = Y.Class, K = Y.isNumber, Q = Y.constants, $ = Q.MAX_VALUE, J = Q.MIN_VALUE, tt = Q.VALUE, et = Q.CENTER, it = Q.TOP, nt = Q.BOTTOM, st = Q.LEFT, ot = Q.WHITE, rt = Q.CIRCLE, at = Q.X, ht = Q.Y, lt = Q.RIGHT, ct = Q.BLACK, ut = Q.DATE, pt = Q.DEFAULT_PRECISION, dt = Q.ARC, gt = Y.defined, ft = Y.getter, vt = Y.isArray, xt = Y.ChartElement, mt = Y.Point, yt = Y.Box, _t = Y.alignPathToPixel, wt = Y.setDefaultOptions, bt = Y.inArray, At = Y.isFunction, St = Y.valueOrDefault, Ct = Y.isObject, kt = Y.deepExtend, Pt = Y.last, Tt = Y.eventElement, Rt = Y.getTemplate, Et = Y.TextBox, It = Y.ShapeElement, Vt = Y.getSpacing, Mt = Y.CurveProcessor, Lt = Y.append, Ot = Y.isString, Bt = Y.parseDate, zt = Y.styleValue, Dt = Y.CategoryAxis, Ft = Y.BoxElement, Ht = Y.round, Nt = Y.grep, Gt = Y.DateCategoryAxis, qt = Y.elementStyles, Wt = Y.hasClasses, Xt = Y.bindEvents, Ut = Y.services, Zt = Y.unbindEvents, Yt = Y.limitValue, jt = kendo.support, Kt = kendo.drawing, Qt = Kt.Path, $t = Kt.Animation, Jt = Kt.AnimationFactory, te = Kt.Group, ee = kendo.Color, ie = kendo.geometry, ne = ie.Point, se = ie.transform, oe = j.extend({ init: function (t) { this._axis = t, this.options = t.options }, value: function (t) { var e = this._axis, i = e.getCategory ? e.getCategory(t) : e.getValue(t); return i }, slot: function (t, e, i) { return void 0 === i && (i = !0), this._axis.slot(t, e, i) }, range: function () { return this._axis.range() }, valueRange: function () { return this._axis.valueRange() } }), re = kendo.Class.extend({ init: function (t) { this.visual = t.visual, this.chartsVisual = t.chartContainer.visual } }), ae = j.extend({ init: function (t) { this._plotArea = t, this.visual = t.visual, this.backgroundVisual = t._bgVisual } }), he = { min: function (t) { var e, i, n = t.length, s = $; for (e = 0; e < n; e++)i = t[e], K(i) && (s = Math.min(s, i)); return s === $ ? t[0] : s }, max: function (t) { var e, i, n = t.length, s = J; for (e = 0; e < n; e++)i = t[e], K(i) && (s = Math.max(s, i)); return s === J ? t[0] : s }, sum: function (t) { var e, i, n = t.length, s = 0; for (e = 0; e < n; e++)i = t[e], K(i) && (s += i); return s }, sumOrNull: function (t) { var i = null; return e(t) && (i = he.sum(t)), i }, count: function (t) { var e, i, n = t.length, s = 0; for (e = 0; e < n; e++)i = t[e], null !== i && gt(i) && s++; return s }, avg: function (t) { var i = e(t), n = t[0]; return i > 0 && (n = he.sum(t) / i), n }, first: function (t) { var e, i, n = t.length; for (e = 0; e < n; e++)if (i = t[e], null !== i && gt(i)) return i; return t[0] } }, le = j.extend({ init: function () { this._valueFields = {}, this._otherFields = {}, this._nullValue = {}, this._undefinedValue = {} }, register: function (t, e, i) { var n, s, o = this; for (void 0 === e && (e = [tt]), void 0 === i && (i = {}), n = 0; n < t.length; n++)s = t[n], o._valueFields[s] = e, o._otherFields[s] = i, o._nullValue[s] = o._makeValue(e, null), o._undefinedValue[s] = o._makeValue(e, void 0) }, canonicalFields: function (t) { return this.valueFields(t).concat(this.otherFields(t)) }, valueFields: function (t) { return this._valueFields[t.type] || [tt] }, otherFields: function (t) { return this._otherFields[t.type] || [tt] }, bindPoint: function (t, e, i) { var n, s, o, r, a, h = t.data, l = gt(i) ? i : h[e], c = { valueFields: { value: l } }, u = this.valueFields(t), p = this._otherFields[t.type]; return null === l ? s = this._nullValue[t.type] : gt(l) ? Array.isArray(l) ? (o = l.slice(u.length), s = this._bindFromArray(l, u), n = this._bindFromArray(o, p)) : "object" == typeof l && (r = this.sourceFields(t, u), a = this.sourceFields(t, p), s = this._bindFromObject(l, u, r), n = this._bindFromObject(l, p, a)) : s = this._undefinedValue[t.type], gt(s) && (1 === u.length ? c.valueFields.value = s[u[0]] : c.valueFields = s), c.fields = n || {}, c }, _makeValue: function (t, e) { var i, n, s = {}, o = t.length; for (i = 0; i < o; i++)n = t[i], s[n] = e; return s }, _bindFromArray: function (t, e) { var i, n, s = {}; if (e) for (i = Math.min(e.length, t.length), n = 0; n < i; n++)s[e[n]] = t[n]; return s }, _bindFromObject: function (t, e, n) { var s, o, r, a, h; if (void 0 === n && (n = e), s = {}, e) for (o = e.length, r = 0; r < o; r++)a = e[r], h = n[r], s[a] = i(h, t); return s }, sourceFields: function (t, e) { var i, n, s, o, r = []; if (e) for (i = e.length, n = 0; n < i; n++)s = e[n], o = s === tt ? "field" : s + "Field", r.push(t[o] || s); return r } }), le.current = new le, ce = "stderr", ue = "stddev", pe = /percent(?:\w*)\((\d+)\)/, de = RegExp("^" + ue + "(?:\\((\\d+(?:\\.\\d+)?)\\))?$"), ge = j.extend({ init: function (t, e, i) { this.initGlobalRanges(t, e, i) }, initGlobalRanges: function (t, e, i) { var n, s, o, r, a, h = e.data, l = de.exec(t); l ? (this.valueGetter = this.createValueGetter(e, i), n = this.getAverage(h), s = this.getStandardDeviation(h, n, !1), o = l[1] ? parseFloat(l[1]) : 1, r = { low: n.value - s * o, high: n.value + s * o }, this.globalRange = function () { return r }) : t.indexOf && t.indexOf(ce) >= 0 && (this.valueGetter = this.createValueGetter(e, i), a = this.getStandardError(h, this.getAverage(h)), this.globalRange = function (t) { return { low: t - a, high: t + a } }) }, createValueGetter: function (t, e) { var i, n, s, o = t.data, r = le.current, a = r.valueFields(t), h = gt(o[0]) ? o[0] : {}; return vt(h) ? (n = e ? a.indexOf(e) : 0, i = ft("[" + n + "]")) : K(h) ? i = ft() : typeof h === Q.OBJECT && (s = r.sourceFields(t, a), i = ft(s[a.indexOf(e)])), i }, getErrorRange: function (t, e) { var i, n, s, o; if (!gt(e)) return null; if (this.globalRange) return this.globalRange(t); if (vt(e)) i = t - e[0], n = t + e[1]; else if (K(s = parseFloat(e))) i = t - s, n = t + s; else { if (!(s = pe.exec(e))) throw Error("Invalid ErrorBar value: " + e); o = t * (parseFloat(s[1]) / 100), i = t - Math.abs(o), n = t + Math.abs(o) } return { low: i, high: n } }, getStandardError: function (t, e) { return this.getStandardDeviation(t, e, !0) / Math.sqrt(e.count) }, getStandardDeviation: function (t, e, i) { var n, s, o = this, r = t.length, a = i ? e.count - 1 : e.count, h = 0; for (n = 0; n < r; n++)s = o.valueGetter(t[n]), K(s) && (h += Math.pow(s - e.value, 2)); return Math.sqrt(h / a) }, getAverage: function (t) { var e, i, n = this, s = t.length, o = 0, r = 0; for (e = 0; e < s; e++)i = n.valueGetter(t[e]), K(i) && (o += i, r++); return { value: o / r, count: r } } }), fe = jt.browser || {}, ve = 600, xe = "fadeIn", me = "glass", ye = .8, _e = 5, we = fe.msie ? .001 : 0, be = "errorLow", Ae = "errorHigh", Se = "xErrorLow", Ce = "xErrorHigh", ke = "yErrorLow", Pe = "yErrorHigh", Te = 8, Re = "zero", Ee = "interpolate", Ie = "gap", Ve = "above", Me = "below", Le = "smooth", Oe = "step", Be = "area", ze = "bar", De = "boxPlot", Fe = "bubble", He = "bullet", Ne = "candlestick", Ge = "column", qe = "donut", We = "funnel", Xe = "horizontalWaterfall", Ue = "line", Ze = "ohlc", Ye = "pie", je = "polarArea", Ke = "polarLine", Qe = "polarScatter", $e = "radarArea", Je = "radarColumn", ti = "radarLine", ei = "rangeArea", ii = "rangeBar", ni = "rangeColumn", si = "scatter", oi = "scatterLine", ri = "verticalArea", ai = "verticalBoxPlot", hi = "verticalBullet", li = "verticalLine", ci = "verticalRangeArea", ui = "waterfall", pi = [ze, Ge, Ze, Ne, De, ai, He, ni, ii, ui, Xe], di = "legendItemClick", gi = "legendItemHover", fi = "seriesClick", vi = "seriesHover", xi = "plotAreaClick", mi = "plotAreaHover", yi = "drag", _i = "dragEnd", wi = "dragStart", bi = "zoomStart", Ai = "zoom", Si = "zoomEnd", Ci = "selectStart", ki = "select", Pi = "selectEnd", Ti = "render", Ri = "showTooltip", Ei = "hideTooltip", Ii = "log", Vi = "category", Mi = "insideEnd", Li = "insideBase", Oi = "outsideEnd", Bi = "DOMMouseScroll mousewheel", zi = 150, Di = { INITIAL_ANIMATION_DURATION: ve, FADEIN: xe, LEGEND_ITEM_CLICK: di, LEGEND_ITEM_HOVER: gi, SERIES_CLICK: fi, SERIES_HOVER: vi, GLASS: me, BORDER_BRIGHTNESS: ye, TOOLTIP_OFFSET: _e, START_SCALE: we, ERROR_LOW_FIELD: be, ERROR_HIGH_FIELD: Ae, X_ERROR_LOW_FIELD: Se, X_ERROR_HIGH_FIELD: Ce, Y_ERROR_LOW_FIELD: ke, Y_ERROR_HIGH_FIELD: Pe, LINE_MARKER_SIZE: Te, INTERPOLATE: Ee, ZERO: Re, SMOOTH: Le, STEP: Oe, CATEGORY: Vi, FUNNEL: We, BAR: ze, CANDLESTICK: Ne, PIE: Ye, COLUMN: Ge, AREA: Be, VERTICAL_BULLET: hi, BOX_PLOT: De, OHLC: Ze, WATERFALL: ui, LINE: Ue, BULLET: He, VERTICAL_LINE: li, VERTICAL_AREA: ri, RANGE_AREA: ei, VERTICAL_RANGE_AREA: ci, RANGE_COLUMN: ni, VERTICAL_BOX_PLOT: ai, RANGE_BAR: ii, HORIZONTAL_WATERFALL: Xe, SCATTER: si, SCATTER_LINE: oi, BUBBLE: Fe, RADAR_AREA: $e, RADAR_LINE: ti, RADAR_COLUMN: Je, POLAR_LINE: Ke, POLAR_AREA: je, POLAR_SCATTER: Qe, RENDER: Ti, PLOT_AREA_CLICK: xi, PLOT_AREA_HOVER: mi, LOGARITHMIC: Ii, DRAG: yi, DRAG_START: wi, DRAG_END: _i, ZOOM_START: bi, ZOOM: Ai, ZOOM_END: Si, SELECT_START: Ci, SELECT: ki, SELECT_END: Pi, GAP: Ie, DONUT: qe, INSIDE_END: Mi, INSIDE_BASE: Li, OUTSIDE_END: Oi, MOUSEWHEEL: Bi, MOUSEWHEEL_DELAY: zi, SHOW_TOOLTIP: Ri, HIDE_TOOLTIP: Ei, EQUALLY_SPACED_SERIES: pi, ABOVE: Ve, BELOW: Me }, Fi = 4, Hi = xt.extend({ init: function (t, e, i, n, s, o) { xt.fn.init.call(this, o), this.low = t, this.high = e, this.isVertical = i, this.chart = n, this.series = s }, reflow: function (t) { var e, i = this.options.endCaps, n = this.isVertical, s = this.getAxis(), o = s.getSlot(this.low, this.high), r = t.center(), a = this.getCapsWidth(t, n), h = n ? r.x : r.y, l = h - a, c = h + a; n ? (e = [new mt(r.x, o.y1), new mt(r.x, o.y2)], i && e.push(new mt(l, o.y1), new mt(c, o.y1), new mt(l, o.y2), new mt(c, o.y2)), this.box = new yt(l, o.y1, c, o.y2)) : (e = [new mt(o.x1, r.y), new mt(o.x2, r.y)], i && e.push(new mt(o.x1, l), new mt(o.x1, c), new mt(o.x2, l), new mt(o.x2, c)), this.box = new yt(o.x1, l, o.x2, c)), this.linePoints = e }, getCapsWidth: function (t, e) { var i = e ? t.width() : t.height(), n = Math.min(Math.floor(i / 2), Fi) || Fi; return n }, createVisual: function () { var t = this, e = this.options, i = e.visual; i ? this.visual = i({ low: this.low, high: this.high, rect: this.box.toRect(), sender: this.getSender(), options: { endCaps: e.endCaps, color: e.color, line: e.line }, createVisual: function () { t.createDefaultVisual(); var e = t.visual; return delete t.visual, e } }) : this.createDefaultVisual() }, createDefaultVisual: function () { var t, e, i = this, n = this, s = n.options, o = n.linePoints, r = { stroke: { color: s.color, width: s.line.width, dashType: s.line.dashType } }; for (xt.fn.createVisual.call(this), t = 0; t < o.length; t += 2)e = new Qt(r).moveTo(o[t].x, o[t].y).lineTo(o[t + 1].x, o[t + 1].y), _t(e), i.visual.append(e) } }), wt(Hi, { animation: { type: xe, delay: ve }, endCaps: !0, line: { width: 2 }, zIndex: 1 }), Ni = Hi.extend({ getAxis: function () { var t = this.chart.seriesValueAxis(this.series); return t } }), Gi = 5, qi = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.plotArea = t, this.chartService = t.chartService, this.categoryAxis = t.seriesCategoryAxis(e.series[0]), this.valueAxisRanges = {}, this.points = [], this.categoryPoints = [], this.seriesPoints = [], this.seriesOptions = [], this._evalSeries = [], this.render() }, render: function () { this.traverseDataPoints(this.addValue.bind(this)) }, pointOptions: function (t, e) { var i, n = this.seriesOptions[e]; return n || (i = this.pointType().prototype.defaults, this.seriesOptions[e] = n = kt({}, i, { vertical: !this.options.invertAxes }, t)), n }, plotValue: function (t) { var e, i, n, s, o, r, a, h; if (!t) return 0; if (this.options.isStacked100 && K(t.value)) { for (e = t.categoryIx, i = this.categoryPoints[e], n = [], s = 0, o = 0; o < i.length; o++)if (r = i[o]) { if (a = t.series.stack, h = r.series.stack, a && h && a.group !== h.group) continue; K(r.value) && (s += Math.abs(r.value), n.push(Math.abs(r.value))) } if (s > 0) return t.value / s } return t.value }, plotRange: function (t, e) { var i, n, s, o, r, a, h, l, c, u, p, d, g, f = this; if (void 0 === e && (e = 0), i = this.categoryPoints[t.categoryIx], this.options.isStacked) { for (n = this.plotValue(t), s = n >= 0, o = e, r = !1, a = 0; a < i.length && (h = i[a], t !== h); a++) { if (l = t.series.stack, c = h.series.stack, l && c) { if (typeof l === Q.STRING && l !== c) continue; if (l.group && l.group !== c.group) continue } u = f.plotValue(h), (u >= 0 && s || u < 0 && !s) && (o += u, n += u, r = !0, f.options.isStacked100 && (n = Math.min(n, 1))) } return r && (o -= e), [o, n] } return p = t.series, d = this.seriesValueAxis(p), g = this.categoryAxisCrossingValue(d), [g, Y.convertableToNumber(t.value) ? t.value : g] }, stackLimits: function (t, e) { var i, n, s, o, r, a = this, h = $, l = J; for (i = 0; i < this.categoryPoints.length; i++)if (n = a.categoryPoints[i]) for (s = 0; s < n.length; s++)o = n[s], o && (o.series.stack !== e && o.series.axis !== t || (r = a.plotRange(o, 0)[1], gt(r) && isFinite(r) && (l = Math.max(l, r), h = Math.min(h, r)))); return { min: h, max: l } }, updateStackRange: function () { var t, e, i, n, s, o, r = this, a = this.options, h = a.isStacked, l = a.series, c = {}; if (h) for (t = 0; t < l.length; t++)e = l[t], i = e.axis, n = i + e.stack, s = c[n], s || (s = r.stackLimits(i, e.stack), o = r.errorTotals, o && (o.negative.length && (s.min = Math.min(s.min, Y.sparseArrayLimits(o.negative).min)), o.positive.length && (s.max = Math.max(s.max, Y.sparseArrayLimits(o.positive).max))), s.min !== $ || s.max !== J ? c[n] = s : s = null), s && (r.valueAxisRanges[i] = s) }, addErrorBar: function (t, e, i) { var n, s = t.value, o = t.series, r = t.seriesIx, a = t.options.errorBars, h = e.fields[be], l = e.fields[Ae]; K(h) && K(l) ? n = { low: h, high: l } : a && gt(a.value) && (this.seriesErrorRanges = this.seriesErrorRanges || [], this.seriesErrorRanges[r] = this.seriesErrorRanges[r] || new ge(a.value, o, tt), n = this.seriesErrorRanges[r].getErrorRange(s, a.value)), n && (t.low = n.low, t.high = n.high, this.addPointErrorBar(t, i)) }, addPointErrorBar: function (t, e) { var i, n, s, o = !this.options.invertAxes, r = t.options.errorBars, a = t.series, h = t.low, l = t.high; this.options.isStacked ? (i = this.stackedErrorRange(t, e), h = i.low, l = i.high) : (n = { categoryIx: e, series: a }, this.updateRange({ value: h }, n), this.updateRange({ value: l }, n)), s = new Ni(h, l, o, this, a, r), t.errorBars = [s], t.append(s) }, stackedErrorRange: function (t, e) { var i = this.plotRange(t, 0)[1] - t.value, n = t.low + i, s = t.high + i; return this.errorTotals = this.errorTotals || { positive: [], negative: [] }, n < 0 && (this.errorTotals.negative[e] = Math.min(this.errorTotals.negative[e] || 0, n)), s > 0 && (this.errorTotals.positive[e] = Math.max(this.errorTotals.positive[e] || 0, s)), { low: n, high: s } }, addValue: function (e, i) { var n, s, o = i.categoryIx, r = i.series, a = i.seriesIx, h = this.categoryPoints[o]; h || (this.categoryPoints[o] = h = []), n = this.seriesPoints[a], n || (this.seriesPoints[a] = n = []), s = this.createPoint(e, i), s && (t.extend(s, i), s.owner = this, s.noteText = e.fields.noteText, gt(s.dataItem) || (s.dataItem = r.data[o]), this.addErrorBar(s, e, o)), this.points.push(s), n.push(s), h.push(s), this.updateRange(e.valueFields, i) }, evalPointOptions: function (t, e, i, s, o, r) { var a, h = { defaults: o._defaults, excluded: ["data", "aggregate", "_events", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint"] }, l = this._evalSeries[r]; return gt(l) || (this._evalSeries[r] = l = n(t, {}, h, !0)), a = t, l && (a = kt({}, a), n(a, { value: e, category: i, index: s, series: o, dataItem: o.data[s] }, h)), a }, updateRange: function (t, e) { var i = e.series.axis, n = t.value, s = this.valueAxisRanges[i]; isFinite(n) && null !== n && (s = this.valueAxisRanges[i] = s || { min: $, max: J }, s.min = Math.min(s.min, n), s.max = Math.max(s.max, n)) }, seriesValueAxis: function (t) { var e = this.plotArea, i = t.axis, n = i ? e.namedValueAxes[i] : e.valueAxis; if (!n) throw Error("Unable to locate value axis with name " + i); return n }, reflow: function (t) { var e = this, i = this.categorySlots = [], n = this.points, s = this.categoryAxis, o = 0; this.traverseDataPoints(function (t, r) { var a, h, l, c = r.categoryIx, u = r.series, p = e.seriesValueAxis(u), d = n[o++], g = i[c]; g || (i[c] = g = e.categorySlot(s, c, p)), d && (a = e.plotRange(d, p.startValue()), h = e.valueSlot(p, a), h ? (l = e.pointSlot(g, h), d.aboveAxis = e.aboveAxis(d, p), d.stackValue = a[1], e.options.isStacked100 && (d.percentage = e.plotValue(d)), e.reflowPoint(d, l)) : d.visible = !1) }), this.reflowCategories(i), !this.options.clip && this.options.limitPoints && this.points.length && this.limitPoints(), this.box = t }, valueSlot: function (t, e) { return t.getSlot(e[0], e[1], !this.options.clip) }, limitPoints: function () { var t, e = this, i = this.categoryPoints, n = i[0].concat(Pt(i)); for (t = 0; t < n.length; t++)n[t] && e.limitPoint(n[t]) }, limitPoint: function (t) { var e = this.categoryAxis.limitSlot(t.box); e.equals(t.box) || t.reflow(e) }, aboveAxis: function (t, e) { var i = this.categoryAxisCrossingValue(e), n = t.value; return e.options.reverse ? n < i : n >= i }, categoryAxisCrossingValue: function (t) { var e = this.categoryAxis, i = t.options, n = [].concat(i.axisCrossingValues || i.axisCrossingValue); return n[e.axisIndex || 0] || 0 }, reflowPoint: function (t, e) { t.reflow(e) }, reflowCategories: function () { }, pointSlot: function (t, e) { var i = this.options, n = i.invertAxes, s = n ? e : t, o = n ? t : e; return new yt(s.x1, o.y1, s.x2, o.y2) }, categorySlot: function (t, e) { return t.getSlot(e) }, traverseDataPoints: function (t) { var e, i, n, o, r, a, h, l = this, c = this.options.series, u = this.categoryAxis.options.categories || [], p = s(c), d = c.length; for (e = 0; e < d; e++)l._outOfRangeCallback(c[e], "_outOfRangeMinPoint", e, t); for (i = 0; i < p; i++)for (n = 0; n < d; n++)o = c[n], r = u[i], a = l._bindPoint(o, n, i), t(a, { category: r, categoryIx: i, series: o, seriesIx: n }); for (h = 0; h < d; h++)l._outOfRangeCallback(c[h], "_outOfRangeMaxPoint", h, t) }, _outOfRangeCallback: function (t, e, i, n) { var s, o, r = t[e]; r && (s = r.categoryIx, o = this._bindPoint(t, i, s, r.item), n(o, { category: r.category, categoryIx: s, series: t, seriesIx: i, dataItem: r.item })) }, _bindPoint: function (t, e, i, n) { var s, o; return this._bindCache || (this._bindCache = []), s = this._bindCache[e], s || (s = this._bindCache[e] = []), o = s[i], o || (o = s[i] = le.current.bindPoint(t, i, n)), o }, formatPointValue: function (t, e) { return null === t.value ? "" : this.chartService.format.auto(e, t.value) }, pointValue: function (t) { return t.valueFields.value } }), wt(qi, { series: [], invertAxes: !1, isStacked: !1, clip: !0, limitPoints: !0 }), Wi = { click: function (t, e) { return t.trigger(fi, this.eventArgs(e)) }, hover: function (t, e) { return t.trigger(vi, this.eventArgs(e)) }, eventArgs: function (t) { return { value: this.value, percentage: this.percentage, stackValue: this.stackValue, category: this.category, series: this.series, dataItem: this.dataItem, runningTotal: this.runningTotal, total: this.total, element: Tt(t), originalEvent: t, point: this } } }, Xi = { createNote: function () { var t = this.options.notes, e = this.noteText || t.label.text; t.visible !== !1 && gt(e) && null !== e && (this.note = new Y.Note({ value: this.value, text: e, dataItem: this.dataItem, category: this.category, series: this.series }, this.options.notes, this.owner.chartService), this.append(this.note)) } }, Ui = xt.extend({ init: function (t, e) { xt.fn.init.call(this), this.value = t, this.options = e, this.aboveAxis = St(this.options.aboveAxis, !0), this.tooltipTracking = !0 }, render: function () { var t, e, i = this.options, n = i.markers, s = i.labels; this._rendered || (this._rendered = !0, n.visible && n.size && (this.marker = this.createMarker(), this.append(this.marker)), s.visible && (t = Rt(s), e = this.value, t ? e = t({ dataItem: this.dataItem, category: this.category, value: this.value, percentage: this.percentage, stackValue: this.stackValue, series: this.series }) : s.format && (e = this.formatValue(s.format)), this.label = new Et(e, kt({ align: et, vAlign: et, margin: { left: 5, right: 5 }, zIndex: St(s.zIndex, this.series.zIndex) }, s)), this.append(this.label)), this.createNote(), this.errorBar && this.append(this.errorBar)) }, markerBorder: function () { var t = this.options.markers, e = t.background, i = kt({ color: this.color }, t.border); return gt(i.color) || (i.color = new ee(e).brightness(ye).toHex()), i }, createVisual: function () { }, createMarker: function () { var t = this.options.markers, e = new It({ type: t.type, width: t.size, height: t.size, rotation: t.rotation, background: t.background, border: this.markerBorder(), opacity: t.opacity, zIndex: St(t.zIndex, this.series.zIndex), animation: t.animation, visual: t.visual }, { dataItem: this.dataItem, value: this.value, series: this.series, category: this.category }); return e }, markerBox: function () { return this.marker || (this.marker = this.createMarker(), this.marker.reflow(this._childBox)), this.marker.box }, reflow: function (t) { var e, i, n, s, o = this, r = this, a = r.options, h = r.aboveAxis, l = a.vertical; if (this.render(), this.box = t, e = t.clone(), l ? h ? e.y1 -= e.height() : e.y2 += e.height() : h ? e.x1 += e.width() : e.x2 -= e.width(), this._childBox = e, this.marker && this.marker.reflow(e), this.reflowLabel(e), this.errorBars) for (i = 0; i < this.errorBars.length; i++)o.errorBars[i].reflow(e); this.note && (n = this.markerBox(), a.markers.visible && a.markers.size || (s = n.center(), n = new yt(s.x, s.y, s.x, s.y)), this.note.reflow(n)) }, reflowLabel: function (t) { var e = this, i = e.options, n = e.label, s = i.labels.position; n && (s = s === Ve ? it : s, s = s === Me ? nt : s, n.reflow(t), n.box.alignTo(this.markerBox(), s), n.reflow(n.box)) }, createHighlight: function () { var t = this.options.highlight.markers, e = this.markerBorder().color, i = this.options.markers, n = i.size + (i.border.width || 0) + (t.border.width || 0), s = new It({ type: i.type, width: n, height: n, rotation: i.rotation, background: t.color || e, border: { color: t.border.color, width: t.border.width, opacity: St(t.border.opacity, 1) }, opacity: St(t.opacity, 1) }); return s.reflow(this._childBox), s.getElement() }, highlightVisual: function () { return (this.marker || {}).visual }, highlightVisualArgs: function () { var t, e, i, n, s, o = this.marker; return o ? (e = o.paddingBox.toRect(), t = o.visual) : (i = this.options.markers.size, n = i / 2, s = this.box.center(), e = new ie.Rect([s.x - n, s.y - n], [i, i])), { options: this.options, rect: e, visual: t } }, tooltipAnchor: function () { var t, e, i, n, s = this.markerBox(), o = this.owner.pane.clipBox(), r = !o || o.overlaps(s); if (r) return t = s.x2 + _e, e = st, this.aboveAxis ? (i = s.y1, n = nt) : (i = s.y2, n = it), { point: new mt(t, i), align: { horizontal: e, vertical: n } } }, formatValue: function (t) { return this.owner.formatPointValue(this, t) }, overlapsBox: function (t) { var e = this.markerBox(); return e.overlaps(t) }, unclipElements: function () { this.label && (this.label.options.noclip = !0), this.note && (this.note.options.noclip = !0) } }), Ui.prototype.defaults = { vertical: !0, markers: { visible: !0, background: ot, size: Te, type: rt, border: { width: 2 }, opacity: 1 }, labels: { visible: !1, position: Ve, margin: Vt(3), padding: Vt(4), animation: { type: xe, delay: ve } }, notes: { label: {} }, highlight: { markers: { border: { color: "#fff", width: 2 } }, zIndex: Q.HIGHLIGHT_ZINDEX }, errorBars: { line: { width: 1 } } }, kt(Ui.prototype, Wi), kt(Ui.prototype, Xi), Zi = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this), this.linePoints = t, this.series = e, this.seriesIx = i }, points: function () { return this.toGeometryPoints(this.linePoints) }, toGeometryPoints: function (t) { var e, i, n = []; for (e = 0, i = t.length; e < i; e++)t[e] && t[e].visible !== !1 && n.push(t[e]._childBox.toRect().center()); return n }, createVisual: function () { var t, e = this, i = e.options, n = e.series, s = n.color, o = n._defaults; At(s) && o && (s = o.color), t = Qt.fromPoints(this.points(), { stroke: { color: s, width: n.width, opacity: n.opacity, dashType: n.dashType }, zIndex: n.zIndex }), i.closed && t.close(), this.visual = t }, aliasFor: function (t, e) { return this.parent.getNearestPoint(e.x, e.y, this.seriesIx) } }), wt(Zi, { closed: !1 }), Yi = { calculateStepPoints: function (t) { var e, i, n, s = this.parent.plotArea.seriesCategoryAxis(this.series), r = s.options, a = r.justified, h = r.vertical, l = r.reverse, c = h ? at : ht, u = h ? ht : at, p = l ? 2 : 1, d = p, g = o(t[0], c, p, u, d), f = [g]; for (e = 1; e < t.length; e++)i = o(t[e], c, p, u, d), g[c] !== i[c] && (n = new ne, n[c] = g[c], n[u] = i[u], f.push(n, i)), g = i; return a ? g !== Pt(f) && f.push(g) : f.push(o(Pt(t), c, p, u, l ? 1 : 2)), f } }, ji = Zi.extend({ points: function () { return this.calculateStepPoints(this.linePoints) } }), kt(ji.prototype, Yi), Ki = Zi.extend({ createVisual: function () { var t, e, i, n = this.series, s = n._defaults, o = n.color; At(o) && s && (o = s.color), t = new Mt(this.options.closed), e = t.process(this.points()), i = new Qt({ stroke: { color: o, width: n.width, opacity: n.opacity, dashType: n.dashType }, zIndex: n.zIndex }), i.segments.push.apply(i.segments, e), this.visual = i } }), Qi = { renderSegments: function () { var t, e, i, n, s, o, r, a, h = this, l = this, c = l.options, u = l.seriesPoints, p = c.series, d = u.length; for (this._segments = [], e = 0; e < d; e++) { for (i = p[e], n = h.sortPoints(u[e]), s = n.length, o = [], r = 0; r < s; r++)a = n[r], a ? o.push(a) : h.seriesMissingValues(i) !== Ee && (o.length > 1 && (t = h.createSegment(o, i, e, t), h._addSegment(t)), o = []); o.length > 1 && (t = h.createSegment(o, i, e, t), h._addSegment(t)) } this.children.unshift.apply(this.children, this._segments) }, _addSegment: function (t) { this._segments.push(t), t.parent = this }, sortPoints: function (t) { return t }, seriesMissingValues: function (t) { var e = t.missingValues, i = !e && this.options.isStacked; return i ? Re : e || Ee }, getNearestPoint: function (t, e, i) { var n, s, o, r, a, h = new mt(t, e), l = this.seriesPoints[i], c = $; for (s = 0; s < l.length; s++)o = l[s], o && gt(o.value) && null !== o.value && o.visible !== !1 && (r = o.box, a = r.center().distanceTo(h), a < c && (n = o, c = a)); return n } }, $i = $t.extend({ setup: function () { this._setEnd(this.options.box.x1) }, step: function (t) { var e = this.options.box; this._setEnd(Y.interpolateValue(e.x1, e.x2, t)) }, _setEnd: function (t) { var e = this.element, i = e.segments, n = i[1].anchor(), s = i[2].anchor(); e.suspend(), n.setX(t), e.resume(), s.setX(t) } }), wt($i, { duration: ve }), Jt.current.register("clip", $i), Ji = {
            createAnimation: function () { var t, e, i = this.getRoot(); i && (i.options || {}).transitions !== !1 && (t = i.box, e = Qt.fromRect(t.toRect()), this.visual.clip(e), this.animation = new $i(e, { box: t }), r(this.options.series) && this._setChildrenAnimation(e)) }, _setChildrenAnimation: function (t) {
                var e, i, n = this.animationPoints();
                for (e = 0; e < n.length; e++)i = n[e], i && i.visual && gt(i.visual.options.zIndex) && i.visual.clip(t)
            }
        }, tn = qi.extend({ render: function () { qi.fn.render.call(this), this.updateStackRange(), this.renderSegments() }, pointType: function () { return Ui }, createPoint: function (t, e) { var i, n, s, o = e.categoryIx, r = e.category, a = e.series, h = e.seriesIx, l = this.seriesMissingValues(a), c = t.valueFields.value; if (!gt(c) || null === c) { if (l !== Re) return null; c = 0 } return i = this.pointOptions(a, h), i = this.evalPointOptions(i, c, r, o, a, h), n = t.fields.color || a.color, At(a.color) && (n = i.color), s = new Ui(c, i), s.color = n, this.append(s), s }, plotRange: function (t) { var e, i, n, s, o = this, r = this.plotValue(t); if (this.options.isStacked) for (e = t.categoryIx, i = this.categoryPoints[e], n = 0; n < i.length && (s = i[n], t !== s); n++)r += o.plotValue(s), o.options.isStacked100 && (r = Math.min(r, 1)); return [r, r] }, createSegment: function (t, e, i) { var n, s = e.style; return new (n = s === Oe ? ji : s === Le ? Ki : Zi)(t, e, i) }, animationPoints: function () { var t, e = this.points, i = []; for (t = 0; t < e.length; t++)i.push((e[t] || {}).marker); return i.concat(this._segments) } }), kt(tn.prototype, Qi, Ji), en = Zi.extend({ init: function (t, e, i, n, s) { Zi.fn.init.call(this, t, e, i), this.prevSegment = n, this.stackPoints = s }, createVisual: function () { var t = this.series, e = t._defaults, i = t.line || {}, n = t.color; At(n) && e && (n = e.color), this.visual = new te({ zIndex: t.zIndex }), this.createFill({ fill: { color: n, opacity: t.opacity }, stroke: null }), i.width > 0 && i.visible !== !1 && this.createStroke({ stroke: kt({ color: n, opacity: t.opacity, lineCap: "butt" }, i) }) }, strokeSegments: function () { var t = this._strokeSegments; return t || (t = this._strokeSegments = this.createStrokeSegments()), t }, createStrokeSegments: function () { return this.segmentsFromPoints(this.points()) }, stackSegments: function () { return this.prevSegment ? this.prevSegment.createStackSegments(this.stackPoints) : this.createStackSegments(this.stackPoints) }, createStackSegments: function (t) { return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse() }, segmentsFromPoints: function (t) { return t.map(function (t) { return new ie.Segment(t) }) }, createStroke: function (t) { var e = new Qt(t); e.segments.push.apply(e.segments, this.strokeSegments()), this.visual.append(e) }, hasStackSegment: function () { return this.prevSegment || this.stackPoints && this.stackPoints.length }, createFill: function (t) { var e, i, n = this.strokeSegments(), s = n.slice(0), o = this.hasStackSegment(); o && (e = this.stackSegments(), Lt(s, e)), i = new Qt(t), i.segments.push.apply(i.segments, s), !o && n.length > 1 && this.fillToAxes(i), this.visual.append(i) }, fillToAxes: function (t) { var e = this.parent, i = e.options.invertAxes, n = e.seriesValueAxis(this.series), s = e.categoryAxisCrossingValue(n), o = n.getSlot(s, s, !0), r = this.strokeSegments(), a = r[0].anchor(), h = Pt(r).anchor(), l = i ? o.x1 : o.y1; i ? t.lineTo(l, h.y).lineTo(l, a.y) : t.lineTo(h.x, l).lineTo(a.x, l) } }), nn = en.extend({ createStrokeSegments: function () { return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints)) }, createStackSegments: function (t) { return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse() } }), kt(nn.prototype, Yi), sn = en.extend({ createStrokeSegments: function () { var t = new Mt(this.options.closed), e = this.points(); return t.process(e) }, createStackSegments: function () { var t, e, i = this.strokeSegments(), n = []; for (t = i.length - 1; t >= 0; t--)e = i[t], n.push(new ie.Segment(e.anchor(), e.controlOut(), e.controlIn())); return n } }), on = tn.extend({ createSegment: function (t, e, i, n) { var s, o, r, a, h = this.options.isStacked, l = (e.line || {}).style; return h && i > 0 && n && (r = this.seriesMissingValues(e), "gap" !== r ? (o = n.linePoints, s = n) : o = this._gapStackPoints(t, i, l)), new (a = l === Oe ? nn : l === Le ? sn : en)(t, e, i, s, o) }, reflow: function (t) { var e, i, n, s, o = this; if (tn.fn.reflow.call(this, t), e = this._stackPoints) for (i = 0; i < e.length; i++)n = e[i], s = o.categoryAxis.getSlot(n.categoryIx), n.reflow(s) }, _gapStackPoints: function (t, e, i) { var n, s, o, r, a, h, l, c, u = this, p = this.seriesPoints, d = t[0].categoryIx, g = t.length; for (d < 0 && (d = 0, g--), n = d + g, s = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0, o = [], this._stackPoints = this._stackPoints || [], r = d; r < n; r++) { a = r + s, h = e, l = void 0; do h-- , l = p[h][a]; while (h > 0 && !l); l ? (i !== Oe && r > d && !p[h][a - 1] && o.push(u._previousSegmentPoint(r, a, a - 1, h)), o.push(l), i !== Oe && r + 1 < n && !p[h][a + 1] && o.push(u._previousSegmentPoint(r, a, a + 1, h))) : (c = u._createGapStackPoint(r), u._stackPoints.push(c), o.push(c)) } return o }, _previousSegmentPoint: function (t, e, i, n) { for (var s, o = this.seriesPoints, r = n; r > 0 && !s;)r-- , s = o[r][i]; return s ? s = o[r][e] : (s = this._createGapStackPoint(t), this._stackPoints.push(s)), s }, _createGapStackPoint: function (t) { var e = this.pointOptions({}, 0), i = new Ui(0, e); return i.categoryIx = t, i.series = {}, i }, seriesMissingValues: function (t) { return t.missingValues || Re } }), rn = j.extend({ init: function () { this.axisRanges = {} }, update: function (t) { var e, i, n, s = this.axisRanges; for (e in t) i = t[e], n = s[e], s[e] = n = n || { min: $, max: J }, n.min = Math.min(n.min, i.min), n.max = Math.max(n.max, i.max) }, reset: function (t) { this.axisRanges[t] = void 0 }, query: function (t) { return this.axisRanges[t] } }), an = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.textBox = new Et(t, this.options), this.append(this.textBox) }, createVisual: function () { this.textBox.options.noclip = this.options.noclip }, reflow: function (t) { var e = this.options, i = e.vertical, n = e.aboveAxis, s = this.children[0], o = s.options, r = s.box, a = s.options.padding, h = t; o.align = i ? et : st, o.vAlign = i ? it : et, e.position === Mi ? i ? (o.vAlign = it, !n && r.height() < t.height() && (o.vAlign = nt)) : o.align = n ? lt : st : e.position === et ? (o.vAlign = et, o.align = et) : e.position === Li ? i ? o.vAlign = n ? nt : it : o.align = n ? st : lt : e.position === Oi && (i ? h = n ? new yt(t.x1, t.y1 - r.height(), t.x2, t.y1) : new yt(t.x1, t.y2, t.x2, t.y2 + r.height()) : (o.align = et, h = n ? new yt(t.x2, t.y1, t.x2 + r.width(), t.y2) : new yt(t.x1 - r.width(), t.y1, t.x1, t.y2))), e.rotation || (i ? a.left = a.right = (h.width() - s.contentBox.width()) / 2 : a.top = a.bottom = (h.height() - s.contentBox.height()) / 2), s.reflow(h) }, alignToClipBox: function (t) { var e, i = this.options.vertical, n = i ? ht : at, s = n + "1", o = n + "2", r = this.children[0], a = this.parent.box; (a[s] < t[s] || t[o] < a[o]) && (e = r.paddingBox.clone(), e[s] = Math.max(a[s], t[s]), e[o] = Math.min(a[o], t[o]), this.reflow(e)) } }), wt(an, { position: Oi, margin: Vt(3), padding: Vt(4), color: ct, background: "", border: { width: 1, color: "" }, aboveAxis: !0, vertical: !1, animation: { type: xe, delay: ve }, zIndex: 2 }), hn = 6, ln = xt.extend({ init: function (t, e) { xt.fn.init.call(this), this.options = e, this.color = e.color || ot, this.aboveAxis = St(this.options.aboveAxis, !0), this.value = t }, render: function () { this._rendered || (this._rendered = !0, this.createLabel(), this.createNote(), this.errorBar && this.append(this.errorBar)) }, createLabel: function () { var t, e, i = this.options, n = i.labels; n.visible && (t = Rt(n), e = t ? t({ dataItem: this.dataItem, category: this.category, value: this.value, percentage: this.percentage, stackValue: this.stackValue, runningTotal: this.runningTotal, total: this.total, series: this.series }) : this.formatValue(n.format), this.label = new an(e, kt({ vertical: i.vertical }, n)), this.append(this.label)) }, formatValue: function (t) { return this.owner.formatPointValue(this, t) }, reflow: function (t) { var e, i, n = this; if (this.render(), e = this.label, this.box = t, e && (e.options.aboveAxis = this.aboveAxis, e.reflow(t)), this.note && this.note.reflow(t), this.errorBars) for (i = 0; i < this.errorBars.length; i++)n.errorBars[i].reflow(t) }, createVisual: function () { var t, e = this, i = this, n = i.box, s = i.options, o = s.visual; this.visible !== !1 && (xt.fn.createVisual.call(this), o ? (t = this.rectVisual = o({ category: this.category, dataItem: this.dataItem, value: this.value, sender: this.getSender(), series: this.series, percentage: this.percentage, stackValue: this.stackValue, runningTotal: this.runningTotal, total: this.total, rect: n.toRect(), createVisual: function () { var t = new te; return e.createRect(t), t }, options: s }), t && this.visual.append(t)) : n.width() > 0 && n.height() > 0 && this.createRect(this.visual)) }, createRect: function (t) { var e, i, n, s, o, r = this.options, h = r.border, l = gt(h.opacity) ? h.opacity : r.opacity, c = this.box.toRect(); c.size.width = Math.round(c.size.width), e = this.rectVisual = Qt.fromRect(c, { fill: { color: this.color, opacity: r.opacity }, stroke: { color: this.getBorderColor(), width: h.width, opacity: l, dashType: h.dashType } }), i = this.box.width(), n = this.box.height(), s = r.vertical ? i : n, s > hn && (_t(e), (i < 1 || n < 1) && (e.options.stroke.lineJoin = "round")), t.append(e), a(r) && (o = this.createGradientOverlay(e, { baseColor: this.color }, kt({ end: r.vertical ? void 0 : [0, 1] }, r.overlay)), t.append(o)) }, createHighlight: function (t) { var e = Qt.fromRect(this.box.toRect(), t); return _t(e) }, highlightVisual: function () { return this.rectVisual }, highlightVisualArgs: function () { return { options: this.options, rect: this.box.toRect(), visual: this.rectVisual } }, getBorderColor: function () { var t = this.color, e = this.options.border, i = e._brightness || ye, n = e.color; return gt(n) || (n = new ee(t).brightness(i).toHex()), n }, tooltipAnchor: function () { var t, e, i, n, s = this, o = s.options, r = s.box, a = s.aboveAxis, h = this.owner.pane.clipBox() || r, l = st, c = it; return o.vertical ? (t = Math.min(r.x2, h.x2) + _e, a ? e = Math.max(r.y1, h.y1) : (e = Math.min(r.y2, h.y2), c = nt)) : (i = Math.max(r.x1, h.x1), n = Math.min(r.x2, h.x2), o.isStacked ? (c = nt, a ? (l = lt, t = n) : t = i, e = Math.max(r.y1, h.y1) - _e) : (a ? t = n + _e : (t = i - _e, l = lt), e = Math.max(r.y1, h.y1))), { point: new mt(t, e), align: { horizontal: l, vertical: c } } }, overlapsBox: function (t) { return this.box.overlaps(t) } }), kt(ln.prototype, Wi), kt(ln.prototype, Xi), ln.prototype.defaults = { border: { width: 1 }, vertical: !0, overlay: { gradient: "glass" }, labels: { visible: !1, format: "{0}" }, opacity: 1, notes: { label: {} } }, cn = xt.extend({ init: function (t) { xt.fn.init.call(this, t), this.forEach = t.rtl ? l : h }, reflow: function (t) { var e = this.options, i = e.vertical, n = e.gap, s = e.spacing, o = this.children, r = o.length, a = i ? ht : at, h = r + n + s * (r - 1), l = (i ? t.height() : t.width()) / h, c = t[a + 1] + l * (n / 2); this.forEach(o, function (e, i) { var n = (e.box || t).clone(); n[a + 1] = c, n[a + 2] = c + l, e.reflow(n), i < r - 1 && (c += l * s), c += l }) } }), wt(cn, { vertical: !1, gap: 0, spacing: 0 }), un = xt.extend({ reflow: function (t) { var e, i, n, s = this, o = this.options.vertical ? at : ht, r = this.children, a = r.length, h = this.box = new yt; for (e = 0; e < a; e++)i = r[e], i.visible !== !1 && (n = i.box.clone(), n.snapTo(t, o), 0 === e && (h = s.box = n.clone()), i.reflow(n), h.wrap(n)) } }), wt(un, { vertical: !0 }), pn = qi.extend({ render: function () { qi.fn.render.call(this), this.updateStackRange() }, pointType: function () { return ln }, clusterType: function () { return cn }, stackType: function () { return un }, stackLimits: function (t, e) { var i = qi.fn.stackLimits.call(this, t, e); return i }, createPoint: function (t, e) { var i, n, s, o, r, a, h = e.categoryIx, l = e.category, c = e.series, u = e.seriesIx, p = this, d = p.options, g = p.children, f = d.isStacked, v = this.pointValue(t), x = this.pointOptions(c, u), m = x.labels; return f && m.position === Oi && (m.position = Mi), x.isStacked = f, i = t.fields.color || c.color, v < 0 && x.negativeColor && (i = x.negativeColor), x = this.evalPointOptions(x, v, l, h, c, u), At(c.color) && (i = x.color), n = this.pointType(), s = new n(v, x), s.color = i, o = g[h], o || (r = this.clusterType(), o = new r({ vertical: d.invertAxes, gap: d.gap, spacing: d.spacing, rtl: !d.invertAxes && (this.chartService || {}).rtl }), this.append(o)), f ? (a = this.getStackWrap(c, o), a.append(s)) : o.append(s), s }, getStackWrap: function (t, e) { var i, n, s, o = t.stack, r = o ? o.group || o : o, a = e.children; if (typeof r === Q.STRING) { for (n = 0; n < a.length; n++)if (a[n]._stackGroup === r) { i = a[n]; break } } else i = a[0]; return i || (s = this.stackType(), i = new s({ vertical: !this.options.invertAxes }), i._stackGroup = r, e.append(i)), i }, categorySlot: function (t, e, i) { var n, s, o = this.options, r = t.getSlot(e), a = i.startValue(); return o.isStacked && (n = i.getSlot(a, a, !0), s = o.invertAxes ? at : ht, r[s + 1] = r[s + 2] = n[s + 1]), r }, reflowCategories: function (t) { var e, i = this.children, n = i.length; for (e = 0; e < n; e++)i[e].reflow(t[e]) }, createAnimation: function () { this._setAnimationOptions(), qi.fn.createAnimation.call(this), r(this.options.series) && this._setChildrenAnimation() }, _setChildrenAnimation: function () { var t, e, i, n = this, s = this.points; for (t = 0; t < s.length; t++)e = s[t], i = e.visual, i && gt(i.options.zIndex) && (e.options.animation = n.options.animation, e.createAnimation()) }, _setAnimationOptions: function () { var t, e, i = this.options, n = i.animation || {}; i.isStacked ? (e = this.seriesValueAxis(i.series[0]), t = e.getSlot(e.startValue())) : t = this.categoryAxis.getSlot(0), n.origin = new ne(t.x1, t.y1), n.vertical = !i.invertAxes } }), wt(pn, { animation: { type: ze } }), dn = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.value = t }, reflow: function (t) { var e, i, n = this, s = n.options, o = n.value, r = n.owner, a = r.seriesValueAxis(s), h = a.getSlot(o.open, o.close), l = a.getSlot(o.low, o.high); h.x1 = l.x1 = t.x1, h.x2 = l.x2 = t.x2, this.realBody = h, e = l.center().x, i = [], i.push([[e, l.y1], [e, h.y1]]), i.push([[e, h.y2], [e, l.y2]]), this.lines = i, this.box = l.clone().wrap(h), this._rendered || (this._rendered = !0, this.createNote()), this.reflowNote() }, reflowNote: function () { this.note && this.note.reflow(this.box) }, createVisual: function () { xt.fn.createVisual.call(this), this._mainVisual = this.mainVisual(this.options), this.visual.append(this._mainVisual), this.createOverlay() }, mainVisual: function (t) { var e = new te; return this.createBody(e, t), this.createLines(e, t), e }, createBody: function (t, e) { var i = Qt.fromRect(this.realBody.toRect(), { fill: { color: this.color, opacity: e.opacity }, stroke: null }); e.border.width > 0 && i.options.set("stroke", { color: this.getBorderColor(), width: e.border.width, dashType: e.border.dashType, opacity: St(e.border.opacity, e.opacity) }), _t(i), t.append(i), a(e) && t.append(this.createGradientOverlay(i, { baseColor: this.color }, kt({ end: e.vertical ? void 0 : [0, 1] }, e.overlay))) }, createLines: function (t, e) { this.drawLines(t, e, this.lines, e.line) }, drawLines: function (t, e, i, n) { var s, o, r; if (i) for (s = { stroke: { color: n.color || this.color, opacity: St(n.opacity, e.opacity), width: n.width, dashType: n.dashType, lineCap: "butt" } }, o = 0; o < i.length; o++)r = Qt.fromPoints(i[o], s), _t(r), t.append(r) }, getBorderColor: function () { var t = this.options.border, e = t.color; return gt(e) || (e = new ee(this.color).brightness(t._brightness).toHex()), e }, createOverlay: function () { var t = Qt.fromRect(this.box.toRect(), { fill: { color: ot, opacity: 0 }, stroke: null }); this.visual.append(t) }, createHighlight: function () { var t, e = this.options.highlight, i = this.color; return this.color = e.color || this.color, t = this.mainVisual(kt({}, this.options, { line: { color: this.getBorderColor() } }, e)), this.color = i, t }, highlightVisual: function () { return this._mainVisual }, highlightVisualArgs: function () { return { options: this.options, rect: this.box.toRect(), visual: this._mainVisual } }, tooltipAnchor: function () { var t = this.box, e = this.owner.pane.clipBox() || t; return { point: new mt(t.x2 + _e, Math.max(t.y1, e.y1) + _e), align: { horizontal: st, vertical: it } } }, formatValue: function (t) { return this.owner.formatPointValue(this, t) }, overlapsBox: function (t) { return this.box.overlaps(t) } }), wt(dn, { vertical: !0, border: { _brightness: .8 }, line: { width: 2 }, overlay: { gradient: "glass" }, tooltip: { format: "<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>" }, highlight: { opacity: 1, border: { width: 1, opacity: 1 }, line: { width: 1, opacity: 1 } }, notes: { visible: !0, label: {} } }), kt(dn.prototype, Wi), kt(dn.prototype, Xi), gn = qi.extend({ reflowCategories: function (t) { var e, i = this.children, n = i.length; for (e = 0; e < n; e++)i[e].reflow(t[e]) }, addValue: function (t, e) { var i, n, s = e.categoryIx, o = e.category, r = e.series, a = e.seriesIx, h = this, l = h.children, u = h.options, p = t.valueFields, d = this.splitValue(p), g = c(d), f = r.data[s], v = this.categoryPoints[s]; v || (this.categoryPoints[s] = v = []), g && (i = this.createPoint(t, e)), n = l[s], n || (n = new cn({ vertical: u.invertAxes, gap: u.gap, spacing: u.spacing, rtl: !u.invertAxes && (this.chartService || {}).rtl }), this.append(n)), i && (this.updateRange(p, e), n.append(i), i.categoryIx = s, i.category = o, i.series = r, i.seriesIx = a, i.owner = this, i.dataItem = f, i.noteText = t.fields.noteText), this.points.push(i), v.push(i) }, pointType: function () { return dn }, createPoint: function (t, e) { var i, n = e.categoryIx, s = e.category, o = e.series, r = e.seriesIx, a = this.pointType(), h = t.valueFields, l = kt({}, o), c = t.fields.color || o.color; return l = this.evalPointOptions(l, h, s, n, o, r), o.type === Ne && h.open > h.close && (c = t.fields.downColor || o.downColor || o.color), At(o.color) && (c = l.color), l.vertical = !this.options.invertAxes, i = new a(h, l), i.color = c, i }, splitValue: function (t) { return [t.low, t.open, t.close, t.high] }, updateRange: function (t, e) { var i = e.series.axis, n = this.splitValue(t), s = this.valueAxisRanges[i]; s = this.valueAxisRanges[i] = s || { min: $, max: J }, s = this.valueAxisRanges[i] = { min: Math.min.apply(Math, n.concat([s.min])), max: Math.max.apply(Math, n.concat([s.max])) } }, formatPointValue: function (t, e) { var i = t.value; return this.chartService.format.auto(e, i.open, i.high, i.low, i.close, t.category) }, animationPoints: function () { return this.points } }), kt(gn.prototype, Ji), fn = dn.extend({ init: function (t, e) { dn.fn.init.call(this, t, e), this.createNote() }, reflow: function (t) { var e, i, n, s, o = this, r = o.options, a = o.value, h = o.owner, l = h.seriesValueAxis(r); this.boxSlot = i = l.getSlot(a.q1, a.q3), this.realBody = i, this.reflowBoxSlot(t), this.whiskerSlot = e = l.getSlot(a.lower, a.upper), this.reflowWhiskerSlot(t), n = l.getSlot(a.median), a.mean && (s = l.getSlot(a.mean), this.meanPoints = this.calcMeanPoints(t, s)), this.whiskerPoints = this.calcWhiskerPoints(i, e), this.medianPoints = this.calcMedianPoints(t, n), this.box = e.clone().wrap(i), this.reflowNote() }, reflowBoxSlot: function (t) { this.boxSlot.x1 = t.x1, this.boxSlot.x2 = t.x2 }, reflowWhiskerSlot: function (t) { this.whiskerSlot.x1 = t.x1, this.whiskerSlot.x2 = t.x2 }, calcMeanPoints: function (t, e) { return [[[t.x1, e.y1], [t.x2, e.y1]]] }, calcWhiskerPoints: function (t, e) { var i = e.center().x; return [[[i - 5, e.y1], [i + 5, e.y1], [i, e.y1], [i, t.y1]], [[i - 5, e.y2], [i + 5, e.y2], [i, e.y2], [i, t.y2]]] }, calcMedianPoints: function (t, e) { return [[[t.x1, e.y1], [t.x2, e.y1]]] }, renderOutliers: function (t) { var e, i, n, s, o = this, r = this.value, a = r.outliers || [], h = 3 * Math.abs(r.q3 - r.q1), l = [], c = t.markers || {}; for (e = 0; e < a.length; e++)i = a[e], c = i < r.q3 + h && i > r.q1 - h ? t.outliers : t.extremes, n = kt({}, c.border), gt(n.color) || (n.color = gt(o.color) ? o.color : new ee(c.background).brightness(ye).toHex()), s = new It({ type: c.type, width: c.size, height: c.size, rotation: c.rotation, background: c.background, border: n, opacity: c.opacity }), s.value = i, l.push(s); return this.reflowOutliers(l), l }, reflowOutliers: function (t) { var e, i, n, s = this, o = this.owner.seriesValueAxis(this.options), r = this.box.center(); for (e = 0; e < t.length; e++)i = t[e].value, n = o.getSlot(i), s.options.vertical ? n.move(r.x) : n.move(void 0, r.y), s.box = s.box.wrap(n), t[e].reflow(n) }, mainVisual: function (t) { var e, i, n = dn.fn.mainVisual.call(this, t), s = this.renderOutliers(t); for (e = 0; e < s.length; e++)i = s[e].getElement(), i && n.append(i); return n }, createLines: function (t, e) { this.drawLines(t, e, this.whiskerPoints, e.whiskers), this.drawLines(t, e, this.medianPoints, e.median), this.drawLines(t, e, this.meanPoints, e.mean) }, getBorderColor: function () { return this.color ? this.color : dn.fn.getBorderColor.call(this) } }), wt(fn, { border: { _brightness: .8 }, line: { width: 2 }, median: { color: "#f6f6f6" }, mean: { width: 2, dashType: "dash", color: "#f6f6f6" }, overlay: { gradient: "glass" }, tooltip: { format: "<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>" }, highlight: { opacity: 1, border: { width: 1, opacity: 1 }, line: { width: 1, opacity: 1 } }, notes: { visible: !0, label: {} }, outliers: { visible: !0, size: Te, type: Q.CROSS, background: ot, border: { width: 2, opacity: 1 }, opacity: 0 }, extremes: { visible: !0, size: Te, type: rt, background: ot, border: { width: 2, opacity: 1 }, opacity: 0 } }), kt(fn.prototype, Wi), vn = fn.extend({ reflowBoxSlot: function (t) { this.boxSlot.y1 = t.y1, this.boxSlot.y2 = t.y2 }, reflowWhiskerSlot: function (t) { this.whiskerSlot.y1 = t.y1, this.whiskerSlot.y2 = t.y2 }, calcMeanPoints: function (t, e) { return [[[e.x1, t.y1], [e.x1, t.y2]]] }, calcWhiskerPoints: function (t, e) { var i = e.center().y; return [[[e.x1, i - 5], [e.x1, i + 5], [e.x1, i], [t.x1, i]], [[e.x2, i - 5], [e.x2, i + 5], [e.x2, i], [t.x2, i]]] }, calcMedianPoints: function (t, e) { return [[[e.x1, t.y1], [e.x1, t.y2]]] } }), xn = gn.extend({ addValue: function (t, e) { var i, n, s = e.categoryIx, o = e.category, r = e.series, a = e.seriesIx, h = this, l = h.children, u = h.options, p = t.valueFields, d = this.splitValue(p), g = c(d), f = r.data[s], v = this.categoryPoints[s]; v || (this.categoryPoints[s] = v = []), g && (i = this.createPoint(t, e)), n = l[s], n || (n = new cn({ vertical: u.invertAxes, gap: u.gap, spacing: u.spacing, rtl: !u.invertAxes && (this.chartService || {}).rtl }), this.append(n)), i && (this.updateRange(p, e), n.append(i), i.categoryIx = s, i.category = o, i.series = r, i.seriesIx = a, i.owner = this, i.dataItem = f), this.points.push(i), v.push(i) }, pointType: function () { return this.options.invertAxes ? vn : fn }, splitValue: function (t) { return [t.lower, t.q1, t.median, t.q3, t.upper] }, updateRange: function (t, e) { var i = e.series.axis, n = this.valueAxisRanges[i], s = this.splitValue(t).concat(this.filterOutliers(t.outliers)); gt(t.mean) && (s = s.concat(t.mean)), n = this.valueAxisRanges[i] = n || { min: $, max: J }, n = this.valueAxisRanges[i] = { min: Math.min.apply(Math, s.concat([n.min])), max: Math.max.apply(Math, s.concat([n.max])) } }, formatPointValue: function (t, e) { var i = t.value; return this.chartService.format.auto(e, i.lower, i.q1, i.median, i.q3, i.upper, i.mean, t.category) }, filterOutliers: function (t) { var e, i, n = (t || []).length, s = []; for (e = 0; e < n; e++)i = t[e], gt(i) && null !== i && s.push(i); return s } }), mn = Hi.extend({ getAxis: function () { var t = this.chart.seriesAxes(this.series), e = this.isVertical ? t.y : t.x; return e } }), yn = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.plotArea = t, this.chartService = t.chartService, this._initFields(), this.render() }, _initFields: function () { this.xAxisRanges = {}, this.yAxisRanges = {}, this.points = [], this.seriesPoints = [], this.seriesOptions = [], this._evalSeries = [] }, render: function () { this.traverseDataPoints(this.addValue.bind(this)) }, addErrorBar: function (t, e, i) { var n, s = t.value[e], o = e + "Value", r = e + "ErrorLow", a = e + "ErrorHigh", h = i.seriesIx, l = i.series, c = t.options.errorBars, u = i[r], p = i[a]; K(s) && (K(u) && K(p) && (n = { low: u, high: p }), c && gt(c[o]) && (this.seriesErrorRanges = this.seriesErrorRanges || { x: [], y: [] }, this.seriesErrorRanges[e][h] = this.seriesErrorRanges[e][h] || new ge(c[o], l, e), n = this.seriesErrorRanges[e][h].getErrorRange(s, c[o])), n && this.addPointErrorBar(n, t, e)) }, addPointErrorBar: function (t, e, i) { var n, s = t.low, o = t.high, r = e.series, a = e.options.errorBars, h = i === ht, l = {}; e[i + "Low"] = s, e[i + "High"] = o, e.errorBars = e.errorBars || [], n = new mn(s, o, h, this, r, a), e.errorBars.push(n), e.append(n), l[i] = s, this.updateRange(l, r), l[i] = o, this.updateRange(l, r) }, addValue: function (e, i) { var n, s = e.x, o = e.y, r = i.seriesIx, a = this.options.series[r], h = this.seriesMissingValues(a), l = this.seriesPoints[r], c = e; u(s) && u(o) || (c = this.createMissingValue(c, h)), c && (n = this.createPoint(c, i), n && (t.extend(n, i), this.addErrorBar(n, at, i), this.addErrorBar(n, ht, i)), this.updateRange(c, i.series)), this.points.push(n), l.push(n) }, seriesMissingValues: function (t) { return t.missingValues }, createMissingValue: function () { }, updateRange: function (t, e) { var i = this.chartService.intl, n = e.xAxis, s = e.yAxis, o = t.x, r = t.y, a = this.xAxisRanges[n], h = this.yAxisRanges[s]; u(o) && (a = this.xAxisRanges[n] = a || { min: $, max: J }, Ot(o) && (o = Bt(i, o)), a.min = Math.min(a.min, o), a.max = Math.max(a.max, o)), u(r) && (h = this.yAxisRanges[s] = h || { min: $, max: J }, Ot(r) && (r = Bt(i, r)), h.min = Math.min(h.min, r), h.max = Math.max(h.max, r)) }, evalPointOptions: function (t, e, i) { var s, o = i.series, r = i.seriesIx, a = { defaults: o._defaults, excluded: ["data", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint"] }, h = this._evalSeries[r]; return gt(h) || (this._evalSeries[r] = h = n(t, {}, a, !0)), s = t, h && (s = kt({}, t), n(s, { value: e, series: o, dataItem: i.dataItem }, a)), s }, pointType: function () { return Ui }, pointOptions: function (t, e) { var i, n = this.seriesOptions[e]; return n || (i = this.pointType().prototype.defaults, this.seriesOptions[e] = n = kt({}, i, { markers: { opacity: t.opacity }, tooltip: { format: this.options.tooltip.format }, labels: { format: this.options.labels.format } }, t)), n }, createPoint: function (t, e) { var i, n = e.series, s = this.pointOptions(n, e.seriesIx), o = e.color || n.color; return s = this.evalPointOptions(s, t, e), At(n.color) && (o = s.color), i = new Ui(t, s), i.color = o, this.append(i), i }, seriesAxes: function (t) { var e = t.xAxis, i = t.yAxis, n = this.plotArea, s = e ? n.namedXAxes[e] : n.axisX, o = i ? n.namedYAxes[i] : n.axisY; if (!s) throw Error("Unable to locate X axis with name " + e); if (!o) throw Error("Unable to locate Y axis with name " + i); return { x: s, y: o } }, reflow: function (t) { var e = this, i = this.points, n = !this.options.clip, s = 0; this.traverseDataPoints(function (t, o) { var r, a = i[s++], h = e.seriesAxes(o.series), l = h.x.getSlot(t.x, t.x, n), c = h.y.getSlot(t.y, t.y, n); a && (l && c ? (r = e.pointSlot(l, c), a.reflow(r)) : a.visible = !1) }), this.box = t }, pointSlot: function (t, e) { return new yt(t.x1, e.y1, t.x2, e.y2) }, traverseDataPoints: function (t) { var e, i, n, s, o, r, a, h = this, l = this, c = l.options.series, u = l.seriesPoints; for (e = 0; e < c.length; e++)for (i = c[e], n = u[e], n || (u[e] = []), s = 0; s < i.data.length; s++)o = h._bindPoint(i, e, s), r = o.valueFields, a = o.fields, t(r, kt({ pointIx: s, series: i, seriesIx: e, dataItem: i.data[s], owner: h }, a)) }, formatPointValue: function (t, e) { var i = t.value; return this.chartService.format.auto(e, i.x, i.y) }, animationPoints: function () { var t, e = this.points, i = []; for (t = 0; t < e.length; t++)i.push((e[t] || {}).marker); return i } }), wt(yn, { series: [], tooltip: { format: "{0}, {1}" }, labels: { format: "{0}, {1}" }, clip: !0 }), kt(yn.prototype, Ji, { _bindPoint: qi.prototype._bindPoint }), _n = Ui.extend({ init: function (t, e) { Ui.fn.init.call(this, t, e), this.category = t.category }, createHighlight: function () { var t = this.options.highlight, e = t.border, i = this.options.markers, n = this.box.center(), s = (i.size + i.border.width + e.width) / 2, o = new te, r = new Kt.Circle(new ie.Circle([n.x, n.y + s / 5 + e.width / 2], s + e.width / 2), { stroke: { color: "none" }, fill: this.createGradient({ gradient: "bubbleShadow", color: i.background, stops: [{ offset: 0, color: i.background, opacity: .3 }, { offset: 1, color: i.background, opacity: 0 }] }) }), a = new Kt.Circle(new ie.Circle([n.x, n.y], s), { stroke: { color: e.color || new ee(i.background).brightness(ye).toHex(), width: e.width, opacity: e.opacity }, fill: { color: i.background, opacity: t.opacity } }); return o.append(r, a), o } }), _n.prototype.defaults = kt({}, _n.prototype.defaults, { labels: { position: et }, highlight: { opacity: 1, border: { color: "#fff", width: 2, opacity: 1 } } }), _n.prototype.defaults.highlight.zIndex = void 0, wn = yn.extend({ _initFields: function () { this._maxSize = J, yn.fn._initFields.call(this) }, addValue: function (t, e) { null !== t.size && (t.size > 0 || t.size < 0 && e.series.negativeValues.visible) ? (this._maxSize = Math.max(this._maxSize, Math.abs(t.size)), yn.fn.addValue.call(this, t, e)) : (this.points.push(null), this.seriesPoints[e.seriesIx].push(null)) }, reflow: function (t) { this.updateBubblesSize(t), yn.fn.reflow.call(this, t) }, pointType: function () { return _n }, createPoint: function (t, e) { var i, n, s = e.series, o = s.data.length, r = e.pointIx * (ve / o), a = { delay: r, duration: ve - r, type: Fe }, h = e.color || s.color; return t.size < 0 && s.negativeValues.visible && (h = St(s.negativeValues.color, h)), i = kt({ labels: { animation: { delay: r, duration: ve - r } } }, this.pointOptions(s, e.seriesIx), { markers: { type: rt, border: s.border, opacity: s.opacity, animation: a } }), i = this.evalPointOptions(i, t, e), At(s.color) && (h = i.color), i.markers.background = h, n = new _n(t, i), n.color = h, this.append(n), n }, updateBubblesSize: function (t) { var e, i, n, s, o, r, a, h, l, c, u, p, d, g, f, v, x, m = this, y = this, _ = y.options.series, w = Math.min(t.width(), t.height()); for (e = 0; e < _.length; e++)for (i = _[e], n = m.seriesPoints[e], s = i.minSize || Math.max(.02 * w, 10), o = i.maxSize || .2 * w, r = s / 2, a = o / 2, h = Math.PI * r * r, l = Math.PI * a * a, c = l - h, u = c / m._maxSize, p = 0; p < n.length; p++)d = n[p], d && (g = Math.abs(d.value.size) * u, f = Math.sqrt((h + g) / Math.PI), v = St(d.options.zIndex, 0), x = v + (1 - f / a), kt(d.options, { zIndex: x, markers: { size: 2 * f, zIndex: x }, labels: { zIndex: x + 1 } })) }, formatPointValue: function (t, e) { var i = t.value; return this.chartService.format.auto(e, i.x, i.y, i.size, t.category) }, createAnimation: function () { }, createVisual: function () { } }), wt(wn, { tooltip: { format: "{3}" }, labels: { format: "{3}" } }), bn = It.extend({}), kt(bn.prototype, Wi), An = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.aboveAxis = this.options.aboveAxis, this.color = e.color || ot, this.value = t }, render: function () { var t = this.options; this._rendered || (this._rendered = !0, gt(this.value.target) && (this.target = new bn({ type: t.target.shape, background: t.target.color || this.color, opacity: t.opacity, zIndex: t.zIndex, border: t.target.border, vAlign: it, align: lt }), this.target.value = this.value, this.target.dataItem = this.dataItem, this.target.series = this.series, this.append(this.target)), this.createNote()) }, reflow: function (t) { var e, i, n, s, o, r, a, h, l, c, u; this.render(), e = this, i = e.options, n = e.target, s = e.owner, o = i.invertAxes, r = s.seriesValueAxis(this.options), a = s.categorySlot(s.categoryAxis, i.categoryIx, r), h = r.getSlot(this.value.target), l = o ? h : a, c = o ? a : h, n && (u = new yt(l.x1, c.y1, l.x2, c.y2), n.options.height = o ? u.height() : i.target.line.width, n.options.width = o ? i.target.line.width : u.width(), n.reflow(u)), this.note && this.note.reflow(t), this.box = t }, createVisual: function () { var t, e; xt.fn.createVisual.call(this), t = this.options, e = Qt.fromRect(this.box.toRect(), { fill: { color: this.color, opacity: t.opacity }, stroke: null }), t.border.width > 0 && e.options.set("stroke", { color: t.border.color || this.color, width: t.border.width, dashType: t.border.dashType, opacity: St(t.border.opacity, t.opacity) }), this.bodyVisual = e, _t(e), this.visual.append(e) }, createAnimation: function () { this.bodyVisual && (this.animation = $t.create(this.bodyVisual, this.options.animation)) }, createHighlight: function (t) { return Qt.fromRect(this.box.toRect(), t) }, highlightVisual: function () { return this.bodyVisual }, highlightVisualArgs: function () { return { rect: this.box.toRect(), visual: this.bodyVisual, options: this.options } }, formatValue: function (t) { return this.owner.formatPointValue(this, t) } }), An.prototype.tooltipAnchor = ln.prototype.tooltipAnchor, wt(An, { border: { width: 1 }, vertical: !1, opacity: 1, target: { shape: "", border: { width: 0, color: "green" }, line: { width: 2 } }, tooltip: { format: "Current: {0}<br />Target: {1}" } }), kt(An.prototype, Wi), kt(An.prototype, Xi), Sn = qi.extend({ init: function (t, e) { p(e), qi.fn.init.call(this, t, e) }, reflowCategories: function (t) { var e, i = this.children, n = i.length; for (e = 0; e < n; e++)i[e].reflow(t[e]) }, plotRange: function (t) { var e = t.series, i = this.seriesValueAxis(e), n = this.categoryAxisCrossingValue(i); return [n, t.value.current || n] }, createPoint: function (t, e) { var i, n, s = e.categoryIx, o = e.category, r = e.series, a = e.seriesIx, h = this, l = h.options, c = h.children, u = t.valueFields, p = kt({ vertical: !l.invertAxes, overlay: r.overlay, categoryIx: s, invertAxes: l.invertAxes }, r), d = t.fields.color || r.color; return p = this.evalPointOptions(p, u, o, s, r, a), At(r.color) && (d = p.color), i = new An(u, p), i.color = d, n = c[s], n || (n = new cn({ vertical: l.invertAxes, gap: l.gap, spacing: l.spacing, rtl: !l.invertAxes && (this.chartService || {}).rtl }), this.append(n)), n.append(i), i }, updateRange: function (t, e) { var i = t.current, n = t.target, s = e.series.axis, o = this.valueAxisRanges[s]; gt(i) && !isNaN(i) && gt(n && !isNaN(n)) && (o = this.valueAxisRanges[s] = o || { min: $, max: J }, o.min = Math.min(o.min, i, n), o.max = Math.max(o.max, i, n)) }, formatPointValue: function (t, e) { return this.chartService.format.auto(e, t.value.current, t.value.target) }, pointValue: function (t) { return t.valueFields.current }, aboveAxis: function (t) { var e = t.value.current; return e > 0 }, createAnimation: function () { var t, e, i = this, n = this.points; for (this._setAnimationOptions(), t = 0; t < n.length; t++)e = n[t], e.options.animation = i.options.animation, e.createAnimation() } }), Sn.prototype._setAnimationOptions = pn.prototype._setAnimationOptions, wt(Sn, { animation: { type: ze } }), Cn = j.extend({ init: function (t, e) { this.chartService = t, this.options = kt({}, this.options, e) }, getStyle: function (t, e) { var i, n, s = t.background, o = t.border.color; return e && (i = e.color || e.options.color, s = St(s, i), o = St(o, i)), n = Vt(t.padding || {}, "auto"), { backgroundColor: s, borderColor: o, font: t.font, color: t.color, opacity: t.opacity, borderWidth: zt(t.border.width), paddingTop: zt(n.top), paddingBottom: zt(n.bottom), paddingLeft: zt(n.left), paddingRight: zt(n.right) } }, show: function (t, e, i) { t.format = e.format; var n = this.getStyle(e, i); t.style = n, !gt(e.color) && new ee(n.backgroundColor).percBrightness() > 180 && (t.className = "k-chart-tooltip-inverse"), this.chartService.notify(Ri, t) }, hide: function () { this.chartService && this.chartService.notify(Ei) }, destroy: function () { delete this.chartService } }), wt(Cn, { border: { width: 1 }, opacity: 1 }), kn = Cn.extend({
            init: function (t, e, i) { Cn.fn.init.call(this, t, i), this.crosshair = e, this.formatService = t.format, this.initAxisName() }, initAxisName: function () {
                var t, e = this.crosshair.axis, i = e.plotArea; t = i.categoryAxis ? e.getCategory ? "categoryAxis" : "valueAxis" : e.options.vertical ? "yAxis" : "xAxis",
                    this.axisName = t
            }, showAt: function (t) { var e = this, i = e.crosshair.axis, n = e.options, s = i[n.stickyMode ? "getCategory" : "getValue"](t), o = s; n.format ? o = this.formatService.auto(n.format, s) : i.options.type === ut && (o = this.formatService.auto(i.options.labels.dateFormats[i.options.baseUnit], s)), this.show({ point: t, anchor: this.getAnchor(), crosshair: this.crosshair, value: o, axisName: this.axisName, axisIndex: this.crosshair.axis.axisIndex }, this.options) }, hide: function () { this.chartService.notify(Ei, { crosshair: this.crosshair, axisName: this.axisName, axisIndex: this.crosshair.axis.axisIndex }) }, getAnchor: function () { var t, e, i, n = this, s = n.crosshair, o = n.options, r = o.position, a = o.padding, h = !s.axis.options.vertical, l = s.line.bbox(); return h ? (t = et, r === nt ? (e = it, i = l.bottomLeft().translate(0, a)) : (e = nt, i = l.topLeft().translate(0, -a))) : (e = et, r === st ? (t = lt, i = l.topLeft().translate(-a, 0)) : (t = st, i = l.topRight().translate(a, 0))), { point: i, align: { horizontal: t, vertical: e } } }
        }), wt(kn, { padding: 10 }), Pn = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this, i), this.axis = e, this.stickyMode = e instanceof Dt; var n = this.options.tooltip; n.visible && (this.tooltip = new kn(t, this, kt({}, n, { stickyMode: this.stickyMode }))) }, showAt: function (t) { this.point = t, this.moveLine(), this.line.visible(!0), this.tooltip && this.tooltip.showAt(t) }, hide: function () { this.line.visible(!1), this.tooltip && this.tooltip.hide() }, moveLine: function () { var t, e, i = this, n = i.axis, s = i.point, o = n.options.vertical, r = this.getBox(), a = o ? ht : at, h = new ne(r.x1, r.y1); t = o ? new ne(r.x2, r.y1) : new ne(r.x1, r.y2), s && (this.stickyMode ? (e = n.getSlot(n.pointCategoryIndex(s)), h[a] = t[a] = e.center()[a]) : h[a] = t[a] = s[a]), this.box = r, this.line.moveTo(h).lineTo(t) }, getBox: function () { var t, e, i, n = this.axis, s = n.pane.axes, o = s.length, r = n.options.vertical, a = n.lineBox().clone(), h = r ? at : ht; for (e = 0; e < o; e++)i = s[e], i.options.vertical !== r && (t ? t.wrap(i.lineBox()) : t = i.lineBox().clone()); return a[h + 1] = t[h + 1], a[h + 2] = t[h + 2], a }, createVisual: function () { xt.fn.createVisual.call(this); var t = this.options; this.line = new Qt({ stroke: { color: t.color, width: t.width, opacity: t.opacity, dashType: t.dashType }, visible: !1 }), this.moveLine(), this.visual.append(this.line) }, destroy: function () { this.tooltip && this.tooltip.destroy(), xt.fn.destroy.call(this) } }), wt(Pn, { color: ct, width: 2, zIndex: -1, tooltip: { visible: !1 } }), Tn = xt.extend({ init: function (t, e) { xt.fn.init.call(this, t), this.pane = e }, shouldClip: function () { var t, e = this.children, i = e.length; for (t = 0; t < i; t++)if (e[t].options.clip === !0) return !0; return !1 }, _clipBox: function () { return this.pane.chartsBox() }, createVisual: function () { var t, e, i; this.visual = new te({ zIndex: 0 }), this.shouldClip() && (t = this.clipBox = this._clipBox(), e = t.toRect(), i = Qt.fromRect(e), this.visual.clip(i), this.unclipLabels()) }, stackRoot: function () { return this }, unclipLabels: function () { var t, e, i, n, s, o, r, a = this, h = a.children, l = a.clipBox; for (t = 0; t < h.length; t++)for (e = h[t].points || {}, i = e.length, n = 0; n < i; n++)s = e[n], s && s.visible !== !1 && s.overlapsBox && s.overlapsBox(l) && (s.unclipElements ? s.unclipElements() : (o = s.label, r = s.note, o && o.options.visible && (o.alignToClipBox && o.alignToClipBox(l), o.options.noclip = !0), r && r.options.visible && (r.options.noclip = !0))) }, destroy: function () { xt.fn.destroy.call(this), delete this.parent } }), Tn.prototype.isStackRoot = !0, Rn = Ft.extend({ init: function (t) { Ft.fn.init.call(this, t), this.id = d(), this.createTitle(), this.content = new xt, this.chartContainer = new Tn({}, this), this.append(this.content), this.axes = [], this.charts = [] }, createTitle: function () { var t = this.options.title; Ct(t) && (t = kt({}, t, { align: t.position, position: it })), this.title = Y.Title.buildTitle(t, this, Rn.prototype.options.title) }, appendAxis: function (t) { this.content.append(t), this.axes.push(t), t.pane = this }, appendChart: function (t) { this.chartContainer.parent !== this.content && this.content.append(this.chartContainer), this.charts.push(t), this.chartContainer.append(t), t.pane = this }, empty: function () { var t, e, i = this, n = this.parent; if (n) { for (t = 0; t < this.axes.length; t++)n.removeAxis(i.axes[t]); for (e = 0; e < this.charts.length; e++)n.removeChart(i.charts[e]) } this.axes = [], this.charts = [], this.content.destroy(), this.content.children = [], this.chartContainer.children = [] }, reflow: function (t) { var e; Pt(this.children) === this.content && (e = this.children.pop()), Ft.fn.reflow.call(this, t), e && this.children.push(e), this.title && (this.contentBox.y1 += this.title.box.height()) }, visualStyle: function () { var t = Ft.fn.visualStyle.call(this); return t.zIndex = -10, t }, renderComplete: function () { this.options.visible && this.createGridLines() }, stackRoot: function () { return this }, clipRoot: function () { return this }, createGridLines: function () { var t, e, i, n, s, o, r = this.axes, a = r.concat(this.parent.axes), h = [], l = []; for (t = 0; t < r.length; t++)for (e = r[t], i = e.options.vertical, n = i ? h : l, s = 0; s < a.length; s++)0 === n.length && (o = a[s], i !== o.options.vertical && Lt(n, e.createGridLines(o))) }, refresh: function () { this.visual.clear(), this.content.parent = null, this.content.createGradient = this.createGradient.bind(this), this.content.renderVisual(), this.content.parent = this, this.title && this.visual.append(this.title.visual), this.visual.append(this.content.visual), this.renderComplete() }, chartsBox: function () { var t, e, i, n, s, o, r, a, h, l = this.axes, c = l.length, u = new yt; for (t = 0; t < c; t++)e = l[t], i = e.options.vertical ? ht : at, n = e.lineBox(), u[i + 1] = n[i + 1], u[i + 2] = n[i + 2]; if (0 === u.x2) for (s = this.parent.axes, o = s.length, r = 0; r < o; r++)a = s[r], a.options.vertical || (h = a.lineBox(), u.x1 = h.x1, u.x2 = h.x2); return u }, clipBox: function () { return this.chartContainer.clipBox } }), En = 1, Rn.prototype.isStackRoot = !0, wt(Rn, { zIndex: -1, shrinkToFit: !0, title: { align: st }, visible: !0 }), In = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this, e), this.initFields(t, e), this.series = t, this.initSeries(), this.charts = [], this.options.legend.items = [], this.axes = [], this.crosshairs = [], this.chartService = i, this.originalOptions = e, this.createPanes(), this.render(), this.createCrosshairs() }, initFields: function () { }, initSeries: function () { var t, e = this.series; for (t = 0; t < e.length; t++)e[t].index = t }, createPanes: function () { function t(t, e) { Ot(t.title) && (t.title = { text: t.title }), t.title = kt({}, e.title, t.title) } var e, i, n, s = this, o = { title: { color: (this.options.title || {}).color } }, r = [], a = this.options.panes || [], h = Math.max(a.length, 1); for (e = 0; e < h; e++)i = a[e] || {}, t(i, o), n = new Rn(i), n.paneIndex = e, r.push(n), s.append(n); this.panes = r }, createCrosshairs: function (t) { var e, i, n, s, o, r = this; for (void 0 === t && (t = this.panes), e = 0; e < t.length; e++)for (i = t[e], n = 0; n < i.axes.length; n++)s = i.axes[n], s.options.crosshair && s.options.crosshair.visible && (o = new Pn(r.chartService, s, s.options.crosshair), r.crosshairs.push(o), i.content.append(o)) }, removeCrosshairs: function (t) { var e, i, n = this.crosshairs, s = t.axes; for (e = n.length - 1; e >= 0; e--)for (i = 0; i < s.length; i++)if (n[e].axis === s[i]) { n.splice(e, 1); break } }, hideCrosshairs: function () { var t, e = this.crosshairs; for (t = 0; t < e.length; t++)e[t].hide() }, findPane: function (t) { var e, i, n = this.panes; for (i = 0; i < n.length; i++)if (n[i].options.name === t) { e = n[i]; break } return e || n[0] }, findPointPane: function (t) { var e, i, n = this.panes; for (i = 0; i < n.length; i++)if (n[i].box.containsPoint(t)) { e = n[i]; break } return e }, appendAxis: function (t) { var e = this.findPane(t.options.pane); e.appendAxis(t), this.axes.push(t), t.plotArea = this }, removeAxis: function (t) { var e, i, n = this, s = []; for (e = 0; e < this.axes.length; e++)i = n.axes[e], t !== i ? s.push(i) : i.destroy(); this.axes = s }, appendChart: function (t, e) { this.charts.push(t), e ? e.appendChart(t) : this.append(t) }, removeChart: function (t) { var e, i, n = this, s = []; for (e = 0; e < this.charts.length; e++)i = n.charts[e], i !== t ? s.push(i) : i.destroy(); this.charts = s }, addToLegend: function (t) { var e, i, n, s, o, r, a, h, l, c = t.length, p = this.options.legend, d = p.labels || {}, g = p.inactiveItems || {}, f = g.labels || {}, v = []; for (e = 0; e < c; e++)i = t[e], n = i.visible !== !1, i.visibleInLegend !== !1 && (s = i.name, o = n ? Rt(d) : Rt(f) || Rt(d), o && (s = o({ text: u(s) ? s : "", series: i })), r = i._defaults, a = i.color, At(a) && r && (a = r.color), h = void 0, l = void 0, n ? (h = {}, l = a) : (h = { color: f.color, font: f.font }, l = g.markers.color), u(s) && "" !== s && v.push({ text: s, labels: h, markerColor: l, series: i, active: n })); Lt(p.items, v) }, groupAxes: function (t) { var e, i, n, s, o = [], r = []; for (e = 0; e < t.length; e++)for (i = t[e].axes, n = 0; n < i.length; n++)s = i[n], s.options.vertical ? r.push(s) : o.push(s); return { x: o, y: r, any: o.concat(r) } }, groupSeriesByPane: function () { var t, e, i, n = this, s = this.series, o = {}; for (t = 0; t < s.length; t++)e = s[t], i = n.seriesPaneName(e), o[i] ? o[i].push(e) : o[i] = [e]; return o }, filterVisibleSeries: function (t) { var e, i, n = []; for (e = 0; e < t.length; e++)i = t[e], i.visible !== !1 && n.push(i); return n }, reflow: function (t) { var e = this.options.plotArea, i = this.panes, n = Vt(e.margin); this.box = t.clone().unpad(n), this.reflowPanes(), this.reflowAxes(i), this.reflowCharts(i) }, redraw: function (t) { var e, i, n = this, s = [].concat(t); for (this.initSeries(), e = 0; e < s.length; e++)n.removeCrosshairs(s[e]), s[e].empty(); for (this.render(s), this.reflowAxes(this.panes), this.reflowCharts(s), this.createCrosshairs(s), i = 0; i < s.length; i++)s[i].refresh() }, axisCrossingValues: function (t, e) { var i, n = t.options, s = [].concat(n.axisCrossingValues || n.axisCrossingValue), o = e.length - s.length, r = s[0] || 0; for (i = 0; i < o; i++)s.push(r); return s }, alignAxisTo: function (t, e, i, n) { var s = t.getSlot(i, i, !0), o = t.options.reverse ? 2 : 1, r = e.getSlot(n, n, !0), a = e.options.reverse ? 2 : 1, h = t.box.translate(r[at + a] - s[at + o], r[ht + a] - s[ht + o]); t.pane !== e.pane && h.translate(0, t.pane.box.y1 - e.pane.box.y1), t.reflow(h) }, alignAxes: function (t, e) { var i, n, s, o, r, a, h, l, c, u, p, d, g, f, v = this, x = t[0], m = e[0], y = this.axisCrossingValues(x, e), _ = this.axisCrossingValues(m, t), w = {}, A = {}, S = {}, C = {}; for (i = 0; i < e.length; i++)n = e[i], s = n.pane, o = s.id, r = n.options.visible !== !1, a = b(t, s) || x, h = y, a !== x && (h = v.axisCrossingValues(a, e)), v.alignAxisTo(n, a, _[i], h[i]), n.options._overlap || (Ht(n.lineBox().x1) === Ht(a.lineBox().x1) && (w[o] && n.reflow(n.box.alignTo(w[o].box, st).translate(-n.options.margin, 0)), r && (w[o] = n)), Ht(n.lineBox().x2) === Ht(a.lineBox().x2) && (n._mirrored || (n.options.labels.mirror = !n.options.labels.mirror, n._mirrored = !0), v.alignAxisTo(n, a, _[i], h[i]), A[o] && n.reflow(n.box.alignTo(A[o].box, lt).translate(n.options.margin, 0)), r && (A[o] = n)), 0 !== i && m.pane === n.pane && (n.alignTo(m), n.reflow(n.box))); for (l = 0; l < t.length; l++)c = t[l], u = c.pane, p = u.id, d = c.options.visible !== !1, g = b(e, u) || m, f = _, g !== m && (f = v.axisCrossingValues(g, t)), v.alignAxisTo(c, g, y[l], f[l]), c.options._overlap || (Ht(c.lineBox().y1) === Ht(g.lineBox().y1) && (c._mirrored || (c.options.labels.mirror = !c.options.labels.mirror, c._mirrored = !0), v.alignAxisTo(c, g, y[l], f[l]), S[p] && c.reflow(c.box.alignTo(S[p].box, it).translate(0, -c.options.margin)), d && (S[p] = c)), Ht(c.lineBox().y2, Q.COORD_PRECISION) === Ht(g.lineBox().y2, Q.COORD_PRECISION) && (C[p] && c.reflow(c.box.alignTo(C[p].box, nt).translate(0, c.options.margin)), d && (C[p] = c)), 0 !== l && (c.alignTo(x), c.reflow(c.box))) }, shrinkAxisWidth: function (t) { var e, i, n, s, o = this.groupAxes(t).any, r = w(o), a = 0; for (e = 0; e < t.length; e++)i = t[e], i.axes.length > 0 && (a = Math.max(a, r.width() - i.contentBox.width())); if (0 !== a) for (n = 0; n < o.length; n++)s = o[n], s.options.vertical || s.reflow(s.box.shrink(a, 0)) }, shrinkAxisHeight: function (t) { var e, i, n, s, o, r, a; for (i = 0; i < t.length; i++)if (n = t[i], s = n.axes, o = Math.max(0, w(s).height() - n.contentBox.height()), 0 !== o) { for (r = 0; r < s.length; r++)a = s[r], a.options.vertical && a.reflow(a.box.shrink(0, o)); e = !0 } return e }, fitAxes: function (t) { var e, i, n, s, o, r, a, h, l, c, u = this.groupAxes(t).any, p = 0; for (e = 0; e < t.length; e++)if (i = t[e], n = i.axes, s = i.contentBox, n.length > 0) for (o = w(n), r = Math.max(s.y1 - o.y1, s.y2 - o.y2), p = Math.max(p, s.x1 - o.x1), a = 0; a < n.length; a++)h = n[a], h.reflow(h.box.translate(0, r)); for (l = 0; l < u.length; l++)c = u[l], c.reflow(c.box.translate(p, 0)) }, reflowAxes: function (t) { var e, i = this, n = this.groupAxes(t); for (e = 0; e < t.length; e++)i.reflowPaneAxes(t[e]); n.x.length > 0 && n.y.length > 0 && (this.alignAxes(n.x, n.y), this.shrinkAxisWidth(t), this.autoRotateAxisLabels(n), this.alignAxes(n.x, n.y), this.shrinkAxisWidth(t) && this.alignAxes(n.x, n.y), this.shrinkAxisHeight(t), this.alignAxes(n.x, n.y), this.shrinkAxisHeight(t) && this.alignAxes(n.x, n.y), this.fitAxes(t)) }, autoRotateAxisLabels: function (t) { var e, i, n, s, o = this, r = this, a = r.axes, h = r.panes; for (i = 0; i < a.length; i++)n = a[i], n.autoRotateLabels() && (e = !0); if (e) { for (s = 0; s < h.length; s++)o.reflowPaneAxes(h[s]); t.x.length > 0 && t.y.length > 0 && (this.alignAxes(t.x, t.y), this.shrinkAxisWidth(h)) } }, reflowPaneAxes: function (t) { var e, i = t.axes, n = i.length; if (n > 0) for (e = 0; e < n; e++)i[e].reflow(t.contentBox) }, reflowCharts: function (t) { var e, i, n = this.charts, s = n.length, o = this.box; for (e = 0; e < s; e++)i = n[e].pane, i && !bt(i, t) || n[e].reflow(o) }, reflowPanes: function () { var t, e, i, n, s, o, r, a, h, l = this, c = l.box, u = l.panes, p = u.length, d = c.height(), g = p, f = 0, v = c.y1; for (t = 0; t < p; t++)e = u[t], i = e.options.height, e.options.width = c.width(), e.options.height ? (i.indexOf && i.indexOf("%") && (n = parseInt(i, 10) / 100, e.options.height = n * c.height()), e.reflow(c.clone()), d -= e.options.height) : f++; for (s = 0; s < p; s++)o = u[s], o.options.height || (o.options.height = d / f); for (r = 0; r < p; r++)a = u[r], h = c.clone().move(c.x1, v), a.reflow(h), g-- , v += a.options.height }, backgroundBox: function () { var t, e, i, n, s, o, r = this.axes, a = r.length; for (e = 0; e < a; e++)for (i = r[e], n = 0; n < a; n++)s = r[n], i.options.vertical !== s.options.vertical && (o = i.lineBox().clone().wrap(s.lineBox()), t = t ? t.wrap(o) : o); return t || this.box }, chartsBoxes: function () { var t, e = this.panes, i = []; for (t = 0; t < e.length; t++)i.push(e[t].chartsBox()); return i }, addBackgroundPaths: function (t) { var e, i = this.chartsBoxes(); for (e = 0; e < i.length; e++)t.paths.push(Qt.fromRect(i[e].toRect())) }, backgroundContainsPoint: function (t) { var e, i = this.chartsBoxes(); for (e = 0; e < i.length; e++)if (i[e].containsPoint(t)) return !0 }, createVisual: function () { var t, e, i, n, s; xt.fn.createVisual.call(this), t = this.options.plotArea, e = t.opacity, i = t.background, n = t.border, void 0 === n && (n = {}), A(i) && (i = ot, e = 0), s = this._bgVisual = new Kt.MultiPath({ fill: { color: i, opacity: e }, stroke: { color: n.width ? n.color : "", width: n.width, dashType: n.dashType }, zIndex: -1 }), this.addBackgroundPaths(s), this.appendVisual(s) }, pointsByCategoryIndex: function (t) { var e, i, n, s, o, r = this.charts, a = []; if (null !== t) for (e = 0; e < r.length; e++)if (i = r[e], "_navigator" !== i.pane.options.name && (n = r[e].categoryPoints[t], n && n.length)) for (s = 0; s < n.length; s++)o = n[s], o && gt(o.value) && null !== o.value && a.push(o); return a }, pointsBySeriesIndex: function (t) { return this.filterPoints(function (e) { return e.series.index === t }) }, pointsBySeriesName: function (t) { return this.filterPoints(function (e) { return e.series.name === t }) }, filterPoints: function (t) { var e, i, n, s, o, r = this.charts, a = []; for (e = 0; e < r.length; e++)for (i = r[e], n = i.points, s = 0; s < n.length; s++)o = n[s], o && o.visible !== !1 && t(o) && a.push(o); return a }, findPoint: function (t) { var e, i, n, s, o, r = this.charts; for (e = 0; e < r.length; e++)for (i = r[e], n = i.points, s = 0; s < n.length; s++)if (o = n[s], o && o.visible !== !1 && t(o)) return o }, paneByPoint: function (t) { var e, i, n = this.panes; for (e = 0; e < n.length; e++)if (i = n[e], i.box.containsPoint(t)) return i } }), wt(In, { series: [], plotArea: { margin: {} }, background: "", border: { color: ct, width: 0 }, legend: { inactiveItems: { labels: { color: "#919191" }, markers: { color: "#919191" } } } }), Vn = { hover: function (t, e) { this._dispatchEvent(t, e, mi) }, click: function (t, e) { this._dispatchEvent(t, e, xi) } }, Mn = j.extend({ init: function (t, e, i) { var n, s, o, r = e.canonicalFields(t), a = e.valueFields(t), h = e.sourceFields(t, r), l = this._seriesFields = [], c = i.query(t.type), u = t.aggregate || c; for (this._series = t, this._binder = e, n = 0; n < r.length; n++) { if (s = r[n], o = void 0, Ct(u)) o = u[s]; else { if (0 !== n && !bt(s, a)) break; o = u } o && l.push({ canonicalName: s, name: h[n], transform: At(o) ? o : he[o] }) } }, aggregatePoints: function (t, e) { var i, n, s, o, r, a = this, h = this, l = h._series, c = h._seriesFields, u = this._bindPoints(t || []), p = u.dataItems[0], d = {}; for (!p || K(p) || vt(p) || (i = function () { }, i.prototype = p, d = new i), n = 0; n < c.length; n++) { if (s = c[n], o = a._bindField(u.values, s.canonicalName), r = s.transform(o, l, u.dataItems, e), !(null === r || !Ct(r) || gt(r.length) || r instanceof Date)) { d = r; break } gt(r) && S(s.name, d, r) } return d }, _bindPoints: function (t) { var e, i, n = this, s = n._binder, o = n._series, r = [], a = []; for (e = 0; e < t.length; e++)i = t[e], r.push(s.bindPoint(o, i)), a.push(o.data[i]); return { values: r, dataItems: a } }, _bindField: function (t, e) { var i, n, s, o, r = [], a = t.length; for (i = 0; i < a; i++)n = t[i], s = n.valueFields, o = void 0, o = gt(s[e]) ? s[e] : n.fields[e], r.push(o); return r } }), Ln = j.extend({ init: function () { this._defaults = {} }, register: function (t, e) { var i, n = this; for (i = 0; i < t.length; i++)n._defaults[t[i]] = e }, query: function (t) { return this._defaults[t] } }), Ln.current = new Ln, On = ln.extend({ createLabel: function () { var t = this.options.labels, e = kt({}, t, t.from), i = kt({}, t, t.to); e.visible && (this.labelFrom = this._createLabel(e), this.append(this.labelFrom)), i.visible && (this.labelTo = this._createLabel(i), this.append(this.labelTo)) }, _createLabel: function (t) { var e, i = Rt(t); return e = i ? i({ dataItem: this.dataItem, category: this.category, value: this.value, percentage: this.percentage, runningTotal: this.runningTotal, total: this.total, series: this.series }) : this.formatValue(t.format), new an(e, kt({ vertical: this.options.vertical }, t)) }, reflow: function (t) { var e, i, n, s; this.render(), e = this, i = e.labelFrom, n = e.labelTo, s = e.value, this.box = t, i && (i.options.aboveAxis = s.from > s.to, i.reflow(t)), n && (n.options.aboveAxis = s.to > s.from, n.reflow(t)), this.note && this.note.reflow(t) } }), On.prototype.defaults = kt({}, On.prototype.defaults, { labels: { format: "{0} - {1}" }, tooltip: { format: "{1}" } }), Bn = pn.extend({ pointType: function () { return On }, pointValue: function (t) { return t.valueFields }, formatPointValue: function (t, e) { return null === t.value.from && null === t.value.to ? "" : this.chartService.format.auto(e, t.value.from, t.value.to) }, plotRange: function (t) { return t ? [t.value.from, t.value.to] : 0 }, updateRange: function (t, e) { var i = e.series.axis, n = t.from, s = t.to, o = this.valueAxisRanges[i]; null !== t && K(n) && K(s) && (o = this.valueAxisRanges[i] = o || { min: $, max: J }, o.min = Math.min(o.min, n), o.max = Math.max(o.max, n), o.min = Math.min(o.min, s), o.max = Math.max(o.max, s)) }, aboveAxis: function (t) { var e = t.value; return e.from < e.to } }), Bn.prototype.plotLimits = qi.prototype.plotLimits, zn = Ui.extend({ aliasFor: function () { return this.parent } }), Dn = "auto", Fn = "{0}", Hn = "{1}", Nn = xt.extend({ init: function (t, e) { xt.fn.init.call(this), this.value = t, this.options = e, this.aboveAxis = St(this.options.aboveAxis, !0), this.tooltipTracking = !0, this.initLabelsFormat() }, render: function () { var t, e, i, n, s, o; this._rendered || (this._rendered = !0, t = this.options, e = t.markers, i = t.labels, n = this.value, s = this.fromPoint = new zn(n, kt({}, this.options, { labels: i.from, markers: e.from })), o = this.toPoint = new zn(n, kt({}, this.options, { labels: i.to, markers: e.to })), this.copyFields(s), this.copyFields(o), this.append(s), this.append(o)) }, reflow: function (t) { var e, i; this.render(), e = t.from, i = t.to, this.positionLabels(e, i), this.fromPoint.reflow(e), this.toPoint.reflow(i), this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox()) }, createHighlight: function () { var t = new te; return t.append(this.fromPoint.createHighlight()), t.append(this.toPoint.createHighlight()), t }, highlightVisual: function () { return this.visual }, highlightVisualArgs: function () { return { options: this.options, from: this.fromPoint.highlightVisualArgs(), to: this.toPoint.highlightVisualArgs() } }, tooltipAnchor: function () { var t, e, i, n, s, o, r = this.owner.pane.clipBox(), a = !r || r.overlaps(this.box); if (a) return t = this.box, e = t.center(), i = st, this.options.vertical ? (n = e.x, s = t.y1 - _e, o = nt) : (n = t.x2 + _e, s = e.y, o = et), { point: new mt(n, s), align: { horizontal: i, vertical: o } } }, formatValue: function (t) { return this.owner.formatPointValue(this, t) }, overlapsBox: function (t) { return this.box.overlaps(t) }, unclipElements: function () { this.fromPoint.unclipElements(), this.toPoint.unclipElements() }, initLabelsFormat: function () { var e = this.options.labels; e.format || (e.from && e.from.format || (e.from = t.extend({}, e.from, { format: Fn })), e.to && e.to.format || (e.to = t.extend({}, e.to, { format: Hn }))) }, positionLabels: function (t, e) { var i, n, s = this.options, o = s.labels, r = s.vertical; o.position === Dn && (r ? e.y1 <= t.y1 ? (n = Ve, i = Me) : (n = Me, i = Ve) : e.x1 <= t.x1 ? (n = st, i = lt) : (n = lt, i = st), o.from && o.from.position || (this.fromPoint.options.labels.position = i), o.to && o.to.position || (this.toPoint.options.labels.position = n)) }, copyFields: function (t) { t.dataItem = this.dataItem, t.category = this.category, t.series = this.series, t.color = this.color, t.owner = this.owner } }), kt(Nn.prototype, Wi), kt(Nn.prototype, Xi), Nn.prototype.defaults = { markers: { visible: !1, background: ot, size: Te, type: rt, border: { width: 2 }, opacity: 1 }, labels: { visible: !1, margin: Vt(3), padding: Vt(4), animation: { type: xe, delay: ve }, position: Dn }, notes: { label: {} }, highlight: { markers: { border: { color: ot, width: 2 } }, zIndex: Q.HIGHLIGHT_ZINDEX }, tooltip: { format: "{0} - {1}" } }, Gn = en.extend({ createStrokeSegments: function () { return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints())) }, stackSegments: function () { var t = this.fromSegments; return this.fromSegments || (t = this.fromSegments = this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))), t }, createStroke: function (t) { var e = new Qt(t), i = new Qt(t); e.segments.push.apply(e.segments, this.strokeSegments()), i.segments.push.apply(i.segments, this.stackSegments()), this.visual.append(e), this.visual.append(i) }, hasStackSegment: function () { return !0 }, fromPoints: function () { return this.linePoints.map(function (t) { return t.fromPoint }) }, toPoints: function () { return this.linePoints.map(function (t) { return t.toPoint }) } }), qn = Gn.extend({ createStrokeSegments: function () { return this.createCurveSegments(this.toPoints()) }, stackSegments: function () { var t = this.fromSegments; return this.fromSegments || (t = this.fromSegments = this.createCurveSegments(this.fromPoints().reverse())), t }, createCurveSegments: function (t) { var e = new Mt; return e.process(this.toGeometryPoints(t)) } }), Wn = Gn.extend({ createStrokeSegments: function () { return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints())) }, stackSegments: function () { var t = this.fromSegments; return this.fromSegments || (t = this.fromSegments = this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())), t.reverse()), t } }), kt(Wn.prototype, Yi), Xn = qi.extend({ render: function () { qi.fn.render.call(this), this.renderSegments() }, pointType: function () { return Nn }, createPoint: function (t, e) { var i, n, s, o = e.categoryIx, r = e.category, a = e.series, h = e.seriesIx, l = t.valueFields; if (!u(l.from) && !u(l.to)) { if (this.seriesMissingValues(a) !== Re) return null; l = { from: 0, to: 0 } } return i = this.pointOptions(a, h), i = this.evalPointOptions(i, l, r, o, a, h), n = t.fields.color || a.color, At(a.color) && (n = i.color), s = new Nn(l, i), s.color = n, this.append(s), s }, createSegment: function (t, e, i) { var n, s = (e.line || {}).style; return new (n = "smooth" === s ? qn : "step" === s ? Wn : Gn)(t, e, i) }, plotRange: function (t, e) { return t ? [t.value.from, t.value.to] : [e, e] }, valueSlot: function (t, e) { var i = t.getSlot(e[0], e[0], !this.options.clip), n = t.getSlot(e[1], e[1], !this.options.clip); if (i && n) return { from: i, to: n } }, pointSlot: function (t, e) { var i, n, s = e.from, o = e.to; return this.options.invertAxes ? (i = new yt(s.x1, t.y1, s.x2, t.y2), n = new yt(o.x1, t.y1, o.x2, t.y2)) : (i = new yt(t.x1, s.y1, t.x2, s.y2), n = new yt(t.x1, o.y1, t.x2, o.y2)), { from: i, to: n } }, addValue: function (t, e) { var i = t.valueFields; K(i.from) || (i.from = i.to), K(i.to) || (i.to = i.from), qi.fn.addValue.call(this, t, e) }, updateRange: function (t, e) { var i, n, s, o; null !== t && K(t.from) && K(t.to) && (i = e.series.axis, n = this.valueAxisRanges[i] = this.valueAxisRanges[i] || { min: $, max: J }, s = t.from, o = t.to, n.min = Math.min(n.min, s, o), n.max = Math.max(n.max, s, o)) }, formatPointValue: function (t, e) { var i = t.value; return this.chartService.format.auto(e, i.from, i.to) }, animationPoints: function () { var t, e, i = this.points, n = []; for (t = 0; t < i.length; t++)e = i[t], e && (n.push((e.fromPoint || {}).marker), n.push((e.toPoint || {}).marker)); return n.concat(this._segments) } }), kt(Xn.prototype, Qi, Ji), Un = dn.extend({ reflow: function (t) { var e, i = this, n = i.options, s = i.value, o = i.owner, r = o.seriesValueAxis(n), a = [], h = [], l = [], c = r.getSlot(s.low, s.high), u = r.getSlot(s.open, s.open), p = r.getSlot(s.close, s.close); u.x1 = p.x1 = c.x1 = t.x1, u.x2 = p.x2 = c.x2 = t.x2, e = c.center().x, a.push([u.x1, u.y1]), a.push([e, u.y1]), h.push([e, p.y1]), h.push([p.x2, p.y1]), l.push([e, c.y1]), l.push([e, c.y2]), this.lines = [a, h, l], this.box = c.clone().wrap(u.clone().wrap(p)), this.reflowNote() }, createBody: function () { } }), Zn = gn.extend({ pointType: function () { return Un } }), Yn = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this), this.from = t, this.to = e, this.series = i }, linePoints: function () { var t, e, i = this.from, n = this, s = n.from.box, o = n.to.box, r = []; return i.isVertical ? (t = i.aboveAxis ? s.y1 : s.y2, r.push([s.x1, t], [o.x2, t])) : (e = i.aboveAxis ? s.x2 : s.x1, r.push([e, s.y1], [e, o.y2])), r }, createVisual: function () { var t, e; xt.fn.createVisual.call(this), t = this.series.line || {}, e = Qt.fromPoints(this.linePoints(), { stroke: { color: t.color, width: t.width, opacity: t.opacity, dashType: t.dashType } }), _t(e), this.visual.append(e) } }), wt(Yn, { animation: { type: xe, delay: ve } }), jn = pn.extend({ render: function () { pn.fn.render.call(this), this.createSegments() }, traverseDataPoints: function (t) { var e, i, n, o, r, a, h, l, c, u, p = this.options.series, d = this.categoryAxis.options.categories || [], g = s(p), f = !this.options.invertAxes; for (e = 0; e < p.length; e++)for (i = p[e], n = 0, o = 0, r = 0; r < g; r++)a = le.current.bindPoint(i, r), h = a.valueFields.value, l = a.fields.summary, c = n, u = void 0, l ? "total" === l.toLowerCase() ? (a.valueFields.value = n, c = 0, u = n) : (a.valueFields.value = o, u = c - o, o = 0) : K(h) && (o += h, n += h, u = n), t(a, { category: d[r], categoryIx: r, series: i, seriesIx: e, total: n, runningTotal: o, from: c, to: u, isVertical: f }) }, updateRange: function (t, e) { pn.fn.updateRange.call(this, { value: e.to }, e) }, aboveAxis: function (t) { return t.value >= 0 }, plotRange: function (t) { return [t.from, t.to] }, createSegments: function () { var t, e, i, n, s, o, r, a = this, h = this.options.series, l = this.seriesPoints, c = this.segments = []; for (t = 0; t < h.length; t++)if (e = h[t], i = l[t]) for (n = void 0, s = 0; s < i.length; s++)o = i[s], o && n && (r = new Yn(n, o, e), c.push(r), a.append(r)), n = o } }), Kn = [Be, ri, ei, ci], Qn = [Ue, li].concat(Kn), $n = In.extend({
            initFields: function (t) { var e, i, n = this; if (this.namedCategoryAxes = {}, this.namedValueAxes = {}, this.valueAxisRangeTracker = new rn, t.length > 0) for (this.invertAxes = bt(t[0].type, [ze, He, li, ri, ci, ii, Xe, ai]), e = 0; e < t.length; e++)if (i = t[e].stack, i && "100%" === i.type) { n.stack100 = !0; break } }, render: function (t) { void 0 === t && (t = this.panes), this.createCategoryAxes(t), this.aggregateCategories(t), this.createCategoryAxesLabels(t), this.createCharts(t), this.createValueAxes(t) }, removeAxis: function (t) { var e = t.options.name; In.fn.removeAxis.call(this, t), t instanceof Dt ? delete this.namedCategoryAxes[e] : (this.valueAxisRangeTracker.reset(e), delete this.namedValueAxes[e]), t === this.categoryAxis && delete this.categoryAxis, t === this.valueAxis && delete this.valueAxis }, createCharts: function (t) { var e, i, n, s, o, r, a = this, h = this.groupSeriesByPane(); for (e = 0; e < t.length; e++)if (i = t[e], n = h[i.options.name || "default"] || [], a.addToLegend(n), s = a.filterVisibleSeries(n)) for (o = a.groupSeriesByCategoryAxis(s), r = 0; r < o.length; r++)a.createChartGroup(o[r], i) }, createChartGroup: function (t, e) { this.createAreaChart(x(t, [Be, ri]), e), this.createRangeAreaChart(x(t, [ei, ci]), e), this.createBarChart(x(t, [Ge, ze]), e), this.createRangeBarChart(x(t, [ni, ii]), e), this.createBulletChart(x(t, [He, hi]), e), this.createCandlestickChart(x(t, Ne), e), this.createBoxPlotChart(x(t, [De, ai]), e), this.createOHLCChart(x(t, Ze), e), this.createWaterfallChart(x(t, [ui, Xe]), e), this.createLineChart(x(t, [Ue, li]), e) }, aggregateCategories: function (t) { var e, i, n, s, o, r = this, a = this.srcSeries || this.series, h = []; for (e = 0; e < a.length; e++)i = a[e], n = r.seriesCategoryAxis(i), s = r.findPane(n.options.pane), o = v(n.options.type, ut), (o || i.categoryField) && bt(s, t) ? i = r.aggregateSeries(i, n) : (K(n.options.min) || K(n.options.max)) && (i = r.filterSeries(i, n)), h.push(i); this.srcSeries = a, this.series = h }, filterSeries: function (t, e) { var i, n, s, o = e.totalRangeIndices(), r = e.options.justified, a = bt(t.type, Qn); return o.min = K(e.options.min) ? Math.floor(o.min) : 0, o.max = K(e.options.max) ? r ? Math.floor(o.max) + 1 : Math.ceil(o.max) : t.data.length, i = kt({}, t), a && (n = o.min - 1, s = e.options.srcCategories || [], n >= 0 && n < i.data.length && (i._outOfRangeMinPoint = { item: i.data[n], category: s[n], categoryIx: -1 }), o.max < i.data.length && (i._outOfRangeMaxPoint = { item: i.data[o.max], category: s[o.max], categoryIx: o.max - o.min })), e._seriesMax = Math.max(e._seriesMax || 0, i.data.length), i.data = (i.data || []).slice(o.min, o.max), i }, aggregateSeries: function (t, e) { var n, s, o, r, a, h, l, c, u, p, d, g, f, x, y, _, w, b = this, A = bt(t.type, Qn), S = e.options, C = S.categories, k = S.srcCategories; for (void 0 === k && (k = C), n = S.dataItems, void 0 === n && (n = []), s = v(e.options.type, ut), o = kt({}, t), r = kt({}, t), a = t.data, h = [], l = J, c = $, u = i, s && (u = m), g = 0; g < a.length; g++)f = void 0, f = t.categoryField ? u(t.categoryField, a[g], b.chartService.intl) : k[g], gt(f) && (x = e.categoryIndex(f), 0 <= x && x < C.length ? (h[x] = h[x] || [], h[x].push(g)) : A && (x < 0 ? x === l ? p.points.push(g) : x > l && (l = x, p = { category: f, points: [g] }) : x >= C.length && (x === c ? d.points.push(g) : x < c && (c = x, d = { category: f, points: [g] })))); for (y = new Mn(o, le.current, Ln.current), _ = r.data = [], w = 0; w < C.length; w++)_[w] = y.aggregatePoints(h[w], C[w]), h[w] && (n[w] = _[w]); return p && _.length && (r._outOfRangeMinPoint = { item: y.aggregatePoints(p.points, p.category), categoryIx: l, category: p.category }), d && _.length && (r._outOfRangeMaxPoint = { item: y.aggregatePoints(d.points, d.category), categoryIx: c, category: d.category }), e.options.dataItems = n, r }, appendChart: function (t, e) { for (var i = t.options.series, n = this.seriesCategoryAxis(i[0]), o = n.options.categories, r = Math.max(0, s(i) - o.length); r--;)o.push(""); this.valueAxisRangeTracker.update(t.valueAxisRanges), In.fn.appendChart.call(this, t, e) }, seriesPaneName: function (t) { var e = this.options, i = t.axis, n = [].concat(e.valueAxis), s = Nt(n, function (t) { return t.name === i })[0], o = e.panes || [{}], r = (o[0] || {}).name || "default", a = (s || {}).pane || r; return a }, seriesCategoryAxis: function (t) { var e = t.categoryAxis, i = e ? this.namedCategoryAxes[e] : this.categoryAxis; if (!i) throw Error("Unable to locate category axis with name " + e); return i }, stackableChartOptions: function (t, e) { var i = t.stack, n = i && "100%" === i.type, s = e.options.clip; return { isStacked: i, isStacked100: n, clip: s } }, groupSeriesByCategoryAxis: function (t) { var e, i, n, s, o, r, a = [], h = {}; for (e = 0; e < t.length; e++)i = t[e].categoryAxis || "$$default$$", h.hasOwnProperty(i) || (h[i] = !0, a.push(i)); for (n = [], s = 0; s < a.length; s++)o = a[s], r = P(t, o, s), 0 !== r.length && n.push(r); return n }, createBarChart: function (e, i) { var n, s; 0 !== e.length && (n = e[0], s = new pn(this, t.extend({ series: e, invertAxes: this.invertAxes, gap: n.gap, spacing: n.spacing }, this.stackableChartOptions(n, i))), this.appendChart(s, i)) }, createRangeBarChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new Bn(this, { series: t, invertAxes: this.invertAxes, gap: i.gap, spacing: i.spacing }), this.appendChart(n, e)) }, createBulletChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new Sn(this, { series: t, invertAxes: this.invertAxes, gap: i.gap, spacing: i.spacing, clip: e.options.clip }), this.appendChart(n, e)) }, createLineChart: function (e, i) { var n, s; 0 !== e.length && (n = e[0], s = new tn(this, t.extend({ invertAxes: this.invertAxes, series: e }, this.stackableChartOptions(n, i))), this.appendChart(s, i)) }, createAreaChart: function (e, i) { var n, s; 0 !== e.length && (n = e[0], s = new on(this, t.extend({ invertAxes: this.invertAxes, series: e }, this.stackableChartOptions(n, i))), this.appendChart(s, i)) }, createRangeAreaChart: function (t, e) { if (0 !== t.length) { var i = new Xn(this, { invertAxes: this.invertAxes, series: t, clip: e.options.clip }); this.appendChart(i, e) } }, createOHLCChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new Zn(this, { invertAxes: this.invertAxes, gap: i.gap, series: t, spacing: i.spacing, clip: e.options.clip }), this.appendChart(n, e)) }, createCandlestickChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new gn(this, { invertAxes: this.invertAxes, gap: i.gap, series: t, spacing: i.spacing, clip: e.options.clip }), this.appendChart(n, e)) }, createBoxPlotChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new xn(this, { invertAxes: this.invertAxes, gap: i.gap, series: t, spacing: i.spacing, clip: e.options.clip }), this.appendChart(n, e)) }, createWaterfallChart: function (t, e) { var i, n; 0 !== t.length && (i = t[0], n = new jn(this, { series: t, invertAxes: this.invertAxes, gap: i.gap, spacing: i.spacing }), this.appendChart(n, e)) }, axisRequiresRounding: function (t, e) { var i, n, s, o, r, a = this, h = x(this.series, pi); for (i = 0; i < this.series.length; i++)n = a.series[i], bt(n.type, Kn) && (s = n.line, s && s.style === Oe && h.push(n)); for (o = 0; o < h.length; o++)if (r = h[o].categoryAxis || "", r === t || !r && 0 === e) return !0 }, aggregatedAxis: function (t, e) { var i, n, s = this.series; for (i = 0; i < s.length; i++)if (n = s[i].categoryAxis || "", (n === t || !n && 0 === e) && s[i].categoryField) return !0 }, createCategoryAxesLabels: function () { var t, e = this.axes; for (t = 0; t < e.length; t++)e[t] instanceof Dt && e[t].createLabels() }, createCategoryAxes: function (t) {
                var e, i, n, s, o, r, a, h = this, l = this.invertAxes, c = [].concat(this.options.categoryAxis), u = []; for (e = 0; e < c.length; e++)if (i = c[e], n = h.findPane(i.pane), bt(n, t)) { if (s = i.name, o = i.categories, void 0 === o && (o = []), i = kt({ vertical: l, reverse: !l && h.chartService.rtl, axisCrossingValue: l ? $ : 0 }, i), gt(i.justified) || (i.justified = h.isJustified()), h.axisRequiresRounding(s, e) && (i.justified = !1), r = void 0, r = y(i, o[0]) ? new Gt(i, h.chartService) : new Dt(i, h.chartService), s) { if (h.namedCategoryAxes[s]) throw Error("Category axis with name " + s + " is already defined"); h.namedCategoryAxes[s] = r } r.axisIndex = e, u.push(r), h.appendAxis(r) } a = this.categoryAxis || u[0], this.categoryAxis = a, l ? this.axisY = a : this.axisX = a
            }, isJustified: function () { var t, e, i = this.series; for (t = 0; t < i.length; t++)if (e = i[t], !bt(e.type, Kn)) return !1; return !0 }, createValueAxes: function (t) { var e, i, n, s, o, r, a, h, l, c = this, u = this.valueAxisRangeTracker, p = u.query(), d = [].concat(this.options.valueAxis), g = this.invertAxes, f = { vertical: !g, reverse: g && this.chartService.rtl }, x = []; for (this.stack100 && (f.roundToMajorUnit = !1, f.labels = { format: "P0" }), e = 0; e < d.length; e++)if (i = d[e], n = c.findPane(i.pane), bt(n, t)) { if (s = i.name, o = v(i.type, Ii) ? { min: .1, max: 1 } : { min: 0, max: 1 }, r = u.query(s) || p || o, 0 === e && r && p && (r.min = Math.min(r.min, p.min), r.max = Math.max(r.max, p.max)), a = void 0, a = v(i.type, Ii) ? Y.LogarithmicAxis : Y.NumericAxis, h = new a(r.min, r.max, kt({}, f, i), c.chartService), s) { if (c.namedValueAxes[s]) throw Error("Value axis with name " + s + " is already defined"); c.namedValueAxes[s] = h } h.axisIndex = e, x.push(h), c.appendAxis(h) } l = this.valueAxis || x[0], this.valueAxis = l, g ? this.axisX = l : this.axisY = l }, _dispatchEvent: function (t, e, i) { var n, s, o, r = t._eventCoordinates(e), a = new mt(r.x, r.y), h = this.pointPane(a), l = [], c = []; if (h) { for (n = h.axes, s = 0; s < n.length; s++)o = n[s], o.getValue ? C(c, o.getValue(a)) : C(l, o.getCategory(a)); 0 === l.length && C(l, this.categoryAxis.getCategory(a)), l.length > 0 && c.length > 0 && t.trigger(i, { element: Tt(e), originalEvent: e, category: _(l), value: _(c) }) } }, pointPane: function (t) { var e, i, n = this.panes; for (e = 0; e < n.length; e++)if (i = n[e], i.contentBox.containsPoint(t)) return i }, updateAxisOptions: function (t, e) { k(this.options, t, e), k(this.originalOptions, t, e) }
        }), wt($n, { categoryAxis: { categories: [] }, valueAxis: {} }), kt($n.prototype, Vn), Jn = j.extend({ init: function () { this._points = [] }, destroy: function () { this._points = [] }, show: function (t) { var e, i, n = this, s = [].concat(t); for (this.hide(), e = 0; e < s.length; e++)i = s[e], i && i.toggleHighlight && i.hasHighlight() && (n.togglePointHighlight(i, !0), n._points.push(i)) }, togglePointHighlight: function (t, e) { var i, n = (t.options.highlight || {}).toggle; n ? (i = { category: t.category, series: t.series, dataItem: t.dataItem, value: t.value, stackValue: t.stackValue, preventDefault: T, visual: t.highlightVisual(), show: e }, n(i), i._defaultPrevented || t.toggleHighlight(e)) : t.toggleHighlight(e) }, hide: function () { for (var t = this, e = this._points; e.length;)t.togglePointHighlight(e.pop(), !1) }, isHighlighted: function (t) { var e, i, n = this._points; for (e = 0; e < n.length; e++)if (i = n[e], t === i) return !0; return !1 } }), ts = j.extend({ init: function (t, e) { this.plotArea = t, this.options = kt({}, this.options, e) }, start: function (t) { return this._active = R(t, this.options.key) }, move: function (t) { if (this._active) { var e = this.axisRanges = this._panAxes(t, at).concat(this._panAxes(t, ht)); if (e.length) return this.axisRanges = e, E(e) } }, end: function () { var t = this._active; return this._active = !1, t }, pan: function () { var t, e, i = this, n = i.plotArea, s = i.axisRanges; if (s.length) { for (t = 0; t < s.length; t++)e = s[t], n.updateAxisOptions(e.axis, e.range); n.redraw(n.panes) } }, destroy: function () { delete this.plotArea }, _panAxes: function (t, e) { var i, n, s, o, r = this.plotArea, a = -t[e].delta, h = (this.options.lock || "").toLowerCase(), l = []; if (0 !== a && (h || "").toLowerCase() !== e) for (i = r.axes, n = 0; n < i.length; n++)s = i[n], (e === at && !s.options.vertical || e === ht && s.options.vertical) && (o = s.pan(a), o && (o.limitRange = !0, l.push({ axis: s, range: o }))); return l } }), ts.prototype.options = { key: "none", lock: "none" }, es = j.extend({ init: function (t, e) { this.chart = t, this.options = kt({}, this.options, e), this.createElement() }, createElement: function () { var t, e = this._marquee = document.createElement("div"); e.className = "k-marquee", t = document.createElement("div"), t.className = "k-marquee-color", e.appendChild(t) }, removeElement: function () { this._marquee.parentNode && this._marquee.parentNode.removeChild(this._marquee) }, setStyles: function (t) { qt(this._marquee, t) }, start: function (t) { var e, i, n, s, o; return !!(R(t, this.options.key) && (e = this.chart, i = e._eventCoordinates(t), n = this._zoomPane = e._plotArea.paneByPoint(i), n && n.clipBox())) && (s = n.clipBox().clone(), o = this._elementOffset(), s.translate(o.left, o.top), this._zoomPaneClipBox = s, document.body.appendChild(this._marquee), this.setStyles({ left: t.pageX + 1, top: t.pageY + 1, width: 0, height: 0 }), !0) }, _elementOffset: function () { var t = this.chart.element, e = qt(t, ["paddingLeft", "paddingTop"]), i = e.paddingLeft, n = e.paddingTop, s = Y.elementOffset(t); return { left: i + s.left, top: n + s.top } }, move: function (t) { var e = this._zoomPane; e && this.setStyles(this._selectionPosition(t)) }, end: function (t) { var e, i, n, s, o = this._zoomPane; if (o) return e = this._elementOffset(), i = this._selectionPosition(t), i.left -= e.left, i.top -= e.top, n = { x: i.left, y: i.top }, s = { x: i.left + i.width, y: i.top + i.height }, this._updateAxisRanges(n, s), this.removeElement(), delete this._zoomPane, E(this.axisRanges) }, zoom: function () { var t, e, i, n = this.axisRanges; if (n && n.length) { for (t = this.chart._plotArea, e = 0; e < n.length; e++)i = n[e], t.updateAxisOptions(i.axis, i.range); t.redraw(t.panes) } }, destroy: function () { this.removeElement(), delete this._marquee, delete this.chart }, _updateAxisRanges: function (t, e) { var i, n, s, o, r = (this.options.lock || "").toLowerCase(), a = [], h = this._zoomPane.axes; for (i = 0; i < h.length; i++)n = h[i], s = n.options.vertical, r === at && !s || r === ht && s || (o = n.pointsRange(t, e), o && a.push({ axis: n, range: o })); this.axisRanges = a }, _selectionPosition: function (t) { var e = this._zoomPaneClipBox, i = { x: t.x.startLocation, y: t.y.startLocation }, n = t.x.location, s = t.y.location, o = (this.options.lock || "").toLowerCase(), r = Math.min(i.x, n), a = Math.min(i.y, s), h = Math.abs(i.x - n), l = Math.abs(i.y - s); return o === at && (r = e.x1, h = e.width()), o === ht && (a = e.y1, l = e.height()), n > e.x2 && (h = e.x2 - i.x), n < e.x1 && (h = i.x - e.x1), s > e.y2 && (l = e.y2 - i.y), s < e.y1 && (l = i.y - e.y1), { left: Math.max(r, e.x1), top: Math.max(a, e.y1), width: h, height: l } } }), es.prototype.options = { key: "shift", lock: "none" }, is = j.extend({ init: function (t, e) { this.chart = t, this.options = kt({}, this.options, e) }, updateRanges: function (t) { var e, i, n, s, o = (this.options.lock || "").toLowerCase(), r = [], a = this.chart._plotArea.axes; for (e = 0; e < a.length; e++)i = a[e], n = i.options.vertical, o === at && !n || o === ht && n || (s = i.zoomRange(-t), s && r.push({ axis: i, range: s })); return this.axisRanges = r, E(r) }, zoom: function () { var t, e, i, n = this.axisRanges; if (n && n.length) { for (t = this.chart._plotArea, e = 0; e < n.length; e++)i = n[e], t.updateAxisOptions(i.axis, i.range); t.redraw(t.panes) } }, destroy: function () { delete this.chart } }), ns = xt.extend({ init: function (t, e) { xt.fn.init.call(this, t), this.chartService = e }, render: function () { var t, e, i = this, n = i.children, s = i.options, o = s.vertical; for (this.visual = new Kt.Layout(null, { spacing: o ? 0 : s.spacing, lineSpacing: o ? s.spacing : 0, orientation: o ? "vertical" : "horizontal", reverse: s.rtl, alignItems: o ? "start" : "center" }), t = 0; t < n.length; t++)e = n[t], e.reflow(new yt), e.renderVisual() }, reflow: function (t) { this.visual.rect(t.toRect()), this.visual.reflow(); var e = this.visual.clippedBBox(); this.box = e ? Y.rectToBox(e) : new yt }, renderVisual: function () { this.addVisual() }, createVisual: function () { } }), ss = Ft.extend({ init: function (t) { Ft.fn.init.call(this, t), this.createContainer(), t.rtl ? (this.createLabel(), this.createMarker()) : (this.createMarker(), this.createLabel()) }, createContainer: function () { this.container = new Y.FloatElement({ vertical: !1, wrap: !1, align: et, spacing: this.options.spacing }), this.append(this.container) }, createMarker: function () { this.container.append(new It(this.markerOptions())) }, markerOptions: function () { var t = this.options, e = t.markerColor; return kt({}, t.markers, { background: e, border: { color: e } }) }, createLabel: function () { var t = this.options, e = kt({}, t.labels); this.container.append(new Et(t.text, e)) }, renderComplete: function () { var t, e; Ft.fn.renderComplete.call(this), t = this.options.cursor || {}, e = this._itemOverlay = Qt.fromRect(this.container.box.toRect(), { fill: { color: ot, opacity: 0 }, stroke: null, cursor: t.style || t }), this.appendVisual(e) }, click: function (t, e) { var i = this.eventArgs(e); t.trigger(di, i) || e.preventDefault() }, hover: function (t, e) { var i = this.eventArgs(e); return t.trigger(gi, i) || (e.preventDefault(), t._legendItemHover(i.seriesIndex, i.pointIndex)), !0 }, leave: function (t) { t._unsetActivePoint() }, eventArgs: function (t) { var e = this.options; return { element: Tt(t), text: e.text, series: e.series, seriesIndex: e.series.index, pointIndex: e.pointIndex } }, renderVisual: function () { var t = this, e = this.options, i = e.visual; i ? (this.visual = i({ active: e.active, series: e.series, sender: this.getSender(), pointIndex: e.pointIndex, options: { markers: this.markerOptions(), labels: e.labels }, createVisual: function () { t.createVisual(), t.renderChildren(), t.renderComplete(); var e = t.visual; return delete t.visual, e } }), this.addVisual()) : Ft.fn.renderVisual.call(this) } }), os = "horizontal", rs = "pointer", as = "custom", hs = xt.extend({ init: function (t, e) { void 0 === e && (e = {}), xt.fn.init.call(this, t), this.chartService = e, bt(this.options.position, [it, lt, nt, st, as]) || (this.options.position = lt), this.createContainer(), this.createItems() }, createContainer: function () { var t = this.options, e = t.position, i = t.align, n = e, s = et; e === as ? n = st : bt(e, [it, nt]) ? (n = "start" === i ? st : "end" === i ? lt : et, s = e) : i && ("start" === i ? s = it : "end" === i && (s = nt)), this.container = new Ft({ margin: t.margin, padding: t.padding, background: t.background, border: t.border, vAlign: s, align: n, zIndex: t.zIndex, shrinkToFit: !0 }), this.append(this.container) }, createItems: function () { var t, e, i, n = this.getService(), s = this.options, o = this.isVertical(), r = new ns({ vertical: o, spacing: s.spacing, rtl: n.rtl }, n), a = s.items; for (s.reverse && (a = a.slice(0).reverse()), t = a.length, e = 0; e < t; e++)i = a[e], r.append(new ss(kt({}, { markers: s.markers, labels: s.labels, rtl: n.rtl }, s.item, i))); r.render(), this.container.append(r) }, isVertical: function () { var t = this.options, e = t.orientation, i = t.position, n = i === as && e !== os || (gt(e) ? e !== os : bt(i, [st, lt])); return n }, hasItems: function () { return this.container.children[0].children.length > 0 }, reflow: function (t) { var e = this.options, i = t.clone(); return this.hasItems() ? void (e.position === as ? (this.containerCustomReflow(i), this.box = i) : this.containerReflow(i)) : void (this.box = i) }, containerReflow: function (t) { var e, i = this, n = i.options, s = i.container, o = n.position, r = n.width, a = n.height, h = o === it || o === nt ? at : ht, l = this.isVertical(), c = t.clone(), u = t.clone(); o !== st && o !== lt || (u.y1 = c.y1 = 0), l && a ? (u.y2 = u.y1 + a, u.align(c, ht, s.options.vAlign)) : !l && r && (u.x2 = u.x1 + r, u.align(c, at, s.options.align)), s.reflow(u), u = s.box, e = u.clone(), (n.offsetX || n.offsetY) && (u.translate(n.offsetX, n.offsetY), this.container.reflow(u)), e[h + 1] = t[h + 1], e[h + 2] = t[h + 2], this.box = e }, containerCustomReflow: function (t) { var e = this, i = e.options, n = e.container, s = i.offsetX, o = i.offsetY, r = i.width, a = i.height, h = this.isVertical(), l = t.clone(); h && a ? l.y2 = l.y1 + a : !h && r && (l.x2 = l.x1 + r), n.reflow(l), l = n.box, n.reflow(new yt(s, o, s + l.width(), o + l.height())) }, renderVisual: function () { this.hasItems() && xt.fn.renderVisual.call(this) } }), wt(hs, { position: lt, items: [], offsetX: 0, offsetY: 0, margin: Vt(5), padding: Vt(5), border: { color: ct, width: 0 }, item: { cursor: rs, spacing: 6 }, spacing: 6, background: "", zIndex: 1, markers: { border: { width: 0 }, width: 15, height: 3, type: "rect", align: st, vAlign: et } }), ls = j.extend({ init: function () { this._registry = [] }, register: function (t, e) { this._registry.push({ type: t, seriesTypes: e }) }, create: function (t, e, i) { var n, s, o, r = this._registry, a = r[0]; for (s = 0; s < r.length; s++)if (o = r[s], n = x(t, o.seriesTypes), n.length > 0) { a = o; break } return new a.type(n, e, i) } }), ls.current = new ls, cs = 3, us = .1, ps = j.extend({ init: function (t, e, i, n) { var s = t.element; this.options = kt({}, this.options, i), this.chart = t, this.observer = n, this.chartElement = s, this.categoryAxis = e, this._dateAxis = this.categoryAxis instanceof Gt, this.initOptions(), this.options.visible && (this.createElements(), this.set(this._index(this.options.from), this._index(this.options.to)), this.bindEvents()) }, createElements: function () { var t, e, i, n, s, o, r = this.options, a = this.wrapper = I("k-selector"); qt(a, { top: r.offset.top, left: r.offset.left, width: r.width, height: r.height, direction: "ltr" }), t = this.selection = I("k-selection"), this.leftMask = I("k-mask"), this.rightMask = I("k-mask"), a.appendChild(this.leftMask), a.appendChild(this.rightMask), a.appendChild(t), t.appendChild(I("k-selection-bg")), e = this.leftHandle = I("k-handle k-left-handle"), i = this.rightHandle = I("k-handle k-right-handle"), e.appendChild(I()), i.appendChild(I()), t.appendChild(e), t.appendChild(i), this.chartElement.appendChild(a), n = qt(t, ["borderLeftWidth", "borderRightWidth", "height"]), s = qt(e, "height").height, o = qt(i, "height").height, r.selection = { border: { left: n.borderLeftWidth, right: n.borderRightWidth } }, qt(e, { top: (n.height - s) / 2 }), qt(i, { top: (n.height - o) / 2 }), a.style.cssText = a.style.cssText }, bindEvents: function () { this._mousewheelHandler = this.options.mousewheel !== !1 ? this._mousewheel.bind(this) : M; var t; Xt(this.wrapper, (t = {}, t[Bi] = this._mousewheelHandler, t)), this._domEvents = Ut.DomEventsBuilder.create(this.wrapper, { start: this._start.bind(this), move: this._move.bind(this), end: this._end.bind(this), tap: this._tap.bind(this), press: this._press.bind(this), gesturestart: this._gesturestart.bind(this), gesturechange: this._gesturechange.bind(this), gestureend: this._gestureend.bind(this) }) }, initOptions: function () { var t, e, i, n = this, s = n.options, o = n.categoryAxis, r = o.pane.chartsBox(), a = this.chart.chartService.intl; this._dateAxis && kt(s, { min: Bt(a, s.min), max: Bt(a, s.max), from: Bt(a, s.from), to: Bt(a, s.to) }), t = qt(this.chartElement, ["paddingLeft", "paddingTop"]), e = t.paddingLeft, i = t.paddingTop, this.options = kt({}, { width: r.width(), height: r.height() + us, padding: { left: e, top: i }, offset: { left: r.x1 + e, top: r.y1 + i }, from: s.min, to: s.max }, s) }, destroy: function () { if (this._domEvents && (this._domEvents.destroy(), delete this._domEvents), clearTimeout(this._mwTimeout), this._state = null, this.wrapper) { var t; Zt(this.wrapper, (t = {}, t[Bi] = this._mousewheelHandler, t)), this.chartElement.removeChild(this.wrapper) } }, _rangeEventArgs: function (t) { return { axis: this.categoryAxis.options, from: this._value(t.from), to: this._value(t.to) } }, _start: function (t) { var e, i = this.options, n = Tt(t); !this._state && n && (this.chart._unsetActivePoint(), this._state = { moveTarget: V(n) || n, startLocation: t.x ? t.x.location : 0, range: { from: this._index(i.from), to: this._index(i.to) } }, e = this._rangeEventArgs({ from: this._index(i.from), to: this._index(i.to) }), this.trigger(Ci, e) && (this._state = null)) }, _press: function (t) { var e; e = this._state ? this._state.moveTarget : V(Tt(t)), e && Y.addClass(e, "k-handle-active") }, _move: function (t) { var e, i, n, s, o, r, a, h, l, c, u, p, d, g, f, v, x, m; this._state && (e = this, i = e._state, n = e.options, s = e.categoryAxis.options, o = i.range, r = i.moveTarget, a = s.reverse, h = this._index(n.from), l = this._index(n.to), c = this._index(n.min), u = this._index(n.max), p = i.startLocation - t.x.location, d = { from: o.from, to: o.to }, g = o.to - o.from, f = qt(this.wrapper, "width").width / (s.categories.length - 1), v = Math.round(p / f) * (a ? -1 : 1), r && (x = Wt(r, "k-left-handle"), m = Wt(r, "k-right-handle"), Wt(r, "k-selection k-selection-bg") ? (o.from = Math.min(Math.max(c, h - v), u - g), o.to = Math.min(o.from + g, u)) : x && !a || m && a ? (o.from = Math.min(Math.max(c, h - v), u - 1), o.to = Math.max(o.from + 1, o.to)) : (x && a || m && !a) && (o.to = Math.min(Math.max(c + 1, l - v), u), o.from = Math.min(o.to - 1, o.from)), o.from === d.from && o.to === d.to || (this.move(o.from, o.to), this.trigger(ki, this._rangeEventArgs(o))))) }, _end: function () { var t, e; this._state && (t = this._state.moveTarget, t && Y.removeClass(t, "k-handle-active"), e = this._state.range, this.set(e.from, e.to), this.trigger(Pi, this._rangeEventArgs(e)), delete this._state) }, _tap: function (t) { var e = this, i = e.options, n = e.categoryAxis, s = this.chart._eventCoordinates(t), o = n.pointCategoryIndex(new mt(s.x, n.box.y1)), r = this._index(i.from), a = this._index(i.to), h = this._index(i.min), l = this._index(i.max), c = a - r, u = r + c / 2, p = {}, d = 3 === t.event.which, g = Math.round(u - o); this._state || d || (this.chart._unsetActivePoint(), n.options.justified || g-- , p.from = Math.min(Math.max(h, r - g), l - c), p.to = Math.min(p.from + c, l), this._start(t), this._state && (this._state.range = p, this.trigger(ki, this._rangeEventArgs(p)), this._end())) }, _mousewheel: function (t) { var e, i = this, n = Y.mousewheelDelta(t); this._start({ target: this.selection }), this._state && (e = this._state.range, t.preventDefault(), t.stopPropagation(), Math.abs(n) > 1 && (n *= cs), this.options.mousewheel.reverse && (n *= -1), this.expand(n) && this.trigger(ki, { axis: this.categoryAxis.options, delta: n, originalEvent: t, from: this._value(e.from), to: this._value(e.to) }), this._mwTimeout && clearTimeout(this._mwTimeout), this._mwTimeout = setTimeout(function () { i._end() }, zi)) }, _gesturestart: function (t) { var e, i = this.options; this._state = { range: { from: this._index(i.from), to: this._index(i.to) } }, e = this._rangeEventArgs(this._state.range), this.trigger(Ci, e) ? this._state = null : t.preventDefault() }, _gestureend: function () { this._state && (this.trigger(Pi, this._rangeEventArgs(this._state.range)), delete this._state) }, _gesturechange: function (t) { var e = this, i = e.chart, n = e._state, s = e.options, o = e.categoryAxis, r = n.range, a = i._toModelCoordinates(t.touches[0].x.location).x, h = i._toModelCoordinates(t.touches[1].x.location).x, l = Math.min(a, h), c = Math.max(a, h); t.preventDefault(), r.from = o.pointCategoryIndex(new mt(l)) || s.min, r.to = o.pointCategoryIndex(new mt(c)) || s.max, this.move(r.from, r.to), this.trigger(ki, this._rangeEventArgs(r)) }, _index: function (t) { var e = t; return t instanceof Date && (e = this.categoryAxis.categoryIndex(t)), e }, _value: function (t) { var e = this.categoryAxis.options.categories, i = t; return this._dateAxis && (i = t > e.length - 1 ? this.options.max : e[Math.ceil(t)]), i }, _slot: function (t) { var e = this.categoryAxis, i = this._index(t); return e.getSlot(i, i, !0) }, move: function (t, e) { var i, n, s = this.options, o = this.categoryAxis.options.reverse, r = s.offset, a = s.padding, h = s.selection.border, l = o ? e : t, c = o ? t : e, u = "x" + (o ? 2 : 1), p = this._slot(l), d = Ht(p[u] - r.left + a.left); qt(this.leftMask, { width: d }), qt(this.selection, { left: d }), p = this._slot(c), i = Ht(s.width - (p[u] - r.left + a.left)), qt(this.rightMask, { width: i }), n = s.width - i, n !== s.width && (n += h.right), qt(this.rightMask, { left: n }), qt(this.selection, { width: Math.max(s.width - (d + i) - h.right, 0) }) }, set: function (t, e) { var i = this.options, n = this._index(i.min), s = this._index(i.max), o = Yt(this._index(t), n, s), r = Yt(this._index(e), o + 1, s); i.visible && this.move(o, r), i.from = this._value(o), i.to = this._value(r) }, expand: function (t) { var e = this.options, i = this._index(e.min), n = this._index(e.max), s = e.mousewheel.zoom, o = this._index(e.from), r = this._index(e.to), a = { from: o, to: r }, h = kt({}, a); if (this._state && (a = this._state.range), s !== lt && (a.from = Yt(Yt(o - t, 0, r - 1), i, n)), s !== st && (a.to = Yt(Yt(r + t, a.from + 1, n), i, n)), a.from !== h.from || a.to !== h.to) return this.set(a.from, a.to), !0 }, trigger: function (t, e) { return (this.observer || this.chart).trigger(t, e) } }), wt(ps, { visible: !0, mousewheel: { zoom: "both" }, min: J, max: $ }), ds = Cn.extend({ show: function (t) { var e, i; !t || !t.tooltipAnchor || this._current && this._current === t || (e = kt({}, this.options, t.options.tooltip), i = t.tooltipAnchor(), i ? (this._current = t, Cn.fn.show.call(this, { point: t, anchor: i }, e, t)) : this.hide()) }, hide: function () { delete this._current, Cn.fn.hide.call(this) } }), gs = Cn.extend({ init: function (t, e) { Cn.fn.init.call(this, t.chartService, e), this.plotArea = t, this.formatService = t.chartService.format }, showAt: function (t, e) { var i, n, s, o = Nt(t, function (t) { var e = t.series.tooltip, i = e && e.visible === !1; return !i }); o.length > 0 && (i = o[0], n = this.plotArea.categoryAxis.getSlot(i.categoryIx), s = e ? this._slotAnchor(e, n) : this._defaultAnchor(i, n), this.show({ anchor: s, shared: !0, points: t, category: i.category, categoryText: this.formatService.auto(this.options.categoryFormat, i.category), series: this.plotArea.series }, this.options)) }, _slotAnchor: function (t, e) { var i = this.plotArea.categoryAxis, n = { horizontal: "left", vertical: "center" }; return i.options.vertical || (t.x = e.center().x), { point: t, align: n } }, _defaultAnchor: function (t, e) { var i, n = t.owner.pane.chartsBox(), s = this.plotArea.categoryAxis.options.vertical, o = n.center(), r = e.center(), a = { horizontal: "center", vertical: "center" }; return i = s ? new mt(o.x, r.y) : new mt(r.x, o.y), { point: i, align: a } } }), wt(gs, { categoryFormat: "{0:d}" }), fs = $t.extend({ setup: function () { var t, e, i = this, n = i.element, s = i.options, o = n.bbox(); o ? (this.origin = s.origin, t = s.vertical ? ht : at, e = this.fromScale = new ne(1, 1), e[t] = we, n.transform(se().scale(e.x, e.y))) : this.abort() }, step: function (t) { var e = Y.interpolateValue(this.fromScale.x, 1, t), i = Y.interpolateValue(this.fromScale.y, 1, t); this.element.transform(se().scale(e, i, this.origin)) }, abort: function () { $t.fn.abort.call(this), this.element.transform(null) } }), wt(fs, { duration: ve }), Jt.current.register(ze, fs), vs = $t.extend({ setup: function () { var t = this.center = this.element.bbox().center(); this.element.transform(se().scale(we, we, t)) }, step: function (t) { this.element.transform(se().scale(t, t, this.center)) } }), wt(vs, { easing: "easeOutElastic" }), Jt.current.register(Fe, vs), xs = $t.extend({ setup: function () { this.fadeTo = this.element.opacity(), this.element.opacity(0) }, step: function (t) { this.element.opacity(t * this.fadeTo) } }), wt(xs, { duration: 200, easing: "linear" }), Jt.current.register(xe, xs), ms = $t.extend({ setup: function () { this.element.transform(se().scale(we, we, this.options.center)) }, step: function (t) { this.element.transform(se().scale(t, t, this.options.center)) } }), wt(ms, { easing: "easeOutElastic", duration: ve }), Jt.current.register(Ye, ms), ys = yn.extend({ render: function () { yn.fn.render.call(this), this.renderSegments() }, createSegment: function (t, e, i) { var n, s = e.style; return new (n = s === Le ? Ki : Zi)(t, e, i) }, animationPoints: function () { var t = yn.fn.animationPoints.call(this); return t.concat(this._segments) }, createMissingValue: function (t, e) { if (e === Re) { var i = { x: t.x, y: t.y }; return u(i.x) || (i.x = 0), u(i.y) || (i.y = 0), i } } }), kt(ys.prototype, Qi), _s = In.extend({ initFields: function () { this.namedXAxes = {}, this.namedYAxes = {}, this.xAxisRangeTracker = new rn, this.yAxisRangeTracker = new rn }, render: function (t) { var e, i, n, s, o, r = this; for (void 0 === t && (t = this.panes), e = this.groupSeriesByPane(), i = 0; i < t.length; i++)n = t[i], s = e[n.options.name || "default"] || [], r.addToLegend(s), o = r.filterVisibleSeries(s), o && (r.createScatterChart(x(o, si), n), r.createScatterLineChart(x(o, oi), n), r.createBubbleChart(x(o, Fe), n)); this.createAxes(t) }, appendChart: function (t, e) { this.xAxisRangeTracker.update(t.xAxisRanges), this.yAxisRangeTracker.update(t.yAxisRanges), In.fn.appendChart.call(this, t, e) }, removeAxis: function (t) { var e = t.options.name; In.fn.removeAxis.call(this, t), t.options.vertical ? (this.yAxisRangeTracker.reset(e), delete this.namedYAxes[e]) : (this.xAxisRangeTracker.reset(e), delete this.namedXAxes[e]), t === this.axisX && delete this.axisX, t === this.axisY && delete this.axisY }, seriesPaneName: function (t) { var e = this.options, i = t.xAxis, n = [].concat(e.xAxis), s = Nt(n, function (t) { return t.name === i })[0], o = t.yAxis, r = [].concat(e.yAxis), a = Nt(r, function (t) { return t.name === o })[0], h = e.panes || [{}], l = h[0].name || "default", c = (s || {}).pane || (a || {}).pane || l; return c }, createScatterChart: function (t, e) { t.length > 0 && this.appendChart(new yn(this, { series: t, clip: e.options.clip }), e) }, createScatterLineChart: function (t, e) { t.length > 0 && this.appendChart(new ys(this, { series: t, clip: e.options.clip }), e) }, createBubbleChart: function (t, e) { t.length > 0 && this.appendChart(new wn(this, { series: t, clip: e.options.clip }), e) }, createXYAxis: function (t, e, i) { var n, s, o, r, a, h, l, c, u = t.name, p = e ? this.namedYAxes : this.namedXAxes, d = e ? this.yAxisRangeTracker : this.xAxisRangeTracker, g = kt({ reverse: !e && this.chartService.rtl }, t, { vertical: e }), f = v(g.type, Ii), x = d.query(), m = f ? { min: .1, max: 1 } : { min: 0, max: 1 }, y = d.query(u) || x || m, _ = [g.min, g.max], w = this.series; for (n = 0; n < w.length; n++)if (s = w[n], o = s[e ? "yAxis" : "xAxis"], o === g.name || 0 === i && !o) { r = le.current.bindPoint(s, 0).valueFields, _.push(r[e ? "y" : "x"]); break } for (0 === i && x && (y.min = Math.min(y.min, x.min), y.max = Math.max(y.max, x.max)), h = 0; h < _.length; h++)if (_[h] instanceof Date) { a = !0; break } if (l = v(g.type, ut) || !g.type && a ? Y.DateValueAxis : f ? Y.LogarithmicAxis : Y.NumericAxis, c = new l(y.min, y.max, g, this.chartService), c.axisIndex = i, u) { if (p[u]) throw Error((e ? "Y" : "X") + " axis with name " + u + " is already defined"); p[u] = c } return this.appendAxis(c), c }, createAxes: function (t) { var e, i, n, s, o = this, r = this.options, a = [].concat(r.xAxis), h = [], l = [].concat(r.yAxis), c = []; for (e = 0; e < a.length; e++)i = o.findPane(a[e].pane), bt(i, t) && h.push(o.createXYAxis(a[e], !1, e)); for (n = 0; n < l.length; n++)s = o.findPane(l[n].pane), bt(s, t) && c.push(o.createXYAxis(l[n], !0, n)); this.axisX = this.axisX || h[0], this.axisY = this.axisY || c[0] }, _dispatchEvent: function (t, e, i) { var n, s, o, r, a = t._eventCoordinates(e), h = new mt(a.x, a.y), l = this.axes, c = l.length, u = [], p = []; for (n = 0; n < c; n++)s = l[n], o = s.options.vertical ? p : u, r = s.getValue(h), null !== r && o.push(r); u.length > 0 && p.length > 0 && t.trigger(i, { element: Tt(e), originalEvent: e, x: _(u), y: _(p) }) }, updateAxisOptions: function (t, e) { var i = t.options.vertical, n = this.groupAxes(this.panes), s = (i ? n.y : n.x).indexOf(t); L(this.options, s, i, e), L(this.originalOptions, s, i, e) } }), wt(_s, { xAxis: {}, yAxis: {} }), kt(_s.prototype, Vn), ws = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this, i), this.value = t, this.sector = e }, render: function () { var t, e, i, n = this.options.labels, s = this.owner.chartService, o = this.value; this._rendered || this.visible === !1 || (this._rendered = !0, t = Rt(n), t ? o = t({ dataItem: this.dataItem, category: this.category, value: this.value, series: this.series, percentage: this.percentage }) : n.format && (o = s.format.auto(n.format, o)), n.visible && (o || 0 === o) && (n.position === et || n.position === Mi ? (n.color || (e = new ee(this.options.color).percBrightness(), n.color = e > 180 ? ct : ot), n.background || (n.background = this.options.color)) : (i = s.theme.seriesDefaults.labels, n.color = n.color || i.color, n.background = n.background || i.background), this.label = new Et(o, kt({}, n, { align: et, vAlign: "", animation: { type: xe, delay: this.animationDelay } })), this.append(this.label))) }, reflow: function (t) { this.render(), this.box = t, this.reflowLabel() }, reflowLabel: function () { var t, e, i, n, s = this, o = s.options.labels, r = s.label, a = this.sector.clone(), h = o.distance, l = a.middle(); r && (t = r.box.height(), e = r.box.width(), o.position === et ? (a.radius = Math.abs((a.radius - t) / 2) + t, i = a.point(l), r.reflow(new yt(i.x, i.y - t / 2, i.x, i.y))) : o.position === Mi ? (a.radius = a.radius - t / 2, i = a.point(l), r.reflow(new yt(i.x, i.y - t / 2, i.x, i.y))) : (i = a.clone().expand(h).point(l), i.x >= a.center.x ? (n = i.x + e, r.orientation = lt) : (n = i.x - e, r.orientation = st), r.reflow(new yt(n, i.y - t, i.x, i.y)))) }, createVisual: function () { var t, e, i = this, n = this, s = n.sector, o = n.options; xt.fn.createVisual.call(this), this.value && (o.visual ? (t = (s.startAngle + 180) % 360, e = o.visual({ category: this.category, dataItem: this.dataItem, value: this.value, series: this.series, percentage: this.percentage, center: new ne(s.center.x, s.center.y), radius: s.radius, innerRadius: s.innerRadius, startAngle: t, endAngle: t + s.angle, options: o, sender: this.getSender(), createVisual: function () { var t = new te; return i.createSegmentVisual(t), t } }), e && this.visual.append(e)) : this.createSegmentVisual(this.visual)) }, createSegmentVisual: function (t) { var e = this, i = e.sector, n = e.options, s = n.border || {}, o = s.width > 0 ? { stroke: { color: s.color, width: s.width, opacity: s.opacity, dashType: s.dashType } } : {}, r = n.color, h = { color: r, opacity: n.opacity }, l = this.createSegment(i, kt({ fill: h, stroke: { opacity: n.opacity }, zIndex: n.zIndex }, o)); t.append(l), a(n) && t.append(this.createGradientOverlay(l, { baseColor: r, fallbackFill: h }, kt({ center: [i.center.x, i.center.y], innerRadius: i.innerRadius, radius: i.radius, userSpace: !0 }, n.overlay))) }, createSegment: function (t, e) { return e.singleSegment ? new Kt.Circle(new ie.Circle(new ne(t.center.x, t.center.y), t.radius), e) : Y.ShapeBuilder.current.createRing(t, e) }, createAnimation: function () { var t = this, e = t.options, i = t.sector.center; kt(e, { animation: { center: [i.x, i.y], delay: this.animationDelay } }), xt.fn.createAnimation.call(this) }, createHighlight: function (t) { var e = this.options.highlight || {}, i = e.border || {}; return this.createSegment(this.sector, kt({}, t, { fill: { color: e.color, opacity: e.opacity }, stroke: { opacity: i.opacity, width: i.width, color: i.color } })) }, highlightVisual: function () { return this.visual.children[0] }, highlightVisualArgs: function () { var t = this.sector; return { options: this.options, radius: t.radius, innerRadius: t.innerRadius, center: new ne(t.center.x, t.center.y), startAngle: t.startAngle, endAngle: t.angle + t.startAngle, visual: this.visual } }, tooltipAnchor: function () { var t = this.sector.clone().expand(_e), e = t.middle(), i = t.point(e); return { point: i, align: O(e + 180) } }, formatValue: function (t) { return this.owner.formatPointValue(this, t) } }), bs = Ht(Y.rad(30), pt), As = Ht(Y.rad(60), pt), wt(ws, { color: ot, overlay: { gradient: "roundedBevel" }, border: { width: .5 }, labels: { visible: !1, distance: 35, font: Q.DEFAULT_FONT, margin: Vt(.5), align: rt, zIndex: 1, position: Oi }, animation: { type: Ye }, highlight: { visible: !0, border: { width: 1 } }, visible: !0 }), kt(ws.prototype, Wi), Ss = { createLegendItem: function (t, e, i) { var n, s, o, r, a, h = this.options.legend || {}, l = h.labels || {}, c = h.inactiveItems || {}, p = c.labels || {}; i && i.visibleInLegend !== !1 && (n = i.visible !== !1, s = n ? Rt(l) : Rt(p) || Rt(l), o = i.category, s && (o = s({ text: o, series: i.series, dataItem: i.dataItem, percentage: i.percentage, value: t })), n ? (r = {}, a = e.color) : (r = { color: p.color, font: p.font }, a = (c.markers || {}).color), u(o) && "" !== o && this.legendItems.push({ pointIndex: i.index, text: o, series: i.series, markerColor: a, labels: r })) } }, Cs = 70, ks = xt.extend({
            init: function (t, e) { xt.fn.init.call(this, e), this.plotArea = t, this.chartService = t.chartService, this.points = [], this.legendItems = [], this.render() }, render: function () { this.traverseDataPoints(this.addValue.bind(this)) }, traverseDataPoints: function (t) { var e, i, n, s, o, r, a, h, l, c, u, p, d, g, v, x, m, y, _, w, b = this, A = this, S = A.options, C = A.plotArea.options.seriesColors; for (void 0 === C && (C = []), e = C.length, i = S.series, n = i.length, s = 0; s < n; s++)for (o = i[s], r = o.data, a = f(o), h = a.total, l = a.points, c = a.count, u = 360 / h, p = void 0, isFinite(u) || (p = 360 / c), d = void 0, d = gt(o.startAngle) ? o.startAngle : S.startAngle, s !== n - 1 && o.labels.position === Oi && (o.labels.position = et), g = 0; g < l.length; g++)v = l[g], v && (x = v.fields, m = v.value, y = v.visible, _ = 0 !== m ? p || m * u : 0, w = 1 !== r.length && !!x.explode, At(o.color) || (o.color = x.color || C[g % e]), t(v.valueFields.value, new Y.Ring(null, 0, 0, d, _), { owner: b, category: gt(x.category) ? x.category : "", index: g, series: o, seriesIx: s, dataItem: r[g], percentage: 0 !== h ? m / h : 0, explode: w, visibleInLegend: x.visibleInLegend, visible: y, zIndex: n - s, animationDelay: b.animationDelay(g, s, n) }), y !== !1 && (d += _)) }, evalSegmentOptions: function (t, e, i) { var s = i.series; n(t, { value: e, series: s, dataItem: i.dataItem, category: i.category, percentage: i.percentage }, { defaults: s._defaults, excluded: ["data", "content", "template", "visual", "toggle"] }) }, addValue: function (e, i, n) { var s, o = kt({}, n.series, { index: n.index }); this.evalSegmentOptions(o, e, n), this.createLegendItem(e, o, n), n.visible !== !1 && (s = new ws(e, i, o), t.extend(s, n), this.append(s), this.points.push(s)) }, reflow: function (t) { var e, i, n, s, o, r, a, h, l, c, u, p, d, g, f, v, x, m, y, _, w, b = this, A = b.options, S = b.points, C = b.seriesConfigs; for (void 0 === C && (C = []), e = S.length, i = t.clone(), n = 5, s = Math.min(i.width(), i.height()), o = s / 2, r = s - .85 * s, a = new yt(i.x1, i.y1, i.x1 + s, i.y1 + s), h = a.center(), l = i.center(), c = A.series.length, u = [], p = [], d = St(A.padding, r), d = d > o - n ? o - n : d, a.translate(l.x - h.x, l.y - h.y), g = o - d, f = new mt(g + a.x1 + d, g + a.y1 + d), v = 0; v < e; v++)x = S[v], m = x.sector, y = x.seriesIx, m.radius = g, m.center = f, C.length && (_ = C[y], m.innerRadius = _.innerRadius, m.radius = _.radius), y === c - 1 && x.explode && (m.center = m.clone().setRadius(.15 * m.radius).point(m.middle())), x.reflow(a), w = x.label, w && w.options.position === Oi && y === c - 1 && (w.orientation === lt ? p.push(w) : u.push(w)); u.length > 0 && (u.sort(this.labelComparator(!0)), this.leftLabelsReflow(u)), p.length > 0 && (p.sort(this.labelComparator(!1)), this.rightLabelsReflow(p)), this.box = a }, leftLabelsReflow: function (t) { var e = this.distanceBetweenLabels(t); this.distributeLabels(e, t) }, rightLabelsReflow: function (t) { var e = this.distanceBetweenLabels(t); this.distributeLabels(e, t) }, distanceBetweenLabels: function (t) { var e, i, n = Pt(this.points), s = n.sector, o = t.length - 1, r = s.radius + n.options.labels.distance, a = [], h = t[0].box, l = Ht(h.y1 - (s.center.y - r - h.height() - h.height() / 2)); for (a.push(l), e = 0; e < o; e++)i = t[e + 1].box, h = t[e].box, l = Ht(i.y1 - h.y2), a.push(l); return l = Ht(s.center.y + r - t[o].box.y2 - t[o].box.height() / 2), a.push(l), a }, distributeLabels: function (t, e) {
                var i, n, s, o, r = this, a = t.length; for (o = 0; o < a; o++)for (s = -t[o],
                    i = n = o; s > 0 && (i >= 0 || n < a);)s = r._takeDistance(t, o, --i, s), s = r._takeDistance(t, o, ++n, s); this.reflowLabels(t, e)
            }, _takeDistance: function (t, e, i, n) { var s, o = n; return t[i] > 0 && (s = Math.min(t[i], o), o -= s, t[i] -= s, t[e] += s), o }, reflowLabels: function (t, e) { var i, n, s, o, r = this, a = Pt(this.points), h = a.sector, l = a.options.labels, c = e.length, u = l.distance, p = h.center.y - (h.radius + u) - e[0].box.height(); for (t[0] += 2, n = 0; n < c; n++)s = e[n], o = s.box, p += t[n], i = r.hAlignLabel(o.x2, h.clone().expand(u), p, p + o.height(), s.orientation === lt), s.orientation === lt ? (l.align !== rt && (i = h.radius + h.center.x + u), s.reflow(new yt(i + o.width(), p, i, p))) : (l.align !== rt && (i = h.center.x - h.radius - u), s.reflow(new yt(i - o.width(), p, i, p))), p += o.height() }, createVisual: function () { var t, e, i, n, s, o, r, a, h, l, c, u, p, d, g = this, f = this, v = f.options.connectors, x = f.points, m = x.length, y = 4; for (xt.fn.createVisual.call(this), this._connectorLines = [], t = 0; t < m; t++)e = x[t], i = e.sector, n = e.label, s = i.middle(), o = (e.options.connectors || {}).color || v.color, n && (r = new Qt({ stroke: { color: o, width: v.width }, animation: { type: xe, delay: e.animationDelay } }), n.options.position === Oi && (a = n.box, h = i.center, l = i.point(s), c = new mt(a.x1, a.center().y), u = void 0, p = void 0, d = void 0, l = i.clone().expand(v.padding).point(s), r.moveTo(l.x, l.y), n.orientation === lt ? (p = new mt(a.x1 - v.padding, a.center().y), d = B(h, l, c, p), c = new mt(p.x - y, p.y), d = d || c, d.x = Math.min(d.x, c.x), g.pointInCircle(d, i.center, i.radius + y) || d.x < i.center.x ? (u = i.center.x + i.radius + y, e.options.labels.align !== Ge ? u < c.x ? r.lineTo(u, l.y) : r.lineTo(l.x + 2 * y, l.y) : r.lineTo(u, l.y), r.lineTo(c.x, p.y)) : (d.y = p.y, r.lineTo(d.x, d.y))) : (p = new mt(a.x2 + v.padding, a.center().y), d = B(h, l, c, p), c = new mt(p.x + y, p.y), d = d || c, d.x = Math.max(d.x, c.x), g.pointInCircle(d, i.center, i.radius + y) || d.x > i.center.x ? (u = i.center.x - i.radius - y, e.options.labels.align !== Ge ? u > c.x ? r.lineTo(u, l.y) : r.lineTo(l.x - 2 * y, l.y) : r.lineTo(u, l.y), r.lineTo(c.x, p.y)) : (d.y = p.y, r.lineTo(d.x, d.y))), r.lineTo(p.x, p.y), g._connectorLines.push(r), g.visual.append(r))) }, labelComparator: function (t) { var e = t ? -1 : 1; return function (t, i) { var n = (t.parent.sector.middle() + 270) % 360, s = (i.parent.sector.middle() + 270) % 360; return (n - s) * e } }, hAlignLabel: function (t, e, i, n, s) { var o = e.radius, r = e.center, a = r.x, h = r.y, l = Math.min(Math.abs(h - i), Math.abs(h - n)); return l > o ? t : a + Math.sqrt(o * o - l * l) * (s ? 1 : -1) }, pointInCircle: function (t, e, i) { return Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2) < Math.pow(i, 2) }, formatPointValue: function (t, e) { return this.chartService.format.auto(e, t.value) }, animationDelay: function (t) { return t * Cs }
        }), wt(ks, { startAngle: 90, connectors: { width: 2, color: "#939393", padding: 8 }, inactiveItems: { markers: {}, labels: {} } }), kt(ks.prototype, Ss), Ps = In.extend({ render: function () { this.createPieChart(this.series) }, createPieChart: function (t) { var e = t[0], i = new ks(this, { series: t, padding: e.padding, startAngle: e.startAngle, connectors: e.connectors, legend: this.options.legend }); this.appendChart(i) }, appendChart: function (t, e) { In.fn.appendChart.call(this, t, e), Lt(this.options.legend.items, t.legendItems) } }), Ts = ws.extend({ reflowLabel: function () { var t, e, i = this, n = i.options.labels, s = i.label, o = this.sector.clone(), r = o.middle(); s && (t = s.box.height(), n.position === et ? (o.radius -= (o.radius - o.innerRadius) / 2, e = o.point(r), s.reflow(new yt(e.x, e.y - t / 2, e.x, e.y))) : ws.fn.reflowLabel.call(this)) }, createSegment: function (t, e) { return Y.ShapeBuilder.current.createRing(t, e) } }), wt(Ts, { overlay: { gradient: "roundedGlass" }, labels: { position: et }, animation: { type: Ye } }), kt(Ts.prototype, Wi), Rs = 50, Es = ks.extend({ addValue: function (e, i, n) { var s, o = kt({}, n.series, { index: n.index }); this.evalSegmentOptions(o, e, n), this.createLegendItem(e, o, n), e && n.visible !== !1 && (s = new Ts(e, i, o), t.extend(s, n), this.append(s), this.points.push(s)) }, reflow: function (t) { var e, i, n, s, o, r, a, h, l, c, u, p, d = this, g = this.options, f = t.clone(), v = 5, x = Math.min(f.width(), f.height()), m = x / 2, y = x - .85 * x, _ = g.series, w = _.length, b = St(g.padding, y); for (b = b > m - v ? m - v : b, e = m - b, i = 0, s = 0; s < w; s++)o = _[s], 0 === s && gt(o.holeSize) && (n = o.holeSize, e -= o.holeSize), gt(o.size) ? e -= o.size : i++ , gt(o.margin) && s !== w - 1 && (e -= o.margin); for (gt(n) || (r = (m - b) / (w + .75), n = .75 * r, e -= n), a = n, h = 0, this.seriesConfigs = [], u = 0; u < w; u++)p = _[u], l = St(p.size, e / i), a += h, c = a + l, d.seriesConfigs.push({ innerRadius: a, radius: c }), h = p.margin || 0, a = c; ks.fn.reflow.call(this, t) }, animationDelay: function (t, e, i) { return t * Rs + ve * (e + 1) / (i + 1) } }), wt(Es, { startAngle: 90, connectors: { width: 2, color: "#939393", padding: 8 } }), Is = Ps.extend({ render: function () { this.createDonutChart(this.series) }, createDonutChart: function (t) { var e = t[0], i = new Es(this, { series: t, padding: e.padding, connectors: e.connectors, legend: this.options.legend }); this.appendChart(i) } }), Vs = .15, Ms = In.extend({ initFields: function () { this.valueAxisRangeTracker = new rn }, render: function () { this.addToLegend(this.series), this.createPolarAxis(), this.createCharts(), this.createValueAxis() }, alignAxes: function () { var t = this.valueAxis, e = t.range(), i = t.options.reverse ? e.max : e.min, n = t.getSlot(i), s = this.polarAxis.getSlot(0).center, o = t.box.translate(s.x - n.x1, s.y - n.y1); t.reflow(o) }, createValueAxis: function () { var t, e, i, n, s = this.valueAxisRangeTracker, o = s.query(), r = this.valueAxisOptions({ roundToMajorUnit: !1, zIndex: -1 }); r.type === Ii ? (t = Y.RadarLogarithmicAxis, e = { min: .1, max: 1 }) : (t = Y.RadarNumericAxis, e = { min: 0, max: 1 }), i = s.query(name) || o || e, i && o && (i.min = Math.min(i.min, o.min), i.max = Math.max(i.max, o.max)), n = new t(i.min, i.max, r, this.chartService), this.valueAxis = n, this.appendAxis(n) }, reflowAxes: function () { var t, e, i = this, n = i.options.plotArea, s = i.valueAxis, o = i.polarAxis, r = i.box, a = Math.min(r.width(), r.height()) * Vs, h = Vt(n.padding || {}, a), l = r.clone().unpad(h), c = l.clone(); c.y2 = c.y1 + Math.min(c.width(), c.height()), c.align(l, ht, et), t = c.clone().shrink(0, c.height() / 2), o.reflow(c), s.reflow(t), e = s.lineBox().height() - s.box.height(), s.reflow(s.box.unpad({ top: e })), this.axisBox = c, this.alignAxes(c) }, backgroundBox: function () { return this.box } }), Ls = yn.extend({ pointSlot: function (t, e) { var i = t.center.y - e.y1, n = mt.onCircle(t.center, t.startAngle, i); return new yt(n.x, n.y, n.x, n.y) } }), wt(Ls, { clip: !1 }), Os = ys.extend({}), Os.prototype.pointSlot = Ls.prototype.pointSlot, wt(Os, { clip: !1 }), Bs = sn.extend({ fillToAxes: function (t) { var e = this._polarAxisCenter(); t.lineTo(e.x, e.y) }, _polarAxisCenter: function () { var t = this.parent.plotArea.polarAxis, e = t.box.center(); return e }, strokeSegments: function () { var t, e, i, n = this._strokeSegments; return n || (t = this._polarAxisCenter(), e = new Mt((!1)), i = this.points(), i.push(t), n = this._strokeSegments = e.process(i), n.pop()), n } }), zs = en.extend({ fillToAxes: function (t) { var e = this.parent.plotArea.polarAxis, i = e.box.center(), n = new ie.Segment([i.x, i.y]); t.segments.unshift(n), t.segments.push(n) } }), Ds = Os.extend({ createSegment: function (t, e, i) { var n, s = (e.line || {}).style; return n = s === Le ? new Bs(t, e, i) : new zs(t, e, i) }, createMissingValue: function (t, e) { var i; return u(t.x) && e !== Ee && (i = { x: t.x, y: t.y }, e === Re && (i.y = 0)), i }, seriesMissingValues: function (t) { return t.missingValues || Re }, _hasMissingValuesGap: function () { var t, e = this, i = this.options.series; for (t = 0; t < i.length; t++)if (e.seriesMissingValues(i[t]) === Ie) return !0 }, sortPoints: function (t) { var e, i, n, s = this; if (t.sort(z), this._hasMissingValuesGap()) for (e = 0; e < t.length; e++)i = t[e], i && (n = i.value, u(n.y) || s.seriesMissingValues(i.series) !== Ie || delete t[e]); return t } }), Fs = Ms.extend({ createPolarAxis: function () { var t = new Y.PolarAxis(this.options.xAxis, this.chartService); this.polarAxis = t, this.axisX = t, this.appendAxis(t) }, valueAxisOptions: function (t) { return kt(t, { majorGridLines: { type: dt }, minorGridLines: { type: dt } }, this.options.yAxis) }, createValueAxis: function () { Ms.fn.createValueAxis.call(this), this.axisY = this.valueAxis }, appendChart: function (t, e) { this.valueAxisRangeTracker.update(t.yAxisRanges), In.prototype.appendChart.call(this, t, e) }, createCharts: function () { var t = this.filterVisibleSeries(this.series), e = this.panes[0]; this.createLineChart(x(t, [Ke]), e), this.createScatterChart(x(t, [Qe]), e), this.createAreaChart(x(t, [je]), e) }, createLineChart: function (t, e) { if (0 !== t.length) { var i = new Os(this, { series: t }); this.appendChart(i, e) } }, createScatterChart: function (t, e) { if (0 !== t.length) { var i = new Ls(this, { series: t }); this.appendChart(i, e) } }, createAreaChart: function (t, e) { if (0 !== t.length) { var i = new Ds(this, { series: t }); this.appendChart(i, e) } }, _dispatchEvent: function (t, e, i) { var n = t._eventCoordinates(e), s = new mt(n.x, n.y), o = this.axisX.getValue(s), r = this.axisY.getValue(s); null !== o && null !== r && t.trigger(i, { element: Tt(e), x: o, y: r }) }, createCrosshairs: function () { } }), wt(Fs, { xAxis: {}, yAxis: {} }), kt(Fs.prototype, Vn), Hs = tn.extend({ pointSlot: function (t, e) { var i = t.center.y - e.y1, n = mt.onCircle(t.center, t.middle(), i); return new yt(n.x, n.y, n.x, n.y) }, createSegment: function (t, e, i) { var n, s, o = e.style; return n = o === Le ? Ki : Zi, s = new n(t, e, i), t.length === e.data.length && (s.options.closed = !0), s } }), wt(Hs, { clip: !1, limitPoints: !1 }), Ns = sn.extend({ fillToAxes: function () { } }), Gs = en.extend({ fillToAxes: function () { } }), qs = Hs.extend({ createSegment: function (t, e, i, n) { var s, o, r, a = this.options.isStacked, h = (e.line || {}).style; return a && i > 0 && n && (o = n.linePoints.slice(0), s = n), h === Le ? (r = new Ns(t, e, i, s, o), r.options.closed = !0) : (t.push(t[0]), r = new Gs(t, e, i, s, o)), r }, seriesMissingValues: function (t) { return t.missingValues || Re } }), Ws = Ts.extend({ init: function (t, e) { Ts.fn.init.call(this, t, null, e) } }), wt(Ws, { overlay: { gradient: "none" }, labels: { distance: 10 } }), Xs = xt.extend({ init: function (t) { xt.fn.init.call(this, t), this.forEach = t.rtl ? l : h }, reflow: function (t) { var e = this, i = e.options, n = e.children, s = i.gap, o = i.spacing, r = n.length, a = r + s + o * (r - 1), h = t.angle / a, l = t.startAngle + h * (s / 2); this.forEach(n, function (e) { var i = t.clone(); i.startAngle = l, i.angle = h, e.sector && (i.radius = e.sector.radius), e.reflow(i), e.sector = i, l += h + h * o }) } }), wt(Xs, { gap: 1, spacing: 0 }), Us = xt.extend({ reflow: function (t) { var e, i, n = this, s = n.options.reverse, o = n.children, r = o.length, a = s ? r - 1 : 0, h = s ? -1 : 1; for (this.box = new yt, e = a; e >= 0 && e < r; e += h)i = o[e].sector, i.startAngle = t.startAngle, i.angle = t.angle } }), Zs = pn.extend({ pointType: function () { return Ws }, clusterType: function () { return Xs }, stackType: function () { return Us }, categorySlot: function (t, e) { return t.getSlot(e) }, pointSlot: function (t, e) { var i = t.clone(), n = t.center.y; return i.radius = n - e.y1, i.innerRadius = n - e.y2, i }, reflowPoint: function (t, e) { t.sector = e, t.reflow() }, createAnimation: function () { this.options.animation.center = this.box.toRect().center(), pn.fn.createAnimation.call(this) } }), Zs.prototype.reflow = qi.prototype.reflow, wt(Zs, { clip: !1, limitPoints: !1, animation: { type: "pie" } }), Ys = Ms.extend({ createPolarAxis: function () { var t = new Y.RadarCategoryAxis(this.options.categoryAxis, this.chartService); this.polarAxis = t, this.categoryAxis = t, this.appendAxis(t), this.aggregateCategories(), this.createCategoryAxesLabels() }, valueAxisOptions: function (t) { return this._hasBarCharts && kt(t, { majorGridLines: { type: dt }, minorGridLines: { type: dt } }), this._isStacked100 && kt(t, { roundToMajorUnit: !1, labels: { format: "P0" } }), kt(t, this.options.valueAxis) }, aggregateCategories: function () { $n.prototype.aggregateCategories.call(this, this.panes) }, createCategoryAxesLabels: function () { $n.prototype.createCategoryAxesLabels.call(this, this.panes) }, filterSeries: function (t) { return t }, createCharts: function () { var t = this.filterVisibleSeries(this.series), e = this.panes[0]; this.createAreaChart(x(t, [$e]), e), this.createLineChart(x(t, [ti]), e), this.createBarChart(x(t, [Je]), e) }, chartOptions: function (t) { var e, i, n = { series: t }, s = t[0]; return s && (e = this.filterVisibleSeries(t), i = s.stack, n.isStacked = i && e.length > 1, n.isStacked100 = i && "100%" === i.type && e.length > 1, n.isStacked100 && (this._isStacked100 = !0)), n }, createAreaChart: function (t, e) { if (0 !== t.length) { var i = new qs(this, this.chartOptions(t)); this.appendChart(i, e) } }, createLineChart: function (t, e) { if (0 !== t.length) { var i = new Hs(this, this.chartOptions(t)); this.appendChart(i, e) } }, createBarChart: function (t, e) { var i, n, s; 0 !== t.length && (i = t[0], n = this.chartOptions(t), n.gap = i.gap, n.spacing = i.spacing, s = new Zs(this, n), this.appendChart(s, e), this._hasBarCharts = !0) }, seriesCategoryAxis: function () { return this.categoryAxis }, _dispatchEvent: function (t, e, i) { var n = t._eventCoordinates(e), s = new mt(n.x, n.y), o = this.categoryAxis.getCategory(s), r = this.valueAxis.getValue(s); null !== o && null !== r && t.trigger(i, { element: Tt(e), category: o, value: r }) }, createCrosshairs: function () { } }), kt(Ys.prototype, Vn, { appendChart: $n.prototype.appendChart, aggregateSeries: $n.prototype.aggregateSeries }), wt(Ys, { categoryAxis: { categories: [] }, valueAxis: {} }), js = xt.extend({ init: function (t, e, i) { xt.fn.init.call(this, e), this.value = t, this.options.index = i.index }, reflow: function (t) { var e = this.points, i = this.children[0]; this.box = new yt(e[0].x, e[0].y, e[1].x, e[2].y), i && i.reflow(new yt(t.x1, e[0].y, t.x2, e[2].y)) }, createVisual: function () { var t, e = this, i = this.options; xt.fn.createVisual.call(this), t = i.visual ? i.visual({ category: this.category, dataItem: this.dataItem, value: this.value, series: this.series, percentage: this.percentage, points: this.points, options: i, sender: this.getSender(), createVisual: function () { return e.createPath() } }) : this.createPath(), t && this.visual.append(t) }, createPath: function () { var t = this.options, e = t.border, i = Qt.fromPoints(this.points, { fill: { color: t.color, opacity: t.opacity }, stroke: { color: e.color, opacity: e.opacity, width: e.width } }).close(); return i }, createHighlight: function (t) { return Qt.fromPoints(this.points, t) }, highlightVisual: function () { return this.visual.children[0] }, highlightVisualArgs: function () { var t = Qt.fromPoints(this.points).close(); return { options: this.options, path: t } }, tooltipAnchor: function () { var t = this.box; return { point: new mt(t.center().x, t.y1), align: { horizontal: "center", vertical: "top" } } }, formatValue: function (t) { var e = this; return e.owner.formatPointValue(e, t) } }), wt(js, { color: ot, border: { width: 1 } }), kt(js.prototype, Wi), Ks = xt.extend({ init: function (t, e) { xt.fn.init.call(this, e), this.plotArea = t, this.points = [], this.labels = [], this.legendItems = [], this.render() }, formatPointValue: function (t, e) { return this.chartService.format.auto(e, t.value) }, render: function () { var t, e, i, n, s, o, r, a, h, l, c, u = this, p = this, d = p.options, g = p.plotArea.options.seriesColors; if (void 0 === g && (g = []), t = d.series[0], e = t.data) for (i = f(t), n = i.total, s = i.points, o = 0; o < s.length; o++)r = s[o], r && (a = r.fields, At(t.color) || (t.color = a.color || g[o % g.length]), a = kt({ index: o, owner: u, series: t, dataItem: e[o], percentage: r.value / n }, a, { visible: r.visible }), h = r.valueFields.value, l = u.createSegment(h, a), c = u.createLabel(h, a), l && c && l.append(c)) }, evalSegmentOptions: function (t, e, i) { var s = i.series; n(t, { value: e, series: s, dataItem: i.dataItem, index: i.index }, { defaults: s._defaults, excluded: ["data", "content", "template", "toggle", "visual"] }) }, createSegment: function (e, i) { var n, s = kt({}, i.series); if (this.evalSegmentOptions(s, e, i), this.createLegendItem(e, s, i), i.visible !== !1) return n = new js(e, s, i), t.extend(n, i), this.append(n), this.points.push(n), n }, createLabel: function (t, e) { var i, n, s, o = e.series, r = e.dataItem, a = kt({}, this.options.labels, o.labels), h = t; if (a.visible) return i = Rt(a), i ? h = i({ dataItem: r, value: t, percentage: e.percentage, category: e.category, series: o }) : a.format && (h = this.plotArea.chartService.format.auto(a.format, h)), a.color || (n = new ee(o.color).percBrightness(), a.color = n > 180 ? ct : ot, a.background || (a.background = o.color)), this.evalSegmentOptions(a, t, e), s = new Et(h, kt({ vAlign: a.position }, a)), this.labels.push(s), s }, labelPadding: function () { var t, e, i, n, s = this.labels, o = { left: 0, right: 0 }; for (t = 0; t < s.length; t++)e = s[t], i = e.options.align, i !== et && (n = s[t].box.width(), i === st ? o.left = Math.max(o.left, n) : o.right = Math.max(o.right, n)); return o }, dynamicSlopeReflow: function (t, e, i) { var n, s, o, r, a, h, l, c, u, p, d, g = this, f = g.options, v = g.points, x = v.length, m = v[0], y = m; for (n = 0; n < v.length; n++)v[n].percentage > y.percentage && (y = v[n]); for (s = m.percentage / y.percentage * e, o = (e - s) / 2, r = 0, a = 0; a < x; a++)h = v[a].percentage, l = v[a + 1], c = l ? l.percentage : h, u = v[a].points = [], p = f.dynamicHeight ? i * h : i / x, d = void 0, d = h ? (e - s * (c / h)) / 2 : c ? 0 : e / 2, d = Yt(d, 0, e), u.push(new ne(t.x1 + o, t.y1 + r)), u.push(new ne(t.x1 + e - o, t.y1 + r)), u.push(new ne(t.x1 + e - d, t.y1 + p + r)), u.push(new ne(t.x1 + d, t.y1 + p + r)), o = d, r += p + f.segmentSpacing, s = Yt(e - 2 * d, 0, e) }, constantSlopeReflow: function (t, e, i) { var n, s, o, r, a, h = this, l = h.options, c = h.points, u = c.length, p = l.neckRatio <= 1, d = p ? l.neckRatio * e : e, g = p ? 0 : (e - e / l.neckRatio) / 2, f = p ? e : e - 2 * g, v = (f - d) / 2, x = 0; for (n = 0; n < u; n++)s = c[n].points = [], o = c[n].percentage, r = l.dynamicHeight ? v * o : v / u, a = l.dynamicHeight ? i * o : i / u, s.push(new ne(t.x1 + g, t.y1 + x)), s.push(new ne(t.x1 + e - g, t.y1 + x)), s.push(new ne(t.x1 + e - g - r, t.y1 + a + x)), s.push(new ne(t.x1 + g + r, t.y1 + a + x)), g += r, x += a + l.segmentSpacing }, reflow: function (t) { var e, i, n, s, o, r = this.points, a = r.length; if (a) for (e = this.options, i = t.clone().unpad(this.labelPadding()), n = i.height() - e.segmentSpacing * (a - 1), s = i.width(), e.dynamicSlope ? this.dynamicSlopeReflow(i, s, n) : this.constantSlopeReflow(i, s, n), o = 0; o < a; o++)r[o].reflow(t) } }), wt(Ks, { neckRatio: .3, width: 300, dynamicSlope: !1, dynamicHeight: !0, segmentSpacing: 0, labels: { visible: !1, align: et, position: et, zIndex: 1 } }), kt(Ks.prototype, Ss), Qs = In.extend({ render: function () { this.createFunnelChart(this.series) }, createFunnelChart: function (t) { var e = t[0], i = new Ks(this, { series: t, legend: this.options.legend, neckRatio: e.neckRatio, dynamicHeight: e.dynamicHeight, dynamicSlope: e.dynamicSlope, segmentSpacing: e.segmentSpacing, highlight: e.highlight }); this.appendChart(i) }, appendChart: function (t, e) { In.fn.appendChart.call(this, t, e), Lt(this.options.legend.items, t.legendItems) } }), $s = "color", Js = "first", to = "from", eo = "max", io = "min", no = "noteText", so = "summary", oo = "to", ls.current.register($n, [ze, Ge, Ue, li, Be, ri, Ne, Ze, He, hi, De, ai, ni, ii, ui, Xe, ei, ci]), ls.current.register(_s, [si, oi, Fe]), ls.current.register(Ps, [Ye]), ls.current.register(Is, [qe]), ls.current.register(Qs, [We]), ls.current.register(Fs, [je, Ke, Qe]), ls.current.register(Ys, [$e, Je, ti]), le.current.register([ze, Ge, Ue, li, Be, ri], [tt], [Vi, $s, no, be, Ae]), le.current.register([ni, ii, ei, ci], [to, oo], [Vi, $s, no]), le.current.register([ui, Xe], [tt], [Vi, $s, no, so]), le.current.register([je, Ke, Qe], [at, ht], [$s]), le.current.register([$e, Je, ti], [tt], [$s]), le.current.register([We], [tt], [Vi, $s, "visibleInLegend", "visible"]), Ln.current.register([ze, Ge, Ue, li, Be, ri, ui, Xe], { value: eo, color: Js, noteText: Js, errorLow: io, errorHigh: eo }), Ln.current.register([ni, ii, ei, ci], { from: io, to: eo, color: Js, noteText: Js }), Ln.current.register([$e, Je, ti], { value: eo, color: Js }), le.current.register([si, oi, Fe], [at, ht], [$s, no, Se, Ce, ke, Pe]), le.current.register([Fe], [at, ht, "size"], [$s, Vi, no]), le.current.register([Ne, Ze], ["open", "high", "low", "close"], [Vi, $s, "downColor", no]), Ln.current.register([Ne, Ze], { open: eo, high: eo, low: io, close: eo, color: Js, downColor: Js, noteText: Js }), le.current.register([De, ai], ["lower", "q1", "median", "q3", "upper", "mean", "outliers"], [Vi, $s, no]), Ln.current.register([De, ai], { lower: eo, q1: eo, median: eo, q3: eo, upper: eo, mean: eo, outliers: Js, color: Js, noteText: Js }), le.current.register([He, hi], ["current", "target"], [Vi, $s, "visibleInLegend", no]), Ln.current.register([He, hi], { current: eo, target: eo, color: Js, noteText: Js }), le.current.register([Ye, qe], [tt], [Vi, $s, "explode", "visibleInLegend", "visible"]), ro = [Vi, tt, at, ht], ao = "mousemove", ho = "contextmenu", lo = 20, co = j.extend({
            init: function (t, e, i, n) { var s, o = this; void 0 === n && (n = {}), this.observers = [], this.addObserver(n.observer), this.chartService = new Ut.ChartService(this, n), this.chartService.theme = i, this._initElement(t), s = kt({}, this.options, e), this._originalOptions = kt({}, s), this._theme = i, this._initTheme(s, i), this._initSurface(), this._initHandlers(), this.bindCategories(), Y.FontLoader.preloadFonts(e, function () { o._destroyed || (o.trigger("init"), o._redraw(), o._attachEvents()) }) }, _initElement: function (t) { for (this._setElementClass(t), t.style.position = "relative"; t.firstChild;)t.removeChild(t.firstChild); this.element = t }, _setElementClass: function (t) { Y.addClass(t, "k-chart") }, _initTheme: function (e, i) { var n, s = [], o = e.series || []; for (n = 0; n < o.length; n++)s.push(t.extend({}, o[n])); e.series = s, D(e), this.applyDefaults(e, i), null === e.seriesColors && delete e.seriesColors, this.options = kt({}, i, e), this.applySeriesColors() }, getSize: function () { return { width: this.element.offsetWidth, height: this.element.offsetHeight } }, resize: function (t) { var e = this.getSize(), i = this._size; (t || (e.width > 0 || e.height > 0) && (!i || e.width !== i.width || e.height !== i.height)) && (this._size = e, this._resize(e, t), this.trigger("resize", e)) }, _resize: function () { this._noTransitionsRedraw() }, redraw: function (t) { var e, i; this.applyDefaults(this.options), this.applySeriesColors(), t ? (e = this._model._plotArea, i = e.findPane(t), e.redraw(i)) : this._redraw() }, getAxis: function (t) { var e, i = this._plotArea.axes; for (e = 0; e < i.length; e++)if (i[e].options.name === t) return new oe(i[e]) }, findAxisByName: function (t) { return this.getAxis(t) }, findPaneByName: function (t) { var e, i = this._plotArea.panes; for (e = 0; e < i.length; e++)if (i[e].options.name === t) return new re(i[e]) }, findPaneByIndex: function (t) { var e = this._plotArea.panes; if (e[t]) return new re(e[t]) }, plotArea: function () { return new ae(this._plotArea) }, toggleHighlight: function (t, e) { var i, n, s, o = this._plotArea, r = (o.srcSeries || o.series || [])[0]; At(e) ? i = o.filterPoints(e) : (Ct(e) ? (n = e.series, s = e.category) : n = s = e, i = r.type === qe ? F(o.pointsBySeriesName(n), s) : r.type === Ye || r.type === We ? F((o.charts[0] || {}).points, s) : o.pointsBySeriesName(n)), i && this.togglePointsHighlight(t, i) }, togglePointsHighlight: function (t, e) { var i, n = this._highlight; for (i = 0; i < e.length; i++)n.togglePointHighlight(e[i], t) }, showTooltip: function (t) { var e, i, n, s = this._sharedTooltip(), o = this, r = o._tooltip, a = o._plotArea; At(t) ? (e = a.findPoint(t), e && s && (i = e.categoryIx)) : s && gt(t) && (i = a.categoryAxis.categoryIndex(t)), s ? i >= 0 && (n = this._plotArea.pointsByCategoryIndex(i), r.showAt(n)) : e && r.show(e) }, hideTooltip: function () { this._tooltip.hide() }, _initSurface: function () { var t = this.surface, e = this._surfaceWrap(), i = this.options.chartArea; i.width && Y.elementSize(e, { width: i.width }), i.height && Y.elementSize(e, { height: i.height }), t && t.options.type === this.options.renderAs ? (this.surface.clear(), this.surface.resize()) : (t && t.destroy(), this.surface = Kt.Surface.create(e, { type: this.options.renderAs })) }, _surfaceWrap: function () { return this.element }, _redraw: function () { var t = this._getModel(); this._destroyView(), this._model = t, this._plotArea = t._plotArea, t.renderVisual(), this.options.transitions !== !1 && t.traverse(function (t) { t.animation && t.animation.setup() }), this._initSurface(), this.surface.draw(t.visual), this.options.transitions !== !1 && t.traverse(function (t) { t.animation && t.animation.play() }), this._tooltip = this._createTooltip(), this._highlight = new Jn, this._setupSelection(), this._createPannable(), this._createZoomSelection(), this._createMousewheelZoom(), this.trigger(Ti), this._navState || this._cancelDomEvents() }, exportVisual: function (t) { var e, i, n, s; return t && (t.width || t.height || t.options) ? (i = this.options, n = kt({}, t.options, { chartArea: { width: t.width, height: t.height } }), Z(this._originalOptions, n), this.options = kt({}, this._originalOptions, n), this._initTheme(this.options, this._theme), this.bindCategories(), s = this._getModel(), s.renderVisual(), e = s.visual, this.options = i) : e = this.surface.exportVisual(), e }, _sharedTooltip: function () { return this._plotArea instanceof $n && this.options.tooltip.shared }, _createPannable: function () { var t = this.options; t.pannable !== !1 && (this._pannable = new ts(this._plotArea, t.pannable)) }, _createZoomSelection: function () { var t = this.options.zoomable, e = (t || {}).selection; t !== !1 && e !== !1 && (this._zoomSelection = new es(this, e)) }, _toggleDomDrag: function () { var t, e, i; this.domEvents && this.domEvents.toggleDrag && (t = this.options.pannable, e = this.options.zoomable, i = (e || {}).selection, this.domEvents.toggleDrag(t || e !== !1 && i !== !1 || this.requiresHandlers([wi, yi, _i]) ? !0 : !1)) }, _createMousewheelZoom: function () { var t = this.options.zoomable, e = (t || {}).mousewheel; t !== !1 && e !== !1 && (this._mousewheelZoom = new is(this, e)) }, _toggleDomZoom: function () { var t, e; this.domEvents && this.domEvents.toggleZoom && (t = this.options.zoomable, e = (t || {}).mousewheel, this.domEvents.toggleZoom(t !== !1 && e !== !1 || this.requiresHandlers([bi, Ai, Si]) ? !0 : !1)) }, _createTooltip: function () { var t, e = this, i = e.options.tooltip; return t = this._sharedTooltip() ? this._createSharedTooltip(i) : new ds(this.chartService, i) }, _createSharedTooltip: function (t) { return new gs(this._plotArea, t) }, applyDefaults: function (t, e) { H(t, e), N(t, e) }, applySeriesColors: function () { var t, e, i, n, s = this.options, o = s.series, r = s.seriesColors || []; for (t = 0; t < o.length; t++)e = o[t], i = r[t % r.length], n = e._defaults, e.color = e.color || i, n && (n.color = n.color || i) }, _getModel: function () { var t = this.options, e = this._createPlotArea(), i = new Y.RootElement(this._modelOptions()); return i.chart = this, i._plotArea = e, Y.Title.buildTitle(t.title, i), t.legend.visible && i.append(new hs(e.options.legend, this.chartService)), i.append(e), i.reflow(), i }, _modelOptions: function () { var t = this, e = t.options, i = t.element, n = Y.elementSize(i); return this._size = null, kt({ width: Math.floor(n.width) || Q.DEFAULT_WIDTH, height: Math.floor(n.height) || Q.DEFAULT_HEIGHT, transitions: e.transitions }, e.chartArea) }, _createPlotArea: function (t) { var e = this.options, i = ls.current.create(t ? [] : e.series, e, this.chartService); return i }, _hasSelection: function () { return this._selections && this._selections.length }, _setupSelection: function () { var t, e, i, n, s, o, r = this, a = this, h = a._plotArea.axes, l = this._selections = []; for (t = 0; t < h.length; t++)e = h[t], i = e.options, e instanceof Dt && i.select && !i.vertical && (n = 0, s = i.categories.length - 1, e instanceof Gt && (n = i.categories[n], s = i.categories[s]), i.justified || (e instanceof Gt ? s = Y.addDuration(s, 1, i.baseUnit, i.weekStartDay) : s++), o = new ps(r, e, kt({ min: n, max: s }, i.select)), l.push(o)) }, _selectStart: function (t) { return this.trigger(Ci, t) }, _select: function (t) { return this.trigger(ki, t) }, _selectEnd: function (t) { return this.trigger(Pi, t) }, _initHandlers: function () { this._clickHandler = this._click.bind(this), this._mousewheelHandler = this._mousewheel.bind(this), this._surfaceMouseenterHandler = this._mouseover.bind(this), this._surfaceMouseleaveHandler = this._mouseout.bind(this), this._mousemove = kendo.throttle(this._mousemove.bind(this), lo) }, addObserver: function (t) { t && this.observers.push(t) }, removeObserver: function (t) { var e = this.observers.indexOf(t); e >= 0 && this.observers.splice(e, 1) }, requiresHandlers: function (t) { var e, i = this.observers; for (e = 0; e < i.length; e++)if (i[e].requiresHandlers(t)) return !0 }, trigger: function (t, e) { var i, n, s; for (void 0 === e && (e = {}), t === Ri && (e.anchor.point = this._toDocumentCoordinates(e.anchor.point)), e.sender = this, i = this.observers, n = !1, s = 0; s < i.length; s++)i[s].trigger(t, e) && (n = !0); return n }, _attachEvents: function () { var t, e, i = this, n = i.element, s = i.surface; s.bind("mouseenter", this._surfaceMouseenterHandler), s.bind("mouseleave", this._surfaceMouseleaveHandler), Xt(n, (t = {}, t[ho] = this._clickHandler, t[Bi] = this._mousewheelHandler, t)), this._shouldAttachMouseMove() && Xt(n, (e = {}, e[ao] = this._mousemove, e)), this.domEvents = Ut.DomEventsBuilder.create(this.element, { start: this._start.bind(this), move: this._move.bind(this), end: this._end.bind(this), tap: this._tap.bind(this), gesturestart: this._gesturestart.bind(this), gesturechange: this._gesturechange.bind(this), gestureend: this._gestureend.bind(this) }), this._toggleDomDrag(), this._toggleDomZoom() }, _cancelDomEvents: function () { this.domEvents && this.domEvents.cancel && this.domEvents.cancel() }, _gesturestart: function (t) { this._mousewheelZoom && !this._stopDragEvent(t) && (this._gestureDistance = t.distance, this._unsetActivePoint(), this.surface.suspendTracking()) }, _gestureend: function (t) { this._zooming && !this._stopDragEvent(t) && (this.surface && this.surface.resumeTracking(), this._zooming = !1, this.trigger(Si, {})) }, _gesturechange: function (t) { var e, i, n, s, o = this._mousewheelZoom; o && !this._stopDragEvent(t) && (t.preventDefault(), e = this._gestureDistance, i = -t.distance / e + 1, Math.abs(i) >= .1 && (i = Math.round(10 * i), this._gestureDistance = t.distance, n = { delta: i, axisRanges: q(this._plotArea.axes), originalEvent: t }, !this._zooming && this.trigger(bi, n) || (this._zooming || (this._zooming = !0), s = n.axisRanges = o.updateRanges(i), s && !this.trigger(Ai, n) && o.zoom()))) }, _mouseout: function (t) { if (t.element) { var e = this._drawingChartElement(t.element, t); e && e.leave && e.leave(this, t.originalEvent) } }, _start: function (t) { var e = this._eventCoordinates(t); !this._stopDragEvent(t) && this._plotArea.backgroundContainsPoint(e) && (this.requiresHandlers([wi, yi, _i]) && this._startNavigation(t, e, wi), this._pannable && this._pannable.start(t) && (this.surface.suspendTracking(), this._unsetActivePoint(), this._suppressHover = !0), this._zoomSelection && this._zoomSelection.start(t) && this.trigger(bi, { axisRanges: q(this._plotArea.axes), originalEvent: t })) }, _move: function (t) { var e, i, n, s, o, r, a, h, l = this, c = l._navState, u = l._pannable; if (!this._stopDragEvent(t)) { if (u) e = u.move(t), e && !this.trigger(yi, { axisRanges: e, originalEvent: t }) && u.pan(); else if (c) { for (i = {}, n = c.axes, s = 0; s < n.length; s++)o = n[s], r = o.options.name, r && (a = o.options.vertical ? t.y : t.x, h = a.startLocation - a.location, 0 !== h && (i[o.options.name] = o.translateRange(h))); c.axisRanges = i, this.trigger(yi, { axisRanges: i, originalEvent: t }) } this._zoomSelection && this._zoomSelection.move(t) } }, _end: function (t) { var e, i; this._stopDragEvent(t) || (e = this._pannable, e && e.end(t) ? (this.surface.resumeTracking(), this.trigger(_i, { axisRanges: q(this._plotArea.axes), originalEvent: t }), this._suppressHover = !1) : this._endNavigation(t, _i), this._zoomSelection && (i = this._zoomSelection.end(t), i && !this.trigger(Ai, { axisRanges: i, originalEvent: t }) && (this._zoomSelection.zoom(), this.trigger(Si, { axisRanges: i, originalEvent: t })))) }, _stopDragEvent: function () { return this._hasSelection() }, _mousewheel: function (t) { var e, i, n, s, o, r, a, h, l, c = this, u = Y.mousewheelDelta(t), p = this._mousewheelZoom, d = this._eventCoordinates(t); if (this._plotArea.backgroundContainsPoint(d)) if (p) e = { delta: u, axisRanges: q(this._plotArea.axes), originalEvent: t }, !this._zooming && this.trigger(bi, e) || (t.preventDefault(), this._zooming || (this._unsetActivePoint(), this.surface.suspendTracking(), this._zooming = !0), this._mwTimeout && clearTimeout(this._mwTimeout), e.axisRanges = p.updateRanges(u), e.axisRanges && !this.trigger(Ai, e) && p.zoom(), this._mwTimeout = setTimeout(function () { c.trigger(Si, e), c._zooming = !1, c.surface && c.surface.resumeTracking() }, zi)); else if (i = this._navState, i || (n = this._startNavigation(t, d, bi), n || (i = this._navState)), i) { for (s = i.totalDelta || u, i.totalDelta = s + u, o = this._navState.axes, r = {}, a = 0; a < o.length; a++)h = o[a], l = h.options.name, l && (r[l] = h.scaleRange(-s)); this.trigger(Ai, { delta: u, axisRanges: r, originalEvent: t }), this._mwTimeout && clearTimeout(this._mwTimeout), this._mwTimeout = setTimeout(function () { c._endNavigation(t, Si) }, zi) } }, _startNavigation: function (t, e, i) { var n, s, o = this._model._plotArea, r = o.findPointPane(e), a = o.axes.slice(0); r && (n = q(a), s = this.trigger(i, { axisRanges: n, originalEvent: t }), s ? this._cancelDomEvents() : (this._suppressHover = !0, this._unsetActivePoint(), this._navState = { axisRanges: n, pane: r, axes: a })) }, _endNavigation: function (t, e) { this._navState && (this.trigger(e, { axisRanges: this._navState.axisRanges, originalEvent: t }), this._suppressHover = !1, this._navState = null) }, _getChartElement: function (t, e) { var i = this.surface.eventTarget(t); if (i) return this._drawingChartElement(i, t, e) }, _drawingChartElement: function (t, e, i) { for (var n, s = t; s && !n;)n = s.chartElement, s = s.parent; if (n) return n.aliasFor && (n = n.aliasFor(e, this._eventCoordinates(e))), i && (n = n.closest(i), n && n.aliasFor && (n = n.aliasFor())), n }, _eventCoordinates: function (t) { var e = Y.eventCoordinates(t); return this._toModelCoordinates(e.x, e.y) }, _elementPadding: function () { var t, e, i; return this._padding || (t = qt(this.element, ["paddingLeft", "paddingTop"]), e = t.paddingLeft, i = t.paddingTop, this._padding = { top: i, left: e }), this._padding }, _toDocumentCoordinates: function (t) { var e = this._elementPadding(), i = Y.elementOffset(this.element); return { left: Ht(t.x + e.left + i.left), top: Ht(t.y + e.top + i.top) } }, _toModelCoordinates: function (t, e) { var i = this.element, n = Y.elementOffset(i), s = this._elementPadding(); return new mt(t - n.left - s.left, e - n.top - s.top) }, _tap: function (t) { var e = this, i = this.surface.eventTarget(t), n = this._drawingChartElement(i, t); this._activePoint === n ? this._propagateClick(n, t) : (this._startHover(i, t) || this._unsetActivePoint(), this._propagateClick(n, t)), this.handlingTap = !0, setTimeout(function () { e.handlingTap = !1 }, 0) }, _click: function (t) { var e = this._getChartElement(t); this._propagateClick(e, t) }, _propagateClick: function (t, e) { for (var i = this, n = t; n;)n.click && n.click(i, e), n = n.parent }, _startHover: function (t, e) {
                var i, n, s = this._drawingChartElement(t, e), o = this, r = o._tooltip, a = o._highlight; return !(this._suppressHover || !a || a.isHighlighted(s) || this._sharedTooltip()) && (i = this._drawingChartElement(t, e, function (t) {
                    return t.hover && !(t instanceof In)
                }), i && !i.hover(this, e) ? (this._activePoint = i, n = kt({}, n, i.options.tooltip), n.visible && r.show(i), a.show(i), i) : void 0)
            }, _mouseover: function (t) { var e, i = this._startHover(t.element, t.originalEvent); i && i.tooltipTracking && (this._mouseMoveTrackHandler = this._mouseMoveTrackHandler || this._mouseMoveTracking.bind(this), Xt(document, (e = {}, e[ao] = this._mouseMoveTrackHandler, e))) }, _mouseMoveTracking: function (t) { var e, i, n, s = this, o = s.options, r = s._tooltip, a = s._highlight, h = s._activePoint, l = this._eventCoordinates(t); this._plotArea.box.containsPoint(l) ? h && h.tooltipTracking && h.series && h.parent.getNearestPoint && (e = h.parent.getNearestPoint(l.x, l.y, h.seriesIx), e && e !== h && (e.hover(this, t), this._activePoint = e, i = kt({}, o.tooltip, h.options.tooltip), i.visible && r.show(e), a.show(e))) : (Zt(document, (n = {}, n[ao] = this._mouseMoveTrackHandler, n)), this._unsetActivePoint()) }, _mousemove: function (t) { var e = this._eventCoordinates(t); this._trackCrosshairs(e), this._plotArea.hover && this._plotArea.hover(this, t), this._sharedTooltip() && this._trackSharedTooltip(e, t) }, _trackCrosshairs: function (t) { var e, i, n = this._plotArea.crosshairs; for (e = 0; e < n.length; e++)i = n[e], i.box.containsPoint(t) ? i.showAt(t) : i.hide() }, _trackSharedTooltip: function (t, e) { var i, n, s, o, r = this, a = r.options.tooltip, h = r._plotArea, l = r._plotArea.categoryAxis, c = r._tooltip, u = r._highlight; h.box.containsPoint(t) && (i = l.pointCategoryIndex(t), i !== this._tooltipCategoryIx && (n = h.pointsByCategoryIndex(i), s = n.map(function (t) { return t.eventArgs(e) }), o = s[0] || {}, o.categoryPoints = s, n.length > 0 && !this.trigger(vi, o) ? (a.visible && c.showAt(n, t), u.show(n)) : c.hide(), this._tooltipCategoryIx = i)) }, hideElements: function () { var t = this, e = t._plotArea, i = t._tooltip, n = t._highlight; this._mousemove.cancel(), e.hideCrosshairs(), n.hide(), i.hide(), delete this._tooltipCategoryIx }, _unsetActivePoint: function () { var t = this, e = t._tooltip, i = t._highlight; this._activePoint = null, e && e.hide(), i && i.hide() }, _deferRedraw: function () { this._redraw() }, _clearRedrawTimeout: function () { this._redrawTimeout && (clearInterval(this._redrawTimeout), this._redrawTimeout = null) }, bindCategories: function () { var t, e, i = this, n = this.options, s = [].concat(n.categoryAxis); for (t = 0; t < s.length; t++)e = s[t], e.autoBind !== !1 && i.bindCategoryAxisFromSeries(e, t) }, bindCategoryAxisFromSeries: function (t, e) { var n, s, o, r, a, h, l, c, u, p, d, g = this, f = this.options.series, v = f.length, x = {}, _ = []; for (s = 0; s < v; s++)if (o = f[s], r = o.categoryAxis === t.name || !o.categoryAxis && 0 === e, a = o.data, h = a.length, o.categoryField && r && h > 0) for (n = y(t, i(o.categoryField, a[0])), l = n ? m : i, c = 0; c < h; c++)u = a[c], p = l(o.categoryField, u, g.chartService.intl), !n && x[p] || (_.push([p, u]), n || (x[p] = !0)); _.length > 0 && (n && (_ = X(_, function (t, e) { return Y.dateComparer(t[0], e[0]) })), d = U(_), t.categories = d[0]) }, _isBindable: function (t) { var e, i, n = le.current.valueFields(t), s = !0; for (e = 0; e < n.length; e++)if (i = n[e], i === tt ? i = "field" : i += "Field", !gt(t[i])) { s = !1; break } return s }, _noTransitionsRedraw: function () { var t, e = this.options; e.transitions && (e.transitions = !1, t = !0), this._redraw(), t && (e.transitions = !0) }, _legendItemHover: function (t, e) { var i, n = this, s = n._plotArea, o = n._highlight, r = (s.srcSeries || s.series)[t]; i = bt(r.type, [Ye, qe, We]) ? s.findPoint(function (i) { return i.series.index === t && i.index === e }) : s.pointsBySeriesIndex(t), o.show(i) }, _shouldAttachMouseMove: function () { return this._plotArea.crosshairs.length || this._tooltip && this._sharedTooltip() || this.requiresHandlers([mi]) }, updateMouseMoveHandler: function () { var t, e; Zt(this.element, (t = {}, t[ao] = this._mousemove, t)), this._shouldAttachMouseMove() && Xt(this.element, (e = {}, e[ao] = this._mousemove, e)) }, applyOptions: function (t, e) { Z(this._originalOptions, t), this._originalOptions = kt(this._originalOptions, t), this.options = kt({}, this._originalOptions), e && (this._theme = e, this.chartService.theme = e), this._initTheme(this.options, this._theme) }, setOptions: function (t, e) { this.applyOptions(t, e), this.bindCategories(), this.redraw(), this.updateMouseMoveHandler(), this._toggleDomDrag(), this._toggleDomZoom() }, destroy: function () { var t, e; this._destroyed = !0, Zt(this.element, (t = {}, t[ho] = this._clickHandler, t[Bi] = this._mousewheelHandler, t[ao] = this._mousemove, t)), this.domEvents && (this.domEvents.destroy(), delete this.domEvents), Zt(document, (e = {}, e[ao] = this._mouseMoveTrackHandler, e)), this._destroyView(), this.surface && (this.surface.destroy(), this.surface = null), this._clearRedrawTimeout() }, _destroyView: function () { var t = this, e = t._model, i = t._selections; if (e && (e.destroy(), this._model = null), i) for (; i.length > 0;)i.shift().destroy(); this._unsetActivePoint(), this._tooltip && this._tooltip.destroy(), this._highlight && this._highlight.destroy(), this._zoomSelection && (this._zoomSelection.destroy(), delete this._zoomSelection), this._pannable && (this._pannable.destroy(), delete this._pannable), this._mousewheelZoom && (this._mousewheelZoom.destroy(), delete this._mousewheelZoom) }
        }), wt(co, { renderAs: "", chartArea: {}, legend: { visible: !0, labels: {} }, categoryAxis: {}, seriesDefaults: { type: Ge, data: [], highlight: { visible: !0 }, labels: {}, negativeValues: { visible: !1 } }, series: [], seriesColors: null, tooltip: { visible: !1 }, transitions: !0, valueAxis: {}, plotArea: {}, title: {}, xAxis: {}, yAxis: {}, panes: [{}], pannable: !1, zoomable: !1 }), kendo.deepExtend(kendo.dataviz, { constants: Di, Aggregates: he, AreaChart: on, AreaSegment: en, AxisGroupRangeTracker: rn, Bar: ln, BarChart: pn, BarLabel: an, BoxPlotChart: xn, BoxPlot: fn, BubbleChart: wn, Bullet: An, BulletChart: Sn, CandlestickChart: gn, Candlestick: dn, CategoricalChart: qi, CategoricalErrorBar: Ni, CategoricalPlotArea: $n, Chart: co, ChartContainer: Tn, ClipAnimation: $i, ClusterLayout: cn, Crosshair: Pn, CrosshairTooltip: kn, DefaultAggregates: Ln, DonutChart: Es, DonutPlotArea: Is, DonutSegment: Ts, ErrorBarBase: Hi, ErrorRangeCalculator: ge, Highlight: Jn, SharedTooltip: gs, Legend: hs, LegendItem: ss, LegendLayout: ns, LineChart: tn, LinePoint: Ui, LineSegment: Zi, Pane: Rn, PieAnimation: ms, PieChart: ks, PieChartMixin: Ss, PiePlotArea: Ps, PieSegment: ws, PlotAreaBase: In, PlotAreaEventsMixin: Vn, PlotAreaFactory: ls, PointEventsMixin: Wi, RangeBar: On, RangeBarChart: Bn, RangeAreaPoint: Nn, RangeAreaChart: Xn, ScatterChart: yn, ScatterErrorBar: mn, ScatterLineChart: ys, Selection: ps, SeriesAggregator: Mn, SeriesBinder: le, SplineSegment: Ki, SplineAreaSegment: sn, StackWrap: un, Tooltip: ds, OHLCChart: Zn, OHLCPoint: Un, WaterfallChart: jn, WaterfallSegment: Yn, XYPlotArea: _s, MousewheelZoom: is, ZoomSelection: es, Pannable: ts, ChartAxis: oe, ChartPane: re, ChartPlotArea: ae, anyHasZIndex: r, appendIfNotNull: c, areNumbers: c, bindSegments: f, categoriesCount: s, countNumbers: e, equalsIgnoreCase: v, evalOptions: n, filterSeriesByType: x, getDateField: m, getField: i, hasGradientOverlay: a, hasValue: u, isDateAxis: y, segmentVisible: g, singleItemOrArray: _ })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/chart/chart.min", ["dataviz/chart/kendo-chart.min", "kendo.data.min", "kendo.dataviz.core.min", "kendo.dataviz.themes.min", "kendo.drawing.min", "kendo.userevents.min"], t) }(function () { return function (t, e) { function i(t) { r.fn[t] = function () { var e = this._instance; if (e) return e[t].apply(e, arguments) } } function n(t, i) { var n, s, o, r = [], a = t.groupNameTemplate, h = i.length; if (0 === h) return o = k({}, t), o.visibleInLegend = !1, [o]; for (P(a) ? (v.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"), a && (n = O(a))) : (n = O(t.name || ""), 0 === n._slotCount && (n = O(P(t.name) ? "#= group.value #: #= series.name #" : "#= group.value #"))), s = 0; s < h; s++)o = k({}, t), v.isFunction(o.color) || (o.color = e), o._groupIx = s, o._groupValue = i[s].value, r.push(o), n && (o.name = n({ series: o, group: i[s] })); return r } function s(t) { for (var i in t) t[i] === e && (t[i] = ""); return t } var o, r, a, h, l, c, u, p, d, g, f = ".kendoChart", v = window.kendo, x = v.Class, m = v._outerWidth, y = v._outerHeight, _ = v.dataviz, w = _.constants, b = _.Chart, A = _.SeriesBinder, S = v.ui.Widget, C = v.data.DataSource, k = v.deepExtend, P = _.defined, T = _.getField, R = _.InstanceObserver, E = _.inArray, I = _.services, V = t.proxy, M = t.isArray, L = t.extend, O = v.template, B = "mouseleave" + f, z = w.AXIS_LABEL_CLICK, D = w.LEGEND_ITEM_CLICK, F = w.LEGEND_ITEM_HOVER, H = w.SERIES_CLICK, N = w.SERIES_HOVER, G = w.PLOT_AREA_CLICK, q = w.PLOT_AREA_HOVER, W = w.DRAG, X = w.DRAG_END, U = w.DRAG_START, Z = w.ZOOM_START, Y = w.ZOOM, j = w.ZOOM_END, K = w.SELECT_START, Q = w.SELECT, $ = w.SELECT_END, J = w.RENDER, tt = w.NOTE_CLICK, et = w.NOTE_HOVER, it = "change", nt = "dataBound", st = "leave", ot = w.VALUE, rt = w.PIE, at = w.DONUT, ht = w.FUNNEL, lt = v.Observable, ct = 150, ut = 100, pt = "k-chart-tooltip-inverse", dt = "k-chart-shared-tooltip", gt = "rtl"; for (I.DomEventsBuilder.register({ create: function (t, e) { return new v.UserEvents(t, k({ global: !0, multiTouch: !0, fastTap: !0 }, e)) } }), o = R.extend({ handlerMap: { showTooltip: "_showTooltip", hideTooltip: "_hideTooltip", legendItemClick: "_onLegendItemClick", render: "_onRender", init: "_onInit" } }), r = S.extend({ init: function (t, e) { var i; v.destroy(t), S.fn.init.call(this, t), e && (i = e.dataSource, delete e.dataSource), this.options = k({}, this.options, e), this.wrapper = this.element, this._attachEvents(), e && (e.dataSource = i), this._seriesVisibility = new l, this.bind(this.events, this.options), this._initDataSource(e), v.notify(this, _.ui) }, events: [nt, H, N, z, D, F, G, q, U, W, X, Z, Y, j, K, Q, $, tt, et, J], options: { name: "Chart", renderAs: "", theme: "default", axisDefaults: {}, chartArea: {}, legend: {}, categoryAxis: {}, autoBind: !0, seriesDefaults: {}, series: [], seriesColors: null, tooltip: {}, transitions: !0, valueAxis: {}, plotArea: {}, title: {}, xAxis: {}, yAxis: {}, panes: [{}], pannable: !1, zoomable: !1 }, items: function () { return t() }, refresh: function () { var t = this, e = t._instance; e.applyDefaults(t.options), e.applySeriesColors(), t._bindSeries(), t._bindCategories(), t.trigger(nt), t._redraw() }, getSize: function () { return v.dimensions(this.element) }, redraw: function (t) { this._size = null, this._instance.redraw(t) }, setOptions: function (t) { var e = this, i = t.dataSource; delete t.dataSource, S.fn._setEvents.call(e, t), this._instance.applyOptions(t, this._getThemeOptions(t)), this.options = this._instance.options, this._tooltip.setOptions(this.options.tooltip), this._seriesVisibility.setOptions(this.options), this._sourceSeries = null, i && e.setDataSource(i), e._hasDataSource ? e._onDataChanged() : (e._bindCategories(), e.redraw()), e._instance.updateMouseMoveHandler() }, setDataSource: function (t) { var e = this; e.dataSource.unbind(it, e._dataChangeHandler), e.dataSource = t = C.create(t), e._hasDataSource = !0, e._hasData = !1, t.bind(it, e._dataChangeHandler), e.options.autoBind && t.fetch() }, destroy: function () { var t = this, e = t.dataSource; t.element.off(f), e && e.unbind(it, t._dataChangeHandler), t._instance && (t._instance.destroy(), delete this._instance), this._tooltip && (this._tooltip.destroy(), delete this._tooltip), this._destroyCrosshairTooltips(), S.fn.destroy.call(t) }, findPaneByName: function (t) { var e, i = this._plotArea.panes; for (e = 0; e < i.length; e++)if (i[e].options.name === t) return new d(this, i[e]) }, findPaneByIndex: function (t) { var e = this._plotArea.panes; if (e[t]) return new d(this, e[t]) }, findSeries: function (t) { var e, i = this._plotArea, n = i.srcSeries || i.series; for (e = 0; e < n.length; e++)if (t(n[e])) return new g(this, n[e]) }, findSeriesByName: function (t) { return this._createSeries({ name: t }) }, findSeriesByIndex: function (t) { return this._createSeries({ index: t }) }, _createSeries: function (t) { var e = this._seriesOptions(t); if (e) return new g(this, e) }, _seriesOptions: function (t) { var e, i, n = this._plotArea, s = n.srcSeries || n.series; if (P(t.index)) e = s[t.index]; else if (P(t.name)) for (i = 0; i < s.length; i++)if (s[i].name === t.name) { e = s[i]; break } return e }, _attachEvents: function () { this.element.on(B, V(this._mouseleave, this)) }, _mouseleave: function (e) { var i = this._instance, n = this._tooltip, s = e.relatedTarget; s && t(s).closest(n.element).length || !i || i.handlingTap || i.hideElements() }, _getThemeOptions: function (t) { var i, n, s = (t || {}).theme; return "sass" === s || "default-v2" === s || "bootstrap-v4" === s ? _.autoTheme().chart : P(s) ? (i = _.ui.themes || {}, n = i[s] || i[s.toLowerCase()] || {}, n.chart || {}) : e }, _initChart: function () { this._createChart(this.options, this._getThemeOptions(this.options)), this.options = this._instance.options, this._seriesVisibility.setOptions(this.options) }, _createChart: function (t, e) { this._instance = new b(this.element[0], t, e, { observer: new o(this), sender: this, rtl: this._isRtl() }) }, _onInit: function (t) { this._instance = t.sender }, _initDataSource: function (t) { var e = this, i = (t || {}).dataSource; e._dataChangeHandler = V(e._onDataChanged, e), e.dataSource = C.create(i).bind("change", e._dataChangeHandler), e._bindCategories(), i && (e._hasDataSource = !0), this._initChart(), this._initTooltip(), i && e.options.autoBind && e.dataSource.fetch() }, _destroyCrosshairTooltips: function () { var t, e = this._crosshairTooltips; if (e) for (t in e) e[t].destroy(); this._crosshairTooltips = {} }, _getCrosshairTooltip: function (t, e) { var i = this._crosshairTooltips = this._crosshairTooltips || {}, n = t + e, s = i[n]; return s || (s = i[n] = new p(this.element)), s }, _showTooltip: function (t) { if (t.crosshair) { var e = this._getCrosshairTooltip(t.axisName, t.axisIndex); e.show(t) } else this._tooltip && this._tooltip.show(t) }, _hideTooltip: function (t) { if (t.crosshair) { var e = this._getCrosshairTooltip(t.axisName, t.axisIndex); e.hide() } else this._tooltip && this._tooltip.hide(t) }, _onRender: function (t) { this._destroyCrosshairTooltips(), this._copyMembers(t.sender), this._hasDataSource && !this._hasData && this.options.autoBind || this.trigger(J) }, _copyMembers: function (t) { this.options = t.options, this._originalOptions = t._originalOptions, this.surface = t.surface, this._plotArea = t._plotArea, this._model = t._model, this._highlight = t._highlight, this._selections = t._selections, this._pannable = t._pannable, this._zoomSelection = t._zoomSelection, this._mousewheelZoom = t._mousewheelZoom }, requiresHandlers: function (t) { var e, i = this._events; for (e = 0; e < t.length; e++)if (P(i[t[e]])) return !0 }, _initTooltip: function () { this._tooltip = this._createTooltip(), this._tooltip.bind(st, V(this._tooltipleave, this)) }, _onLegendItemClick: function (t) { this.trigger(D, t) || this._legendItemClick(t.seriesIndex, t.pointIndex) }, _legendItemClick: function (e, i) { var n, s, o, r = this._instance, a = r._plotArea, h = (a.srcSeries || a.series)[e]; t.inArray(h.type, [rt, at, ht]) >= 0 ? (n = h.data[i], n && P(n.visible) ? n.visible = !n.visible : (s = h.pointVisibility = h.pointVisibility || {}, o = s[i], s[i] = !!P(o) && !o)) : (h.visible = !h.visible, this._seriesVisibility.save(h)), r._noTransitionsRedraw() }, _createTooltip: function () { return new u(this.element, L({}, this.options.tooltip, { rtl: this._isRtl() })) }, _tooltipleave: function () { this._instance && this._instance.hideElements() }, _bindData: function (t) { var e, i, s, o = this, r = o.options, a = o._sourceSeries || r.series, h = a.length, l = o.dataSource.view(), c = (o.dataSource.group() || []).length > 0, u = [], p = this._seriesVisibility; for (p.read(), e = 0; e < h; e++)i = a[e], o._isBindable(i) && c ? (s = n(i, l), u = u.concat(s), p.applyByGroup(s, t)) : (i = L({}, i), u.push(i), p.applyByIndex(i, t)); o._sourceSeries = a, r.series = u, this._instance.applySeriesColors(), o._bindSeries(), o._bindCategories(), this._hasData = !0 }, _onDataChanged: function (t) { this._bindData(t), this.trigger(nt), this._redraw() }, _bindSeries: function () { var t, e, i, n, s = this, o = s.dataSource.view(), r = s.options.series, a = r.length; for (t = 0; t < a; t++)e = r[t], s._isBindable(e) && (i = e._groupIx, n = P(i) ? (o[i] || {}).items : o, e.autoBind !== !1 && (e.data = n)) }, _bindCategories: function () { var t, e, i = this, n = i.dataSource.view() || [], s = (i.dataSource.group() || []).length > 0, o = n, r = i.options, a = [].concat(r.categoryAxis); for (s && n.length && (o = n[0].items), t = 0; t < a.length; t++)e = a[t], e.autoBind !== !1 && i._bindCategoryAxis(e, o, t) }, _bindCategoryAxis: function (t, e, i) { var n, s, o, r = (e || []).length; if (t.field) for (t.categories = [], n = 0; n < r; n++)o = e[n], s = T(t.field, o), 0 === n ? (t.categories = [s], t.dataItems = [o]) : (t.categories.push(s), t.dataItems.push(o)); else this._instance && this._instance.bindCategoryAxisFromSeries(t, i) }, _isBindable: function (t) { var e, i, n = A.current.valueFields(t), s = !0; for (i = 0; i < n.length; i++)if (e = n[i], e === ot ? e = "field" : e += "Field", !P(t[e])) { s = !1; break } return s }, _isRtl: function () { return v.support.isRtl(this.element) && this.element.css("direction") === gt } }), a = ["getAxis", "findAxisByName", "plotArea", "toggleHighlight", "showTooltip", "hideTooltip", "exportVisual", "_resize", "_redraw", "_noTransitionsRedraw", "_legendItemHover", "_eventCoordinates"], h = 0; h < a.length; h++)i(a[h]); _.ExportMixin.extend(r.fn), v.PDFMixin && v.PDFMixin.extend(r.fn), _.ui.plugin(r), l = x.extend({ init: function () { this.groups = {}, this.index = {}, this.options = {} }, applyByGroup: function (t, e) { if (e && e.action || this.options.persistSeriesVisibility) for (var i = 0; i < t.length; i++)this.groups[t[i]._groupValue] === !1 && (t[i].visible = !1); else this.groups = {} }, applyByIndex: function (t, e) { e && e.action || this.options.persistSeriesVisibility ? this.index[t.index] === !1 && (t.visible = !1) : this.index = {} }, save: function (t) { t && (this.options.persistSeriesVisibility ? this.options.series[t.index].visible = t.visible : this.saveState(t)) }, setOptions: function (t) { this.options = t, this.groups = {}, this.index = {} }, read: function () { var t, e, i = this.options; if (i.persistSeriesVisibility) for (t = i.series, e = 0; e < t.length; e++)this.saveState(t[e]) }, saveState: function (t) { P(t._groupValue) ? this.groups[t._groupValue] = t.visible : this.index[t.index] = t.visible } }), c = v.geometry, u = lt.extend({ init: function (e, i) { var n, s = this; lt.fn.init.call(s), this.setOptions(i), s.chartElement = e, s.template = u.template, s.template || (s.template = u.template = v.template("<div class='k-tooltip k-chart-tooltip#= d.rtl ? \" k-rtl\" : \"\"#' style='display:none; position: absolute; font: #= d.font #;#if (d.border) {# border: #= d.border.width #px solid; #}#opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>", { useWithBlock: !1, paramName: "d" })), s.element = t(s.template(s.options)), s.move = V(s.move, s), s._mouseleave = V(s._mouseleave, s), n = v.format("[{0}='content'],[{0}='scroller']", v.attr("role")), s._mobileScroller = e.closest(n).data("kendoMobileScroller") }, destroy: function () { this._clearShowTimeout(), this.element && (this.element.off(B).remove(), this.element = null) }, setOptions: function (t) { this.options = k({}, this.options, t) }, options: { opacity: 1, animation: { duration: ct }, sharedTemplate: "<table><th colspan='#= colspan #'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(colorMarker) { # <td><span class='k-chart-shared-tooltip-marker' style='background-color:#:point.series.color#'></span></td># } ## if(nameColumn) { # <td> #if (point.series.name) {# #: point.series.name #: #} else {# &nbsp; #}#</td># } #<td>#= content(point) #</td></tr># } #</table>", categoryFormat: "{0:d}" }, move: function () { var t, e = this, i = e.options, n = e.element; e.anchor && e.element && (t = e._offset(), e.visible || n.css({ top: t.top, left: t.left }), e.visible = !0, e._ensureElement(document.body), n.stop(!0, !0).show().animate({ left: t.left, top: t.top }, i.animation.duration)) }, _clearShowTimeout: function () { this.showTimeout && (clearTimeout(this.showTimeout), this.showTimeout = null) }, getAnchor: function (t) { var e = this.anchor, i = e.point, n = e.align, s = i.left, o = i.top; return "center" === n.horizontal ? s -= t.width / 2 : "right" === n.horizontal && (s -= t.width), "center" === n.vertical ? o -= t.height / 2 : "bottom" === n.vertical && (o -= t.height), { x: s, y: o } }, _offset: function () { var e, i, n = this, s = n._measure(), o = n.getAnchor(s), r = o.y, a = o.x, h = v.support.zoomLevel(), l = t(window), u = window.pageYOffset || document.documentElement.scrollTop || 0, p = window.pageXOffset || document.documentElement.scrollLeft || 0, d = (this._mobileScroller || {}).movable; return d && 1 !== d.scale ? (e = c.transform().scale(d.scale, d.scale, [d.x, d.y]), i = new c.Point(a, r).transform(e), a = i.x, r = i.y) : (r += n._fit(r - u, s.height, y(l) / h), a += n._fit(a - p, s.width, m(l) / h)), { top: r, left: a } }, show: function (t) { this.anchor = t.anchor, this.element.css(s(t.style)), this.element.toggleClass(pt, !!t.className), this.element.toggleClass(dt, !!t.shared); var e = t.shared ? this._sharedContent(t) : this._pointContent(t.point); this.element.html(e), this._clearShowTimeout(), this.showTimeout = setTimeout(this.move, ut) }, hide: function () { var t = this; clearTimeout(t.showTimeout), t._hideElement(), t.visible && (t.point = null, t.visible = !1, t.index = null) }, _sharedContent: function (t) { var e, i, n = t.points, s = _.grep(n, function (t) { return P(t.series.name) }).length, o = t.series.length > 1, r = 1; return s && r++ , o && r++ , e = v.template(this.options.sharedTemplate), i = e({ points: n, category: t.category, categoryText: t.categoryText, content: this._pointContent, colorMarker: o, nameColumn: s, colspan: r }) }, _measure: function () { this._ensureElement(); var t = { width: m(this.element), height: y(this.element) }; return t }, _ensureElement: function () { this.element && this.element.appendTo(document.body).on(B, this._mouseleave) }, _mouseleave: function (e) { var i = e.relatedTarget, n = this.chartElement[0]; i && i !== n && !t.contains(n, i) && this.trigger(st) }, _hideElement: function () { var t = this, e = this.element; e && e.fadeOut({ always: function () { t.visible || e.off(B).remove() } }) }, _pointContent: function (t) { var e, i, n = this, s = k({}, n.options, t.options.tooltip); return P(t.value) && (e = "" + t.value), s.template ? (i = O(s.template), e = i({ value: t.value, category: t.category, series: t.series, dataItem: t.dataItem, percentage: t.percentage, runningTotal: t.runningTotal, total: t.total, low: t.low, high: t.high, xLow: t.xLow, xHigh: t.xHigh, yLow: t.yLow, yHigh: t.yHigh })) : s.format && (e = t.formatValue(s.format)), e }, _fit: function (t, e, i) { var n = 0; return t + e > i && (n = i - (t + e)), t < 0 && (n = -t), n } }), p = u.extend({ init: function (t, e) { u.fn.init.call(this, t, e), this.element.addClass("k-chart-crosshair-tooltip") }, show: function (t) { var e = this.element; e && (this.anchor = t.anchor, this.element.css(t.style), this.element.html(this.content(t)), this.move()) }, move: function () { var t = this, e = t.element, i = t._offset(); t._ensureElement(), e.css({ top: i.top, left: i.left }).show() }, content: function (t) { var e = t.value, i = t.crosshair.options.tooltip; return i.template && (e = O(i.template)({ value: e })), e }, hide: function () { this.element.hide() } }), d = x.extend({ init: function (t, e) { this._chart = t, this._pane = e, this.visual = e.visual, this.chartsVisual = e.chartContainer.visual, this.name = e.options.name }, series: function () { var t, e = this._chart, i = e._plotArea.groupSeriesByPane(), n = i[this.name || "default"], s = []; if (n) for (t = 0; t < n.length; t++)s.push(new g(e, n[t])); return s } }), g = x.extend({ init: function (t, e) { this._chart = t, this._options = e }, points: function (t) { var e, i, n = this._points; return n || (e = this._seriesOptions(), i = this._chart._plotArea, this._points = n = i.pointsBySeriesIndex(e.index)), v.isFunction(t) && (n = this._filterPoints(n, t)), n }, data: function (t) { var e, i, n, s, o = this._seriesOptions(); return t && (e = this._chart, i = e._plotArea, o.data = t, o.categoryField && (n = i.seriesCategoryAxis(o), s = [].concat(e.options.categoryAxis), e._instance.bindCategoryAxisFromSeries(s[n.axisIndex], n.axisIndex)), e._noTransitionsRedraw(), this._clearFields()), o.data }, findPoint: function (t) { var e, i = this.points(); for (e = 0; e < i.length; e++)if (t(i[e])) return i[e] }, toggleHighlight: function (t, e) { e = e ? v.isFunction(e) ? this.points(e) : M(e) ? e : [e] : this.points(), this._chart._instance.togglePointsHighlight(t, e) }, toggleVisibility: function (t, e) { var i, n, s = this._chart, o = this._seriesOptions(), r = v.isFunction(e); if (r) if (E(o.type, [rt, at, ht])) for (i = this._filterData(e), n = 0; n < i.length; n++)i[n].visible = t; else o.visible = function (i) { return !e(i.dataItem) || t }; else o.visible = t, s._seriesVisibility.save(o); s._noTransitionsRedraw(), this._clearFields() }, _filterData: function (t) { var e, i = this._seriesOptions().data, n = i.length, s = []; for (e = 0; e < n; e++)t(i[e]) && s.push(i[e]); return s }, _filterPoints: function (t, e) { var i, n = [], s = t.length; for (i = 0; i < s; i++)e(t[i]) && n.push(t[i]); return n }, _seriesOptions: function () { var t = this._series; return t || (t = this._series = this._chart._seriesOptions(this._options)), t }, _clearFields: function () { delete this._points, delete this._series } }), _.Tooltip = u, _.CrosshairTooltip = p, _.ChartInstanceObserver = o, _.ChartPane = d, _.ChartSeries = g }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("kendo.dataviz.chart.min", ["dataviz/chart/kendo-chart.min", "dataviz/chart/chart.min"], t) }(function () { }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(a, h) } function i(t) { var e, i = []; for (e in t) i.push(e + t[e]); return i.sort().join("") } function n(t) { var e, i = 2166136261; for (e = 0; e < t.length; ++e)i += (i << 1) + (i << 4) + (i << 7) + (i << 8) + (i << 24), i ^= t.charCodeAt(e); return i >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function s(t, e, i) { return l.current.measure(t, e, i) } var r, a, h, c, d, l; window.kendo.util = window.kendo.util || {}, r = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var i = this._map, n = { key: t, value: e }; i[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (i[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), a = /\r?\n|\r|\t/g, h = " ", c = { baselineMarkerSize: 1 }, "undefined" != typeof document && (d = document.createElement("div"), d.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), l = kendo.Class.extend({ init: function (e) { this._cache = new r(1e3), this.options = t.extend({}, c, e) }, measure: function (t, s, r) { var a, h, c, l, u, f, p, g, m; if (void 0 === r && (r = {}), !t) return o(); if (a = i(s), h = n(t + a), c = this._cache.get(h)) return c; l = o(), u = r.box || d, f = this._baselineMarker().cloneNode(!1); for (p in s) g = s[p], void 0 !== g && (u.style[p] = g); return m = r.normalizeText !== !1 ? e(t) : t + "", u.textContent = m, u.appendChild(f), document.body.appendChild(u), m.length && (l.width = u.offsetWidth - this.options.baselineMarkerSize, l.height = u.offsetHeight, l.baseline = f.offsetTop + this.options.baselineMarkerSize), l.width > 0 && l.height > 0 && this._cache.put(h, l), u.parentNode.removeChild(u), l }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), l.current = new l, kendo.deepExtend(kendo.util, { LRUCache: r, TextMetrics: l, measureText: s, objectKey: i, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/utils.min", ["kendo.core.min"], t) }(function () { !function (t, e) { function i(t, i, n) { function o(t) { for (var e = 1; t * e % 1;)e *= 10; return e } var s, r, a, h; if (e === t || e === i) return []; if (n && l.sign(i - t) != l.sign(n)) throw "The sign of the increment should allow to reach the stop-value."; if (n = n || 1, t = t || 0, i = i || t, (i - t) / n === 1 / 0) throw "Infinite range defined."; if (s = [], r = -1, h = o(Math.abs(n)), t *= h, i *= h, n *= h, t > i && n > 0 && (n = -n), n < 0) for (; (a = t + n * ++r) >= i;)s.push(a / h); else for (; (a = t + n * ++r) <= i;)s.push(a / h); return s } function n(t, e) { if (t == e) return 0; var i = e.x - t.x, n = t.y - e.y, o = Math.atan(i / n); return n >= 0 ? i < 0 ? o + 2 * Math.PI : o : o + Math.PI } var o, s, r = window.kendo, a = r.dataviz.diagram = {}, h = r.deepExtend, c = t.isArray, d = 1e-6, l = {}; h(l, { isNearZero: function (t) { return Math.abs(t) < d }, isDefined: function (t) { return e !== t }, isUndefined: function (t) { return e === t || null === t }, isObject: function (t) { return t === Object(t) }, has: function (t, e) { return Object.hasOwnProperty.call(t, e) }, isString: function (t) { return "[object String]" == Object.prototype.toString.call(t) }, isBoolean: function (t) { return "[object Boolean]" == Object.prototype.toString.call(t) }, isType: function (t, e) { return Object.prototype.toString.call(t) == "[object " + e + "]" }, isNumber: function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, isEmpty: function (t) { if (null === t) return !0; if (c(t) || l.isString(t)) return 0 === t.length; for (var e in t) if (l.has(t, e)) return !1; return !0 }, simpleExtend: function (t, e) { if (l.isObject(e)) for (var i in e) t[i] = e[i] }, initArray: function (t, e) { var i, n = []; for (i = 0; i < t; ++i)n[i] = e; return n }, serializePoints: function (t) { var e, i, n = []; for (e = 0; e < t.length; e++)i = t[e], n.push(i.x + ";" + i.y); return n.join(";") }, deserializePoints: function (t) { var e, i = t.split(";"), n = []; if (i.length % 2 !== 0) throw "Not an array of points."; for (e = 0; e < i.length; e += 2)n.push(new a.Point(parseInt(i[e], 10), parseInt(i[e + 1], 10))); return n }, randomInteger: function (t, e) { return parseInt(Math.floor(Math.random() * e) + t, 10) }, DFT: function (t, e) { var i, n; if (e(t), t.childNodes) for (i = 0; i < t.childNodes.length; i++)n = t.childNodes[i], this.DFT(n, e) }, getMatrixAngle: function (t) { return null === t || 0 === t.d ? 0 : 180 * Math.atan2(t.b, t.d) / Math.PI }, getMatrixScaling: function (t) { var e = Math.sqrt(t.a * t.a + t.c * t.c), i = Math.sqrt(t.b * t.b + t.d * t.d); return [e, i] } }), l.sign = function (t) { return t ? t < 0 ? -1 : 1 : 0 }, l.findAngle = function (t, e) { return 180 * n(t, e) / Math.PI }, l.forEach = function (t, e, i) { for (var n = 0; n < t.length; n++)e.call(i, t[n], n, t) }, l.any = function (t, e) { for (var i = 0; i < t.length; ++i)if (e(t[i])) return t[i]; return null }, l.remove = function (t, e) { for (var i; (i = l.indexOf(t, e)) !== -1;)t.splice(i, 1); return t }, l.contains = function (t, e) { return l.indexOf(t, e) !== -1 }, l.indexOf = function (e, i) { return t.inArray(i, e) }, l.fold = function (t, e, i, n) { var o, s, r = arguments.length > 2; for (o = 0; o < t.length; o++)s = t[o], r ? i = e.call(n, i, s, o, t) : (i = s, r = !0); if (!r) throw "Reduce of empty array with no initial value"; return i }, l.find = function (t, e, i) { var n; return l.any(t, function (t, o, s) { return !!e.call(i, t, o, s) && (n = t, !0) }), n }, l.first = function (t, e, i) { return 0 === t.length ? null : l.isUndefined(e) ? t[0] : l.find(t, e, i) }, l.insert = function (t, e, i) { return t.splice(i, 0, e), t }, l.all = function (t, e, i) { var n, o, s = !0; for (o = 0; o < t.length && (n = t[o], s = s && e.call(i, n, o, t), s); o++); return s }, l.clear = function (t) { t.splice(0, t.length) }, l.bisort = function (t, e, i) { if (l.isUndefined(t)) throw "First array is not specified."; if (l.isUndefined(e)) throw "Second array is not specified."; if (t.length != e.length) throw "The two arrays should have equal length"; var n, o = []; for (n = 0; n < t.length; n++)o.push({ x: t[n], y: e[n] }); for (o.sort(l.isUndefined(i) ? function (t, e) { return t.x - e.x } : function (t, e) { return i(t.x, e.x) }), l.clear(t), l.clear(e), n = 0; n < o.length; n++)t.push(o[n].x), e.push(o[n].y) }, l.addRange = function (t, e) { t.push.apply(t, e) }, o = { easeInOut: function (t) { return -Math.cos(t * Math.PI) / 2 + .5 } }, s = r.Class.extend({ init: function () { this.adapters = [], this.target = 0, this.tick = 0, this.interval = 20, this.duration = 800, this.lastTime = null, this.handlers = []; var t = this; this.transition = o.easeInOut, this.timerDelegate = function () { t.onTimerEvent() } }, addAdapter: function (t) { this.adapters.push(t) }, onComplete: function (t) { this.handlers.push(t) }, removeHandler: function (e) { this.handlers = t.grep(this.handlers, function (t) { return t !== e }) }, trigger: function () { var t = this; this.handlers && l.forEach(this.handlers, function (e) { return e.call(null !== t.caller ? t.caller : t) }) }, onStep: function () { }, seekTo: function (t) { this.seekFromTo(this.tick, t) }, seekFromTo: function (t, e) { this.target = Math.max(0, Math.min(1, e)), this.tick = Math.max(0, Math.min(1, t)), this.lastTime = (new Date).getTime(), this.intervalId || (this.intervalId = window.setInterval(this.timerDelegate, this.interval)) }, stop: function () { this.intervalId && (window.clearInterval(this.intervalId), this.intervalId = null, this.trigger()) }, play: function (t) { 0 !== this.adapters.length && (null !== t && (this.caller = t), this.initState(), this.seekFromTo(0, 1)) }, reverse: function () { this.seekFromTo(1, 0) }, initState: function () { if (0 !== this.adapters.length) for (var t = 0; t < this.adapters.length; t++)this.adapters[t].initState() }, propagate: function () { var t, e = this.transition(this.tick); for (t = 0; t < this.adapters.length; t++)this.adapters[t].update(e) }, onTimerEvent: function () { var t, e = (new Date).getTime(), i = e - this.lastTime; this.lastTime = e, t = i / this.duration * (this.tick < this.target ? 1 : -1), Math.abs(t) >= Math.abs(this.tick - this.target) ? this.tick = this.target : this.tick += t; try { this.propagate() } finally { this.onStep.call(this), this.target == this.tick && this.stop() } } }), r.deepExtend(a, { init: function (t) { r.init(t, a.ui) }, Utils: l, Range: i, Ticker: s }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/math.min", ["dataviz/diagram/utils.min", "kendo.dataviz.core.min"], t) }(function () {
    !function (t, e) {
        function i(t) { return Math.abs(t) < z } function n(t, e, n, o, s) { var r, a, h, c, d = (e.x - t.x) * (o.y - n.y) - (e.y - t.y) * (o.x - n.x); if (!i(d) && (r = (t.y - n.y) * (o.x - n.x) - (t.x - n.x) * (o.y - n.y), a = (t.y - n.y) * (e.x - t.x) - (t.x - n.x) * (e.y - t.y), h = r / d, c = a / d, !s || !(h < 0 || h > 1 || c < 0 || c > 1))) return new D(t.x + h * (e.x - t.x), t.y + h * (e.y - t.y)) } function o(t, e) { var i, n, o; do i = 2 * Math.random() - 1, n = 2 * Math.random() - 1, o = i * i + n * n; while (!o || o > 1); return t + e * i * Math.sqrt(-2 * Math.log(o) / o) } function s(t) { var e, i, n; for (M.isUndefined(t) && (t = 10), e = "", i = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", n = t; n > 0; --n)e += i.charAt(Math.round(Math.random() * (i.length - 1))); return e } var r, a, h, c, d, l, u, f, p, g, m, _, v, y, w, x, b = window.kendo, C = b.dataviz.diagram, S = b.Class, k = b.deepExtend, T = b.dataviz, M = C.Utils, D = T.Point2D, I = b.isFunction, P = M.contains, L = t.map, E = 3, z = 1e-6; k(D.fn, { plus: function (t) { return new D(this.x + t.x, this.y + t.y) }, minus: function (t) { return new D(this.x - t.x, this.y - t.y) }, offset: function (t) { return new D(this.x - t, this.y - t) }, times: function (t) { return new D(this.x * t, this.y * t) }, normalize: function () { return 0 === this.length() ? new D : this.times(1 / this.length()) }, length: function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, toString: function () { return "(" + this.x + "," + this.y + ")" }, lengthSquared: function () { return this.x * this.x + this.y * this.y }, middleOf: function (t, e) { return new D(e.x - t.x, e.y - t.y).times(.5).plus(t) }, toPolar: function (t) { var e, i, n, o = 1; if (t && (o = 180 / Math.PI), e = Math.atan2(Math.abs(this.y), Math.abs(this.x)), i = Math.PI / 2, n = this.length(), 0 === this.x) { if (0 === this.y) return new l(0, 0); if (this.y > 0) return new l(n, o * i); if (this.y < 0) return new l(n, 3 * o * i) } else if (this.x > 0) { if (0 === this.y) return new l(n, 0); if (this.y > 0) return new l(n, o * e); if (this.y < 0) return new l(n, o * (4 * i - e)) } else { if (0 === this.y) return new l(n, 2 * i); if (this.y > 0) return new l(n, o * (2 * i - e)); if (this.y < 0) return new l(n, o * (2 * i + e)) } }, isOnLine: function (t, e) { var i, n, o, s, r; return t.x > e.x && (i = e, e = t, t = i), n = new a(t.x, t.y).inflate(E, E), o = new a(e.x, e.y).inflate(E, E), !!n.union(o).contains(this) && (t.x === e.x || t.y === e.y || (t.y < e.y ? (s = n.x + (o.x - n.x) * (this.y - (n.y + n.height)) / (o.y + o.height - (n.y + n.height)), r = n.x + n.width + (o.x + o.width - (n.x + n.width)) * (this.y - n.y) / (o.y - n.y)) : (s = n.x + (o.x - n.x) * (this.y - n.y) / (o.y - n.y), r = n.x + n.width + (o.x + o.width - (n.x + n.width)) * (this.y - (n.y + n.height)) / (o.y + o.height - (n.y + n.height))), this.x > s && this.x < r)) } }), k(D, { parse: function (t) { var e = t.slice(1, t.length - 1), i = e.split(","), n = parseInt(i[0], 10), o = parseInt(i[1], 10); if (!isNaN(n) && !isNaN(o)) return new D(n, o) } }), r = S.extend({ init: function (t, e, i) { this.point = t, this.left = e, this.right = i } }), a = S.extend({ init: function (t, e, i, n) { this.x = t || 0, this.y = e || 0, this.width = i || 0, this.height = n || 0 }, contains: function (t) { return t.x >= this.x && t.x <= this.x + this.width && t.y >= this.y && t.y <= this.y + this.height }, inflate: function (t, i) { return i === e && (i = t), this.x -= t, this.y -= i, this.width += 2 * t + 1, this.height += 2 * i + 1, this }, offset: function (t, e) { var i = t, n = e; return t instanceof D && (i = t.x, n = t.y), this.x += i, this.y += n, this }, union: function (t) { var e = Math.min(this.x, t.x), i = Math.min(this.y, t.y), n = Math.max(this.x + this.width, t.x + t.width), o = Math.max(this.y + this.height, t.y + t.height); return new a(e, i, n - e, o - i) }, center: function () { return new D(this.x + this.width / 2, this.y + this.height / 2) }, top: function () { return new D(this.x + this.width / 2, this.y) }, right: function () { return new D(this.x + this.width, this.y + this.height / 2) }, bottom: function () { return new D(this.x + this.width / 2, this.y + this.height) }, left: function () { return new D(this.x, this.y + this.height / 2) }, topLeft: function () { return new D(this.x, this.y) }, topRight: function () { return new D(this.x + this.width, this.y) }, bottomLeft: function () { return new D(this.x, this.y + this.height) }, bottomRight: function () { return new D(this.x + this.width, this.y + this.height) }, clone: function () { return new a(this.x, this.y, this.width, this.height) }, isEmpty: function () { return !this.width && !this.height }, equals: function (t) { return this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height }, rotatedBounds: function (t) { var e = this.clone(), i = this.rotatedPoints(t), n = i[0], o = i[1], s = i[2], r = i[3]; return e.x = Math.min(s.x, n.x, o.x, r.x), e.y = Math.min(s.y, n.y, o.y, r.y), e.width = Math.max(s.x, n.x, o.x, r.x) - e.x, e.height = Math.max(s.y, n.y, o.y, r.y) - e.y, e }, rotatedPoints: function (t) { var e = this, i = e.center(), n = e.bottomRight().rotate(i, 360 - t), o = e.topLeft().rotate(i, 360 - t), s = e.topRight().rotate(i, 360 - t), r = e.bottomLeft().rotate(i, 360 - t); return [o, s, n, r] }, toString: function (t) { return t = t || " ", this.x + t + this.y + t + this.width + t + this.height }, scale: function (t, e, i, n, o) { var s, r, a, h = this.topLeft(), c = this.center(); h.rotate(c, 360 - o).rotate(n, o), s = i.minus(h), r = new D(s.x * t, s.y * e), a = s.minus(r), h = h.plus(a), h.rotate(n, 360 - o).rotate(c, o), this.x = h.x, this.y = h.y, this.width *= t, this.height *= e }, zoom: function (t) { return this.x *= t, this.y *= t, this.width *= t, this.height *= t, this }, overlaps: function (t) { var e = this.bottomRight(), i = t.bottomRight(), n = !(e.x < t.x || e.y < t.y || i.x < this.x || i.y < this.y); return n } }), h = S.extend({ init: function (t, e) { this.width = t, this.height = e } }), h.prototype.Empty = new h(0, 0), a.toRect = function (t) { return t instanceof a || (t = new a(t.x, t.y, t.width, t.height)), t }, a.empty = function () { return new a(0, 0, 0, 0) }, a.fromPoints = function (t, e) { if (isNaN(t.x) || isNaN(t.y) || isNaN(e.x) || isNaN(e.y)) throw "Some values are NaN."; return new a(Math.min(t.x, e.x), Math.min(t.y, e.y), Math.abs(t.x - e.x), Math.abs(t.y - e.y)) }, c = { lines: function (t, e, i, o) { return n(t, e, i, o) }, segments: function (t, e, i, o) { return n(t, e, i, o, !0) }, rectWithLine: function (t, e, i) { return c.segments(e, i, t.topLeft(), t.topRight()) || c.segments(e, i, t.topRight(), t.bottomRight()) || c.segments(e, i, t.bottomLeft(), t.bottomRight()) || c.segments(e, i, t.topLeft(), t.bottomLeft()) }, rects: function (t, e, i) { var n, o, s = e.topLeft(), r = e.topRight(), a = e.bottomLeft(), h = e.bottomRight(), d = e.center(); return i && (s = s.rotate(d, i), r = r.rotate(d, i), a = a.rotate(d, i), h = h.rotate(d, i)), n = t.contains(s) || t.contains(r) || t.contains(a) || t.contains(h) || c.rectWithLine(t, s, r) || c.rectWithLine(t, s, a) || c.rectWithLine(t, r, h) || c.rectWithLine(t, a, h), n || (s = t.topLeft(), r = t.topRight(), a = t.bottomLeft(), h = t.bottomRight(), i && (o = 360 - i, s = s.rotate(d, o), r = r.rotate(d, o), a = a.rotate(d, o), h = h.rotate(d, o)), n = e.contains(s) || e.contains(r) || e.contains(a) || e.contains(h)), n } }, d = S.extend({ init: function (t) { this.container = a.toRect(t) }, align: function (t, e) { var i, n = e.toLowerCase().split(" "); for (i = 0; i < n.length; i++)t = this._singleAlign(t, n[i]); return t }, _singleAlign: function (t, e) { return I(this[e]) ? this[e](t) : t }, left: function (t) { return this._align(t, this._left) }, center: function (t) { return this._align(t, this._center) }, right: function (t) { return this._align(t, this._right) }, stretch: function (t) { return this._align(t, this._stretch) }, top: function (t) { return this._align(t, this._top) }, middle: function (t) { return this._align(t, this._middle) }, bottom: function (t) { return this._align(t, this._bottom) }, _left: function (t, e) { e.x = t.x }, _center: function (t, e) { e.x = (t.width - e.width) / 2 || 0 }, _right: function (t, e) { e.x = t.width - e.width }, _top: function (t, e) { e.y = t.y }, _middle: function (t, e) { e.y = (t.height - e.height) / 2 || 0 }, _bottom: function (t, e) { e.y = t.height - e.height }, _stretch: function (t, e) { e.x = 0, e.y = 0, e.height = t.height, e.width = t.width }, _align: function (t, e) { return t = a.toRect(t), e(this.container, t), t } }), l = S.extend({ init: function (t, e) { this.r = t, this.angle = e } }), u = S.extend({ init: function (t, e, i, n, o, s) { this.a = t || 0, this.b = e || 0, this.c = i || 0, this.d = n || 0, this.e = o || 0, this.f = s || 0 }, plus: function (t) { this.a += t.a, this.b += t.b, this.c += t.c, this.d += t.d, this.e += t.e, this.f += t.f }, minus: function (t) { this.a -= t.a, this.b -= t.b, this.c -= t.c, this.d -= t.d, this.e -= t.e, this.f -= t.f }, times: function (t) { return new u(this.a * t.a + this.c * t.b, this.b * t.a + this.d * t.b, this.a * t.c + this.c * t.d, this.b * t.c + this.d * t.d, this.a * t.e + this.c * t.f + this.e, this.b * t.e + this.d * t.f + this.f) }, apply: function (t) { return new D(this.a * t.x + this.c * t.y + this.e, this.b * t.x + this.d * t.y + this.f) }, applyRect: function (t) { return a.fromPoints(this.apply(t.topLeft()), this.apply(t.bottomRight())) }, toString: function () { return "matrix(" + this.a + " " + this.b + " " + this.c + " " + this.d + " " + this.e + " " + this.f + ")" } }), k(u, { fromSVGMatrix: function (t) { var e = new u; return e.a = t.a, e.b = t.b, e.c = t.c, e.d = t.d, e.e = t.e, e.f = t.f, e }, fromMatrixVector: function (t) { var e = new u; return e.a = t.a, e.b = t.b, e.c = t.c, e.d = t.d, e.e = t.e, e.f = t.f, e }, fromList: function (t) { if (6 !== t.length) throw "The given list should consist of six elements."; var e = new u; return e.a = t[0], e.b = t[1], e.c = t[2], e.d = t[3], e.e = t[4], e.f = t[5], e }, translation: function (t, e) { var i = new u; return i.a = 1, i.b = 0, i.c = 0, i.d = 1, i.e = t, i.f = e, i }, unit: function () { return new u(1, 0, 0, 1, 0, 0) }, rotation: function (t, e, i) { var n = new u; return n.a = Math.cos(t * Math.PI / 180), n.b = Math.sin(t * Math.PI / 180), n.c = -n.b, n.d = n.a, n.e = e - e * n.a + i * n.b || 0, n.f = i - i * n.a - e * n.b || 0, n }, scaling: function (t, e) { var i = new u; return i.a = t, i.b = 0, i.c = 0, i.d = e, i.e = 0, i.f = 0, i }, parse: function (t) { var e, i; if (t) { if (t = t.trim(), "matrix" === t.slice(0, 6).toLowerCase()) { if (i = t.slice(7, t.length - 1).trim(), e = i.split(","), 6 === e.length) return u.fromList(L(e, function (t) { return parseFloat(t) })); if (e = i.split(" "), 6 === e.length) return u.fromList(L(e, function (t) { return parseFloat(t) })) } if ("(" === t.slice(0, 1) && ")" === t.slice(t.length - 1) && (t = t.substr(1, t.length - 1)), t.indexOf(",") > 0 && (e = t.split(","), 6 === e.length)) return u.fromList(L(e, function (t) { return parseFloat(t) })); if (t.indexOf(" ") > 0 && (e = t.split(" "), 6 === e.length)) return u.fromList(L(e, function (t) { return parseFloat(t) })) } return e } }), f = S.extend({ init: function (t, e, i, n, o, s) { this.a = t || 0, this.b = e || 0, this.c = i || 0, this.d = n || 0, this.e = o || 0, this.f = s || 0 }, fromMatrix: function (t) { var e = new f; return e.a = t.a, e.b = t.b, e.c = t.c, e.d = t.d, e.e = t.e, e.f = t.f, e } }), p = { _distanceToLineSquared: function (t, e, i) { function n(t, e) { return (t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y) } if (e === i) return n(t, e); var o = i.x - e.x, s = i.y - e.y, r = (t.x - e.x) * o + (t.y - e.y) * s; return r < 0 ? n(e, t) : (r = (i.x - t.x) * o + (i.y - t.y) * s, r < 0 ? n(i, t) : (r = (i.x - t.x) * s - (i.y - t.y) * o, r * r / (o * o + s * s))) }, distanceToLine: function (t, e, i) { return Math.sqrt(this._distanceToLineSquared(t, e, i)) }, distanceToPolyline: function (t, e) { var i, n, o, s, r = Number.MAX_VALUE; if (M.isUndefined(e) || 0 === e.length) return Number.MAX_VALUE; for (i = 0; i < e.length - 1; i++)n = e[i], o = e[i + 1], s = this._distanceToLineSquared(t, n, o), s < r && (r = s); return Math.sqrt(r) } }, g = b.Class.extend({ init: function () { this._buckets = [], this.length = 0 }, add: function (t, e) { var i = this._createGetBucket(t); return M.isDefined(e) && (i.value = e), i }, get: function (t) { return this._bucketExists(t) ? this._createGetBucket(t) : null }, set: function (t, e) { this.add(t, e) }, containsKey: function (t) { return this._bucketExists(t) }, remove: function (t) { if (this._bucketExists(t)) { var e = this._hash(t); return delete this._buckets[e], this.length-- , t } }, forEach: function (t) { var e, i, n, o, s = this._hashes(); for (e = 0, i = s.length; e < i; e++)n = s[e], o = this._buckets[n], M.isUndefined(o) || t(o) }, clone: function () { var t, e, i, n, o = new g, s = this._hashes(); for (t = 0, e = s.length; t < e; t++)i = s[t], n = this._buckets[i], M.isUndefined(n) || o.add(n.key, n.value); return o }, _hashes: function () { var t, e = []; for (t in this._buckets) this._buckets.hasOwnProperty(t) && e.push(t); return e }, _bucketExists: function (t) { var e = this._hash(t); return M.isDefined(this._buckets[e]) }, _createGetBucket: function (t) { var e = this._hash(t), i = this._buckets[e]; return M.isUndefined(i) && (i = { key: t }, this._buckets[e] = i, this.length++), i }, _hash: function (t) { if (M.isNumber(t)) return t; if (M.isString(t)) return this._hashString(t); if (M.isObject(t)) return this._objectHashId(t); throw "Unsupported key type." }, _hashString: function (t) { var e, i, n = 0; if (0 === t.length) return n; for (e = 0; e < t.length; e++)i = t.charCodeAt(e), n = 32 * n - n + i; return n }, _objectHashId: function (t) { var e = t._hashId; return M.isUndefined(e) && (e = s(), t._hashId = e), e } }), m = b.Observable.extend({ init: function (e) { var i, n = this; if (b.Observable.fn.init.call(n), this._hashTable = new g, this.length = 0, M.isDefined(e)) if (t.isArray(e)) for (i = 0; i < e.length; i++)this.add(e[i]); else e.forEach(function (t, e) { this.add(t, e) }, this) }, add: function (t, e) { var i = this._hashTable.get(t); i || (i = this._hashTable.add(t), this.length++ , this.trigger("changed")), i.value = e }, set: function (t, e) { this.add(t, e) }, get: function (t) { var e = this._hashTable.get(t); if (e) return e.value; throw Error("Cannot find key " + t) }, containsKey: function (t) { return this._hashTable.containsKey(t) }, remove: function (t) { if (this.containsKey(t)) return this.trigger("changed"), this.length-- , this._hashTable.remove(t) }, forEach: function (t, e) { this._hashTable.forEach(function (i) { t.call(e, i.key, i.value) }) }, forEachValue: function (t, e) { this._hashTable.forEach(function (i) { t.call(e, i.value) }) }, forEachKey: function (t, e) { this._hashTable.forEach(function (i) { t.call(e, i.key) }) }, keys: function () { var t = []; return this.forEachKey(function (e) { t.push(e) }), t } }), _ = b.Class.extend({ init: function () { this._tail = null, this._head = null, this.length = 0 }, enqueue: function (t) { var e = { value: t, next: null }; this._head ? (this._tail.next = e, this._tail = this._tail.next) : (this._head = e, this._tail = this._head), this.length++ }, dequeue: function () { if (this.length < 1) throw Error("The queue is empty."); var t = this._head.value; return this._head = this._head.next, this.length-- , t }, contains: function (t) { for (var e = this._head; e;) { if (e.value === t) return !0; e = e.next } return !1 } }), v = b.Observable.extend({ init: function (t) { var e = this; b.Observable.fn.init.call(e), this._hashTable = new g, this.length = 0, M.isDefined(t) && (t instanceof g ? t.forEach(function (t) { this.add(t) }) : t instanceof m && t.forEach(function (t, e) { this.add({ key: t, value: e }) }, this)) }, contains: function (t) { return this._hashTable.containsKey(t) }, add: function (t) { var e = this._hashTable.get(t); e || (this._hashTable.add(t, t), this.length++ , this.trigger("changed")) }, get: function (t) { return this.contains(t) ? this._hashTable.get(t).value : null }, hash: function (t) { return this._hashTable._hash(t) }, remove: function (t) { this.contains(t) && (this._hashTable.remove(t), this.length-- , this.trigger("changed")) }, forEach: function (t, e) { this._hashTable.forEach(function (e) { t(e.value) }, e) }, toArray: function () { var t = []; return this.forEach(function (e) { t.push(e) }), t } }), y = b.Class.extend({ init: function (t, e) { if (this.links = [], this.outgoing = [], this.incoming = [], this.weight = 1, this.id = M.isDefined(t) ? t : s(), M.isDefined(e)) { this.associatedShape = e; var i = e.bounds(); this.width = i.width, this.height = i.height, this.x = i.x, this.y = i.y } else this.associatedShape = null; this.data = null, this.type = "Node", this.shortForm = "Node '" + this.id + "'", this.isVirtual = !1 }, isIsolated: function () { return M.isEmpty(this.links) }, bounds: function (t) { return M.isDefined(t) ? (this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, e) : new C.Rect(this.x, this.y, this.width, this.height) }, isLinkedTo: function (t) { var e = this; return M.any(e.links, function (i) { return i.getComplement(e) === t }) }, getChildren: function () { var t, e, i, n; if (0 === this.outgoing.length) return []; for (t = [], e = 0, i = this.outgoing.length; e < i; e++)n = this.outgoing[e], t.push(n.getComplement(this)); return t }, getParents: function () { var t, e, i, n; if (0 === this.incoming.length) return []; for (t = [], e = 0, i = this.incoming.length; e < i; e++)n = this.incoming[e], t.push(n.getComplement(this)); return t }, clone: function () { var t = new y; return M.isDefined(this.weight) && (t.weight = this.weight), M.isDefined(this.balance) && (t.balance = this.balance), M.isDefined(this.owner) && (t.owner = this.owner), t.associatedShape = this.associatedShape, t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t }, adjacentTo: function (t) { return null !== this.isLinkedTo(t) }, removeLink: function (t) { t.source === this && (M.remove(this.links, t), M.remove(this.outgoing, t), t.source = null), t.target === this && (M.remove(this.links, t), M.remove(this.incoming, t), t.target = null) }, hasLinkTo: function (t) { return M.any(this.outgoing, function (e) { return e.target === t }) }, degree: function () { return this.links.length }, incidentWith: function (t) { return P(this.links, t) }, getLinksWith: function (t) { return M.all(this.links, function (e) { return e.getComplement(this) === t }, this) }, getNeighbors: function () { var t = []; return M.forEach(this.incoming, function (e) { t.push(e.getComplement(this)) }, this), M.forEach(this.outgoing, function (e) { t.push(e.getComplement(this)) }, this), t } }), w = b.Class.extend({ init: function (t, e, i, n) { if (M.isUndefined(t)) throw "The source of the new link is not set."; if (M.isUndefined(e)) throw "The target of the new link is not set."; var o, r; o = M.isString(t) ? new y(t) : t, r = M.isString(e) ? new y(e) : e, this.source = o, this.target = r, this.source.links.push(this), this.target.links.push(this), this.source.outgoing.push(this), this.target.incoming.push(this), this.id = M.isDefined(i) ? i : s(), this.associatedConnection = M.isDefined(n) ? n : null, this.type = "Link", this.shortForm = "Link '" + this.source.id + "->" + this.target.id + "'" }, getComplement: function (t) { if (this.source !== t && this.target !== t) throw "The given node is not incident with this link."; return this.source === t ? this.target : this.source }, getCommonNode: function (t) { return this.source === t.source || this.source === t.target ? this.source : this.target === t.source || this.target === t.target ? this.target : null }, isBridging: function (t, e) { return this.source === t && this.target === e || this.source === e && this.target === t }, getNodes: function () { return [this.source, this.target] }, incidentWith: function (t) { return this.source === t || this.target === t }, adjacentTo: function (t) { return P(this.source.links, t) || P(this.target.links, t) }, changeSource: function (t) { M.remove(this.source.links, this), M.remove(this.source.outgoing, this), t.links.push(this), t.outgoing.push(this), this.source = t }, changeTarget: function (t) { M.remove(this.target.links, this), M.remove(this.target.incoming, this), t.links.push(this), t.incoming.push(this), this.target = t }, changesNodes: function (t, e) { this.source === t ? this.changeSource(e) : this.target === t && this.changeTarget(e) }, reverse: function () { var t = this.source, e = this.target; return this.source = e, M.remove(t.outgoing, this), this.source.outgoing.push(this), this.target = t, M.remove(e.incoming, this), this.target.incoming.push(this), this }, directTo: function (t) { if (this.source !== t && this.target !== t) throw "The given node is not incident with this link."; this.target !== t && this.reverse() }, createReverseEdge: function () { var t = this.clone(); return t.reverse(), t.reversed = !0, t }, clone: function () { var t = new w(this.source, this.target); return t } }), x = b.Class.extend({
            init: function (t) { this.links = [], this.nodes = [], this._nodeMap = new m, this.diagram = null, this._root = null, M.isDefined(t) ? M.isString(t) ? this.id = t : (this.diagram = t, this.id = t.id) : this.id = s(), this.bounds = new a, this._hasCachedRelationships = !1, this.type = "Graph" }, cacheRelationships: function (t) { var e, i, n; if (M.isUndefined(t) && (t = !1), !this._hasCachedRelationships || t) { for (e = 0, i = this.nodes.length; e < i; e++)n = this.nodes[e], n.children = this.getChildren(n), n.parents = this.getParents(n); this._hasCachedRelationships = !0 } }, assignLevels: function (t, e, i) { var n, o, s, r; if (!t) throw "Start node not specified."; for (M.isUndefined(e) && (e = 0), this.cacheRelationships(), M.isUndefined(i) && (i = new m, M.forEach(this.nodes, function (t) { i.add(t, !1) })), i.set(t, !0), t.level = e, n = t.children, o = 0, s = n.length; o < s; o++)r = n[o], r && !i.get(r) && this.assignLevels(r, e + 1, i) }, root: function (t) { if (M.isUndefined(t)) { if (this._root) return this._root; var e = M.first(this.nodes, function (t) { return 0 === t.incoming.length }); return e ? e : M.first(this.nodes) } this._root = t }, getConnectedComponents: function () { var t, e, i, n, o; for (this.componentIndex = 0, this.setItemIndices(), t = M.initArray(this.nodes.length, -1), e = 0; e < this.nodes.length; e++)t[e] === -1 && (this._collectConnectedNodes(t, e), this.componentIndex++); for (i = [], n = 0; n < this.componentIndex; ++n)i[n] = new x; for (n = 0; n < t.length; ++n)o = i[t[n]], o.addNodeAndOutgoings(this.nodes[n]); return i.sort(function (t, e) { return e.nodes.length - t.nodes.length }), i }, _collectConnectedNodes: function (t, e) { t[e] = this.componentIndex; var i = this.nodes[e]; M.forEach(i.links, function (e) { var n = e.getComplement(i), o = n.index; t[o] === -1 && this._collectConnectedNodes(t, o) }, this) }, calcBounds: function () { var t, e, i, n; if (this.isEmpty()) return this.bounds = new a; for (t = null, e = 0, i = this.nodes.length; e < i; e++)n = this.nodes[e], t = t ? t.union(n.bounds()) : n.bounds(); return this.bounds = t }, getSpanningTree: function (t) { var e, i, n, o, s, r, a, h, c, d, l, u, f = new x, p = new m; for (f.root = t.clone(), f.root.level = 0, f.root.id = t.id, p.add(t, f.root), t.level = 0, n = [], o = [], f._addNode(f.root), n.push(t), o.push(t), s = 1; o.length > 0;)for (r = o.pop(), a = 0; a < r.links.length; a++)h = r.links[a], c = h.getComplement(r), P(n, c) || (c.level = r.level + 1, s < c.level + 1 && (s = c.level + 1), P(o, c) || o.push(c), P(n, c) || n.push(c), p.containsKey(r) ? e = p.get(r) : (e = r.clone(), e.level = r.level, e.id = r.id, p.add(r, e)), p.containsKey(c) ? i = p.get(c) : (i = c.clone(), i.level = c.level, i.id = c.id, p.add(c, i)), d = new w(e, i), f.addLink(d)); for (l = [], u = 0; u < s; u++)l.push([]); return M.forEach(f.nodes, function (t) { l[t.level].push(t) }), f.treeLevels = l, f.cacheRelationships(), f }, takeRandomNode: function (e, i) { if (M.isUndefined(e) && (e = []), M.isUndefined(i) && (i = 4), 0 === this.nodes.length) return null; if (1 === this.nodes.length) return P(e, this.nodes[0]) ? null : this.nodes[0]; var n = t.grep(this.nodes, function (t) { return !P(e, t) && t.degree() <= i }); return M.isEmpty(n) ? null : n[M.randomInteger(0, n.length)] }, isEmpty: function () { return M.isEmpty(this.nodes) }, isHealthy: function () { return M.all(this.links, function (t) { return P(this.nodes, t.source) && P(this.nodes, t.target) }, this) }, getParents: function (t) { if (!this.hasNode(t)) throw "The given node is not part of this graph."; return t.getParents() }, getChildren: function (t) { if (!this.hasNode(t)) throw "The given node is not part of this graph."; return t.getChildren() }, addLink: function (t, i, n) { var o, s, r; if (M.isUndefined(t)) throw "The source of the link is not defined."; if (M.isUndefined(i)) { if (M.isDefined(t.type) && "Link" === t.type) return this.addExistingLink(t), e; throw "The target of the link is not defined." } return o = this.getNode(t), M.isUndefined(o) && (o = this.addNode(t)), s = this.getNode(i), M.isUndefined(s) && (s = this.addNode(i)), r = new w(o, s), M.isDefined(n) && (r.owner = n), this.links.push(r), r }, removeAllLinks: function () { for (; this.links.length > 0;) { var t = this.links[0]; this.removeLink(t) } }, addExistingLink: function (t) { var e, i; this.hasLink(t) || (this.links.push(t), this.hasNode(t.source.id) ? (e = this.getNode(t.source.id), t.changeSource(e)) : this.addNode(t.source), this.hasNode(t.target.id) ? (i = this.getNode(t.target.id), t.changeTarget(i)) : this.addNode(t.target)) }, hasLink: function (t) { if (M.isString(t)) return M.any(this.links, function (e) { return e.id === t }); if ("Link" === t.type) return P(this.links, t); throw "The given object is neither an identifier nor a Link." }, getNode: function (t) { var e = t.id || t; if (this._nodeMap.containsKey(e)) return this._nodeMap.get(e) }, hasNode: function (t) { var e = t.id || t; return this._nodeMap.containsKey(e) }, _addNode: function (t) { this.nodes.push(t), this._nodeMap.add(t.id, t) }, _removeNode: function (t) { M.remove(this.nodes, t), this._nodeMap.remove(t.id) }, removeNode: function (t) { var e, i, n, o, s = t; if (M.isString(t) && (s = this.getNode(t)), !M.isDefined(s)) throw "The identifier should be a Node or the Id (string) of a node."; for (e = s.links, s.links = [], i = 0, n = e.length; i < n; i++)o = e[i], this.removeLink(o); this._removeNode(s) }, areConnected: function (t, e) { return M.any(this.links, function (i) { return i.source == t && i.target == e || i.source == e && i.target == t }) }, removeLink: function (t) { M.remove(this.links, t), M.remove(t.source.outgoing, t), M.remove(t.source.links, t), M.remove(t.target.incoming, t), M.remove(t.target.links, t) }, addNode: function (t, e, i) { var n = null; if (!M.isDefined(t)) throw "No Node or identifier for a new Node is given."; if (M.isString(t)) { if (this.hasNode(t)) return this.getNode(t); n = new y(t) } else { if (this.hasNode(t)) return this.getNode(t); n = t } return M.isDefined(e) && n.bounds(e), M.isDefined(i) && (n.owner = i), this._addNode(n), n }, addNodeAndOutgoings: function (t) { this.hasNode(t) || this._addNode(t); var e = t.outgoing; t.outgoing = [], M.forEach(e, function (t) { this.addExistingLink(t) }, this) }, setItemIndices: function () { var t; for (t = 0; t < this.nodes.length; ++t)this.nodes[t].index = t; for (t = 0; t < this.links.length; ++t)this.links[t].index = t }, clone: function (t) {
                var e, i = new x, n = M.isDefined(t) && t === !0; return n && (i.nodeMap = new m, i.linkMap = new m), e = new m, M.forEach(this.nodes, function (t) {
                    var o = t.clone();
                    e.set(t, o), i._addNode(o), n && i.nodeMap.set(o, t)
                }), M.forEach(this.links, function (t) { if (e.containsKey(t.source) && e.containsKey(t.target)) { var o = i.addLink(e.get(t.source), e.get(t.target)); n && i.linkMap.set(o, t) } }), i
            }, linearize: function (t) { return x.Utils.linearize(this, t) }, depthFirstTraversal: function (t, e) { var i, n; if (M.isUndefined(t)) throw "You need to supply a starting node."; if (M.isUndefined(e)) throw "You need to supply an action."; if (!this.hasNode(t)) throw "The given start-node is not part of this graph"; i = this.getNode(t), n = [], this._dftIterator(i, e, n) }, _dftIterator: function (t, e, i) { var n, o, s, r; for (e(t), i.push(t), n = t.getChildren(), o = 0, s = n.length; o < s; o++)r = n[o], P(i, r) || this._dftIterator(r, e, i) }, breadthFirstTraversal: function (t, e) { var i, n, o, s, r, a, h, c; if (M.isUndefined(t)) throw "You need to supply a starting node."; if (M.isUndefined(e)) throw "You need to supply an action."; if (!this.hasNode(t)) throw "The given start-node is not part of this graph"; for (i = this.getNode(t), n = new _, o = [], n.enqueue(i); n.length > 0;)for (s = n.dequeue(), e(s), o.push(s), r = s.getChildren(), a = 0, h = r.length; a < h; a++)c = r[a], P(o, c) || P(n, c) || n.enqueue(c) }, _stronglyConnectedComponents: function (t, e, i, n, o, s, r) { var a, h, c, d, l; for (i.add(e, r), n.add(e, r), r++ , s.push(e), a = e.getChildren(), c = 0, d = a.length; c < d; c++)h = a[c], i.containsKey(h) ? P(s, h) && n.add(e, Math.min(n.get(e), i.get(h))) : (this._stronglyConnectedComponents(t, h, i, n, o, s, r), n.add(e, Math.min(n.get(e), n.get(h)))); if (n.get(e) === i.get(e)) { l = []; do h = s.pop(), l.push(h); while (h !== e); (!t || l.length > 1) && o.push(l) } }, findCycles: function (t) { var e, i, n, o, s, r, a; for (M.isUndefined(t) && (t = !0), e = new m, i = new m, n = [], o = [], s = 0, r = this.nodes.length; s < r; s++)a = this.nodes[s], e.containsKey(a) || this._stronglyConnectedComponents(t, a, e, i, n, o, 0); return n }, isAcyclic: function () { return M.isEmpty(this.findCycles()) }, isSubGraph: function (t) { var e = t.linearize(), i = this.linearize(); return M.all(e, function (t) { return P(i, t) }) }, makeAcyclic: function () { var t, e, i, n, o, s, r, a, h, c, d, l, u, f, p, g, _, v, y, w, x, b, C, S, k, T, D, I, P, L, E, z; if (this.isEmpty() || this.nodes.length <= 1 || this.links.length <= 1) return []; if (2 == this.nodes.length) { if (t = [], this.links.length > 1) for (e = this.links[0], i = e.source, n = 0, o = this.links.length; n < o; n++)s = this.links[n], s.source != i && (r = s.reverse(), t.push(r)); return t } for (a = this.clone(!0), h = this.nodes.length, c = new m, d = function (t) { return 0 === t.outgoing.length ? 2 - h : 0 === t.incoming.length ? h - 2 : t.outgoing.length - t.incoming.length }, l = function (t, e) { var i = d(t, h); e.containsKey(i) || e.set(i, []), e.get(i).push(t) }, M.forEach(a.nodes, function (t) { l(t, c) }), u = [], f = []; a.nodes.length > 0;) { if (c.containsKey(2 - h)) for (v = c.get(2 - h); v.length > 0;) { for (g = v.pop(), y = 0; y < g.links.length; y++)w = g.links[y], p = w.getComplement(g), _ = d(p, h), M.remove(c.get(_), p), p.removeLink(w), l(p, c); a._removeNode(g), f.unshift(g) } if (c.containsKey(h - 2)) for (x = c.get(h - 2); x.length > 0;) { for (p = x.pop(), b = 0; b < p.links.length; b++)C = p.links[b], g = C.getComplement(p), _ = d(g, h), M.remove(c.get(_), g), g.removeLink(C), l(g, c); u.push(p), a._removeNode(p) } if (a.nodes.length > 0) for (S = h - 3; S > 2 - h; S--)if (c.containsKey(S) && c.get(S).length > 0) { for (k = c.get(S), T = k.pop(), D = 0; D < T.links.length; D++)I = T.links[D], P = I.getComplement(T), _ = d(P, h), M.remove(c.get(_), P), P.removeLink(I), l(P, c); u.push(T), a._removeNode(T); break } } for (u = u.concat(f), L = new m, E = 0; E < this.nodes.length; E++)L.set(a.nodeMap.get(u[E]), E); return z = [], M.forEach(this.links, function (t) { L.get(t.source) > L.get(t.target) && (t.reverse(), z.push(t)) }), z }
        }), x.Predefined = { EightGraph: function () { return x.Utils.parse(["1->2", "2->3", "3->4", "4->1", "3->5", "5->6", "6->7", "7->3"]) }, Mindmap: function () { return x.Utils.parse(["0->1", "0->2", "0->3", "0->4", "0->5", "1->6", "1->7", "7->8", "2->9", "9->10", "9->11", "3->12", "12->13", "13->14", "4->15", "4->16", "15->17", "15->18", "18->19", "18->20", "14->21", "14->22", "5->23", "23->24", "23->25", "6->26"]) }, ThreeGraph: function () { return x.Utils.parse(["1->2", "2->3", "3->1"]) }, BinaryTree: function (t) { return M.isUndefined(t) && (t = 5), x.Utils.createBalancedTree(t, 2) }, Linear: function (t) { return M.isUndefined(t) && (t = 10), x.Utils.createBalancedTree(t, 1) }, Tree: function (t, e) { return x.Utils.createBalancedTree(t, e) }, Forest: function (t, e, i) { return x.Utils.createBalancedForest(t, e, i) }, Workflow: function () { return x.Utils.parse(["0->1", "1->2", "2->3", "1->4", "4->3", "3->5", "5->6", "6->3", "6->7", "5->4"]) }, Grid: function (t, e) { var i, n, o, s, r, a = new C.Graph; if (t <= 0 && e <= 0) return a; for (i = 0; i < t + 1; i++)for (n = null, o = 0; o < e + 1; o++)s = new y("" + i + "." + o), a.addNode(s), n && a.addLink(n, s), i > 0 && (r = a.getNode("" + (i - 1) + "." + o), a.addLink(r, s)), n = s; return a } }, x.Utils = { parse: function (t) { var e, i, n, o, s, r = new C.Graph, a = t.slice(); for (i = 0, n = a.length; i < n; i++) { if (o = a[i], M.isString(o)) { if (o.indexOf("->") < 0) throw "The link should be specified as 'a->b'."; if (s = o.split("->"), 2 != s.length) throw "The link should be specified as 'a->b'."; e = new w(s[0], s[1]), r.addLink(e) } if (M.isObject(o)) { if (!e) throw "Specification found before Link definition."; b.deepExtend(e, o) } } return r }, linearize: function (t, e) { var i, n, o, s; if (M.isUndefined(t)) throw "Expected an instance of a Graph object in slot one."; for (M.isUndefined(e) && (e = !1), i = [], n = 0, o = t.links.length; n < o; n++)s = t.links[n], i.push(s.source.id + "->" + s.target.id), e && i.push({ id: s.id }); return i }, _addShape: function (t, e, i, n) { return M.isUndefined(e) && (e = new C.Point(0, 0)), M.isUndefined(i) && (i = s()), n = b.deepExtend({ width: 20, height: 20, id: i, radius: 10, fill: "#778899", data: "circle", undoable: !1, x: e.x, y: e.y }, n), t.addShape(n) }, _addConnection: function (t, e, i, n) { return t.connect(e, i, n) }, createDiagramFromGraph: function (t, e, i, n) { var o, s, r, h, c, d, l, u, f, p, g, m, _, v, y, w; if (M.isUndefined(t)) throw "The diagram surface is undefined."; if (M.isUndefined(e)) throw "No graph specification defined."; for (M.isUndefined(i) && (i = !0), M.isUndefined(n) && (n = !1), o = t.element.clientWidth || 200, s = t.element.clientHeight || 200, r = [], d = 0, l = e.nodes.length; d < l; d++)h = e.nodes[d], u = h.position, M.isUndefined(u) && (u = M.isDefined(h.x) && M.isDefined(h.y) ? new D(h.x, h.y) : new D(M.randomInteger(10, o - 20), M.randomInteger(10, s - 20))), f = {}, "0" === h.id || n && b.deepExtend(f, { width: 150 * Math.random() + 20, height: 80 * Math.random() + 50, data: "rectangle", fill: { color: "#778899" } }), c = this._addShape(t, u, h.id, f), p = c.bounds(), M.isDefined(p) && (h.x = p.x, h.y = p.y, h.width = p.width, h.height = p.height), r[h.id] = c; for (g = 0; g < e.links.length; g++)m = e.links[g], _ = r[m.source.id], M.isUndefined(_) || (v = r[m.target.id], M.isUndefined(v) || this._addConnection(t, _, v, { id: m.id })); if (i) for (y = new t.SpringLayout(t), y.layoutGraph(e, { limitToView: !1 }), w = 0; w < e.nodes.length; w++)h = e.nodes[w], c = r[h.id], c.bounds(new a(h.x, h.y, h.width, h.height)) }, createBalancedTree: function (t, e) { var i, n, o, s, r, a, h, c, d, l; if (M.isUndefined(t) && (t = 3), M.isUndefined(e) && (e = 3), i = new C.Graph, n = -1, o = [], t <= 0 || e <= 0) return i; for (r = new y("" + ++n), i.addNode(r), i.root = r, o.push(r), a = 0; a < t; a++) { for (s = [], h = 0; h < o.length; h++)for (c = o[h], d = 0; d < e; d++)l = new y("" + ++n), i.addLink(c, l), s.push(l); o = s } return i }, createBalancedForest: function (t, e, i) { var n, o, s, r, a, h, c, d, l, u, f; if (M.isUndefined(t) && (t = 3), M.isUndefined(e) && (e = 3), M.isUndefined(i) && (i = 5), n = new C.Graph, o = -1, s = [], t <= 0 || e <= 0 || i <= 0) return n; for (a = 0; a < i; a++)for (h = new y("" + ++o), n.addNode(h), s = [h], c = 0; c < t; c++) { for (r = [], d = 0; d < s.length; d++)for (l = s[d], u = 0; u < e; u++)f = new y("" + ++o), n.addLink(l, f), r.push(f); s = r } return n }, createRandomConnectedGraph: function (t, e, i) { var n, o, s, r, a, h, c, d, l, u; if (M.isUndefined(t) && (t = 40), M.isUndefined(e) && (e = 4), M.isUndefined(i) && (i = !1), n = new C.Graph, o = -1, t <= 0) return n; if (s = new y("" + ++o), n.addNode(s), 1 === t) return n; if (t > 1) { for (r = 1; r < t && (a = n.takeRandomNode([], e), a); r++)h = n.addNode("" + r), n.addLink(a, h); if (!i && t > 1) for (c = M.randomInteger(1, t), d = 0; d < c; d++)l = n.takeRandomNode([], e), u = n.takeRandomNode([], e), l && u && !n.areConnected(l, u) && n.addLink(l, u); return n } }, randomDiagram: function (t, e, i, n, o) { var s = b.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(e, i, n); x.Utils.createDiagramFromGraph(t, s, !1, o) } }, b.deepExtend(C, { init: function (t) { b.init(t, C.ui) }, Point: D, Intersect: c, Geometry: p, Rect: a, Size: h, RectAlign: d, Matrix: u, MatrixVector: f, normalVariable: o, randomId: s, Dictionary: m, HashTable: g, Queue: _, Set: v, Node: y, Link: w, Graph: x, PathDefiner: r })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/svg.min", ["kendo.drawing.min", "dataviz/diagram/math.min"], t) }(function () { !function (t, e) { function i(t, e) { var i, n, o, s = this.options, r = !1; for (o = 0; o < e.length; o++)n = e[o], i = t[n], A(i) && s[n] !== i && (s[n] = i, r = !0); return r } function n(t) { return { x: t.x || 0, y: t.y || 0, width: t.width || 0, height: t.height || 0 } } function o(t) { if (t) { var e = t; return U(e) && (e = { color: e }), e.color && (e.color = s(e.color)), e } } function s(t) { var e; return e = t != K ? new F.Color(t).toHex() : t } function r(t, e) { var i = e.x - t.x, n = e.y - t.y, o = F.util.deg(Math.atan2(n, i)); return o } function a(t, e) { return new F.Segment(new H.Point(t, e)) } function h(t) { if (t) return new H.Rect([t.x, t.y], [t.width, t.height]) } var c, d, l, u, f, p, g, m, _, v, y, w, x, b, C, S, k, T, M, D, I, P = window.kendo, L = P.dataviz.diagram, E = P.Class, z = P.deepExtend, B = L.Point, R = L.Rect, N = L.Matrix, O = L.Utils, A = O.isNumber, U = O.isString, V = L.MatrixVector, H = P.geometry, F = P.drawing, G = F.util.defined, q = t.inArray, K = "transparent", W = { none: "none", arrowStart: "ArrowStart", filledCircle: "FilledCircle", arrowEnd: "ArrowEnd" }, X = 360, Y = "start", j = "end", Q = "width", J = "height", Z = "x", $ = "y"; L.Markers = W, c = E.extend({ init: function (t, e) { this.x = t, this.y = e }, toMatrix: function () { return N.scaling(this.x, this.y) }, toString: function () { return P.format("scale({0},{1})", this.x, this.y) }, invert: function () { return new c(1 / this.x, 1 / this.y) } }), d = E.extend({ init: function (t, e) { this.x = t, this.y = e }, toMatrixVector: function () { return new V(0, 0, 0, 0, this.x, this.y) }, toMatrix: function () { return N.translation(this.x, this.y) }, toString: function () { return P.format("translate({0},{1})", this.x, this.y) }, plus: function (t) { this.x += t.x, this.y += t.y }, times: function (t) { this.x *= t, this.y *= t }, length: function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, normalize: function () { 0 !== this.Length && this.times(1 / this.length()) }, invert: function () { return new d((-this.x), (-this.y)) } }), l = E.extend({ init: function (t, e, i) { this.x = e || 0, this.y = i || 0, this.angle = t }, toString: function () { return this.x && this.y ? P.format("rotate({0},{1},{2})", this.angle, this.x, this.y) : P.format("rotate({0})", this.angle) }, toMatrix: function () { return N.rotation(this.angle, this.x, this.y) }, center: function () { return new B(this.x, this.y) }, invert: function () { return new l(X - this.angle, this.x, this.y) } }), l.ZERO = new l(0), l.create = function (t) { return new l(t.angle, t.x, t.y) }, l.parse = function (t) { var e = t.slice(1, t.length - 1).split(","), i = e[0], n = e[1], o = e[2], s = new l(i, n, o); return s }, u = E.extend({ init: function (t, i, n, o, s, r) { this.translate = new d(t, i), n !== e && o !== e && (this.scale = new c(n, o)), s !== e && (this.rotate = r ? new l(s, r.x, r.y) : new l(s)) }, toString: function () { var t = function (t) { return t ? "" + t : "" }; return t(this.translate) + t(this.rotate) + t(this.scale) }, render: function (t) { t._transform = this, t._renderTransform() }, toMatrix: function () { var t = N.unit(); return this.translate && (t = t.times(this.translate.toMatrix())), this.rotate && (t = t.times(this.rotate.toMatrix())), this.scale && (t = t.times(this.scale.toMatrix())), t }, invert: function () { var t, i, n = this.rotate ? this.rotate.invert() : e, o = n ? n.toMatrix() : N.unit(), s = this.scale ? this.scale.invert() : e, r = s ? s.toMatrix() : N.unit(), a = new B((-this.translate.x), (-this.translate.y)); return a = o.times(r).apply(a), t = new d(a.x, a.y), i = new u, i.translate = t, i.rotate = n, i.scale = s, i } }), f = { _setScale: function () { var t = this.options, e = this._originWidth, i = this._originHeight, n = t.width / e, o = t.height / i; A(n) || (n = 1), A(o) || (o = 1), this._transform.scale = new c(n, o) }, _setTranslate: function () { var t = this.options, e = t.x || 0, i = t.y || 0; this._transform.translate = new d(e, i) }, _initSize: function () { var t = this.options, e = !1; t.autoSize !== !1 && (G(t.width) || G(t.height)) && (this._measure(!0), this._setScale(), e = !0), (G(t.x) || G(t.y)) && (this._setTranslate(), e = !0), e && this._renderTransform() }, _updateSize: function (t) { var e = !1; return this.options.autoSize !== !1 && this._diffNumericOptions(t, [Q, J]) && (e = !0, this._measure(!0), this._setScale()), this._diffNumericOptions(t, [Z, $]) && (e = !0, this._setTranslate()), e && this._renderTransform(), e } }, p = E.extend({ init: function (t) { var e = this; e.options = z({}, e.options, t), e.id = e.options.id, e._originSize = R.empty(), e._transform = new u }, visible: function (t) { return this.drawingContainer().visible(t) }, redraw: function (t) { t && t.id && (this.id = t.id) }, position: function (t, i) { var n = this.options; return G(t) ? (G(i) ? (n.x = t, n.y = i) : t instanceof B && (n.x = t.x, n.y = t.y), this._transform.translate = new d(n.x, n.y), this._renderTransform(), e) : new B(n.x, n.y) }, rotate: function (t, e) { return G(t) && (this._transform.rotate = new l(t, e.x, e.y), this._renderTransform()), this._transform.rotate || l.ZERO }, drawingContainer: function () { return this.drawingElement }, _renderTransform: function () { var t = this._transform.toMatrix(); this.drawingContainer().transform(new H.Matrix(t.a, t.b, t.c, t.d, t.e, t.f)) }, _hover: function () { }, _diffNumericOptions: i, _measure: function (t) { var e, i, n; return !this._measured || t ? (i = this._boundingBox() || new H.Rect, n = i.topLeft(), e = new R(n.x, n.y, i.width(), i.height()), this._originSize = e, this._originWidth = e.width, this._originHeight = e.height, this._measured = !0) : e = this._originSize, e }, _boundingBox: function () { return this.drawingElement.rawBBox() } }), g = p.extend({ init: function (t) { p.fn.init.call(this, t), t = this.options, t.fill = o(t.fill), t.stroke = o(t.stroke) }, options: { stroke: { color: "gray", width: 1 }, fill: { color: K } }, fill: function (t, e) { this._fill({ color: s(t), opacity: e }) }, stroke: function (t, e, i) { this._stroke({ color: s(t), width: e, opacity: i }) }, redraw: function (t) { var e, i; t && (e = t.stroke, i = t.fill, e && this._stroke(o(e)), i && this._fill(o(i)), p.fn.redraw.call(this, t)) }, _hover: function (t) { var e, i = this.drawingElement, n = this.options, s = n.hover; s && s.fill && (e = t ? o(s.fill) : n.fill, i.fill(e.color, e.opacity)) }, _stroke: function (t) { var e, i = this.options; z(i, { stroke: t }), t = i.stroke, e = null, t.width > 0 && (e = { color: t.color, width: t.width, opacity: t.opacity, dashType: t.dashType }), this.drawingElement.options.set("stroke", e) }, _fill: function (t) { var e, i, n, o = this.options; z(o, { fill: t || {} }), e = o.fill, e.gradient ? (i = e.gradient, n = "radial" === i.type ? F.RadialGradient : F.LinearGradient, this.drawingElement.fill(new n(i))) : this.drawingElement.fill(e.color, e.opacity) } }), m = g.extend({ init: function (t) { t = this._textColor(t), g.fn.init.call(this, t), this._font(), this._initText(), this._initSize() }, options: { fontSize: 15, fontFamily: "sans-serif", stroke: { width: 0 }, fill: { color: "black" }, autoSize: !0 }, _initText: function () { var t = this.options; this.drawingElement = new F.Text(G(t.text) ? t.text : "", new H.Point, { font: t.font }), this._fill(), this._stroke() }, _textColor: function (t) { return t && t.color && (t = z({}, t, { fill: { color: t.color } })), t }, _font: function () { var t, e = this.options; e.fontFamily && G(e.fontSize) ? (t = [], e.fontStyle && t.push(e.fontStyle), e.fontWeight && t.push(e.fontWeight), t.push(e.fontSize + (A(e.fontSize) ? "px" : "")), t.push(e.fontFamily), e.font = t.join(" ")) : delete e.font }, content: function (t) { return this.drawingElement.content(t) }, redraw: function (t) { var e, i; t && (e = !1, i = this.options, t = this._textColor(t), g.fn.redraw.call(this, t), (t.fontFamily || G(t.fontSize) || t.fontStyle || t.fontWeight) && (z(i, { fontFamily: t.fontFamily, fontSize: t.fontSize, fontStyle: t.fontStyle, fontWeight: t.fontWeight }), this._font(), this.drawingElement.options.set("font", i.font), e = !0), t.text && (this.content(t.text), e = !0), !this._updateSize(t) && e && this._initSize()) } }), z(m.fn, f), _ = g.extend({ init: function (t) { g.fn.init.call(this, t), this._initPath(), this._setPosition() }, _setPosition: function () { var t = this.options, e = t.x, i = t.y; (G(e) || G(i)) && this.position(e || 0, i || 0) }, redraw: function (t) { t && (g.fn.redraw.call(this, t), this._diffNumericOptions(t, [Q, J]) && this._drawPath(), this._diffNumericOptions(t, [Z, $]) && this._setPosition()) }, _initPath: function () { var t = this.options; this.drawingElement = new F.Path({ stroke: t.stroke, closed: !0 }), this._fill(), this._drawPath() }, _drawPath: function () { var t = this.drawingElement, e = n(this.options), i = e.width, o = e.height; t.segments.elements([a(0, 0), a(i, 0), a(i, o), a(0, o)]) } }), v = g.extend({ init: function (t) { g.fn.init.call(this, t); var e = this.options.anchor; this.anchor = new H.Point(e.x, e.y), this.createElement() }, options: { stroke: { color: K, width: 0 }, fill: { color: "black" } }, _transformToPath: function (t, e) { var i = e.transform(); return t && i && (t = t.transformCopy(i)), t }, redraw: function (t) { t && (t.position && (this.options.position = t.position), g.fn.redraw.call(this, t)) } }), y = v.extend({ options: { radius: 4, anchor: { x: 0, y: 0 } }, createElement: function () { var t = this.options; this.drawingElement = new F.Circle(new H.Circle(this.anchor, t.radius), { fill: t.fill, stroke: t.stroke }) }, positionMarker: function (t) { var e, i, n = this.options, o = n.position, s = t.segments; e = o == Y ? s[0] : s[s.length - 1], e && (i = this._transformToPath(e.anchor(), t), this.drawingElement.transform(H.transform().translate(i.x, i.y))) } }), w = v.extend({ options: { path: "M 0 0 L 10 5 L 0 10 L 3 5 z", anchor: { x: 10, y: 5 } }, createElement: function () { var t = this.options; this.drawingElement = F.Path.parse(t.path, { fill: t.fill, stroke: t.stroke }) }, positionMarker: function (t) { var e, i, n = this._linePoints(t), o = n.start, s = n.end, a = H.transform(); o && a.rotate(r(o, s), s), s && (e = this.anchor, i = s.clone().translate(-e.x, -e.y), a.translate(i.x, i.y)), this.drawingElement.transform(a) }, _linePoints: function (t) { var e, i, n, o, s, r = this.options, a = t.segments; if (r.position == Y ? (n = a[0], n && (i = n.anchor(), e = n.controlOut(), o = a[1], !e && o && (e = o.anchor()))) : (n = a[a.length - 1], n && (i = n.anchor(), e = n.controlIn(), s = a[a.length - 2], !e && s && (e = s.anchor()))), i) return { start: this._transformToPath(e, t), end: this._transformToPath(i, t) } } }), x = { _getPath: function (t) { var e = this.drawingElement; if (e instanceof F.MultiPath && (e = t == Y ? e.paths[0] : e.paths[e.paths.length - 1]), e && e.segments.length) return e }, _normalizeMarkerOptions: function (t) { var e = t.startCap, i = t.endCap; U(e) && (t.startCap = { type: e }), U(i) && (t.endCap = { type: i }) }, _removeMarker: function (t) { var e = this._markers[t]; e && (this.drawingContainer().remove(e.drawingElement), delete this._markers[t]) }, _createMarkers: function () { var t = this.options; this._normalizeMarkerOptions(t), this._markers = {}, this._markers[Y] = this._createMarker(t.startCap, Y), this._markers[j] = this._createMarker(t.endCap, j) }, _createMarker: function (t, i) { var n, o, s = (t || {}).type, r = this._getPath(i); return r ? (s == W.filledCircle ? n = y : s == W.arrowStart || s == W.arrowEnd ? n = w : this._removeMarker(i), n ? (o = new n(z({}, t, { position: i })), o.positionMarker(r), this.drawingContainer().append(o.drawingElement), o) : e) : (this._removeMarker(i), e) }, _positionMarker: function (t) { var e, i = this._markers[t]; i && (e = this._getPath(t), e ? i.positionMarker(e) : this._removeMarker(t)) }, _capMap: { start: "startCap", end: "endCap" }, _redrawMarker: function (t, e, i) { var n, o, s, r, a; return this._normalizeMarkerOptions(i), n = this.options, o = this._capMap[e], s = (n[o] || {}).type, r = i[o], a = !1, r ? (n[o] = z({}, n[o], r), r.type && s != r.type ? (this._removeMarker(e), this._markers[e] = this._createMarker(n[o], e), a = !0) : this._markers[e] && this._markers[e].redraw(r)) : t && !this._markers[e] && n[o] && (this._markers[e] = this._createMarker(n[o], e), a = !0), a }, _redrawMarkers: function (t, e) { !this._redrawMarker(t, Y, e) && t && this._positionMarker(Y), !this._redrawMarker(t, j, e) && t && this._positionMarker(j) } }, b = g.extend({ init: function (t) { g.fn.init.call(this, t), this.container = new F.Group, this._createElements(), this._initSize() }, options: { autoSize: !0 }, drawingContainer: function () { return this.container }, data: function (t) { var i = this.options; return t ? (i.data != t && (i.data = t, this._setData(t), this._initSize(), this._redrawMarkers(!0, {})), e) : i.data }, redraw: function (t) { var e, i; t && (g.fn.redraw.call(this, t), e = this.options, i = t.data, G(i) && e.data != i ? (e.data = i, this._setData(i), this._updateSize(t) || this._initSize(), this._redrawMarkers(!0, t)) : (this._updateSize(t), this._redrawMarkers(!1, t))) }, _createElements: function () { var t = this.options; this.drawingElement = F.Path.parse(t.data || "", { stroke: t.stroke }), this._fill(), this.container.append(this.drawingElement), this._createMarkers() }, _setData: function (t) { var e = this.drawingElement, i = F.Path.parse(t || ""), n = i.paths.slice(0); i.paths.elements([]), e.paths.elements(n) } }), z(b.fn, f), z(b.fn, x), C = g.extend({ init: function (t) { g.fn.init.call(this, t), this.container = new F.Group, this._initPath(), this._createMarkers() }, drawingContainer: function () { return this.container }, redraw: function (t) { var e, i; t && (t = t || {}, e = t.from, i = t.to, e && (this.options.from = e), i && (this.options.to = i), e || i ? (this._drawPath(), this._redrawMarkers(!0, t)) : this._redrawMarkers(!1, t), g.fn.redraw.call(this, t)) }, _initPath: function () { var t = this.options, e = this.drawingElement = new F.Path({ stroke: t.stroke }); this._fill(), this._drawPath(), this.container.append(e) }, _drawPath: function () { var t = this.options, e = this.drawingElement, i = t.from || new B, n = t.to || new B; e.segments.elements([a(i.x, i.y), a(n.x, n.y)]) } }), z(C.fn, x), S = g.extend({ init: function (t) { g.fn.init.call(this, t), this.container = new F.Group, this._initPath(), this._createMarkers() }, drawingContainer: function () { return this.container }, points: function (t) { var i = this.options; return t ? (i.points = t, this._updatePath(), e) : i.points }, redraw: function (t) { if (t) { var e = t.points; g.fn.redraw.call(this, t), e && this._pointsDiffer(e) ? (this.points(e), this._redrawMarkers(!0, t)) : this._redrawMarkers(!1, t) } }, _initPath: function () { var t = this.options; this.drawingElement = new F.Path({ stroke: t.stroke }), this._fill(), this.container.append(this.drawingElement), t.points && this._updatePath() }, _pointsDiffer: function (t) { var e, i = this.options.points, n = i.length !== t.length; if (!n) for (e = 0; e < t.length; e++)if (i[e].x !== t[e].x || i[e].y !== t[e].y) { n = !0; break } return n }, _updatePath: function () { var t, e, i = this.drawingElement, n = this.options, o = n.points, s = []; for (e = 0; e < o.length; e++)t = o[e], s.push(a(t.x, t.y)); i.segments.elements(s) }, options: { points: [] } }), z(S.fn, x), k = p.extend({ init: function (t) { p.fn.init.call(this, t), this._initImage() }, redraw: function (t) { t && (t.source && this.drawingElement.src(t.source), this._diffNumericOptions(t, [Q, J, Z, $]) && this.drawingElement.rect(this._rect()), p.fn.redraw.call(this, t)) }, _initImage: function () { var t = this.options, e = this._rect(); this.drawingElement = new F.Image(t.source, e, {}) }, _rect: function () { var t = n(this.options), e = new H.Point(t.x, t.y), i = new H.Size(t.width, t.height); return new H.Rect(e, i) } }), T = p.extend({ init: function (t) { this.children = [], p.fn.init.call(this, t), this.drawingElement = new F.Group, this._initSize() }, options: { autoSize: !1 }, append: function (t) { this.drawingElement.append(t.drawingContainer()), this.children.push(t), this._childrenChange = !0 }, remove: function (t) { this._remove(t) && (this._childrenChange = !0) }, _remove: function (t) { var e = q(t, this.children); if (e >= 0) return this.drawingElement.removeAt(e), this.children.splice(e, 1), !0 }, clear: function () { this.drawingElement.clear(), this.children = [], this._childrenChange = !0 }, toFront: function (t) { var e, i; for (i = 0; i < t.length; i++)e = t[i], this._remove(e) && this.append(e) }, toBack: function (t) { this._reorderChildren(t, 0) }, toIndex: function (t, e) { this._reorderChildren(t, e) }, _reorderChildren: function (t, e) { var i, n, o, s, r, a = this.drawingElement, h = a.children.slice(0), c = this.children, d = A(e); for (i = 0; i < t.length; i++)r = t[i], s = r.drawingContainer(), n = q(r, c), n >= 0 && (h.splice(n, 1), c.splice(n, 1), o = d ? e : e[i], h.splice(o, 0, s), c.splice(o, 0, r)); a.clear(), a.append.apply(a, h) }, redraw: function (t) { t && (this._childrenChange ? (this._childrenChange = !1, this._updateSize(t) || this._initSize()) : this._updateSize(t), p.fn.redraw.call(this, t)) }, _boundingBox: function () { var t, e, i, n, o = this.children; for (n = 0; n < o.length; n++)e = o[n], e.visible() && e._includeInBBox !== !1 && (i = e.drawingContainer().clippedBBox(null), i && (t = t ? H.Rect.union(t, i) : i)); return t } }), z(T.fn, f), M = T.extend({ init: function (t, e) { this.children = [], p.fn.init.call(this, e), this.drawingElement = new F.Layout(h(t), e), this._initSize() }, rect: function (t) { if (t) this.drawingElement.rect(h(t)); else { var e = this.drawingElement.rect(); if (e) return new R(e.origin.x, e.origin.y, e.size.width, e.size.height) } }, reflow: function () { this.drawingElement.reflow() }, redraw: function (t) { P.deepExtend(this.drawingElement.options, t), T.fn.redraw.call(this, t) } }), D = g.extend({ init: function (t) { g.fn.init.call(this, t), this._initCircle(), this._initSize() }, redraw: function (t) { if (t) { var e = this.options; t.center && (z(e, { center: t.center }), this._center.move(e.center.x, e.center.y)), this._diffNumericOptions(t, ["radius"]) && this._circle.setRadius(e.radius), this._updateSize(t), g.fn.redraw.call(this, t) } }, _initCircle: function () { var t, e = this.options, i = e.width, n = e.height, o = e.radius; G(o) || (G(i) || (i = n), G(n) || (n = i), e.radius = o = Math.min(i, n) / 2), t = e.center || { x: o, y: o }, this._center = new H.Point(t.x, t.y), this._circle = new H.Circle(this._center, o), this.drawingElement = new F.Circle(this._circle, { stroke: e.stroke }), this._fill() } }), z(D.fn, f), I = E.extend({ init: function (t, e) { e = e || {}, this.element = t, this.surface = F.Surface.create(t, e), P.isFunction(this.surface.translate) && (this.translate = this._translate), this.drawingElement = new F.Group, this._viewBox = new R(0, 0, e.width, e.height), this.size(this._viewBox) }, bounds: function () { var t = this.drawingElement.clippedBBox(); return new R(0, 0, t.width(), t.height()) }, size: function (t) { var e = this._viewBox; return G(t) && (e.width = t.width, e.height = t.height, this.surface.setSize(t)), { width: e.width, height: e.height } }, _translate: function (t, e) { var i = this._viewBox; return G(t) && G(e) && (i.x = t, i.y = e, this.surface.translate({ x: t, y: e })), { x: i.x, y: i.y } }, draw: function () { this.surface.draw(this.drawingElement) }, append: function (t) { return this.drawingElement.append(t.drawingContainer()), this }, remove: function (t) { this.drawingElement.remove(t.drawingContainer()) }, insertBefore: function () { }, clear: function () { this.drawingElement.clear() }, destroy: function (e) { this.surface.destroy(), e && t(this.element).remove() } }), P.deepExtend(L, { init: function (t) { P.init(t, L.ui) }, diffNumericOptions: i, Element: p, Scale: c, Translation: d, Rotation: l, Circle: D, Group: T, Rectangle: _, Canvas: I, Path: b, Layout: M, Line: C, MarkerBase: v, ArrowMarker: w, CircleMarker: y, Polyline: S, CompositeTransform: u, TextBlock: m, Image: k, VisualBase: g }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/services.min", ["kendo.drawing.min", "dataviz/diagram/svg.min"], t) }(function () {
    !function (t, e) {
        function i(t, e) { return e.charCodeAt(0) == t || e.toUpperCase().charCodeAt(0) == t } function n(t, e) { var i; return t.x == -1 && t.y == -1 ? i = e.bottomRight() : 1 == t.x && 1 == t.y ? i = e.topLeft() : t.x == -1 && 1 == t.y ? i = e.topRight() : 1 == t.x && t.y == -1 ? i = e.bottomLeft() : 0 === t.x && t.y == -1 ? i = e.bottom() : 0 === t.x && 1 == t.y ? i = e.top() : 1 == t.x && 0 === t.y ? i = e.left() : t.x == -1 && 0 === t.y && (i = e.right()), i } function o(t) { var e = t.options.editable; return e && e.drag !== !1 } function s(t, e) { var i, n, o, s; for (s = 0; s < t.connectors.length; s++)if (i = t.connectors[s], n = i.position(), o = new q(n.x, n.y), o.inflate(st, st), o.contains(e)) return i } function r(t) { return t.ctrlKey === !1 && t.altKey === !1 && t.shiftKey === !1 } var a, h, c, d, l, u, f, p, g, m, _, v, y, w, x, b, C, S, k, T, M, D, I, P, L, E, z, B, R, N, O, A, U = window.kendo, V = U.dataviz, H = V.diagram, F = U.Class, G = H.Group, q = H.Rect, K = H.Rectangle, W = H.Utils, X = W.isUndefined, Y = H.Point, j = H.Circle, Q = H.Ticker, J = U.deepExtend, Z = U.ui.Movable, $ = U.support.browser, tt = U.drawing.util, et = tt.defined, it = t.inArray, nt = t.proxy, ot = { arrow: "default", grip: "pointer", cross: "pointer", add: "pointer", move: "move", select: "pointer", south: "s-resize", east: "e-resize", west: "w-resize", north: "n-resize", rowresize: "row-resize", colresize: "col-resize" }, st = 10, rt = "Auto", at = "Top", ht = "Right", ct = "Left", dt = "Bottom", lt = 10, ut = 10, ft = "dragStart", pt = "drag", gt = "dragEnd", mt = "itemRotate", _t = "itemBoundsChange", vt = 5, yt = 5, wt = "mouseEnter", xt = "mouseLeave", bt = "zoomStart", Ct = "zoomEnd", St = -2e4, kt = 2e4, Tt = .9, Mt = .93, Dt = 5, It = "transparent", Pt = "pan", Lt = "rotated", Et = "source", zt = "target", Bt = { "-1": Et, 1: zt }; H.Cursors = ot, a = U.Class.extend({ init: function (t) { this.layoutState = t, this.diagram = t.diagram }, initState: function () { function t(t, e) { var i = this.diagram.getShapeById(t); i && (this.subjects.push(i), this.froms.push(i.bounds().topLeft()), this.tos.push(e.topLeft())) } this.froms = [], this.tos = [], this.subjects = [], this.layoutState.nodeMap.forEach(t, this) }, update: function (t) { if (!(this.subjects.length <= 0)) for (var e = 0; e < this.subjects.length; e++)this.subjects[e].position(new Y(this.froms[e].x + (this.tos[e].x - this.froms[e].x) * t, this.froms[e].y + (this.tos[e].y - this.froms[e].y) * t)) } }), h = F.extend({ init: function (t, e, i) { this.animate = !X(i) && i, this._initialState = t, this._finalState = e, this.title = "Diagram layout" }, undo: function () { this.setState(this._initialState) }, redo: function () { this.setState(this._finalState) }, setState: function (t) { var e, i = t.diagram; this.animate ? (t.linkMap.forEach(function (t, e) { var n = i.getShapeById(t); n.visible(!1), n && n.points(e) }), e = new Q, e.addAdapter(new a(t)), e.onComplete(function () { t.linkMap.forEach(function (t) { var e = i.getShapeById(t); e.visible(!0) }) }), e.play()) : (t.nodeMap.forEach(function (t, e) { var n = i.getShapeById(t); n && n.position(e.topLeft()) }), t.linkMap.forEach(function (t, e) { var n = i.getShapeById(t); n && n.points(e) })) } }), c = F.extend({ init: function (t) { this.units = [], this.title = "Composite unit", t !== e && this.units.push(t) }, add: function (t) { this.units.push(t) }, undo: function () { for (var t = 0; t < this.units.length; t++)this.units[t].undo() }, redo: function () { for (var t = 0; t < this.units.length; t++)this.units[t].redo() } }), d = F.extend({ init: function (t, e, i) { this.item = t, this._redoSource = e, this._redoTarget = i, et(e) && (this._undoSource = t.source()), et(i) && (this._undoTarget = t.target()), this.title = "Connection Editing" }, undo: function () { this._undoSource !== e && this.item._updateConnector(this._undoSource, "source"), this._undoTarget !== e && this.item._updateConnector(this._undoTarget, "target"), this.item.updateModel() }, redo: function () { this._redoSource !== e && this.item._updateConnector(this._redoSource, "source"), this._redoTarget !== e && this.item._updateConnector(this._redoTarget, "target"), this.item.updateModel() } }), l = F.extend({ init: function (t, e, i) { this.item = t, this._undoSource = e, this._undoTarget = i, this._redoSource = t.source(), this._redoTarget = t.target(), this.title = "Connection Editing" }, undo: function () { this.item._updateConnector(this._undoSource, "source"), this.item._updateConnector(this._undoTarget, "target"), this.item.updateModel() }, redo: function () { this.item._updateConnector(this._redoSource, "source"), this.item._updateConnector(this._redoTarget, "target"), this.item.updateModel() } }), u = F.extend({ init: function (t) { this.connection = t, this.diagram = t.diagram, this.targetConnector = t.targetConnector, this.title = "Delete connection" }, undo: function () { this.diagram._addConnection(this.connection, !1) }, redo: function () { this.diagram.remove(this.connection, !1) } }), f = F.extend({ init: function (t) { this.shape = t, this.diagram = t.diagram, this.title = "Deletion" }, undo: function () { this.diagram._addShape(this.shape, !1), this.shape.select(!1) }, redo: function () { this.shape.select(!1), this.diagram.remove(this.shape, !1) } }), p = F.extend({ init: function (t, e, i) { var n, o; for (this.shapes = t, this.undoStates = e, this.title = "Transformation", this.redoStates = [], this.adorner = i, n = 0; n < this.shapes.length; n++)o = this.shapes[n], this.redoStates.push(o.bounds()) }, undo: function () { var t, e; for (t = 0; t < this.shapes.length; t++)e = this.shapes[t], e.bounds(this.undoStates[t]), e.hasOwnProperty("layout") && e.layout(e, this.redoStates[t], this.undoStates[t]), e.updateModel(); this.adorner && (this.adorner.refreshBounds(), this.adorner.refresh()) }, redo: function () { var t, e; for (t = 0; t < this.shapes.length; t++)e = this.shapes[t], e.bounds(this.redoStates[t]), e.hasOwnProperty("layout") && e.layout(e, this.undoStates[t], this.redoStates[t]), e.updateModel(); this.adorner && (this.adorner.refreshBounds(), this.adorner.refresh()) } }), g = F.extend({ init: function (t, e) { this.connection = t, this.diagram = e, this.title = "New connection" }, undo: function () { this.diagram.remove(this.connection, !1) }, redo: function () { this.diagram._addConnection(this.connection, !1) } }), m = F.extend({ init: function (t, e) { this.shape = t, this.diagram = e, this.title = "New shape" }, undo: function () { this.diagram.deselect(), this.diagram.remove(this.shape, !1) }, redo: function () { this.diagram._addShape(this.shape, !1) } }), _ = F.extend({ init: function (t, e, i) { this.initial = t, this.finalPos = e, this.diagram = i, this.title = "Pan Unit" }, undo: function () { this.diagram.pan(this.initial) }, redo: function () { this.diagram.pan(this.finalPos) } }), v = F.extend({
            init: function (t, e, i) {
                var n, o; for (this.shapes = e, this.undoRotates = i, this.title = "Rotation", this.redoRotates = [], this.redoAngle = t._angle, this.adorner = t, this.center = t._innerBounds.center(),
                    n = 0; n < this.shapes.length; n++)o = this.shapes[n], this.redoRotates.push(o.rotate().angle)
            }, undo: function () { var t, e; for (t = 0; t < this.shapes.length; t++)e = this.shapes[t], e.rotate(this.undoRotates[t], this.center, !1), e.hasOwnProperty("layout") && e.layout(e), e.updateModel(); this.adorner && (this.adorner._initialize(), this.adorner.refresh()) }, redo: function () { var t, e; for (t = 0; t < this.shapes.length; t++)e = this.shapes[t], e.rotate(this.redoRotates[t], this.center, !1), e.hasOwnProperty("layout") && e.layout(e), e.updateModel(); this.adorner && (this.adorner._initialize(), this.adorner.refresh()) }
        }), y = F.extend({ init: function (t, e, i) { this.diagram = t, this.indices = i, this.items = e, this.title = "Rotate Unit" }, undo: function () { this.diagram._toIndex(this.items, this.indices) }, redo: function () { this.diagram.toFront(this.items, !1) } }), w = F.extend({ init: function (t, e, i) { this.diagram = t, this.indices = i, this.items = e, this.title = "Rotate Unit" }, undo: function () { this.diagram._toIndex(this.items, this.indices) }, redo: function () { this.diagram.toBack(this.items, !1) } }), x = U.Observable.extend({ init: function (t) { U.Observable.fn.init.call(this, t), this.bind(this.events, t), this.stack = [], this.index = 0, this.capacity = 100 }, events: ["undone", "redone"], begin: function () { this.composite = new c }, cancel: function () { this.composite = e }, commit: function (t) { this.composite.units.length > 0 && this._restart(this.composite, t), this.composite = e }, addCompositeItem: function (t) { this.composite ? this.composite.add(t) : this.add(t) }, add: function (t, e) { this._restart(t, e) }, pop: function () { this.index > 0 && (this.stack.pop(), this.index--) }, count: function () { return this.stack.length }, undo: function () { this.index > 0 && (this.index-- , this.stack[this.index].undo(), this.trigger("undone")) }, redo: function () { this.stack.length > 0 && this.index < this.stack.length && (this.stack[this.index].redo(), this.index++ , this.trigger("redone")) }, _restart: function (t, e) { this.stack.splice(this.index, this.stack.length - this.index), this.stack.push(t), e !== !1 ? this.redo() : this.index++ , this.stack.length > this.capacity && (this.stack.splice(0, this.stack.length - this.capacity), this.index = this.capacity) }, clear: function () { this.stack = [], this.index = 0 } }), b = F.extend({ init: function (t) { this.toolService = t }, start: function () { }, move: function () { }, end: function () { }, tryActivate: function () { return !1 }, getCursor: function () { return ot.arrow } }), C = b.extend({ init: function (e) { var i, n, o, s, r = this, a = U.support.mobileOS ? Mt : Tt; b.fn.init.call(r, e), i = r.toolService.diagram, n = i.canvas, o = i.scroller = r.scroller = t(i.scrollable).kendoMobileScroller({ friction: a, velocityMultiplier: Dt, mousewheelScrolling: !1, zoom: !1, scroll: nt(r._move, r) }).data("kendoMobileScroller"), n.translate && (r.movableCanvas = new Z(n.element)), s = function (t, e, i) { t.makeVirtual(), t.virtualSize(e || St, i || kt) }, s(o.dimensions.x), s(o.dimensions.y), o.disable() }, tryActivate: function (t, e) { var i = this.toolService, n = i.diagram.options.pannable, o = e.ctrlKey; return et(n.key) && (o = n.key && "none" != n.key ? e[n.key + "Key"] : r(e) && !et(i.hoveredItem)), n !== !1 && o && !et(i.hoveredAdorner) && !et(i._hoveredConnector) }, start: function () { this.scroller.enable() }, move: function () { }, _move: function (t) { var e = this, i = e.toolService.diagram, n = i.canvas, o = new Y(t.scrollLeft, t.scrollTop); n.translate ? (i._storePan(o.times(-1)), e.movableCanvas.moveTo(o), n.translate(o.x, o.y)) : o = o.plus(i._pan.times(-1)), i.trigger(Pt, { pan: o }) }, end: function () { this.scroller.disable() }, getCursor: function () { return ot.move } }), S = F.extend({ init: function (t) { this.toolService = t }, tryActivate: function () { return !0 }, start: function (t, e) { var i = this.toolService, n = i.diagram, o = i.hoveredItem; o && (i.selectSingle(o, e), o.adorner && (this.adorner = o.adorner, this.handle = this.adorner._hitTest(t))), this.handle || (this.handle = n._resizingAdorner._hitTest(t), this.handle && (this.adorner = n._resizingAdorner)), this.adorner && (this.adorner.isDragHandle(this.handle) && n.trigger(ft, { shapes: this.adorner.shapes, connections: [] }) ? (i.startPoint = t, i.end(t)) : this.adorner.start(t)) }, move: function (t) { this.adorner && (this.adorner.move(this.handle, t), this.adorner.isDragHandle(this.handle) && this.toolService.diagram.trigger(pt, { shapes: this.adorner.shapes, connections: [] })) }, end: function () { var t, i = this.toolService.diagram, n = this.adorner; n && (n.isDragHandle(this.handle) && i.trigger(gt, { shapes: n.shapes, connections: [] }) ? n.cancel() : (t = n.stop(), t && i.undoRedoService.add(t, !1))), this.adorner = e, this.handle = e }, getCursor: function (t) { return this.toolService.hoveredItem ? this.toolService.hoveredItem._getCursor(t) : ot.arrow } }), k = F.extend({ init: function (t) { this.toolService = t }, tryActivate: function (t, e) { var i = this.toolService, n = i.diagram.options.selectable, o = n && n.multiple !== !1; return o && (o = n.key && "none" != n.key ? e[n.key + "Key"] : r(e)), o && !et(i.hoveredItem) && !et(i.hoveredAdorner) }, start: function (t) { var e = this.toolService.diagram; e.deselect(), e.selector.start(t) }, move: function (t) { var e = this.toolService.diagram; e.selector.move(t) }, end: function (t, e) { var i = this.toolService.diagram, n = this.toolService.hoveredItem, o = i.selector.bounds(); n && n.isSelected || e.ctrlKey || i.deselect(), o.isEmpty() || i.selectArea(o), i.selector.end() }, getCursor: function () { return ot.arrow } }), T = F.extend({ init: function (t) { this.toolService = t, this.type = "ConnectionTool" }, tryActivate: function () { return this.toolService._hoveredConnector }, start: function (t, e) { var i = this.toolService, n = i.diagram, s = i._hoveredConnector, r = n._createConnection({}, s._c, t); o(r) && !n.trigger(ft, { shapes: [], connections: [r], connectionHandle: zt }) && n._addConnection(r) ? (i._connectionManipulation(r, s._c.shape, !0), i._removeHover(), i.selectSingle(i.activeConnection, e), "touchmove" == e.type && (n._cachedTouchTarget = s.visual)) : (r.source(null), i.end(t)) }, move: function (t) { var e = this.toolService, i = e.activeConnection; return i.target(t), e.diagram.trigger(pt, { shapes: [], connections: [i], connectionHandle: zt }), !0 }, end: function (t) { var e, i = this.toolService, n = i.diagram, o = i.activeConnection, s = i.hoveredItem, r = i._hoveredConnector, a = n._cachedTouchTarget; o && (e = r && r._c != o.sourceConnector ? r._c : s && s instanceof H.Shape ? s.getConnector(rt) || s.getConnector(t) : t, o.target(e), n.trigger(gt, { shapes: [], connections: [o], connectionHandle: zt }) ? (n.remove(o, !1), n.undoRedoService.pop()) : (o.updateModel(), n._syncConnectionChanges()), i._connectionManipulation(), a && (n._connectorsAdorner.visual.remove(a), n._cachedTouchTarget = null)) }, getCursor: function () { return ot.arrow } }), M = F.extend({ init: function (t) { this.toolService = t, this.type = "ConnectionTool" }, tryActivate: function (t, e) { var i = this.toolService, n = i.diagram, o = n.options.selectable, s = i.hoveredItem, r = o !== !1 && s && s.path && !(s.isSelected && e.ctrlKey); return r && (this._c = s), r }, start: function (t, e) { var i, n, s, r = this.toolService, a = this._c; r.selectSingle(a, e), i = a.adorner, i && (n = i._hitTest(t), s = Bt[n]), o(a) && i && !r.diagram.trigger(ft, { shapes: [], connections: [a], connectionHandle: s }) ? (this.handle = n, this.handleName = s, i.start(t)) : (r.startPoint = t, r.end(t)) }, move: function (t) { var e = this._c.adorner; if (o(this._c) && e) return e.move(this.handle, t), this.toolService.diagram.trigger(pt, { shapes: [], connections: [this._c], connectionHandle: this.handleName }), !0 }, end: function (t) { var e, i = this._c, n = i.adorner, s = this.toolService, r = s.diagram; n && o(i) && (e = n.stop(t), r.trigger(gt, { shapes: [], connections: [i], connectionHandle: this.handleName }) ? e.undo() : (r.undoRedoService.add(e, !1), i.updateModel(), r._syncConnectionChanges())) }, getCursor: function () { return ot.move } }), D = F.extend({ init: function (t) { this.diagram = t, this.tools = [new C(this), new M(this), new T(this), new k(this), new S(this)], this.activeTool = e }, start: function (t, e) { return e = J({}, e), this.activeTool && this.activeTool.end(t, e), this._updateHoveredItem(t), this._activateTool(t, e), this.activeTool.start(t, e), this._updateCursor(t), this.diagram.focus(), this.diagram.canvas.surface.suspendTracking(), this.startPoint = t, !0 }, move: function (t, e) { e = J({}, e); var i = !0; return this.activeTool && (i = this.activeTool.move(t, e)), i && this._updateHoveredItem(t), this._updateCursor(t), !0 }, end: function (t, i) { return i = J({}, i), this.activeTool && this.activeTool.end(t, i), this.diagram.canvas.surface.resumeTracking(), this.activeTool = e, this._updateCursor(t), !0 }, keyDown: function (t, e) { var n, o = this.diagram; if (e = J({ ctrlKey: !1, metaKey: !1, altKey: !1 }, e), !e.ctrlKey && !e.metaKey || e.altKey) { if (46 === t || 8 === t) return n = this.diagram._triggerRemove(o.select()), n.length && (this.diagram.remove(n, !0), this.diagram._syncChanges(), this.diagram._destroyToolBar()), !0; if (27 === t) return this._discardNewConnection(), o.deselect(), o._destroyToolBar(), !0 } else { if (i(t, "a")) return o.selectAll(), o._destroyToolBar(), !0; if (i(t, "z")) return o.undo(), o._destroyToolBar(), !0; if (i(t, "y")) return o.redo(), o._destroyToolBar(), !0; i(t, "c") ? (o.copy(), o._destroyToolBar()) : i(t, "x") ? (o.cut(), o._destroyToolBar()) : i(t, "v") ? (o.paste(), o._destroyToolBar()) : i(t, "l") ? (o.layout(), o._destroyToolBar()) : i(t, "d") && (o._destroyToolBar(), o.copy(), o.paste()) } }, wheel: function (t, e) { var i = this.diagram, n = e.delta, o = i.zoom(), s = i.options, r = s.zoomRate, a = { point: t, meta: e, zoom: o }; if (!i.trigger(bt, a)) return n < 0 ? o += r : o -= r, o = U.dataviz.round(Math.max(s.zoomMin, Math.min(s.zoomMax, o)), 2), a.zoom = o, i.zoom(o, a), i.trigger(Ct, a), !0 }, setTool: function (t, e) { t.toolService = this, this.tools[e] = t }, selectSingle: function (t, e) { var i, n = this.diagram, o = n.options.selectable; o && !t.isSelected && t.options.selectable !== !1 && (i = e.ctrlKey && o.multiple !== !1, n.select(t, { addToSelection: i })) }, _discardNewConnection: function () { this.newConnection && (this.diagram.remove(this.newConnection), this.newConnection = e) }, _activateTool: function (t, e) { var i, n; for (i = 0; i < this.tools.length; i++)if (n = this.tools[i], n.tryActivate(t, e)) { this.activeTool = n; break } }, _updateCursor: function (t) { var e = this.diagram.element, i = this.activeTool ? this.activeTool.getCursor(t) : this.hoveredAdorner ? this.hoveredAdorner._getCursor(t) : this.hoveredItem ? this.hoveredItem._getCursor(t) : ot.arrow; e.css({ cursor: i }), $.msie && 7 == $.version && (e[0].style.cssText = e[0].style.cssText) }, _connectionManipulation: function (t, i, n) { this.activeConnection = t, this.disabledShape = i, this.newConnection = n ? this.activeConnection : e }, _updateHoveredItem: function (t) { var i = this._hitTest(t), n = this.diagram; i == this.hoveredItem || this.disabledShape && i == this.disabledShape || (this.hoveredItem && (n.trigger(xt, { item: this.hoveredItem }), this.hoveredItem._hover(!1)), i && i.options.enable ? (n.trigger(wt, { item: i }), this.hoveredItem = i, this.hoveredItem._hover(!0)) : this.hoveredItem = e) }, _removeHover: function () { this.hoveredItem && (this.hoveredItem._hover(!1), this.hoveredItem = e) }, _hitTest: function (t) { var i, n, o, s, r = this.diagram; if (this._hoveredConnector && (this._hoveredConnector._hover(!1), this._hoveredConnector = e), r._connectorsAdorner._visible && (i = r._connectorsAdorner._hitTest(t))) return i; if (i = this.diagram._resizingAdorner._hitTest(t)) { if (this.hoveredAdorner = r._resizingAdorner, 0 !== i.x || 0 !== i.y) return; i = e } else this.hoveredAdorner = e; if (!this.activeTool || "ConnectionTool" !== this.activeTool.type) { for (s = [], o = 0; o < r._selectedItems.length; o++)n = r._selectedItems[o], n instanceof H.Connection && s.push(n); i = this._hitTestItems(s, t) } return i || this._hitTestElements(t) }, _hitTestElements: function (t) { var e, i, n, o, r = this.diagram, a = this._hitTestItems(r.shapes, t), h = this._hitTestItems(r.connections, t); return this.activeTool && "ConnectionTool" == this.activeTool.type || !a || !h || s(a, t) || (i = r.mainLayer, n = it(a.visual, i.children), o = it(h.visual, i.children), e = n > o ? a : h), e || a || h }, _hitTestItems: function (t, e) { var i, n, o; for (i = t.length - 1; i >= 0; i--)if (n = t[i], o = n._hitTest(e)) return o } }), I = U.Class.extend({ init: function () { } }), P = I.extend({ init: function (t) { var e = this; I.fn.init.call(e), this.connection = t }, hitTest: function (t) { var e = this.getBounds().inflate(st); return !!e.contains(t) && H.Geometry.distanceToPolyline(t, this.connection.allPoints()) < st }, getBounds: function () { var t, e = this.connection.allPoints(), i = e[0], n = e[e.length - 1], o = Math.max(i.x, n.x), s = Math.min(i.x, n.x), r = Math.min(i.y, n.y), a = Math.max(i.y, n.y); for (t = 1; t < e.length - 1; ++t)o = Math.max(o, e[t].x), s = Math.min(s, e[t].x), r = Math.min(r, e[t].y), a = Math.max(a, e[t].y); return new q(s, r, o - s, a - r) } }), L = P.extend({ init: function (t) { var e = this; P.fn.init.call(e), this.connection = t }, route: function () { } }), E = P.extend({ SAME_SIDE_DISTANCE_RATIO: 5, init: function (t) { var e = this; P.fn.init.call(e), this.connection = t }, routePoints: function (t, e, i, n) { var o; return o = i && n ? this._connectorPoints(t, e, i, n) : this._floatingPoints(t, e, i) }, route: function () { var t = this.connection._resolvedSourceConnector, e = this.connection._resolvedTargetConnector, i = this.connection.sourcePoint(), n = this.connection.targetPoint(), o = this.routePoints(i, n, t, e); this.connection.points(o) }, _connectorSides: [{ name: "Top", axis: "y", boundsPoint: "topLeft", secondarySign: 1 }, { name: "Left", axis: "x", boundsPoint: "topLeft", secondarySign: 1 }, { name: "Bottom", axis: "y", boundsPoint: "bottomRight", secondarySign: -1 }, { name: "Right", axis: "x", boundsPoint: "bottomRight", secondarySign: -1 }], _connectorSide: function (t, e) { var i, n, o, s, r, a = t.position(), h = t.shape.bounds(Lt), c = { topLeft: h.topLeft(), bottomRight: h.bottomRight() }, d = this._connectorSides, l = tt.MAX_NUM; for (r = 0; r < d.length; r++)s = d[r], o = s.axis, i = Math.round(Math.abs(a[o] - c[s.boundsPoint][o])), i < l ? (l = i, n = s) : i === l && (a[o] - e[o]) * s.secondarySign > (a[n.axis] - e[n.axis]) * n.secondarySign && (n = s); return n.name }, _sameSideDistance: function (t) { var e = t.shape.bounds(Lt); return Math.min(e.width, e.height) / this.SAME_SIDE_DISTANCE_RATIO }, _connectorPoints: function (t, e, i, n) { var o, s, r = this._connectorSide(i, e), a = this._connectorSide(n, t), h = e.x - t.x, c = e.y - t.y, d = this._sameSideDistance(i), l = []; return r === at || r == dt ? a == at || a == dt ? r == a ? (s = r == at ? Math.min(t.y, e.y) - d : Math.max(t.y, e.y) + d, l = [new Y(t.x, s), new Y(e.x, s)]) : l = [new Y(t.x, t.y + c / 2), new Y(e.x, t.y + c / 2)] : l = [new Y(t.x, e.y)] : a == ct || a == ht ? r == a ? (o = r == ct ? Math.min(t.x, e.x) - d : Math.max(t.x, e.x) + d, l = [new Y(o, t.y), new Y(o, e.y)]) : l = [new Y(t.x + h / 2, t.y), new Y(t.x + h / 2, t.y + c)] : l = [new Y(e.x, t.y)], l }, _floatingPoints: function (t, e, i) { var n, o, s, r = i ? this._connectorSide(i, e) : null, a = this._startHorizontal(t, e, r), h = [t, t, e, e], c = e.x - t.x, d = e.y - t.y, l = h.length; for (s = 1; s < l - 1; ++s)a ? s % 2 !== 0 ? (n = c / (l / 2), o = 0) : (n = 0, o = d / ((l - 1) / 2)) : s % 2 !== 0 ? (n = 0, o = d / (l / 2)) : (n = c / ((l - 1) / 2), o = 0), h[s] = new Y(h[s - 1].x + n, h[s - 1].y + o); return s-- , h[l - 2] = a && s % 2 !== 0 || !a && s % 2 === 0 ? new Y(h[l - 1].x, h[l - 2].y) : new Y(h[l - 2].x, h[l - 1].y), [h[1], h[2]] }, _startHorizontal: function (t, e, i) { var n; return n = null !== i && (i === ht || i === ct) || Math.abs(t.x - e.x) > Math.abs(t.y - e.y) } }), z = F.extend({ init: function (t, e) { var i = this; i.diagram = t, i.options = J({}, i.options, e), i.visual = new G, i.diagram._adorners.push(i) }, refresh: function () { } }), B = z.extend({ init: function (t, e) { var i, n, o, s = this; s.connection = t, i = s.connection.diagram, s._ts = i.toolService, z.fn.init.call(s, i, e), n = s.connection.sourcePoint(), o = s.connection.targetPoint(), s.spVisual = new j(J(s.options.handles, { center: n })), s.epVisual = new j(J(s.options.handles, { center: o })), s.visual.append(s.spVisual), s.visual.append(s.epVisual) }, options: { handles: {} }, _getCursor: function () { return ot.move }, start: function (t) { switch (this.handle = this._hitTest(t), this.startPoint = t, this._initialSource = this.connection.source(), this._initialTarget = this.connection.target(), this.handle) { case -1: this.connection.targetConnector && this._ts._connectionManipulation(this.connection, this.connection.targetConnector.shape); break; case 1: this.connection.sourceConnector && this._ts._connectionManipulation(this.connection, this.connection.sourceConnector.shape) } }, move: function (t, e) { switch (t) { case -1: this.connection.source(e); break; case 1: this.connection.target(e); break; default: var i = e.minus(this.startPoint); this.startPoint = e, this.connection.sourceConnector || this.connection.source(this.connection.sourcePoint().plus(i)), this.connection.targetConnector || this.connection.target(this.connection.targetPoint().plus(i)) }return this.refresh(), !0 }, stop: function (t) { var i, n = this.diagram.toolService, o = n.hoveredItem; return i = n._hoveredConnector ? n._hoveredConnector._c : o && o instanceof H.Shape ? o.getConnector(rt) || o.getConnector(t) : t, this.handle === -1 ? this.connection.source(i) : 1 === this.handle && this.connection.target(i), this.handle = e, this._ts._connectionManipulation(), new l(this.connection, this._initialSource, this._initialTarget) }, _hitTest: function (t) { var e = this.connection.sourcePoint(), i = this.connection.targetPoint(), n = this.options.handles.width / 2 + st, o = this.options.handles.height / 2 + st, s = e.distanceTo(t), r = i.distanceTo(t), a = new q(e.x, e.y).inflate(n, o).contains(t), h = new q(i.x, i.y).inflate(n, o).contains(t), c = 0; return a && (!h || s < r) ? c = -1 : h && (!a || r < s) && (c = 1), c }, refresh: function () { this.spVisual.redraw({ center: this.diagram.modelToLayer(this.connection.sourcePoint()) }), this.epVisual.redraw({ center: this.diagram.modelToLayer(this.connection.targetPoint()) }) } }), R = z.extend({ init: function (t, e) { var i = this; z.fn.init.call(i, t, e), i._refreshHandler = function (t) { t.item == i.shape && i.refresh() } }, show: function (t) { var e, i, n, o = this; for (o._visible = !0, o.shape = t, o.diagram.bind(_t, o._refreshHandler), e = t.connectors.length, o.connectors = [], o._clearVisual(), i = 0; i < e; i++)n = new A(t.connectors[i]), o.connectors.push(n), o.visual.append(n.visual); o.visual.visible(!0), o.refresh() }, _clearVisual: function () { var t = this; t.diagram._cachedTouchTarget ? t._keepCachedTouchTarget() : t.visual.clear() }, _keepCachedTouchTarget: function () { var t, e = this, i = e.visual.children, n = i.length, o = it(e.diagram._cachedTouchTarget, i); for (t = n - 1; t >= 0; t--)t != o && e.visual.remove(i[t]) }, destroy: function () { var t = this; t.diagram.unbind(_t, t._refreshHandler), t.shape = e, t._visible = e, t.visual.visible(!1) }, _hitTest: function (t) { var e, i; for (i = 0; i < this.connectors.length; i++)if (e = this.connectors[i], e._hitTest(t)) { e._hover(!0), this.diagram.toolService._hoveredConnector = e; break } }, refresh: function () { if (this.shape) { var e = this.shape.bounds(); e = this.diagram.modelToLayer(e), this.visual.position(e.topLeft()), t.each(this.connectors, function () { this.refresh() }) } } }), N = z.extend({ init: function (t, e) { var i = this; z.fn.init.call(i, t, e), i._manipulating = !1, i.map = [], i.shapes = [], i._initSelection(), i._createHandles(), i.redraw(), i.diagram.bind("select", function (t) { i._initialize(t.selected) }), i._refreshHandler = function () { i._internalChange || (i.refreshBounds(), i.refresh()) }, i._rotatedHandler = function () { 1 == i.shapes.length && (i._angle = i.shapes[0].rotate().angle), i._refreshHandler() }, i.diagram.bind(_t, i._refreshHandler).bind(mt, i._rotatedHandler), i.refreshBounds(), i.refresh() }, options: { handles: { fill: { color: "#fff" }, stroke: { color: "#282828" }, height: 7, width: 7, hover: { fill: { color: "#282828" }, stroke: { color: "#282828" } } }, selectable: { stroke: { color: "#778899", width: 1, dashType: "dash" }, fill: { color: It } }, offset: 10 }, _initSelection: function () { var t = this, e = t.diagram, i = e.options.selectable, n = J({}, t.options.selectable, i); t.rect = new K(n), t.visual.append(t.rect) }, _resizable: function () { return this.options.editable && this.options.editable.resize !== !1 }, _handleOptions: function () { return (this.options.editable.resize || {}).handles || this.options.handles }, _createHandles: function () { var t, e, i, n; if (this._resizable()) for (t = this._handleOptions(), n = -1; n <= 1; n++)for (i = -1; i <= 1; i++)0 === n && 0 === i || (e = new K(t), e.drawingElement._hover = nt(this._hover, this), this.map.push({ x: n, y: i, visual: e }), this.visual.append(e)) }, bounds: function (t) { return t ? (this._innerBounds = t.clone(), this._bounds = this.diagram.modelToLayer(t).inflate(this.options.offset, this.options.offset), e) : this._bounds }, _hitTest: function (t) { var e, i, n, o, s = this.diagram.modelToLayer(t), r = this.map.length; if (this._angle && (s = s.clone().rotate(this._bounds.center(), this._angle)), this._resizable()) for (e = 0; e < r; e++)if (o = this.map[e], i = new Y(o.x, o.y), n = this._getHandleBounds(i), n.offset(this._bounds.x, this._bounds.y), n.contains(s)) return i; if (this._bounds.contains(s)) return new Y(0, 0) }, _getHandleBounds: function (t) { if (this._resizable()) { var e = this._handleOptions(), i = e.width, n = e.height, o = new q(0, 0, i, n); return t.x < 0 ? o.x = -i / 2 : 0 === t.x ? o.x = Math.floor(this._bounds.width / 2) - i / 2 : t.x > 0 && (o.x = this._bounds.width + 1 - i / 2), t.y < 0 ? o.y = -n / 2 : 0 === t.y ? o.y = Math.floor(this._bounds.height / 2) - n / 2 : t.y > 0 && (o.y = this._bounds.height + 1 - n / 2), o } }, _getCursor: function (t) { var e, i = this._hitTest(t); if (i && i.x >= -1 && i.x <= 1 && i.y >= -1 && i.y <= 1 && this._resizable()) { if (e = this._angle, e && (e = 360 - e, i.rotate(new Y(0, 0), e), i = new Y(Math.round(i.x), Math.round(i.y))), i.x == -1 && i.y == -1) return "nw-resize"; if (1 == i.x && 1 == i.y) return "se-resize"; if (i.x == -1 && 1 == i.y) return "sw-resize"; if (1 == i.x && i.y == -1) return "ne-resize"; if (0 === i.x && i.y == -1) return "n-resize"; if (0 === i.x && 1 == i.y) return "s-resize"; if (1 == i.x && 0 === i.y) return "e-resize"; if (i.x == -1 && 0 === i.y) return "w-resize" } return this._manipulating ? ot.move : ot.select }, _initialize: function () { var t, e, i = this, n = i.diagram.select(); for (i.shapes = [], t = 0; t < n.length; t++)e = n[t], e instanceof H.Shape && (i.shapes.push(e), e._rotationOffset = new Y); i._angle = 1 == i.shapes.length ? i.shapes[0].rotate().angle : 0, i._startAngle = i._angle, i._rotates(), i._positions(), i.refreshBounds(), i.refresh(), i.redraw() }, _rotates: function () { var t, e, i = this; for (i.initialRotates = [], t = 0; t < i.shapes.length; t++)e = i.shapes[t], i.initialRotates.push(e.rotate().angle) }, _positions: function () { var t, e, i = this; for (i.initialStates = [], t = 0; t < i.shapes.length; t++)e = i.shapes[t], i.initialStates.push(e.bounds()) }, _hover: function (t, e) { if (this._resizable()) { var i = this._handleOptions(), n = i.hover, o = i.stroke, s = i.fill; t && W.isDefined(n.stroke) && (o = J({}, o, n.stroke)), t && W.isDefined(n.fill) && (s = n.fill), e.stroke(o.color, o.width, o.opacity), e.fill(s.color, s.opacity) } }, start: function (t) { var e, i; for (this._sp = t, this._cp = t, this._lp = t, this._manipulating = !0, this._internalChange = !0, this.shapeStates = [], e = 0; e < this.shapes.length; e++)i = this.shapes[e], this.shapeStates.push(i.bounds()) }, redraw: function () { var t, e, i = this._resizable(); for (t = 0; t < this.map.length; t++)e = this.map[t], e.visual.visible(i) }, angle: function (t) { return et(t) && (this._angle = t), this._angle }, rotate: function () { var t, e, i = this._innerBounds.center(), n = this.angle(); for (this._internalChange = !0, t = 0; t < this.shapes.length; t++)e = this.shapes[t], n = (n + this.initialRotates[t] - this._startAngle) % 360, e.rotate(n, i); this.refresh() }, move: function (t, i) { var s, r, a, h, c, d, l, u, f, p, g, m, _, v, y = new Y, w = new Y, x = 0; if (t.y === -2 && t.x === -1) { for (h = this._innerBounds.center(), this._angle = this._truncateAngle(W.findAngle(h, i)), d = 0; d < this.shapes.length; d++)c = this.shapes[d], l = (this._angle + this.initialRotates[d] - this._startAngle) % 360, c.rotate(l, h), c.hasOwnProperty("layout") && c.layout(c), this._rotating = !0; this.refresh() } else { if (this.shouldSnap()) { if (m = this._truncateDistance(i.minus(this._lp)), 0 === m.x && 0 === m.y) return this._cp = i, e; s = m, this._lp = new Y(this._lp.x + m.x, this._lp.y + m.y) } else s = i.minus(this._cp); for (this.isDragHandle(t) ? (w = y = s, r = !0) : (this._angle && s.rotate(new Y(0, 0), this._angle), t.x == -1 ? y.x = s.x : 1 == t.x && (w.x = s.x), t.y == -1 ? y.y = s.y : 1 == t.y && (w.y = s.y)), r || (f = n(t, this._innerBounds), p = (this._innerBounds.width + s.x * t.x) / this._innerBounds.width, g = (this._innerBounds.height + s.y * t.y) / this._innerBounds.height), d = 0; d < this.shapes.length; d++) { if (c = this.shapes[d], a = c.bounds(), r) { if (!o(c)) continue; u = this._displaceBounds(a, y, w, r) } else u = a.clone(), u.scale(p, g, f, this._innerBounds.center(), c.rotate().angle), _ = u.center(), _.rotate(a.center(), -this._angle), u = new q(_.x - u.width / 2, _.y - u.height / 2, u.width, u.height); u.width >= c.options.minWidth && u.height >= c.options.minHeight && (v = a, c.bounds(u), c.hasOwnProperty("layout") && c.layout(c, v, u), v.width === u.width && v.height === u.height || c.rotate(c.rotate().angle), x += 1) } x && (x == d ? (u = this._displaceBounds(this._innerBounds, y, w, r), this.bounds(u)) : this.refreshBounds(), this.refresh()), this._positions() } this._cp = i }, isDragHandle: function (t) { return 0 === t.x && 0 === t.y }, cancel: function () { var t, i = this.shapes, n = this.shapeStates; for (t = 0; t < i.length; t++)i[t].bounds(n[t]); this.refreshBounds(), this.refresh(), this._manipulating = e, this._internalChange = e, this._rotating = e }, _truncatePositionToGuides: function (t) { return this.diagram.ruler ? this.diagram.ruler.truncatePositionToGuides(t) : t }, _truncateSizeToGuides: function (t) { return this.diagram.ruler ? this.diagram.ruler.truncateSizeToGuides(t) : t }, _truncateAngle: function (t) { var e = this.snapOptions(), i = Math.max(e.angle || ut, yt); return e ? Math.floor(t % 360 / i) * i : t % 360 }, _truncateDistance: function (t) { var e, i; return t instanceof H.Point ? new H.Point(this._truncateDistance(t.x), this._truncateDistance(t.y)) : (e = this.snapOptions() || {}, i = Math.max(e.size || lt, vt), e ? Math.floor(t / i) * i : t) }, snapOptions: function () { var t = this.diagram.options.editable, e = ((t || {}).drag || {}).snap || {}; return e }, shouldSnap: function () { var t = this.diagram.options.editable, e = (t || {}).drag, i = (e || {}).snap; return t !== !1 && e !== !1 && i !== !1 }, _displaceBounds: function (t, e, i, n) { var o, s = t.topLeft().plus(e), r = t.bottomRight().plus(i), a = q.fromPoints(s, r); return n || (o = a.center(), o.rotate(t.center(), -this._angle), a = new q(o.x - a.width / 2, o.y - a.height / 2, a.width, a.height)), a }, stop: function () { var t, i, n, o; if (this._cp != this._sp) if (this._rotating) t = new v(this, this.shapes, this.initialRotates), this._rotating = !1; else if (this._diffStates()) { if (this.diagram.ruler) for (i = 0; i < this.shapes.length; i++)n = this.shapes[i], o = n.bounds(), o = this._truncateSizeToGuides(this._truncatePositionToGuides(o)), n.bounds(o), this.refreshBounds(), this.refresh(); for (i = 0; i < this.shapes.length; i++)n = this.shapes[i], n.updateModel(); t = new p(this.shapes, this.shapeStates, this), this.diagram._syncShapeChanges() } return this._manipulating = e, this._internalChange = e, this._rotating = e, t }, _diffStates: function () { var t, e = this.shapes, i = this.shapeStates; for (t = 0; t < e.length; t++)if (!e[t].bounds().equals(i[t])) return !0; return !1 }, refreshBounds: function () { var t = 1 == this.shapes.length ? this.shapes[0].bounds().clone() : this.diagram.boundingBox(this.shapes, !0); this.bounds(t) }, refresh: function () { var e, i, n, o, s = this; this.shapes.length > 0 ? (i = this.bounds(), this.visual.visible(!0), this.visual.position(i.topLeft()), t.each(this.map, function () { e = s._getHandleBounds(new Y(this.x, this.y)), this.visual.position(e.topLeft()) }), this.visual.position(i.topLeft()), n = new Y(i.width / 2, i.height / 2), this.visual.rotate(this._angle, n), this.rect.redraw({ width: i.width, height: i.height }), this.rotationThumb && (o = this.options.editable.rotate.thumb, this._rotationThumbBounds = new q(i.center().x, i.y + o.y, 0, 0).inflate(o.width), this.rotationThumb.redraw({ x: i.width / 2 - o.width / 2 }))) : this.visual.visible(!1) } }), O = F.extend({ init: function (t) { var e = t.options.selectable; this.options = J({}, this.options, e), this.visual = new K(this.options), this.diagram = t }, options: { stroke: { color: "#778899", width: 1, dashType: "dash" }, fill: { color: It } }, start: function (t) { this._sp = this._ep = t, this.refresh(), this.diagram._adorn(this, !0) }, end: function () { this._sp = this._ep = e, this.diagram._adorn(this, !1) }, bounds: function (t) { return t && (this._bounds = t), this._bounds }, move: function (t) { this._ep = t, this.refresh() }, refresh: function () { if (this._sp) { var t = q.fromPoints(this.diagram.modelToLayer(this._sp), this.diagram.modelToLayer(this._ep)); this.bounds(q.fromPoints(this._sp, this._ep)), this.visual.position(t.topLeft()), this.visual.redraw({ height: t.height + 1, width: t.width + 1 }) } } }), A = F.extend({ init: function (t) { this.options = J({}, t.options), this._c = t, this.visual = new j(this.options), this.refresh() }, _hover: function (t) { var e = this.options, i = e.hover, n = e.stroke, o = e.fill; t && W.isDefined(i.stroke) && (n = J({}, n, i.stroke)), t && W.isDefined(i.fill) && (o = i.fill), this.visual.redraw({ stroke: n, fill: o }) }, refresh: function () { var t = this._c.shape.diagram.modelToView(this._c.position()), e = t.minus(this._c.shape.bounds("transformed").topLeft()), i = new q(t.x, t.y, 0, 0); i.inflate(this.options.width / 2, this.options.height / 2), this._visualBounds = i, this.visual.redraw({ center: new Y(e.x, e.y) }) }, _hitTest: function (t) { var e = this._c.shape.diagram.modelToView(t); return this._visualBounds.contains(e) } }), J(H, { CompositeUnit: c, TransformUnit: p, PanUndoUnit: _, AddShapeUnit: m, AddConnectionUnit: g, DeleteShapeUnit: f, DeleteConnectionUnit: u, ConnectionEditAdorner: B, ConnectionTool: T, ConnectorVisual: A, UndoRedoService: x, ResizingAdorner: N, Selector: O, ToolService: D, ConnectorsAdorner: R, LayoutUndoUnit: h, ConnectionEditUnit: d, ToFrontUnit: y, ToBackUnit: w, ConnectionRouterBase: I, PolylineRouter: L, CascadingRouter: E, SelectionTool: k, ScrollerTool: C, PointerTool: S, ConnectionEditTool: M, RotateUnit: v })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/layout.min", ["dataviz/diagram/math.min"], t) }(function () {
    !function (t, e) {
        var i = window.kendo, n = i.dataviz.diagram, o = n.Graph, s = n.Node, r = n.Link, a = i.deepExtend, h = n.Size, c = n.Rect, d = n.Dictionary, l = n.Set, u = n.Graph, f = n.Utils, p = n.Point, g = 1e-6, m = Math.PI / 180, _ = f.contains, v = t.grep, y = i.Class.extend({ defaultOptions: { type: "Tree", subtype: "Down", roots: null, animate: !1, limitToView: !1, friction: .9, nodeDistance: 50, iterations: 300, horizontalSeparation: 90, verticalSeparation: 50, underneathVerticalTopOffset: 15, underneathHorizontalOffset: 15, underneathVerticalSeparation: 15, grid: { width: 1500, offsetX: 50, offsetY: 50, componentSpacingX: 20, componentSpacingY: 20 }, layerSeparation: 50, layeredIterations: 2, startRadialAngle: 0, endRadialAngle: 360, radialSeparation: 150, radialFirstLevelSeparation: 200, keepComponentsInOneRadialLayout: !1, ignoreContainers: !0, layoutContainerChildren: !1, ignoreInvisible: !0, animateTransitions: !1 }, init: function () { }, gridLayoutComponents: function (t) { var e, i, n, o, s, r, a, h, c, d, l, u, g, m, _; if (!t) throw "No components supplied."; for (f.forEach(t, function (t) { t.calcBounds() }), t.sort(function (t, e) { return e.bounds.width - t.bounds.width }), e = this.options.grid.width, i = this.options.grid.componentSpacingX, n = this.options.grid.componentSpacingY, o = 0, s = this.options.grid.offsetX, r = this.options.grid.offsetY, a = s, h = r, d = [], l = []; t.length > 0;) { for (a >= e && (a = s, h += o + n, o = 0), u = t.pop(), this.moveToOffset(u, new p(a, h)), c = 0; c < u.nodes.length; c++)l.push(u.nodes[c]); for (c = 0; c < u.links.length; c++)d.push(u.links[c]); g = u.bounds, m = g.height, (m <= 0 || isNaN(m)) && (m = 0), _ = g.width, (_ <= 0 || isNaN(_)) && (_ = 0), m >= o && (o = m), a += _ + i } return { nodes: l, links: d } }, moveToOffset: function (t, e) { var i, n, o, s, r, a, h, d, l = t.bounds, u = e.x - l.x, f = e.y - l.y; for (i = 0; i < t.nodes.length; i++)o = t.nodes[i], s = o.bounds(), 0 === s.width && 0 === s.height && 0 === s.x && 0 === s.y && (s = new c(0, 0, 0, 0)), s.x += u, s.y += f, o.bounds(s); for (i = 0; i < t.links.length; i++)if (r = t.links[i], r.points) { for (a = [], h = r.points, n = 0; n < h.length; n++)d = h[n], d.x += u, d.y += f, a.push(d); r.points = a } return this.currentHorizontalOffset += l.width + this.options.grid.offsetX, new p(u, f) }, transferOptions: function (t) { this.options = i.deepExtend({}, this.defaultOptions), f.isUndefined(t) || (this.options = i.deepExtend(this.options, t || {})) } }), w = i.Class.extend({
            init: function (t) { this.nodeMap = new d, this.shapeMap = new d, this.nodes = [], this.edges = [], this.edgeMap = new d, this.finalNodes = [], this.finalLinks = [], this.ignoredConnections = [], this.ignoredShapes = [], this.hyperMap = new d, this.hyperTree = new o, this.finalGraph = null, this.diagram = t }, convert: function (t) { if (f.isUndefined(this.diagram)) throw "No diagram to convert."; return this.options = i.deepExtend({ ignoreInvisible: !0, ignoreContainers: !0, layoutContainerChildren: !1 }, t || {}), this.clear(), this._renormalizeShapes(), this._renormalizeConnections(), this.finalNodes = new d(this.nodes), this.finalLinks = new d(this.edges), this.finalGraph = new o, this.finalNodes.forEach(function (t) { this.finalGraph.addNode(t) }, this), this.finalLinks.forEach(function (t) { this.finalGraph.addExistingLink(t) }, this), this.finalGraph }, mapConnection: function (t) { return this.edgeMap.get(t.id) }, mapShape: function (t) { return this.nodeMap.get(t.id) }, getEdge: function (t, e) { return f.first(t.links, function (i) { return i.getComplement(t) === e }) }, clear: function () { this.finalGraph = null, this.hyperTree = !this.options.ignoreContainers && this.options.layoutContainerChildren ? new u : null, this.hyperMap = !this.options.ignoreContainers && this.options.layoutContainerChildren ? new d : null, this.nodeMap = new d, this.shapeMap = new d, this.nodes = [], this.edges = [], this.edgeMap = new d, this.ignoredConnections = [], this.ignoredShapes = [], this.finalNodes = [], this.finalLinks = [] }, listToRoot: function (t) { var e = [], i = t.container; if (!i) return e; for (e.push(i); i.parentContainer;)i = i.parentContainer, e.push(i); return e.reverse(), e }, firstNonIgnorableContainer: function (t) { return t.isContainer && !this._isIgnorableItem(t) ? t : t.parentContainer ? this.firstNonIgnorableContainer(t.parentContainer) : null }, isContainerConnection: function (t, e) { return !(!t.isContainer || !this.isDescendantOf(t, e)) || e.isContainer && this.isDescendantOf(e, t) }, isDescendantOf: function (t, e) {
                var i, n, o, s; if (!t.isContainer) throw "Expecting a container.";
                if (t === e) return !1; if (_(t.children, e)) return !0; for (i = [], n = 0, o = t.children.length; n < o; n++)s = t.children[n], s.isContainer && this.isDescendantOf(s, e) && i.push(s); return i.length > 0
            }, isIgnorableItem: function (t) { return this.options.ignoreInvisible ? (!t.isCollapsed || !this._isVisible(t)) && !(!t.isCollapsed && this._isVisible(t)) : t.isCollapsed && !this._isTop(t) }, isShapeMapped: function (t) { return t.isCollapsed && !this._isVisible(t) && !this._isTop(t) }, leastCommonAncestor: function (t, e) { var i, n, o, s, r, a; if (!t) throw "Parameter should not be null."; if (!e) throw "Parameter should not be null."; if (!this.hyperTree) throw "No hypertree available."; if (i = this.listToRoot(t), n = this.listToRoot(e), o = null, f.isEmpty(i) || f.isEmpty(n)) return this.hyperTree.root.data; for (s = i[0], r = n[0], a = 0; s === r && (o = i[a], a++ , !(a >= i.length || a >= n.length));)s = i[a], r = n[a]; return o ? v(this.hyperTree.nodes, function (t) { return t.data.container === o }) : this.hyperTree.root.data }, _isTop: function (t) { return !t.parentContainer }, _isVisible: function (t) { return !!t.visible() && (t.parentContainer ? this._isVisible(t.parentContainer) : t.visible()) }, _isCollapsed: function (t) { return !(!t.isContainer || !t.isCollapsed) || t.parentContainer && this._isCollapsed(t.parentContainer) }, _renormalizeShapes: function () { var t, e, i, n; if (!this.options.ignoreContainers) throw "Containers are not supported yet, but stay tuned."; for (t = 0, e = this.diagram.shapes.length; t < e; t++)i = this.diagram.shapes[t], this.options.ignoreInvisible && !this._isVisible(i) || i.isContainer ? this.ignoredShapes.push(i) : (n = new s(i.id, i), n.isVirtual = !1, this.nodeMap.add(i.id, n), this.nodes.push(n)) }, _renormalizeConnections: function () { var t, e, i, n, o, s, a, h; if (0 !== this.diagram.connections.length) for (t = 0, e = this.diagram.connections.length; t < e; t++)if (i = this.diagram.connections[t], this.isIgnorableItem(i)) this.ignoredConnections.push(i); else if (n = i.sourceConnector ? i.sourceConnector.shape : null, o = i.targetConnector ? i.targetConnector.shape : null, n && o) if (!_(this.ignoredShapes, n) || this.shapeMap.containsKey(n)) if (!_(this.ignoredShapes, o) || this.shapeMap.containsKey(o)) if (this.shapeMap.containsKey(n) && (n = this.shapeMap[n]), this.shapeMap.containsKey(o) && (o = this.shapeMap[o]), s = this.mapShape(n), a = this.mapShape(o), s === a || this.areConnectedAlready(s, a)) this.ignoredConnections.push(i); else { if (null === s || null === a) throw "A shape was not mapped to a node."; if (!this.options.ignoreContainers) throw "Containers are not supported yet, but stay tuned."; s.isVirtual || a.isVirtual ? this.ignoredConnections.push(i) : (h = new r(s, a, i.id, i), this.edgeMap.add(i.id, h), this.edges.push(h)) } else this.ignoredConnections.push(i); else this.ignoredConnections.push(i); else this.ignoredConnections.push(i) }, areConnectedAlready: function (t, e) { return f.any(this.edges, function (i) { return i.source === t && i.target === e || i.source === e && i.target === t }) }
        }), x = y.extend({ init: function (t) { var e = this; if (y.fn.init.call(e), f.isUndefined(t)) throw "Diagram is not specified."; this.diagram = t }, layout: function (t) { var e, i, o, s, r, a; if (this.transferOptions(t), e = new w(this.diagram), i = e.convert(t), !i.isEmpty() && (o = i.getConnectedComponents(), !f.isEmpty(o))) { for (s = 0; s < o.length; s++)r = o[s], this.layoutGraph(r, t); return a = this.gridLayoutComponents(o), new n.LayoutState(this.diagram, a) } }, layoutGraph: function (t, e) { var i, n, o; for (f.isDefined(e) && this.transferOptions(e), this.graph = t, i = 9 * this.options.nodeDistance, this.temperature = i, n = this._expectedBounds(), this.width = n.width, this.height = n.height, o = 0; o < this.options.iterations; o++)this.refineStage = o >= 5 * this.options.iterations / 6, this.tick(), this.temperature = this.refineStage ? i / 30 : i * (1 - o / (2 * this.options.iterations)) }, tick: function () { var t, e, i; for (t = 0; t < this.graph.nodes.length; t++)this._repulsion(this.graph.nodes[t]); for (t = 0; t < this.graph.links.length; t++)this._attraction(this.graph.links[t]); for (t = 0; t < this.graph.nodes.length; t++) { if (e = this.graph.nodes[t], i = Math.sqrt(e.dx * e.dx + e.dy * e.dy), 0 === i) return; e.x += Math.min(i, this.temperature) * e.dx / i, e.y += Math.min(i, this.temperature) * e.dy / i, this.options.limitToView && (e.x = Math.min(this.width, Math.max(e.width / 2, e.x)), e.y = Math.min(this.height, Math.max(e.height / 2, e.y))) } }, _shake: function (t) { var e = Math.random() * this.options.nodeDistance / 4, i = 2 * Math.random() * Math.PI; t.x += e * Math.cos(i), t.y -= e * Math.sin(i) }, _InverseSquareForce: function (t, e, i) { var n, o, s, r, a, h, c; return this.refineStage ? (o = e.x - i.x, s = e.y - i.y, r = e.width / 2, a = e.height / 2, h = i.width / 2, c = i.height / 2, n = Math.pow(o, 2) / Math.pow(r + h + this.options.nodeDistance, 2) + Math.pow(s, 2) / Math.pow(a + c + this.options.nodeDistance, 2)) : n = Math.pow(t, 2) / Math.pow(this.options.nodeDistance, 2), 4 * n / 3 }, _SquareForce: function (t, e, i) { return 1 / this._InverseSquareForce(t, e, i) }, _repulsion: function (t) { t.dx = 0, t.dy = 0, f.forEach(this.graph.nodes, function (e) { var i, n, o, s; if (e !== t) { for (; t.x === e.x && t.y === e.y;)this._shake(e); i = t.x - e.x, n = t.y - e.y, o = Math.sqrt(i * i + n * n), s = 2 * this._SquareForce(o, t, e), t.dx += i / o * s, t.dy += n / o * s } }, this) }, _attraction: function (t) { var e, i, n, o, s, r, a = t.target, h = t.source; if (h !== a) { for (; h.x === a.x && h.y === a.y;)this._shake(a); e = h.x - a.x, i = h.y - a.y, n = Math.sqrt(e * e + i * i), o = 5 * this._InverseSquareForce(n, h, a), s = e / n * o, r = i / n * o, a.dx += s, a.dy += r, h.dx -= s, h.dy -= r } }, _expectedBounds: function () { var t, e, i, n, o, s = this.graph.nodes.length, r = 1.5, a = 4; return 0 === s ? t : (t = f.fold(this.graph.nodes, function (t, e) { var i = e.width * e.height; return i > 0 ? t += Math.sqrt(i) : 0 }, 0, this), e = t / s, i = e * Math.ceil(Math.sqrt(s)), n = i * Math.sqrt(r), o = i / Math.sqrt(r), { width: n * a, height: o * a }) } }), b = i.Class.extend({ init: function (t) { this.center = null, this.options = t }, layout: function (t, e) { if (this.graph = t, this.graph.nodes && 0 !== this.graph.nodes.length) { if (!_(this.graph.nodes, e)) throw "The given root is not in the graph."; this.center = e, this.graph.cacheRelationships(), this.layoutSwitch() } }, layoutLeft: function (t) { var e, i, n, o, s, r, a, c; for (this.setChildrenDirection(this.center, "Left", !1), this.setChildrenLayout(this.center, "Default", !1), e = 0, i = 0, o = 0; o < t.length; o++)s = t[o], s.TreeDirection = "Left", r = this.measure(s, h.Empty), i = Math.max(i, r.Width), e += r.height + this.options.verticalSeparation; for (e -= this.options.verticalSeparation, a = this.center.x - this.options.horizontalSeparation, n = this.center.y + (this.center.height - e) / 2, o = 0; o < t.length; o++)s = t[o], c = new p(a - s.Size.width, n), this.arrange(s, c), n += s.Size.height + this.options.verticalSeparation }, layoutRight: function (t) { var e, i, n, o, s, r, a, c; for (this.setChildrenDirection(this.center, "Right", !1), this.setChildrenLayout(this.center, "Default", !1), e = 0, i = 0, o = 0; o < t.length; o++)s = t[o], s.TreeDirection = "Right", r = this.measure(s, h.Empty), i = Math.max(i, r.Width), e += r.height + this.options.verticalSeparation; for (e -= this.options.verticalSeparation, a = this.center.x + this.options.horizontalSeparation + this.center.width, n = this.center.y + (this.center.height - e) / 2, o = 0; o < t.length; o++)s = t[o], c = new p(a, n), this.arrange(s, c), n += s.Size.height + this.options.verticalSeparation }, layoutUp: function (t) { var e, i, n, o, s, r, a; for (this.setChildrenDirection(this.center, "Up", !1), this.setChildrenLayout(this.center, "Default", !1), e = 0, o = 0; o < t.length; o++)n = t[o], n.TreeDirection = "Up", s = this.measure(n, h.Empty), e += s.width + this.options.horizontalSeparation; for (e -= this.options.horizontalSeparation, r = this.center.x + this.center.width / 2 - e / 2, o = 0; o < t.length; o++)n = t[o], i = this.center.y - this.options.verticalSeparation - n.Size.height, a = new p(r, i), this.arrange(n, a), r += n.Size.width + this.options.horizontalSeparation }, layoutDown: function (t) { var e, i, n, o, s, r, a; for (this.setChildrenDirection(this.center, "Down", !1), this.setChildrenLayout(this.center, "Default", !1), n = 0, i = 0; i < t.length; i++)e = t[i], e.treeDirection = "Down", s = this.measure(e, h.Empty), n += s.width + this.options.horizontalSeparation; for (n -= this.options.horizontalSeparation, r = this.center.x + this.center.width / 2 - n / 2, o = this.center.y + this.options.verticalSeparation + this.center.height, i = 0; i < t.length; i++)e = t[i], a = new p(r, o), this.arrange(e, a), r += e.Size.width + this.options.horizontalSeparation }, layoutRadialTree: function () { var t, e; if (this.setChildrenDirection(this.center, "Radial", !1), this.setChildrenLayout(this.center, "Default", !1), this.previousRoot = null, t = this.options.startRadialAngle * m, e = this.options.endRadialAngle * m, e <= t) throw "Final angle should not be less than the start angle."; this.maxDepth = 0, this.origin = new p(this.center.x, this.center.y), this.calculateAngularWidth(this.center, 0), this.maxDepth > 0 && this.radialLayout(this.center, this.options.radialFirstLevelSeparation, t, e), this.center.Angle = e - t }, tipOverTree: function (t, e) { var i, n, o, s, r, a, c; for (f.isUndefined(e) && (e = 0), this.setChildrenDirection(this.center, "Down", !1), this.setChildrenLayout(this.center, "Default", !1), this.setChildrenLayout(this.center, "Underneath", !1, e), i = 0, s = 0; s < t.length; s++)o = t[s], o.TreeDirection = "Down", r = this.measure(o, h.Empty), i += r.width + this.options.horizontalSeparation; for (i -= this.options.horizontalSeparation, i -= t[t.length - 1].width, i += t[t.length - 1].associatedShape.bounds().width, a = this.center.x + this.center.width / 2 - i / 2, n = this.center.y + this.options.verticalSeparation + this.center.height, s = 0; s < t.length; s++)o = t[s], c = new p(a, n), this.arrange(o, c), a += o.Size.width + this.options.horizontalSeparation }, calculateAngularWidth: function (t, e) { var i, n, o, s, r, a, h; if (e > this.maxDepth && (this.maxDepth = e), i = 0, n = 1e3, o = 1e3, s = 0 === e ? 0 : Math.sqrt(n * n + o * o) / e, t.children.length > 0) { for (r = 0, a = t.children.length; r < a; r++)h = t.children[r], i += this.calculateAngularWidth(h, e + 1); i = Math.max(s, i) } else i = s; return t.sectorAngle = i, i }, sortChildren: function (t) { var e, i, n, o, s, r, a, h, c, d, l, u = 0; if (t.parents.length > 1) throw "Node is not part of a tree."; if (i = t.parents[0], i && (n = new p(i.x, i.y), o = new p(t.x, t.y), u = this.normalizeAngle(Math.atan2(n.y - o.y, n.x - o.x))), s = t.children.length, 0 === s) return null; for (r = [], a = [], e = 0; e < s; ++e)h = t.children[e], c = new p(h.x, h.y), a[e] = e, r[e] = this.normalizeAngle(-u + Math.atan2(c.y - c.y, c.x - c.x)); for (f.bisort(r, a), d = [], l = t.children, e = 0; e < s; ++e)d.push(l[a[e]]); return d }, normalizeAngle: function (t) { for (; t > 2 * Math.PI;)t -= 2 * Math.PI; for (; t < 0;)t += 2 * Math.PI; return t }, radialLayout: function (t, e, i, n) { var o, s, r, a, h, c = n - i, d = c / 2, l = t.sectorAngle, u = 0, f = this.sortChildren(t); for (o = 0, s = f.length; o < s; o++)r = f[o], a = r, h = a.sectorAngle / l, r.children.length > 0 && this.radialLayout(r, e + this.options.radialSeparation, i + u * c, i + (u + h) * c), this.setPolarLocation(r, e, i + u * c + h * d), a.angle = h * c, u += h }, setPolarLocation: function (t, e, i) { t.x = this.origin.x + e * Math.cos(i), t.y = this.origin.y + e * Math.sin(i), t.BoundingRectangle = new c(t.x, t.y, t.width, t.height) }, setChildrenDirection: function (t, e, i) { var n = t.treeDirection; this.graph.depthFirstTraversal(t, function (t) { t.treeDirection = e }), i || (t.treeDirection = n) }, setChildrenLayout: function (t, e, i, n) { f.isUndefined(n) && (n = 0); var o = t.childrenLayout; n > 0 ? (this.graph.assignLevels(t), this.graph.depthFirstTraversal(t, function (t) { t.level >= n + 1 && (t.childrenLayout = e) })) : (this.graph.depthFirstTraversal(t, function (t) { t.childrenLayout = e }), i || (t.childrenLayout = o)) }, measure: function (t, e) { var i, n, o, s, r, a, c, d = 0, l = 0, u = new h(0, 0); if (!t) throw ""; if (n = t.associatedShape.bounds(), o = n.width, s = n.height, 1 !== t.parents.length) throw "Node not in a spanning tree."; if (r = t.parents[0], "Undefined" === t.treeDirection && (t.treeDirection = r.treeDirection), f.isEmpty(t.children)) u = new h(Math.abs(o) < g ? 50 : o, Math.abs(s) < g ? 25 : s); else if (1 === t.children.length) { switch (t.treeDirection) { case "Radial": i = this.measure(t.children[0], e), d = o + this.options.radialSeparation * Math.cos(t.AngleToParent) + i.width, l = s + Math.abs(this.options.radialSeparation * Math.sin(t.AngleToParent)) + i.height; break; case "Left": case "Right": switch (t.childrenLayout) { case "TopAlignedWithParent": break; case "BottomAlignedWithParent": break; case "Underneath": i = this.measure(t.children[0], e), d = o + i.width + this.options.underneathHorizontalOffset, l = s + this.options.underneathVerticalTopOffset + i.height; break; case "Default": i = this.measure(t.children[0], e), d = o + this.options.horizontalSeparation + i.width, l = Math.max(s, i.height); break; default: throw "Unhandled TreeDirection in the Radial layout measuring." }break; case "Up": case "Down": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": i = this.measure(t.children[0], e), d = Math.max(o, i.width + this.options.underneathHorizontalOffset), l = s + this.options.underneathVerticalTopOffset + i.height; break; case "Default": i = this.measure(t.children[0], e), l = s + this.options.verticalSeparation + i.height, d = Math.max(o, i.width); break; default: throw "Unhandled TreeDirection in the Down layout measuring." }break; default: throw "Unhandled TreeDirection in the layout measuring." }u = new h(d, l) } else { switch (t.treeDirection) { case "Left": case "Right": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": for (d = o, l = s + this.options.underneathVerticalTopOffset, a = 0; a < t.children.length; a++)c = t.children[a], i = this.measure(c, e), d = Math.max(d, i.width + this.options.underneathHorizontalOffset), l += i.height + this.options.underneathVerticalSeparation; l -= this.options.underneathVerticalSeparation; break; case "Default": for (d = o, l = 0, a = 0; a < t.children.length; a++)c = t.children[a], i = this.measure(c, e), d = Math.max(d, o + this.options.horizontalSeparation + i.width), l += i.height + this.options.verticalSeparation; l -= this.options.verticalSeparation; break; default: throw "Unhandled TreeDirection in the Right layout measuring." }break; case "Up": case "Down": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": for (d = o, l = s + this.options.underneathVerticalTopOffset, a = 0; a < t.children.length; a++)c = t.children[a], i = this.measure(c, e), d = Math.max(d, i.width + this.options.underneathHorizontalOffset), l += i.height + this.options.underneathVerticalSeparation; l -= this.options.underneathVerticalSeparation; break; case "Default": for (d = 0, l = 0, a = 0; a < t.children.length; a++)c = t.children[a], i = this.measure(c, e), d += i.width + this.options.horizontalSeparation, l = Math.max(l, i.height + this.options.verticalSeparation + s); d -= this.options.horizontalSeparation; break; default: throw "Unhandled TreeDirection in the Down layout measuring." }break; default: throw "Unhandled TreeDirection in the layout measuring." }u = new h(d, l) } return t.SectorAngle = Math.sqrt(d * d / 4 + l * l / 4), t.Size = u, u }, arrange: function (t, e) { var i, n, o, s, r, a, h, d, l = t.associatedShape.bounds(), u = l.width, m = l.height; if (f.isEmpty(t.children)) t.x = e.x, t.y = e.y, t.BoundingRectangle = new c(e.x, e.y, u, m); else switch (t.treeDirection) { case "Left": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": for (d = e, t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), h = e.y + m + this.options.underneathVerticalTopOffset, i = 0; i < s.children.length; i++)s = s.children[i], a = d.x - s.associatedShape.width - this.options.underneathHorizontalOffset, n = new p(a, h), this.arrange(s, n), h += s.Size.height + this.options.underneathVerticalSeparation; break; case "Default": for (d = new p(e.x + t.Size.width - u, e.y + (t.Size.height - m) / 2), t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), a = d.x - this.options.horizontalSeparation, h = e.y, i = 0; i < t.children.length; i++)s = t.children[i], n = new p(a - s.Size.width, h), this.arrange(s, n), h += s.Size.height + this.options.verticalSeparation; break; default: throw "Unsupported TreeDirection" }break; case "Right": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": for (d = e, t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), a = e.x + u + this.options.underneathHorizontalOffset, h = e.y + m + this.options.underneathVerticalTopOffset, i = 0; i < t.children.length; i++)s = t.children[i], n = new p(a, h), this.arrange(s, n), h += s.Size.height + this.options.underneathVerticalSeparation; break; case "Default": for (d = new p(e.x, e.y + (t.Size.height - m) / 2), t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), a = e.x + u + this.options.horizontalSeparation, h = e.y, i = 0; i < t.children.length; i++)s = t.children[i], n = new p(a, h), this.arrange(s, n), h += s.Size.height + this.options.verticalSeparation; break; default: throw "Unsupported TreeDirection" }break; case "Up": if (d = new p(e.x + (t.Size.width - u) / 2, e.y + t.Size.height - m), t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), Math.abs(d.x - e.x) < g) { for (r = 0, i = 0; i < t.children.length; i++)o = t.children[i], r += o.Size.width + this.options.horizontalSeparation; r -= this.options.horizontalSeparation, a = e.x + (u - r) / 2 } else a = e.x; for (i = 0; i < t.children.length; i++)s = t.children[i], h = d.y - this.options.verticalSeparation - s.Size.height, n = new p(a, h), this.arrange(s, n), a += s.Size.width + this.options.horizontalSeparation; break; case "Down": switch (t.childrenLayout) { case "TopAlignedWithParent": case "BottomAlignedWithParent": break; case "Underneath": for (d = e, t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), a = e.x + this.options.underneathHorizontalOffset, h = e.y + m + this.options.underneathVerticalTopOffset, i = 0; i < t.children.length; i++)s = t.children[i], n = new p(a, h), this.arrange(s, n), h += s.Size.height + this.options.underneathVerticalSeparation; break; case "Default": if (d = new p(e.x + (t.Size.width - u) / 2, e.y), t.x = d.x, t.y = d.y, t.BoundingRectangle = new c(t.x, t.y, t.width, t.height), Math.abs(d.x - e.x) < g) { for (r = 0, i = 0; i < t.children.length; i++)o = t.children[i], r += o.Size.width + this.options.horizontalSeparation; r -= this.options.horizontalSeparation, a = e.x + (u - r) / 2 } else a = e.x; for (i = 0; i < t.children.length; i++)s = t.children[i], h = d.y + this.options.verticalSeparation + m, n = new p(a, h), this.arrange(s, n), a += s.Size.width + this.options.horizontalSeparation; break; default: throw "Unsupported TreeDirection" }break; case "None": break; default: throw "Unsupported TreeDirection" } }, layoutSwitch: function () { var t, e, i, n, o, s; if (this.center && !f.isEmpty(this.center.children)) switch (t = this.options.subtype, f.isUndefined(t) && (t = "Down"), s = this.center.children, t.toLowerCase()) { case "radial": case "radialtree": this.layoutRadialTree(); break; case "mindmaphorizontal": case "mindmap": e = this.center.children, 1 === this.center.children.length ? this.layoutRight(e) : (o = s.length / 2, i = v(this.center.children, function (t) { return f.indexOf(s, t) < o }), n = v(this.center.children, function (t) { return f.indexOf(s, t) >= o }), this.layoutLeft(i), this.layoutRight(n)); break; case "mindmapvertical": e = this.center.children, 1 === this.center.children.length ? this.layoutDown(e) : (o = s.length / 2, i = v(this.center.children, function (t) { return f.indexOf(s, t) < o }), n = v(this.center.children, function (t) { return f.indexOf(s, t) >= o }), this.layoutUp(i), this.layoutDown(n)); break; case "right": this.layoutRight(this.center.children); break; case "left": this.layoutLeft(this.center.children); break; case "up": case "bottom": this.layoutUp(this.center.children); break; case "down": case "top": this.layoutDown(this.center.children); break; case "tipover": case "tipovertree": if (this.options.tipOverTreeStartLevel < 0) throw "The tip-over level should be a positive integer."; this.tipOverTree(this.center.children, this.options.tipOverTreeStartLevel); break; case "undefined": case "none": } } }), C = y.extend({ init: function (t) { var e = this; if (y.fn.init.call(e), f.isUndefined(t)) throw "No diagram specified."; this.diagram = t }, layout: function (t) { var e, i; return this.transferOptions(t), e = new w(this.diagram), this.graph = e.convert(), i = this.layoutComponents(), new n.LayoutState(this.diagram, i) }, layoutComponents: function () { var t, e, i, n, o, s, r, a; if (!this.graph.isEmpty() && (t = this.graph.getConnectedComponents(), !f.isEmpty(t))) { for (e = new b(this.options), i = [], n = 0; n < t.length; n++) { if (o = t[n], s = this.getTree(o), !s) throw "Failed to find a spanning tree for the component."; r = s.root, a = s.tree, e.layout(a, r), i.push(a) } return this.gridLayoutComponents(i) } }, getTree: function (t) { var e, i, n, o, s, r = null; if (this.options.roots && this.options.roots.length > 0) for (e = 0, i = t.nodes.length; e < i; e++)for (n = t.nodes[e], o = 0; o < this.options.roots.length; o++)if (s = this.options.roots[o], s === n.associatedShape) { r = n; break } if (!r && (r = t.root(), !r)) throw "Unable to find a root for the tree."; return this.getTreeForRoot(t, r) }, getTreeForRoot: function (t, e) { var i = t.getSpanningTree(e); return f.isUndefined(i) || i.isEmpty() ? null : { tree: i, root: i.root } } }), S = y.extend({
            init: function (t) { var e = this; if (y.fn.init.call(e), f.isUndefined(t)) throw "Diagram is not specified."; this.diagram = t }, layout: function (t) { var e, i, o, s, r, a; if (this.transferOptions(t), e = new w(this.diagram), i = e.convert(t), !i.isEmpty() && (o = i.getConnectedComponents(), !f.isEmpty(o))) { for (s = 0; s < o.length; s++)r = o[s], this.layoutGraph(r, t); return a = this.gridLayoutComponents(o), new n.LayoutState(this.diagram, a) } }, _initRuntimeProperties: function () { var t, e; for (t = 0; t < this.graph.nodes.length; t++)e = this.graph.nodes[t], e.layer = -1, e.downstreamLinkCount = 0, e.upstreamLinkCount = 0, e.isVirtual = !1, e.uBaryCenter = 0, e.dBaryCenter = 0, e.upstreamPriority = 0, e.downstreamPriority = 0, e.gridPosition = 0 }, _prepare: function (t) { var e, i, n, o, s, r, a, h, c, l, u, p = [], g = new d, m = 0; for (f.forEach(t.nodes, function (t) { 0 === t.incoming.length && (g.set(t, 0), p.push(t)) }); p.length > 0;)for (s = p.shift(), e = 0; e < s.outgoing.length; e++)n = s.outgoing[e], r = n.target, o = g.containsKey(r) ? Math.max(g.get(s) + 1, g.get(r)) : g.get(s) + 1, g.set(r, o), o > m && (m = o), _(p, r) || p.push(r); for (a = g.keys(), a.sort(function (t, e) { var i = g.get(t), n = g.get(e); return f.sign(n - i) }), h = 0; h < a.length; ++h)if (c = a[h], l = Number.MAX_VALUE, 0 !== c.outgoing.length) { for (i = 0; i < c.outgoing.length; ++i)n = c.outgoing[i], l = Math.min(l, g.get(n.target)); l > 1 && g.set(c, l - 1) } for (this.layers = [], e = 0; e < m + 1; e++)u = [], u.linksTo = {}, this.layers.push(u); for (g.forEach(function (t, e) { t.layer = e, this.layers[e].push(t) }, this), i = 0; i < this.layers.length; i++)for (u = this.layers[i], e = 0; e < u.length; e++)u[e].gridPosition = e }, layoutGraph: function (t, e) { if (f.isUndefined(t)) throw "No graph given or graph analysis of the diagram failed."; f.isDefined(e) && this.transferOptions(e), this.graph = t, t.setItemIndices(); var i = t.makeAcyclic(); this._initRuntimeProperties(), this._prepare(t, e), this._dummify(), this._optimizeCrossings(), this._swapPairs(), this.arrangeNodes(), this._moveThingsAround(), this._dedummify(), f.forEach(i, function (t) { t.points && t.points.reverse() }) }, setMinDist: function (t, e, i) { var n = t.layer, o = t.layerIndex; this.minDistances[n][o] = i }, getMinDist: function (t, e) { var i, n = 0, o = t.layerIndex, s = e.layerIndex, r = t.layer, a = Math.min(o, s), h = Math.max(o, s); for (i = a; i < h; ++i)n += this.minDistances[r][i]; return n }, placeLeftToRight: function (t) { var e, i, n, o, s, r, a, h, c, l, u = new d; for (n = 0; n < this.layers.length; ++n)if (o = t[n]) { for (e = 0; e < o.length; e++)i = o[e], u.containsKey(i) || this.placeLeft(i, u, n); for (s = Number.POSITIVE_INFINITY, e = 0; e < o.length; e++)i = o[e], r = this.rightSibling(i), r && this.nodeLeftClass.get(r) !== n && (s = Math.min(s, u.get(r) - u.get(i) - this.getMinDist(i, r))); if (s === Number.POSITIVE_INFINITY) { for (a = [], e = 0; e < o.length; e++)for (i = o[e], h = [], f.addRange(h, this.upNodes.get(i)), f.addRange(h, this.downNodes.get(i)), c = 0; c < h.length; c++)l = h[c], this.nodeLeftClass.get(l) < n && a.push(u.get(l) - u.get(i)); a.sort(), s = 0 === a.length ? 0 : a.length % 2 === 1 ? a[this.intDiv(a.length, 2)] : (a[this.intDiv(a.length, 2) - 1] + a[this.intDiv(a.length, 2)]) / 2 } for (e = 0; e < o.length; e++)i = o[e], u.set(i, u.get(i) + s) } return u }, placeRightToLeft: function (t) { var e, i, n, o, s, r, a, h, c, l, u = new d; for (n = 0; n < this.layers.length; ++n)if (o = t[n]) { for (e = 0; e < o.length; e++)i = o[e], u.containsKey(i) || this.placeRight(i, u, n); for (s = Number.NEGATIVE_INFINITY, e = 0; e < o.length; e++)i = o[e], r = this.leftSibling(i), r && this.nodeRightClass.get(r) !== n && (s = Math.max(s, u.get(r) - u.get(i) + this.getMinDist(r, i))); if (s === Number.NEGATIVE_INFINITY) { for (a = [], e = 0; e < o.length; e++)for (i = o[e], h = [], f.addRange(h, this.upNodes.get(i)), f.addRange(h, this.downNodes.get(i)), c = 0; c < h.length; c++)l = h[c], this.nodeRightClass.get(l) < n && a.push(u.get(i) - u.get(l)); a.sort(), s = 0 === a.length ? 0 : a.length % 2 === 1 ? a[this.intDiv(a.length, 2)] : (a[this.intDiv(a.length, 2) - 1] + a[this.intDiv(a.length, 2)]) / 2 } for (e = 0; e < o.length; e++)i = o[e], u.set(i, u.get(i) + s) } return u }, _getLeftWing: function () { var t = { value: null }, e = this.computeClasses(t, 1); return this.nodeLeftClass = t.value, e }, _getRightWing: function () { var t = { value: null }, e = this.computeClasses(t, -1); return this.nodeRightClass = t.value, e }, computeClasses: function (t, e) { var i, n, o, s, r, a, h, c, l, u = 0, f = t.value = new d; for (i = 0; i < this.layers.length; ++i)for (u = i, n = this.layers[i], o = 1 === e ? 0 : n.length - 1; 0 <= o && o < n.length; o += e)if (s = n[o], f.containsKey(s)) u = f.get(s); else if (f.set(s, u), s.isVirtual) for (r = this._nodesInLink(s), a = 0; a < r.length; a++)h = r[a], f.set(h, u); for (c = [], l = 0; l < this.layers.length; l++)c.push(null); return f.forEach(function (t, e) { null === c[e] && (c[e] = []), c[e].push(t) }), c }, _isVerticalLayout: function () { return "up" === this.options.subtype.toLowerCase() || "down" === this.options.subtype.toLowerCase() || "vertical" === this.options.subtype.toLowerCase() }, _isHorizontalLayout: function () { return "right" === this.options.subtype.toLowerCase() || "left" === this.options.subtype.toLowerCase() || "horizontal" === this.options.subtype.toLowerCase() }, _isIncreasingLayout: function () { return "right" === this.options.subtype.toLowerCase() || "down" === this.options.subtype.toLowerCase() }, _moveThingsAround: function () { function t(t, e) { var i, n, o = Number.MIN_VALUE; for (i = 0; i < t.length; ++i)n = t[i], o = e._isVerticalLayout() ? Math.max(o, n.height) : Math.max(o, n.width); return o } var e, i, n, o, s, r, a, h, c, l, u, p, g, m, _, v, y, w, x, b, C, S, k, T, M, D, I; for (i = 0; i < this.layers.length; ++i)o = this.layers[i], o.sort(this._gridPositionComparer); for (this.minDistances = [], i = 0; i < this.layers.length; ++i)for (o = this.layers[i], this.minDistances[i] = [], s = 0; s < o.length; ++s)n = o[s], n.layerIndex = s, this.minDistances[i][s] = this.options.nodeDistance, s < o.length - 1 && (this.minDistances[i][s] += this._isVerticalLayout() ? (n.width + o[s + 1].width) / 2 : (n.height + o[s + 1].height) / 2); for (this.downNodes = new d, this.upNodes = new d, f.forEach(this.graph.nodes, function (t) { this.downNodes.set(t, []), this.upNodes.set(t, []) }, this), f.forEach(this.graph.links, function (t) { var e = t.source, i = t.target, n = null, o = null; e.layer > i.layer ? (n = t.source, o = t.target) : (o = t.source, n = t.target), this.downNodes.get(o).push(n), this.upNodes.get(n).push(o) }, this), this.downNodes.forEachValue(function (t) { t.sort(this._gridPositionComparer) }, this), this.upNodes.forEachValue(function (t) { t.sort(this._gridPositionComparer) }, this), i = 0; i < this.layers.length - 1; ++i)for (o = this.layers[i], r = 0; r < o.length - 1; r++)if (a = o[r], a.isVirtual && (h = this.downNodes.get(a)[0], h.isVirtual)) for (s = r + 1; s < o.length; ++s)n = o[s], n.isVirtual && (c = this.downNodes.get(n)[0], c.isVirtual && h.gridPosition > c.gridPosition && (l = h.gridPosition, h.gridPosition = c.gridPosition, c.gridPosition = l, u = h.layerIndex, p = c.layerIndex, this.layers[i + 1][u] = c, this.layers[i + 1][p] = h, h.layerIndex = p, c.layerIndex = u)); for (g = this._getLeftWing(), m = this._getRightWing(), _ = this.placeLeftToRight(g), v = this.placeRightToLeft(m), y = new d, f.forEach(this.graph.nodes, function (t) { y.set(t, (_.get(t) + v.get(t)) / 2) }), w = new d, x = new d, i = 0; i < this.layers.length; ++i)for (o = this.layers[i], b = -1, C = -1, s = 0; s < o.length; ++s)n = o[s], w.set(n, 0), x.set(n, !1), n.isVirtual && (b === -1 ? b = s : b === s - 1 ? b = s : (C = s, w.set(o[b], 0), y.get(n) - y.get(o[b]) === this.getMinDist(o[b], n) ? x.set(o[b], !0) : x.set(o[b], !1), b = s)); for (S = [1, -1], f.forEach(S, function (t) { var i, n, o, s, r, a, h, c = 1 === t ? 0 : this.layers.length - 1; for (i = c; 0 <= i && i < this.layers.length; i += t) { if (n = this.layers[i], o = this._firstVirtualNode(n), s = null, r = null, o !== -1) for (s = n[o], r = [], e = 0; e < o; e++)r.push(n[e]); else s = null, r = n; if (r.length > 0) { for (this._sequencer(y, null, s, t, r), e = 0; e < r.length - 1; ++e)this.setMinDist(r[e], r[e + 1], y.get(r[e + 1]) - y.get(r[e])); s && this.setMinDist(r[r.length - 1], s, y.get(s) - y.get(r[r.length - 1])) } for (; s;) { if (a = this.nextVirtualNode(n, s)) { if (w.get(s) === t) { for (o = s.layerIndex, h = a.layerIndex, r = [], e = o + 1; e < h; e++)r.push(n[e]); r.length > 0 && this._sequencer(y, s, a, t, r), x.set(s, !0) } } else { for (o = s.layerIndex, r = [], e = o + 1; e < n.length; e++)r.push(n[e]); if (r.length > 0) { for (this._sequencer(y, s, null, t, r), e = 0; e < r.length - 1; ++e)this.setMinDist(r[e], r[e + 1], y.get(r[e + 1]) - y.get(r[e])); this.setMinDist(s, r[0], y.get(r[0]) - y.get(s)) } } s = a } this.adjustDirections(i, t, w, x) } }, this), k = this._isIncreasingLayout() ? 0 : this.layers.length - 1, T = function (t, e) { return e._isIncreasingLayout() ? t < e.layers.length : t >= 0 }, M = this._isIncreasingLayout() ? 1 : -1, D = 0, e = k; T(e, this); e += M) { for (o = this.layers[e], I = t(o, this), s = 0; s < o.length; ++s)n = o[s], this._isVerticalLayout() ? (n.x = y.get(n), n.y = D + I / 2) : (n.x = D + I / 2, n.y = y.get(n)); D += this.options.layerSeparation + I } }, adjustDirections: function (t, e, i, n) { var o, s, r, a, h, c, d, l, u, f, p, g, m, _; if (!(t + e < 0 || t + e >= this.layers.length)) for (o = null, s = null, r = this.layers[t + e], a = 0; a < r.length; ++a)if (h = r[a], h.isVirtual && (c = this.getNeighborOnLayer(h, t), c.isVirtual)) { if (o) { for (d = n.get(s), l = this.layers[t], u = s.layerIndex, f = c.layerIndex, p = u + 1; p < f; ++p)l[p].isVirtual && (d = d && n.get(l[p])); if (d) for (i.set(o, e), g = o.layerIndex, m = h.layerIndex, _ = g + 1; _ < m; ++_)r[_].isVirtual && i.set(r[_], e) } o = h, s = c } }, getNeighborOnLayer: function (t, e) { var i = this.upNodes.get(t)[0]; return i.layer === e ? i : (i = this.downNodes.get(t)[0], i.layer === e ? i : null) }, _sequencer: function (t, e, i, n, o) { if (1 === o.length && this._sequenceSingle(t, e, i, n, o[0]), o.length > 1) { var s = o.length, r = this.intDiv(s, 2); this._sequencer(t, e, i, n, o.slice(0, r)), this._sequencer(t, e, i, n, o.slice(r)), this.combineSequences(t, e, i, n, o) } }, _sequenceSingle: function (t, e, i, n, o) { var s = n === -1 ? this.downNodes.get(o) : this.upNodes.get(o), r = s.length; 0 !== r && (r % 2 === 1 ? t.set(o, t.get(s[this.intDiv(r, 2)])) : t.set(o, (t.get(s[this.intDiv(r, 2) - 1]) + t.get(s[this.intDiv(r, 2)])) / 2), e && t.set(o, Math.max(t.get(o), t.get(e) + this.getMinDist(e, o))), i && t.set(o, Math.min(t.get(o), t.get(i) - this.getMinDist(o, i)))) }, combineSequences: function (t, e, i, n, o) { var s, r, a, h, c, d, l, u, f, p, g = o.length, m = this.intDiv(g, 2), _ = []; for (s = 0; s < m; ++s) { for (r = 0, h = n === -1 ? this.downNodes.get(o[s]) : this.upNodes.get(o[s]), a = 0; a < h.length; ++a)c = h[a], t.get(c) >= t.get(o[s]) ? r++ : (r-- , _.push({ k: t.get(c) + this.getMinDist(o[s], o[m - 1]), v: 2 })); _.push({ k: t.get(o[s]) + this.getMinDist(o[s], o[m - 1]), v: r }) } for (e && _.push({ k: t.get(e) + this.getMinDist(e, o[m - 1]), v: Number.MAX_VALUE }), _.sort(this._positionDescendingComparer), l = [], s = m; s < g; ++s) { for (r = 0, h = n === -1 ? this.downNodes.get(o[s]) : this.upNodes.get(o[s]), a = 0; a < h.length; ++a)c = h[a], t.get(c) <= t.get(o[s]) ? r++ : (r-- , l.push({ k: t.get(c) - this.getMinDist(o[s], o[m]), v: 2 })); l.push({ k: t.get(o[s]) - this.getMinDist(o[s], o[m]), v: r }) } for (i && l.push({ k: t.get(i) - this.getMinDist(i, o[m]), v: Number.MAX_VALUE }), l.sort(this._positionAscendingComparer), u = 0, f = 0, p = this.getMinDist(o[m - 1], o[m]); t.get(o[m]) - t.get(o[m - 1]) < p;)if (u < f) { if (0 === _.length) { t.set(o[m - 1], t.get(o[m]) - p); break } d = _.shift(), u += d.v, t.set(o[m - 1], d.k), t.set(o[m - 1], Math.max(t.get(o[m - 1]), t.get(o[m]) - p)) } else { if (0 === l.length) { t.set(o[m], t.get(o[m - 1]) + p); break } d = l.shift(), f += d.v, t.set(o[m], d.k), t.set(o[m], Math.min(t.get(o[m]), t.get(o[m - 1]) + p)) } for (s = m - 2; s >= 0; s--)t.set(o[s], Math.min(t.get(o[s]), t.get(o[m - 1]) - this.getMinDist(o[s], o[m - 1]))); for (s = m + 1; s < g; s++)t.set(o[s], Math.max(t.get(o[s]), t.get(o[m]) + this.getMinDist(o[s], o[m]))) }, placeLeft: function (t, e, i) { var n = Number.NEGATIVE_INFINITY; f.forEach(this._getComposite(t), function (t) { var o = this.leftSibling(t); o && this.nodeLeftClass.get(o) === this.nodeLeftClass.get(t) && (e.containsKey(o) || this.placeLeft(o, e, i), n = Math.max(n, e.get(o) + this.getMinDist(o, t))) }, this), n === Number.NEGATIVE_INFINITY && (n = 0), f.forEach(this._getComposite(t), function (t) { e.set(t, n) }) }, placeRight: function (t, e, i) { var n = Number.POSITIVE_INFINITY; f.forEach(this._getComposite(t), function (t) { var o = this.rightSibling(t); o && this.nodeRightClass.get(o) === this.nodeRightClass.get(t) && (e.containsKey(o) || this.placeRight(o, e, i), n = Math.min(n, e.get(o) - this.getMinDist(t, o))) }, this), n === Number.POSITIVE_INFINITY && (n = 0), f.forEach(this._getComposite(t), function (t) { e.set(t, n) }) }, leftSibling: function (t) { var e = this.layers[t.layer], i = t.layerIndex; return 0 === i ? null : e[i - 1] }, rightSibling: function (t) { var e = this.layers[t.layer], i = t.layerIndex; return i === e.length - 1 ? null : e[i + 1] }, _getComposite: function (t) { return t.isVirtual ? this._nodesInLink(t) : [t] }, arrangeNodes: function () { var t, e, i, n, o, s, r, a; for (e = 0; e < this.layers.length; e++)for (n = this.layers[e], i = 0; i < n.length; i++)o = n[i], o.upstreamPriority = o.upstreamLinkCount, o.downstreamPriority = o.downstreamLinkCount; for (s = 2, r = 0; r < s; r++) { for (t = this.layers.length - 1; t >= 1; t--)this.layoutLayer(!1, t); for (t = 0; t < this.layers.length - 1; t++)this.layoutLayer(!0, t) } for (a = Number.MAX_VALUE, e = 0; e < this.layers.length; e++)for (n = this.layers[e], i = 0; i < n.length; i++)o = n[i], a = Math.min(a, o.gridPosition); if (a < 0) for (e = 0; e < this.layers.length; e++)for (n = this.layers[e], i = 0; i < n.length; i++)o = n[i], o.gridPosition = o.gridPosition - a }, layoutLayer: function (t, e) {
                var i, n, o, s; for (n = t ? this.layers[i = e + 1] : this.layers[i = e - 1], o = [], s = 0; s < n.length; s++)o.push(n[s]); o.sort(function (t, e) {
                    var i = (t.upstreamPriority + t.downstreamPriority) / 2, n = (e.upstreamPriority + e.downstreamPriority) / 2;
                    return Math.abs(i - n) < 1e-4 ? 0 : i < n ? 1 : -1
                }), f.forEach(o, function (t) { var e = t.gridPosition, i = this.calcBaryCenter(t), o = (t.upstreamPriority + t.downstreamPriority) / 2; if (!(Math.abs(e - i) < 1e-4 || Math.abs(e - i) < .2501)) if (e < i) for (; e < i && this.moveRight(t, n, o);)e = t.gridPosition; else for (; e > i && this.moveLeft(t, n, o);)e = t.gridPosition }, this), i > 0 && this.calcDownData(i - 1), i < this.layers.length - 1 && this.calcUpData(i + 1)
            }, moveRight: function (t, e, i) { var n, o, s = f.indexOf(e, t); return s === e.length - 1 ? (t.gridPosition = t.gridPosition + .5, !0) : (n = e[s + 1], o = (n.upstreamPriority + n.downstreamPriority) / 2, n.gridPosition > t.gridPosition + 1 ? (t.gridPosition = t.gridPosition + .5, !0) : !(o > i || Math.abs(o - i) < 1e-4) && (!!this.moveRight(n, e, i) && (t.gridPosition = t.gridPosition + .5, !0))) }, moveLeft: function (t, e, i) { var n, o, s = f.indexOf(e, t); return 0 === s ? (t.gridPosition = t.gridPosition - .5, !0) : (n = e[s - 1], o = (n.upstreamPriority + n.downstreamPriority) / 2, n.gridPosition < t.gridPosition - 1 ? (t.gridPosition = t.gridPosition - .5, !0) : !(o > i || Math.abs(o - i) < 1e-4) && (!!this.moveLeft(n, e, i) && (t.gridPosition = t.gridPosition - .5, !0))) }, mapVirtualNode: function (t, e) { this.nodeToLinkMap.set(t, e), this.linkToNodeMap.containsKey(e) || this.linkToNodeMap.set(e, []), this.linkToNodeMap.get(e).push(t) }, _nodesInLink: function (t) { return this.linkToNodeMap.get(this.nodeToLinkMap.get(t)) }, _dummify: function () { var t, e, i, n, o, a, h, c, l, u, p, g, m, _, v, y, w, x, b, C; for (this.linkToNodeMap = new d, this.nodeToLinkMap = new d, l = this.graph.links.slice(0), u = this.layers, p = function (t, e, i) { u[t].linksTo[e] = u[t].linksTo[e] || [], u[t].linksTo[e].push(i) }, c = 0; c < l.length; c++)if (g = l[c], m = g.source, _ = g.target, v = m.layer, y = _.layer, w = m.gridPosition, x = _.gridPosition, b = (x - w) / Math.abs(y - v), C = m, v - y > 1) { for (h = v - 1; h > y; h--) { for (i = new s, i.x = m.x, i.y = m.y, i.width = m.width / 100, i.height = m.height / 100, t = u[h], e = (h - y) * b + w, e > t.length && (e = t.length), w >= u[v].length - 1 && x >= u[y].length - 1 ? e = t.length : 0 === w && 0 === x && (e = 0), i.layer = h, i.uBaryCenter = 0, i.dBaryCenter = 0, i.upstreamLinkCount = 0, i.downstreamLinkCount = 0, i.gridPosition = e, i.isVirtual = !0, f.insert(t, i, e), o = e + 1; o < t.length; o++)n = t[o], n.gridPosition = n.gridPosition + 1; a = new r(C, i), a.depthOfDumminess = 0, p(h - 1, h, a), C = i, this.graph._addNode(i), this.graph.addLink(a), i.index = this.graph.nodes.length - 1, this.mapVirtualNode(i, g) } p(y - 1, y, a), g.changeSource(C), g.depthOfDumminess = v - y - 1 } else if (v - y < -1) { for (h = v + 1; h < y; h++) { for (i = new s, i.x = m.x, i.y = m.y, i.width = m.width / 100, i.height = m.height / 100, t = u[h], e = (h - v) * b + w, e > t.length && (e = t.length), w >= u[v].length - 1 && x >= u[y].length - 1 ? e = t.length : 0 === w && 0 === x && (e = 0), i.layer = h, i.uBaryCenter = 0, i.dBaryCenter = 0, i.upstreamLinkCount = 0, i.downstreamLinkCount = 0, i.gridPosition = e, i.isVirtual = !0, e &= e, f.insert(t, i, e), o = e + 1; o < t.length; o++)n = t[o], n.gridPosition = n.gridPosition + 1; a = new r(C, i), a.depthOfDumminess = 0, p(h - 1, h, a), C = i, this.graph._addNode(i), this.graph.addLink(a), i.index = this.graph.nodes.length - 1, this.mapVirtualNode(i, g) } p(y - 1, y, g), g.changeSource(C), g.depthOfDumminess = y - v - 1 } else p(v, y, g) }, _dedummify: function () { for (var t, e, i, n, o, s, r, a, h = !0; h;)for (h = !1, t = 0; t < this.graph.links.length; t++)if (e = this.graph.links[t], e.depthOfDumminess) { for (i = [], i.unshift({ x: e.target.x, y: e.target.y }), i.unshift({ x: e.source.x, y: e.source.y }), n = e, o = e.depthOfDumminess, s = 0; s < o; s++)r = n.source, a = r.incoming[0], i.unshift({ x: a.source.x, y: a.source.y }), n = a; e.changeSource(n.source), e.depthOfDumminess = 0, i.length > 2 ? (i.splice(0, 1), i.splice(i.length - 1), e.points = i) : e.points = [], h = !0; break } }, _optimizeCrossings: function () { for (var t, e = -1, i = 3, n = 0; 0 !== e && !(n++ > i);) { for (e = 0, t = this.layers.length - 1; t >= 1; t--)e += this.optimizeLayerCrossings(!1, t); for (t = 0; t < this.layers.length - 1; t++)e += this.optimizeLayerCrossings(!0, t) } }, calcUpData: function (t) { var e, i, n, o, s, r, a, h, c; if (0 !== t) { for (e = this.layers[t], s = new l, r = this.layers[t - 1], i = 0; i < r.length; i++)s.add(r[i]); for (i = 0; i < e.length; i++) { for (a = e[i], h = 0, c = 0, n = 0; n < a.incoming.length; n++)o = a.incoming[n], s.contains(o.source) && (c++ , h += o.source.gridPosition); for (n = 0; n < a.outgoing.length; n++)o = a.outgoing[n], s.contains(o.target) && (c++ , h += o.target.gridPosition); c > 0 ? (a.uBaryCenter = h / c, a.upstreamLinkCount = c) : (a.uBaryCenter = i, a.upstreamLinkCount = 0) } } }, calcDownData: function (t) { var e, i, n, o, s, r, a, h, c; if (t !== this.layers.length - 1) { for (e = this.layers[t], s = new l, r = this.layers[t + 1], i = 0; i < r.length; i++)s.add(r[i]); for (i = 0; i < e.length; i++) { for (a = e[i], h = 0, c = 0, n = 0; n < a.incoming.length; n++)o = a.incoming[n], s.contains(o.source) && (c++ , h += o.source.gridPosition); for (n = 0; n < a.outgoing.length; n++)o = a.outgoing[n], s.contains(o.target) && (c++ , h += o.target.gridPosition); c > 0 ? (a.dBaryCenter = h / c, a.downstreamLinkCount = c) : (a.dBaryCenter = i, a.downstreamLinkCount = 0) } } }, optimizeLayerCrossings: function (t, e) { var i, n, o, s, r, a, h, c; for (n = t ? this.layers[i = e + 1] : this.layers[i = e - 1], o = n.slice(0), t ? this.calcUpData(i) : this.calcDownData(i), s = this, n.sort(function (t, e) { var i, n = s.calcBaryCenter(t), o = s.calcBaryCenter(e); return Math.abs(n - o) < 1e-4 ? t.degree() === e.degree() ? s.compareByIndex(t, e) : t.degree() < e.degree() ? 1 : -1 : (i = 1e3 * (o - n), i > 0 ? -1 : i < 0 ? 1 : s.compareByIndex(t, e)) }), a = 0, r = 0; r < n.length; r++)n[r] !== o[r] && a++; if (a > 0) for (h = 0, r = 0; r < n.length; r++)c = n[r], c.gridPosition = h++; return a }, _swapPairs: function () { for (var t, e, i, n, o, s, r, a, h, c, d, l, u, f, p, g, m, _ = this.options.layeredIterations, v = 0; ;) { if (v++ > _) break; for (t = v % 4 <= 1, e = v % 4 === 1, i = t ? 0 : this.layers.length - 1; t ? i <= this.layers.length - 1 : i >= 0; i += t ? 1 : -1) { for (n = this.layers[i], o = !1, s = !0, r = 0, a = 0; a < n.length - 1; a++)h = 0, c = 0, d = 0, s ? (0 !== i && (h = this.countLinksCrossingBetweenTwoLayers(i - 1, i)), i !== this.layers.length - 1 && (c = this.countLinksCrossingBetweenTwoLayers(i, i + 1)), t ? h *= 2 : c *= 2, d = h + c) : d = r, 0 !== d && (l = n[a], u = n[a + 1], f = l.gridPosition, p = u.gridPosition, n[a] = u, n[a + 1] = l, l.gridPosition = p, u.gridPosition = f, h = 0, 0 !== i && (h = this.countLinksCrossingBetweenTwoLayers(i - 1, i)), c = 0, i !== this.layers.length - 1 && (c = this.countLinksCrossingBetweenTwoLayers(i, i + 1)), t ? h *= 2 : c *= 2, g = h + c, m = !1, m = e ? g >= d : g > d, m ? (l = n[a], u = n[a + 1], f = l.gridPosition, p = u.gridPosition, n[a] = u, n[a + 1] = l, l.gridPosition = p, u.gridPosition = f, r = d, s = !1) : (o = !0, s = !0)); o && (i !== this.layers.length - 1 && this.calcUpData(i + 1), 0 !== i && this.calcDownData(i - 1)) } } }, countLinksCrossingBetweenTwoLayers: function (t, e) { var i, n, o, s, r, a, h, c, d, l, u, f, p = this.layers[t].linksTo[e], g = 0, m = p.length; for (h = 0; h < m; h++)for (i = p[h], c = h + 1; c < m; c++)n = p[c], i.target.layer === e ? (o = i.source, s = i.target) : (o = i.target, s = i.source), n.target.layer === e ? (r = n.source, a = n.target) : (r = n.target, a = n.source), d = o.gridPosition, l = s.gridPosition, u = r.gridPosition, f = a.gridPosition, (d - u) * (l - f) < 0 && g++; return g }, calcBaryCenter: function (t) { var e = t.upstreamLinkCount, i = t.downstreamLinkCount, n = t.uBaryCenter, o = t.dBaryCenter; return e > 0 && i > 0 ? (n + o) / 2 : e > 0 ? n : i > 0 ? o : 0 }, _gridPositionComparer: function (t, e) { return t.gridPosition < e.gridPosition ? -1 : t.gridPosition > e.gridPosition ? 1 : 0 }, _positionAscendingComparer: function (t, e) { return t.k < e.k ? -1 : t.k > e.k ? 1 : 0 }, _positionDescendingComparer: function (t, e) { return t.k < e.k ? 1 : t.k > e.k ? -1 : 0 }, _firstVirtualNode: function (t) { for (var e = 0; e < t.length; e++)if (t[e].isVirtual) return e; return -1 }, compareByIndex: function (t, e) { var i = t.index, n = e.index; return i < n ? 1 : i > n ? -1 : 0 }, intDiv: function (t, e) { return (t - t % e) / e }, nextVirtualNode: function (t, e) { var i, n = e.layerIndex; for (i = n + 1; i < t.length; ++i)if (t[i].isVirtual) return t[i]; return null }
        }), k = i.Class.extend({ init: function (t, e) { if (f.isUndefined(t)) throw "No diagram given"; this.diagram = t, this.nodeMap = new d, this.linkMap = new d, this.capture(e ? e : t) }, capture: function (t) { var e, i, o, s, r, a, h, d, l; if (t instanceof n.Graph) { for (s = 0; s < t.nodes.length; s++)e = t.nodes[s], o = e.associatedShape, this.nodeMap.set(o.visual.id, new c(e.x, e.y, e.width, e.height)); for (s = 0; s < t.links.length; s++)a = t.links[s], r = a.associatedConnection, this.linkMap.set(r.visual.id, a.points()) } else if (t instanceof Array) for (i = t, s = 0; s < i.length; s++)e = i[s], o = e.associatedShape, o && this.nodeMap.set(o.visual.id, new c(e.x, e.y, e.width, e.height)); else if (t.hasOwnProperty("links") && t.hasOwnProperty("nodes")) { for (i = t.nodes, h = t.links, s = 0; s < i.length; s++)e = i[s], o = e.associatedShape, o && this.nodeMap.set(o.visual.id, new c(e.x, e.y, e.width, e.height)); for (s = 0; s < h.length; s++)a = h[s], r = a.associatedConnection, r && this.linkMap.set(r.visual.id, a.points) } else { for (d = this.diagram.shapes, l = this.diagram.connections, s = 0; s < d.length; s++)o = d[s], this.nodeMap.set(o.visual.id, o.bounds()); for (s = 0; s < l.length; s++)r = l[s], this.linkMap.set(r.visual.id, r.points()) } } }); a(n, { init: function (t) { i.init(t, n.ui) }, SpringLayout: x, TreeLayout: C, GraphAdapter: w, LayeredLayout: S, LayoutBase: y, LayoutState: k })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/diagram/dom.min", ["kendo.data.min", "kendo.draganddrop.min", "kendo.toolbar.min", "kendo.editable.min", "kendo.window.min", "kendo.dropdownlist.min", "kendo.dataviz.core.min", "kendo.dataviz.themes.min", "dataviz/diagram/svg.min", "dataviz/diagram/services.min", "dataviz/diagram/layout.min"], t) }(function () {
    !function (t, e) {
        function i(t) { var e = t.originalEvent, i = 0; return e.wheelDelta ? (i = -e.wheelDelta / 40, i = i > 0 ? xt.ceil(i) : xt.floor(i)) : e.detail && (i = e.detail), i } function n(t) { return t.options.name.toLowerCase() === Bt.toLowerCase() } function o(t, e) { var i, o, s, r, a = Ut; for (s = 0; s < e.length; s++)o = e[s], n(o) || (r = t.distanceTo(o.position()), r < a && (a = r, i = o)); return i } function s(t, e) { var i, n, o, s = [], r = t.drawingContainer().children, a = r.length; for (i = 0; i < e.length; i++)for (n = e[i], o = 0; o < a; o++)if (r[o] == n.drawingContainer()) { s.push(o); break } return s } function r(t) { var e = {}; return t = t || {}, mt(t.text) && null !== t.text && (e.text = t.text), mt(t.x) && null !== t.x && (e.x = t.x), mt(t.y) && null !== t.y && (e.y = t.y), mt(t.width) && null !== t.width && (e.width = t.width), mt(t.height) && null !== t.height && (e.height = t.height), mt(t.type) && null !== t.type && (e.type = t.type), e } function a(t) { var e = {}; return t = t || {}, mt(t.text) && null !== t.text && (e.content = t.text), mt(t.type) && null !== t.type && (e.type = t.type), mt(t.from) && null !== t.from && (e.from = t.from), mt(t.fromConnector) && null !== t.fromConnector && (e.fromConnector = t.fromConnector), mt(t.fromX) && null !== t.fromX && (e.fromX = t.fromX), mt(t.fromY) && null !== t.fromY && (e.fromY = t.fromY), mt(t.to) && null !== t.to && (e.to = t.to), mt(t.toConnector) && null !== t.toConnector && (e.toConnector = t.toConnector), mt(t.toX) && null !== t.toX && (e.toX = t.toX), mt(t.toY) && null !== t.toY && (e.toY = t.toY), e } function h(e, i) { var n, o = this.dataSource.reader.model; o && (n = o.fn.fields.text ? "text" : o.idField, t("<input name='" + i.field + "' />").appendTo(e).kendoDropDownList({ dataValueField: o.idField, dataTextField: n, dataSource: this.dataSource.data().toJSON(), optionLabel: " ", valuePrimitive: !0 })) } function c(t) { this.dataItem = t, this.callbacks = [] } function d() { this.items = {} } function l(t) { var e = t; return t instanceof kendo.data.Model && (e = t.toJSON(), e[t.idField] = t._defaultId), e } function u(t) { var e, i, n = [], o = []; for (i = 0; i < t.length; i++)e = t[i], e instanceof x ? o.push(e) : n.push(e); return { shapes: o, connections: n } } function f(t, e) { return t.reader.model ? new t.reader.model(e) : new kendo.data.ObservableObject(e) } function p(t, e) { mt(e[t]) && e.set(t, null) } function g(t, e, i) { var n, o; for (o = 0; o < i.length; o++)n = i[o], e && !mt(e[n]) && (e[n] = t[n]) } function m(t) { var e = t.drawingContainer().clippedBBox(null); 0 === e.origin.x && 0 === e.origin.y || t.position(-e.origin.x, -e.origin.y) } function _(t) { t.preventDefault() } var v, y, w, x, b, C, S, k, T, M, D, I, P = kendo.dataviz, L = kendo.drawing, E = kendo.geometry, z = P.diagram, B = kendo.ui.Widget, R = kendo.Class, N = t.proxy, O = kendo.deepExtend, A = kendo._outerWidth, U = kendo._outerHeight, V = t.extend, H = kendo.data.HierarchicalDataSource, F = z.Canvas, G = z.Group, q = z.Rectangle, K = z.Circle, W = z.CompositeTransform, X = z.Rect, Y = z.Path, j = z.DeleteShapeUnit, Q = z.DeleteConnectionUnit, J = z.TextBlock, Z = z.Image, $ = z.Point, tt = z.Intersect, et = z.ConnectionEditAdorner, it = z.UndoRedoService, nt = z.ToolService, ot = z.Selector, st = z.ResizingAdorner, rt = z.ConnectorsAdorner, at = z.Cursors, ht = z.Utils, ct = kendo.Observable, dt = z.ToBackUnit, lt = z.ToFrontUnit, ut = z.PolylineRouter, ft = z.CascadingRouter, pt = ht.isUndefined, gt = ht.isDefined, mt = L.util.defined, _t = t.isArray, vt = kendo.isFunction, yt = ht.isString, wt = t.isPlainObject, xt = Math, bt = ["sass", "default-v2", "bootstrap-v4"], Ct = ".kendoDiagram", St = "cascading", kt = "itemBoundsChange", Tt = "change", Mt = "click", Dt = "drag", It = "dragEnd", Pt = "dragStart", Lt = "mouseEnter", Et = "mouseLeave", zt = "error", Bt = "Auto", Rt = "Top", Nt = "Right", Ot = "Left", At = "Bottom", Ut = 9007199254740992, Vt = "select", Ht = "itemRotate", Ft = "pan", Gt = "zoomStart", qt = "zoomEnd", Kt = "none", Wt = 600, Xt = 600, Yt = "rectangle", jt = 100, Qt = 100, Jt = 20, Zt = 20, $t = 0, te = "Yellow", ee = Number.MAX_VALUE, ie = -Number.MAX_VALUE, ne = "absolute", oe = "transformed", se = "rotated", re = "transparent", ae = "width", he = "height", ce = "x", de = "y", le = "DOMMouseScroll" + Ct + " mousewheel" + Ct, ue = .05, fe = 5, pe = '<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>', ge = 5; z.DefaultConnectors = [{ name: Rt }, { name: At }, { name: Ot }, { name: Nt }, { name: Bt, position: function (t) { return t.getPosition("center") } }], v = { cancel: { text: "Cancel", imageClass: "k-i-cancel", className: "k-diagram-cancel", iconClass: "k-icon" }, update: { text: "Update", imageClass: "k-i-checkmark", className: "k-diagram-update", iconClass: "k-icon" } }, z.shapeDefaults = function (t) { var e = { type: Yt, path: "", autoSize: !0, visual: null, x: $t, y: $t, minWidth: Jt, minHeight: Zt, width: jt, height: Qt, hover: {}, editable: { connect: !0, tools: [] }, connectors: z.DefaultConnectors, rotation: { angle: 0 } }; return ht.simpleExtend(e, t), e }, y = ct.extend({ init: function (t) { var e = this; e.dataItem = (t || {}).dataItem, ct.fn.init.call(e), e.options = O({ id: z.randomId() }, e.options, t), e.isSelected = !1, e.visual = new G({ id: e.options.id, autoSize: e.options.autoSize }), e.id = e.options.id, e._template() }, options: { hover: {}, cursor: at.grip, content: { align: "center middle" }, selectable: !0, serializable: !0, enable: !0 }, _getCursor: function (t) { return this.adorner ? this.adorner._getCursor(t) : this.options.cursor }, visible: function (t) { return pt(t) ? this.visual.visible() : (this.visual.visible(t), e) }, bounds: function () { }, refresh: function () { this.visual.redraw() }, position: function (t) { this.options.x = t.x, this.options.y = t.y, this.visual.position(t) }, toString: function () { return this.options.id }, serialize: function () { var t = O({}, { options: this.options }); return this.dataItem && (t.dataItem = "" + this.dataItem), t }, _content: function (t) { var i, n, o; return t !== e && (i = this.options, z.Utils.isString(t) ? i.content.text = t : O(i.content, t), n = i.content, o = this._contentVisual, o ? this._updateContentVisual(n) : this._createContentVisual(n)), this.options.content.text }, _createContentVisual: function (t) { t.text && (this._contentVisual = new J(t), this._contentVisual._includeInBBox = !1, this.visual.append(this._contentVisual)) }, _updateContentVisual: function (t) { this._contentVisual.redraw(t) }, _hitTest: function (t) { var e = this.bounds(); return this.visible() && e.contains(t) && this.options.enable }, _template: function () { var t, e, i = this; i.options.content.template && (t = i.dataItem || {}, e = kendo.template(i.options.content.template, { paramName: "dataItem" }), i.options.content.text = e(t)) }, _canSelect: function () { return this.options.selectable !== !1 }, toJSON: function () { return { id: this.options.id } } }), w = R.extend({ init: function (t, e) { this.options = O({}, this.options, e), this.connections = [], this.shape = t }, options: { width: 7, height: 7, fill: { color: te }, hover: {} }, position: function () { return this.options.position ? this.options.position(this.shape) : this.shape.getPosition(this.options.name) }, toJSON: function () { return { shapeId: "" + this.shape, connector: this.options.name } } }), w.parse = function (t, e) { var i, n, o = e.split(":"), s = o[0], r = o[1] || Bt; for (i = 0; i < t.shapes.length; i++)if (n = t.shapes[i], n.options.id == s) return n.getConnector(r.trim()) }, x = y.extend({ init: function (t, e) { var i = this; y.fn.init.call(i, t), this.diagram = e, this.updateOptionsFromModel(), t = i.options, i.connectors = [], i.type = t.type, i.createShapeVisual(), i.updateBounds(), i.content(i.content()), i._createConnectors() }, options: z.shapeDefaults(), _setOptionsFromModel: function (t) { var e = r(t || this.dataItem); this.options = O({}, this.options, e), this.redrawVisual() }, updateOptionsFromModel: function (t, e) { var i, n; this.diagram && this.diagram._isEditable && (i = r(t || this.dataItem), t && e ? P.inArray(e, ["x", "y", "width", "height"]) ? (n = this.bounds(), n[e] = t[e], this.bounds(n)) : (this.options.visual ? this._redrawVisual() : i.type && (this.options = O({}, this.options, i), this._redrawVisual()), this.options.content && (this._template(), this.content(this.options.content))) : this.options = O({}, this.options, i)) }, _redrawVisual: function () { this.visual.clear(), this._contentVisual = null, this.options.dataItem = this.dataItem, this.createShapeVisual(), this.updateBounds() }, redrawVisual: function () { this._redrawVisual(), this.options.content && (this._template(), this.content(this.options.content)) }, updateModel: function (t) { var e, i, n = this.diagram; n && n._isEditable && (e = this._bounds, i = this.dataItem, i && (n._suspendModelRefresh(), mt(i.x) && e.x !== i.x && i.set("x", e.x), mt(i.y) && e.y !== i.y && i.set("y", e.y), mt(i.width) && e.width !== i.width && i.set("width", e.width), mt(i.height) && e.height !== i.height && i.set("height", e.height), this.dataItem = i, n._resumeModelRefresh(), t && n._syncShapeChanges())) }, updateBounds: function () { var t = this.visual._measure(!0), e = this.options; this.bounds(new X(e.x, e.y, t.width, t.height)), this._rotate(), this._alignContent() }, content: function (t) { var e = this._content(t); return this._alignContent(), e }, _alignContent: function () { var t, e, i, n, o, s = this.options.content || {}, r = this._contentVisual; r && s.align && (t = this.visual._measure(), e = new z.RectAlign(t), i = r.drawingElement.bbox(null), n = new X(0, 0, i.width(), i.height()), o = e.align(n, s.align), r.position(o.topLeft())) }, _createConnectors: function () { var t, e, i = this.options, n = i.connectors.length, o = i.connectorDefaults; for (e = 0; e < n; e++)t = new w(this, O({}, o, i.connectors[e])), this.connectors.push(t) }, bounds: function (t) { var e, i; if (t) if (yt(t)) switch (t) { case oe: e = this._transformedBounds(); break; case ne: e = this._transformedBounds(), i = this.diagram._pan, e.x += i.x, e.y += i.y; break; case se: e = this._rotatedBounds(); break; default: e = this._bounds } else this._setBounds(t), this._triggerBoundsChange(), this.diagram && this.diagram._layouting || this.refreshConnections(); else e = this._bounds; return e }, _setBounds: function (t) { var e = this.options, i = t.topLeft(), n = e.x = i.x, o = e.y = i.y, s = e.width = xt.max(t.width, e.minWidth), r = e.height = xt.max(t.height, e.minHeight); this._bounds = new X(n, o, s, r), this.visual.redraw({ x: n, y: o, width: s, height: r }) }, position: function (t) { return t ? (this.bounds(new X(t.x, t.y, this._bounds.width, this._bounds.height)), e) : this._bounds.topLeft() }, clone: function () { var t = this.serialize(); return t.options.id = z.randomId(), this.diagram && this.diagram._isEditable && mt(this.dataItem) && (t.options.dataItem = l(this.dataItem)), new x(t.options) }, select: function (t) { var e, i, n = this.diagram; if (pt(t) && (t = !0), this._canSelect() && this.isSelected != t) return e = [], i = [], this.isSelected = t, this.isSelected ? (n._selectedItems.push(this), e.push(this)) : (ht.remove(n._selectedItems, this), i.push(this)), n._internalSelection || n._selectionChanged(e, i), !0 }, rotate: function (t, i, n) { var o, s, r, a, h = this.visual.rotate(); return t !== e && (n !== !1 && this.diagram && this.diagram.undoRedoService && t !== h.angle && this.diagram.undoRedoService.add(new z.RotateUnit(this.diagram._resizingAdorner, [this], [h.angle]), !1), o = this.bounds(), s = new $(o.width / 2, o.height / 2), i && (r = t - h.angle, a = o.center().rotate(i, 360 - r).minus(s), this._rotationOffset = this._rotationOffset.plus(a.minus(o.topLeft())), this.position(a)), this.visual.rotate(t, s), this.options.rotation.angle = t, this.diagram && this.diagram._connectorsAdorner && this.diagram._connectorsAdorner.refresh(), this.refreshConnections(), this.diagram && this.diagram.trigger(Ht, { item: this })), h }, connections: function (t) { var e, i, n, o, s, r, a, h = []; for (e = 0; e < this.connectors.length; e++)for (s = this.connectors[e], o = s.connections, i = 0, o; i < o.length; i++)n = o[i], "out" == t ? (r = n.source(), r.shape && r.shape == this && h.push(n)) : "in" == t ? (a = n.target(), a.shape && a.shape == this && h.push(n)) : h.push(n); return h }, refreshConnections: function () { t.each(this.connections(), function () { this.refresh() }) }, getConnector: function (t) { var e, i; if (!yt(t)) return t instanceof $ ? o(t, this.connectors) : this.connectors.length ? this.connectors[0] : null; for (t = t.toLocaleLowerCase(), e = 0; e < this.connectors.length; e++)if (i = this.connectors[e], i.options.name.toLocaleLowerCase() == t) return i }, getPosition: function (t) { var e = this.bounds(), i = t.charAt(0).toLowerCase() + t.slice(1); return vt(e[i]) ? this._transformPoint(e[i]()) : e.center() }, redraw: function (t) { var e, i; t && (e = this.options, this.shapeVisual.redraw(this._visualOptions(t)), this._diffNumericOptions(t, [ae, he, ce, de]) && (this.bounds(new X(e.x, e.y, e.width, e.height)), i = !0), t.connectors && (e.connectors = t.connectors, this._updateConnectors()), e = O(e, t), (t.rotation || i) && this._rotate(), e.content && this.content(e.content)) }, _updateConnectors: function () { var t, e, i, n, o = this.connections(); for (this.connectors = [], this._createConnectors(), n = 0; n < o.length; n++)t = o[n], e = t.source(), i = t.target(), e.shape && e.shape === this ? t.source(this.getConnector(e.options.name) || null) : i.shape && i.shape === this && t.target(this.getConnector(i.options.name) || null), t.updateModel() }, _diffNumericOptions: z.diffNumericOptions, _visualOptions: function (t) { return { data: t.path, source: t.source, hover: t.hover, fill: t.fill, stroke: t.stroke } }, _triggerBoundsChange: function () { this.diagram && this.diagram.trigger(kt, { item: this, bounds: this._bounds.clone() }) }, _transformPoint: function (t) { var e = this.rotate(), i = this.bounds(), n = i.topLeft(); return e.angle && t.rotate(e.center().plus(n), 360 - e.angle), t }, _transformedBounds: function () { var t = this.bounds(), e = t.topLeft(), i = t.bottomRight(); return X.fromPoints(this.diagram.modelToView(e), this.diagram.modelToView(i)) }, _rotatedBounds: function () { var t = this.bounds().rotatedBounds(this.rotate().angle), e = t.topLeft(), i = t.bottomRight(); return X.fromPoints(e, i) }, _rotate: function () { var t = this.options.rotation; t && t.angle && this.rotate(t.angle), this._rotationOffset = new $ }, _hover: function (t) { var e = this.options, i = e.hover, n = e.stroke, o = e.fill; t && gt(i.stroke) && (n = O({}, n, i.stroke)), t && gt(i.fill) && (o = i.fill), this.shapeVisual.redraw({ stroke: n, fill: o }), e.editable && e.editable.connect && this.diagram._showConnectors(this, t) }, _hitTest: function (t) { if (this.visible()) { var e, i = this.bounds(), n = this.rotate().angle; if (t.isEmpty && !t.isEmpty()) return tt.rects(t, i, n ? n : 0); if (e = t.clone().rotate(i.center(), n), i.contains(e)) return this } }, toJSON: function () { return { shapeId: this.options.id } }, createShapeVisual: function () { var t, e = this.options, i = this._visualOptions(e), n = e.visual, o = (e.type + "").toLocaleLowerCase(); i.width = e.width, i.height = e.height, vt(n) ? t = n.call(this, e) : i.data ? (t = new Y(i), m(t)) : t = "rectangle" == o ? new q(i) : "circle" == o ? new K(i) : "text" == o ? new J(i) : "image" == o ? new Z(i) : new Y(i), this.shapeVisual = t, this.visual.append(this.shapeVisual) } }), b = y.extend({
            init: function (t, e, i) { var n = this; y.fn.init.call(n, i), this.updateOptionsFromModel(), this._initRouter(), n.path = new z.Polyline(n.options), n.path.fill(re), n.visual.append(n.path), n._sourcePoint = n._targetPoint = new $, n._setSource(t), n._setTarget(e), n.content(n.options.content), n.definers = [], mt(i) && i.points && n.points(i.points) }, options: { hover: { stroke: {} }, startCap: Kt, endCap: Kt, points: [], selectable: !0, fromConnector: Bt, toConnector: Bt }, _setOptionsFromModel: function (t) { this.updateOptionsFromModel(t || this.dataItem) }, updateOptionsFromModel: function (t) { var e, i, n, o; this.diagram && this.diagram._isEditable && (e = this.diagram._dataMap, i = a(t || this.dataItem), t ? (mt(i.from) ? (n = e[i.from], n && mt(i.fromConnector) && (n = n.getConnector(i.fromConnector)), this.source(n)) : mt(i.fromX) && mt(i.fromY) && this.source(new $(i.fromX, i.fromY)), mt(i.to) ? (o = e[i.to], o && mt(i.toConnector) && (o = o.getConnector(i.toConnector)), this.target(o)) : mt(i.toX) && mt(i.toY) && this.target(new $(i.toX, i.toY)), mt(i.type) && this.type() !== i.type && (this.points([]), this.type(i.type)), this.dataItem = t, this._template(), this.redraw(this.options)) : this.options = O({}, i, this.options)) }, updateModel: function (t) { if (this.diagram && this.diagram._isEditable && this.diagram.connectionsDataSource) { var e = this.diagram.connectionsDataSource.getByUid(this.dataItem.uid); e && (this.diagram._suspendModelRefresh(), mt(this.options.fromX) && null !== this.options.fromX ? (p("from", e), p("fromConnector", e), e.set("fromX", this.options.fromX), e.set("fromY", this.options.fromY)) : (e.set("from", this.options.from), mt(e.fromConnector) && e.set("fromConnector", this.sourceConnector ? this.sourceConnector.options.name : null), p("fromX", e), p("fromY", e)), mt(this.options.toX) && null !== this.options.toX ? (p("to", e), p("toConnector", e), e.set("toX", this.options.toX), e.set("toY", this.options.toY)) : (e.set("to", this.options.to), mt(e.toConnector) && e.set("toConnector", this.targetConnector ? this.targetConnector.options.name : null), p("toX", e), p("toY", e)), mt(this.options.type) && mt(e.type) && e.set("type", this.options.type), this.dataItem = e, this.diagram._resumeModelRefresh(), t && this.diagram._syncConnectionChanges()) } }, sourcePoint: function () { return this._resolvedSourceConnector ? this._resolvedSourceConnector.position() : this._sourcePoint }, _setSource: function (t) { var i, n = t instanceof x, o = this.options.fromConnector || Bt; n && !t.getConnector(o) || (t !== e && (this.from = t), this._removeFromSourceConnector(), null === t ? this.sourceConnector && (this._sourcePoint = (this._resolvedSourceConnector || this.sourceConnector).position(), this._clearSourceConnector(), this._setFromOptions(null, this._sourcePoint)) : t instanceof w ? (i = t.shape.dataItem, i && this._setFromOptions(i.id), this.sourceConnector = t, this.sourceConnector.connections.push(this)) : t instanceof $ ? (this._setFromOptions(null, t), this._sourcePoint = t, this.sourceConnector && this._clearSourceConnector()) : n && (i = t.dataItem, i && this._setFromOptions(i.id), this.sourceConnector = t.getConnector(o), this.sourceConnector.connections.push(this))) }, source: function (t, e) { return gt(t) && (e && this.diagram && this.diagram.undoRedoService.addCompositeItem(new z.ConnectionEditUnit(this, t)), this._setSource(t), this.refresh()), this.sourceConnector ? this.sourceConnector : this._sourcePoint }, _setFromOptions: function (t, e) { this.options.from = t, e ? (this.options.fromX = e.x, this.options.fromY = e.y) : (this.options.fromX = null, this.options.fromY = null) }, sourceDefiner: function (t) { if (!t) return this._sourceDefiner || (this._sourceDefiner = new z.PathDefiner(this.sourcePoint(), null, null)), this._sourceDefiner; if (!(t instanceof z.PathDefiner)) throw "The sourceDefiner needs to be a PathDefiner."; t.left = null, this._sourceDefiner = t, this.source(t.point) }, targetPoint: function () { return this._resolvedTargetConnector ? this._resolvedTargetConnector.position() : this._targetPoint }, _setTarget: function (t) { var i, n = t instanceof x, o = this.options.toConnector || Bt; n && !t.getConnector(o) || (t !== e && (this.to = t), this._removeFromTargetConnector(), null === t ? this.targetConnector && (this._targetPoint = (this._resolvedTargetConnector || this.targetConnector).position(), this._clearTargetConnector(), this._setToOptions(null, this._targetPoint)) : t instanceof w ? (i = t.shape.dataItem, i && this._setToOptions(i.id), this.targetConnector = t, this.targetConnector.connections.push(this)) : t instanceof $ ? (this._setToOptions(null, t), this._targetPoint = t, this.targetConnector && this._clearTargetConnector()) : n && (i = t.dataItem, i && this._setToOptions(i.id), this.targetConnector = t.getConnector(o), this.targetConnector.connections.push(this))) }, target: function (t, i) { return gt(t) && (i && this.diagram && this.diagram.undoRedoService.addCompositeItem(new z.ConnectionEditUnit(this, e, t)), this._setTarget(t), this.refresh()), this.targetConnector ? this.targetConnector : this._targetPoint }, _setToOptions: function (t, e) { this.options.to = t, e ? (this.options.toX = e.x, this.options.toY = e.y) : (this.options.toX = null, this.options.toY = null) }, targetDefiner: function (t) { if (!t) return this._targetDefiner || (this._targetDefiner = new z.PathDefiner(this.targetPoint(), null, null)), this._targetDefiner; if (!(t instanceof z.PathDefiner)) throw "The sourceDefiner needs to be a PathDefiner."; t.right = null, this._targetDefiner = t, this.target(t.point) }, _updateConnectors: function () { this._updateConnector(this.source(), "source"), this._updateConnector(this.target(), "target") }, _updateConnector: function (t, e) { var i, n, o, s, r = this, a = r.diagram; t instanceof w && !a.getShapeById(t.shape.id) ? (i = t.shape.dataItem, n = t.options.name, o = function () { var o = a._dataMap[i.id]; t = o.getConnector(n), r[e](t, !1), r.updateModel() }, a._dataMap[i.id] ? o() : (s = a._inactiveShapeItems.getByUid(i.uid), s && a._deferredConnectionUpdates.push(s.onActivate(o)))) : r[e](t, !1) }, content: function (t) { var e = this._content(t); return mt(t) && this._alignContent(), e }, _createContentVisual: function (t) { var e; return vt(t.visual) ? e = t.visual.call(this, t) : t.text && (e = new J(t)), e && (this._contentVisual = e, e._includeInBBox = !1, this.visual.append(e)), e }, _updateContentVisual: function (t) { vt(t.visual) ? (this.visual.remove(this._contentVisual), this._createContentVisual(t)) : this._contentVisual.redraw(t) }, _alignContent: function () { var t, e, i, n, o, s, r, a, h, c, d, l, u, f, p, g; if (this._contentVisual) { for (t = ge, e = this.allPoints(), i = xt.floor(e.length / 2), n = i - 1; n > 0 && e[n].equals(e[i]);)n-- , i++; o = e[i], s = e[n], r = this._contentVisual._measure(), a = r.width, h = r.height, c = e.length % 2 === 0, d = s.distanceTo(o), c && e.length > 2 && d > 0 && (s.y === o.y && d < a || s.x === o.x && d < h) && (c = !1, t = 0), c ? (u = L.util.deg(xt.atan2(o.y - s.y, o.x - s.x)), l = new $((o.x - s.x) / 2 + s.x, (o.y - s.y) / 2 + s.y), 90 === xt.abs(u) ? (l.x += t, l.y -= h / 2) : u % 180 === 0 ? (l.x -= a / 2, l.y -= h + t) : u < -90 || 0 < u && u < 90 ? l.y -= h : (u < 0 || u > 90) && (l.x -= a, l.y -= h)) : (f = xt.floor(e.length / 2), l = e[f].clone(), s = e[f - 1], o = e[f + 1], p = s.x <= l.x && o.x <= l.x ? t : -r.width - t, g = s.y <= l.y && o.y <= l.y ? t : -r.height - t, l.x += p, l.y += g), this._contentVisual.position(l) } }, select: function (t) { var i, n, o = this.diagram; if (this._canSelect() && this.isSelected !== t) return this.isSelected = t, i = [], n = [], this.isSelected ? (this.adorner = new et(this, this.options.selection), o._adorn(this.adorner, !0), o._selectedItems.push(this), i.push(this)) : this.adorner && (o._adorn(this.adorner, !1), ht.remove(o._selectedItems, this), this.adorner = e, n.push(this)), this.adorner && this.adorner.refresh(), o._internalSelection || o._selectionChanged(i, n), !0 }, bounds: function (t) { return !t || yt(t) ? this._bounds : (this._bounds = t, e) }, type: function (t) { var i = this.options; return t ? (t !== i.type && (i.type = t, this._initRouter(), this.refresh()), e) : i.type }, _initRouter: function () { var t = (this.options.type || "").toLowerCase(); this._router = t == St ? new ft(this) : new ut(this) }, points: function (t) { var e, i, n, o; if (!t) { if (n = [], gt(this.definers)) for (o = 0; o < this.definers.length; o++)n.push(this.definers[o].point); return n } for (this.definers = [], e = 0; e < t.length; e++)if (i = t[e], i instanceof z.Point) this.definers.push(new z.PathDefiner(i)); else { if (!i.hasOwnProperty("x") || !i.hasOwnProperty("y")) throw "A Connection point needs to be a Point or an object with x and y properties."; this.definers.push(new z.PathDefiner(new $(i.x, i.y))) } }, allPoints: function () { var t, e = [this.sourcePoint()]; if (this.definers) for (t = 0; t < this.definers.length; t++)e.push(this.definers[t].point); return e.push(this.targetPoint()), e }, refresh: function () { this._resolveConnectors(), this._refreshPath(), this._alignContent(), this.adorner && this.adorner.refresh() }, _resolveConnectors: function () { var t, e, i, s, r = this, a = r.source(), h = r.target(); a instanceof $ ? t = a : a instanceof w && (i = n(a) ? a.shape.connectors : [a]), h instanceof $ ? e = h : h instanceof w && (s = n(h) ? h.shape.connectors : [h]), t ? s && (r._resolvedTargetConnector = o(t, s)) : i && (e ? r._resolvedSourceConnector = o(e, i) : s && this._resolveAutoConnectors(i, s)) }, _resolveAutoConnectors: function (t, e) { var i, o, s, r, a, h, c, d, l, u, f, p = Ut, g = Ut; for (l = 0; l < t.length; l++)if (c = t[l], !n(c)) for (s = c.position(), u = 0; u < e.length; u++)d = e[u], n(d) || (r = d.position(), f = xt.round(s.distanceTo(r)), f < p && this.diagram && this._testRoutePoints(s, r, c, d) && (p = f, i = c, o = d), f < g && (a = c, h = d, g = f)); i && (a = i, h = o), this._resolvedSourceConnector = a, this._resolvedTargetConnector = h }, _testRoutePoints: function (t, e, i, n) { var o, s, r, a, h, c, d = this._router, l = !0; if (d instanceof ft) for (o = d.routePoints(t, e, i, n), h = this._getRouteExclude(t, e, i.shape, n.shape), o.unshift(t), o.push(e), c = 1; c < o.length; c++)if (s = o[c - 1], r = o[c], a = new X(xt.min(s.x, r.x), xt.min(s.y, r.y), xt.abs(s.x - r.x), xt.abs(s.y - r.y)), a.width > 0 && (a.x++ , a.width -= 2), a.height > 0 && (a.y++ , a.height -= 2), !a.isEmpty() && this.diagram._shapesQuadTree.hitTestRect(a, h)) { l = !1; break } return l }, _getRouteExclude: function (t, e, i, n) { var o = []; return this._isPointInsideShape(t, i) && o.push(i), this._isPointInsideShape(e, n) && o.push(n), o }, _isPointInsideShape: function (t, e) {
                var i, n, o, s = e.bounds(), r = e.rotate().angle, a = s.x, h = s.y; return i = t.clone().rotate(s.center(), r), n = i.x, o = i.y, n > a && n < a + s.width && o > h && o < h + s.height;
            }, redraw: function (t) { if (t) { this.options = O({}, this.options, t); var e = this.options.points; mt(e) && e.length > 0 && (this.points(e), this._refreshPath()), (t && t.content || t.text) && this.content(t.content), this.path.redraw({ fill: t.fill, stroke: t.stroke, startCap: t.startCap, endCap: t.endCap }) } }, clone: function () { var t = this.serialize(); return this.diagram && this.diagram._isEditable && mt(this.dataItem) && (t.options.dataItem = l(this.dataItem)), new b(this.from, this.to, t.options) }, serialize: function () { var t = this.from.toJSON ? this.from.toJSON : "" + this.from, e = this.to.toJSON ? this.to.toJSON : "" + this.to, i = O({}, { options: this.options, from: t, to: e }); return mt(this.dataItem) && (i.dataItem = "" + this.dataItem), i.options.points = this.points(), i }, _hitTest: function (t) { if (this.visible()) { var e = new $(t.x, t.y), i = this.sourcePoint(), n = this.targetPoint(); if (t.isEmpty && !t.isEmpty() && t.contains(i) && t.contains(n)) return this; if (this._router.hitTest(e)) return this } }, _hover: function (t) { var e = (this.options.stroke || {}).color; t && gt(this.options.hover.stroke.color) && (e = this.options.hover.stroke.color), this.path.redraw({ stroke: { color: e } }) }, _refreshPath: function () { mt(this.path) && (this._drawPath(), this.bounds(this._router.getBounds())) }, _drawPath: function () { var t, e, i; this._router && this._router.route(), t = this.sourcePoint(), e = this.targetPoint(), i = this.points(), this.path.redraw({ points: [t].concat(i, [e]) }) }, _clearSourceConnector: function () { this.sourceConnector = e, this._resolvedSourceConnector = e }, _clearTargetConnector: function () { this.targetConnector = e, this._resolvedTargetConnector = e }, _removeFromSourceConnector: function () { this.sourceConnector && ht.remove(this.sourceConnector.connections, this) }, _removeFromTargetConnector: function () { this.targetConnector && ht.remove(this.targetConnector.connections, this) }, toJSON: function () { var t, e, i, n = this; return n.from && n.from.toJSON ? t = n.from.toJSON() : (i = n._sourcePoint, t = { x: i.x, y: i.y }), n.to && n.to.toJSON ? e = n.to.toJSON() : (i = n._targetPoint, e = { x: i.x, y: i.y }), { from: t, to: e } }
        }), C = B.extend({
            init: function (t, e) { var i = this; kendo.destroy(t), B.fn.init.call(i, t, e), i._initTheme(), i._initElements(), i._extendLayoutOptions(i.options), i._initDefaults(e), i._interactionDefaults(), i._initCanvas(), i.mainLayer = new G({ id: "main-layer" }), i.canvas.append(i.mainLayer), i._shapesQuadTree = new I(i), i._pan = new $, i._adorners = [], i.adornerLayer = new G({ id: "adorner-layer" }), i.canvas.append(i.adornerLayer), i._createHandlers(), i._initialize(), i._resizingAdorner = new st(i, { editable: i.options.editable }), i._connectorsAdorner = new rt(i), i._adorn(i._resizingAdorner, !0), i._adorn(i._connectorsAdorner, !0), i.selector = new ot(i), i._clipboard = [], i.pauseMouseHandlers = !1, i._fetchFreshData(), i._createGlobalToolBar(), i._createOptionElements(), i.zoom(i.options.zoom), i.canvas.draw() }, options: { name: "Diagram", theme: "default", layout: "", zoomRate: .1, zoom: 1, zoomMin: 0, zoomMax: 2, dataSource: {}, draggable: !0, template: "", autoBind: !0, editable: { rotate: {}, resize: {}, text: !0, tools: [], drag: { snap: { size: 10, angle: 10 } }, remove: !0 }, pannable: {}, selectable: { key: "none" }, tooltip: { enabled: !0, format: "{0}" }, copy: { enabled: !0, offsetX: 20, offsetY: 20 }, shapeDefaults: z.shapeDefaults({ undoable: !0 }), connectionDefaults: { editable: { tools: [] }, type: St }, shapes: [], connections: [] }, events: [qt, Gt, Ft, Vt, Ht, kt, Tt, Mt, Lt, Et, "toolBarClick", "save", "cancel", "edit", "remove", "add", "dataBound", Pt, Dt, It], items: function () { return t() }, _createGlobalToolBar: function () { var t, e = this.options.editable; e && (t = e.tools, !this._isEditable || t === !1 || t && 0 !== t.length || (t = ["createShape", "undo", "redo", "rotateClockwise", "rotateAnticlockwise"]), t && t.length && (this.toolBar = new S(this, { tools: t || {}, click: N(this._toolBarClick, this), modal: !1 }), this.toolBar.element.css({ textAlign: "left" }), this.element.prepend(this.toolBar.element), this._resize())) }, createShape: function () { var t, e, i, n, o, s; (this.editor && this.editor.end() || !this.editor) && (t = this.dataSource, e = t.view() || [], i = e.length, n = f(t, {}), o = this._createShape(n, {}), this.trigger("add", { shape: o }) || (t.insert(i, n), s = this._inactiveShapeItems.getByUid(n.uid), s.element = o, this.edit(o))) }, _createShape: function (t, e) { e = O({}, this.options.shapeDefaults, e), e.dataItem = t; var i = new x(e, this); return i }, createConnection: function () { var t, e, i, n, o; (this.editor && this.editor.end() || !this.editor) && (t = this.connectionsDataSource, e = t.view() || [], i = e.length, n = f(t, {}), o = this._createConnection(n), this.trigger("add", { connection: o }) || (this._connectionsDataMap[n.uid] = o, t.insert(i, n), this.addConnection(o, !1), this.edit(o))) }, _createConnection: function (t, e, i) { var n, o = O({}, this.options.connectionDefaults); return o.dataItem = t, n = new b(e || new $, i || new $, o) }, editModel: function (t, e) { var i, n, o, s; if (this.cancelEdit(), o = this.options.editable, "shape" == e) i = o.shapeEditors, n = o.shapeTemplate; else { if ("connection" != e) return; s = N(h, this), i = O({}, { from: s, to: s }, o.connectionEditors), n = o.connectionTemplate } this.editor = new T(this.element, { update: N(this._update, this), cancel: N(this._cancel, this), model: t, type: e, target: this, editors: i, template: n }), this.trigger("edit", this._editArgs()) }, edit: function (t) { if (t.dataItem) { var e = t instanceof x ? "shape" : "connection"; this.editModel(t.dataItem, e) } }, cancelEdit: function () { this.editor && (this._getEditDataSource().cancelChanges(this.editor.model), this._destroyEditor()) }, saveEdit: function () { this.editor && this.editor.end() && !this.trigger("save", this._editArgs()) && this._getEditDataSource().sync() }, _update: function () { this.editor && this.editor.end() && !this.trigger("save", this._editArgs()) && (this._getEditDataSource().sync(), this._destroyEditor()) }, _cancel: function () { var t, e; this.editor && !this.trigger("cancel", this._editArgs()) && (t = this.editor.model, this._getEditDataSource().cancelChanges(t), e = this._connectionsDataMap[t.uid] || this._dataMap[t.id], e && e._setOptionsFromModel(t), this._destroyEditor()) }, _getEditDataSource: function () { return "shape" === this.editor.options.type ? this.dataSource : this.connectionsDataSource }, _editArgs: function () { var t = { container: this.editor.wrapper }; return t[this.editor.options.type] = this.editor.model, t }, _destroyEditor: function () { this.editor && (this.editor.close(), this.editor = null) }, _initElements: function () { this.wrapper = this.element.empty().css("position", "relative").attr("tabindex", 0).addClass("k-widget k-diagram"), this.scrollable = t("<div />").appendTo(this.element) }, _initDefaults: function (t) { var e = this.options, i = e.editable, n = e.shapeDefaults, o = e.connectionDefaults, s = (t || {}).shapeDefaults; i === !1 ? (n.editable = !1, o.editable = !1) : (g(i, n.editable, ["drag", "remove", "connect"]), g(i, o.editable, ["drag", "remove"])), s && s.connectors && (e.shapeDefaults.connectors = s.connectors) }, _interactionDefaults: function () { var t = this.options, e = t.selectable, i = t.pannable, n = kendo.support.mobileOS; e && !mt(e.multiple) && (t.selectable = O({ multiple: !n }, t.selectable)), i && !mt(i.key) && (t.pannable = O({ key: n ? "none" : "ctrl" }, t.pannable)) }, _initCanvas: function () { var e = t("<div class='k-layer'></div>").appendTo(this.scrollable)[0], i = this.viewport(); this.canvas = new F(e, { width: i.width || Wt, height: i.height || Xt }) }, _createHandlers: function () { var t = this, e = t.element; e.on(le, N(t._wheel, t)).on("keydown" + Ct, N(t._keydown, t)), t._userEvents = new kendo.UserEvents(this.scrollable, { multiTouch: !0, fastTap: !0, tap: N(t._tap, t), start: N(t._dragStart, t), move: N(t._drag, t), end: N(t._dragEnd, t), gesturestart: N(t._gestureStart, t), gesturechange: N(t._gestureChange, t), gestureend: N(t._gestureEnd, t) }), t.toolService = new nt(t), this.scrollable.on("mouseover" + Ct, N(t._mouseover, t)).on("mouseout" + Ct, N(t._mouseout, t)).on("mousemove" + Ct, N(t._mouseMove, t)).on("mousedown" + Ct, N(t._mouseDown, t)).on("mouseup" + Ct, N(t._mouseUp, t)), this._syncHandler = N(t._syncChanges, t), t._resizeHandler = N(t.resize, t, !1), kendo.onResize(t._resizeHandler), this.bind(Gt, N(t._destroyToolBar, t)), this.bind(Ft, N(t._destroyToolBar, t)) }, _dragStart: function (t) { var e, i; this._pauseMouseHandlers = !0, e = this._eventPositions(t, !0), i = t.event, this.toolService.start(e, this._meta(i)) && (this._destroyToolBar(), i.preventDefault()) }, _drag: function (t) { var e = this._eventPositions(t), i = t.event; this.toolService.move(e, this._meta(i)) && i.preventDefault() }, _dragEnd: function (t) { var e, i; this._pauseMouseHandlers = !1, e = this._eventPositions(t), i = t.event, this.toolService.end(e, this._meta(i)) && (this._createToolBar(), i.preventDefault()) }, _mouseMove: function (t) { if (!this._pauseMouseHandlers) { var e = this._eventPositions(t); this.toolService._updateHoveredItem(e), this.toolService._updateCursor(e) } }, _mouseDown: function () { this._pauseMouseHandlers = !0 }, _mouseUp: function () { this._pauseMouseHandlers = !1 }, _tap: function (t) { var e, i, n, o = this.toolService, s = this.options.selectable, r = this._eventPositions(t), a = this.focus(); o._updateHoveredItem(r), o.hoveredItem ? (e = o.hoveredItem, this.trigger("click", { item: e, point: r }), s && e.options.selectable !== !1 && (i = s.multiple !== !1, n = kendo.support.mobileOS || this._meta(t.event).ctrlKey, e.isSelected ? n ? (this._destroyToolBar(), e.select(!1)) : this._createToolBar(a) : (this._destroyToolBar(), this.select(e, { addToSelection: i && n }), this._createToolBar(a)))) : s && (this._destroyToolBar(), this.deselect()) }, _keydown: function (t) { this.toolService.keyDown(t.keyCode, this._meta(t)) && t.preventDefault() }, _wheel: function (t) { var e = i(t), n = this._eventPositions(t), o = O(this._meta(t), { delta: e }); this.toolService.wheel(n, o) && t.preventDefault() }, _meta: function (t) { return { ctrlKey: t.ctrlKey, metaKey: t.metaKey, altKey: t.altKey, shiftKey: t.shiftKey, type: t.type } }, _eventPositions: function (t, e) { var i, n, o; return t.touch ? (n = e ? "startLocation" : "location", i = new $(t.x[n], t.y[n])) : (o = t.originalEvent, i = new $(o.pageX, o.pageY)), this.documentToModel(i) }, _gestureStart: function (t) { var e, i; this._destroyToolBar(), this.scroller.disable(), e = this.documentToModel(new $(t.center.x, t.center.y)), i = { point: e, zoom: this.zoom() }, this.trigger(Gt, i) || (this._gesture = t, this._initialCenter = e) }, _gestureChange: function (t) { var e, i, n = this._gesture, o = this._initialCenter, s = this.documentToView(new $(t.center.x, t.center.y)), r = t.distance / n.distance, a = this._zoom, h = !1; xt.abs(r - 1) >= ue && (this._zoom = a = this._getValidZoom(a * r), this.options.zoom = a, this._gesture = t, h = !0), e = o.times(a), i = s.minus(e), (h || this._pan.distanceTo(i) >= fe) && (this._panTransform(i), this._updateAdorners()), t.preventDefault() }, _gestureEnd: function () { this.options.pannable !== !1 && this.scroller.enable(), this.trigger(qt, { point: this._initialCenter, zoom: this.zoom() }) }, _resize: function () { var t = this.viewport(); this.canvas && this.canvas.size(t), this.scrollable && this.toolBar && this.scrollable.height(t.height) }, _mouseover: function (t) { var e = t.target._kendoNode; e && e.srcElement._hover && e.srcElement._hover(!0, e.srcElement) }, _mouseout: function (t) { var e = t.target._kendoNode; e && e.srcElement._hover && e.srcElement._hover(!1, e.srcElement) }, _initTheme: function () { var t, e = this, i = ((e.options || {}).theme || "").toLowerCase(), n = P.ui.themes || {}; t = bt.indexOf(i) != -1 ? P.autoTheme().diagram : (n[i] || {}).diagram, e.options = O({}, t, e.options), e.options.editable === !0 && O(e.options, { editable: (t || {}).editable }) }, _createOptionElements: function () { var t = this.options, e = t.shapes.length; e && this._createShapes(), t.connections.length && this._createConnections(), e && t.layout && this.layout(t.layout) }, _createShapes: function () { var t, e, i = this, n = i.options, o = n.shapes; for (e = 0; e < o.length; e++)t = o[e], i.addShape(t) }, _createConnections: function () { var t, e, i, n, o = this, s = o.options, r = s.connectionDefaults, a = s.connections; for (n = 0; n < a.length; n++)t = a[n], e = o._findConnectionTarget(t.from), i = o._findConnectionTarget(t.to), o.connect(e, i, O({}, r, t)) }, _findConnectionTarget: function (t) { var e, i, n; return t = t || {}, e = this, i = yt(t) ? t : t.shapeId || t.id, i ? (n = e.getShapeById(i), t.connector && (n = n.getConnector(t.connector))) : n = new $(t.x || 0, t.y || 0), n }, destroy: function () { var t = this; B.fn.destroy.call(t), this._userEvents && this._userEvents.destroy(), kendo.unbindResize(t._resizeHandler), t.clear(), t.element.off(Ct), t.scroller.wrapper.off(Ct), t.canvas.destroy(!0), t.canvas = e, t._destroyEditor(), t.destroyScroller(), t._destroyGlobalToolBar(), t._destroyToolBar() }, destroyScroller: function () { var t = this.scroller; t && (t.destroy(), t.element.remove(), this.scroller = null) }, save: function () { var t, e, i, n = { shapes: [], connections: [] }; for (t = 0; t < this.shapes.length; t++)i = this.shapes[t], i.options.serializable && n.shapes.push(i.options); for (t = 0; t < this.connections.length; t++)e = this.connections[t], n.connections.push(O({}, e.options, e.toJSON())); return n }, focus: function () { if (!this.element.is(kendo._activeElement())) { var t, e = this.element, i = e[0], n = [], o = [], s = document.documentElement; do i = i.parentNode, i.scrollHeight > i.clientHeight && (n.push(i), o.push(i.scrollTop)); while (i != s); for (e.focus(), t = 0; t < n.length; t++)n[t].scrollTop = o[t]; return !0 } }, load: function (t) { this.clear(), this.setOptions(t), this._createShapes(), this._createConnections() }, setOptions: function (t) { O(this.options, t) }, clear: function () { var t = this; t.select(!1), t.mainLayer.clear(), t._shapesQuadTree.clear(), t._initialize() }, connect: function (t, e, i) { var n, o; return this.connectionsDataSource && this._isEditable ? (o = this.connectionsDataSource.add({}), n = this._connectionsDataMap[o.uid], n.source(t), n.target(e), n.redraw(i), n.updateModel()) : (n = new b(t, e, O({}, this.options.connectionDefaults, i)), this.addConnection(n)), n }, connected: function (t, e) { var i, n; for (i = 0; i < this.connections.length; i++)if (n = this.connections[i], n.from == t && n.to == e) return !0; return !1 }, addConnection: function (t, e) { return e !== !1 && this.undoRedoService.add(new z.AddConnectionUnit(t, this), !1), t.diagram = this, t._setOptionsFromModel(), t.refresh(), this.mainLayer.append(t.visual), this.connections.push(t), this.trigger(Tt, { added: [t], removed: [] }), t }, _addConnection: function (t, e) { var i, n = this.connectionsDataSource; if (n && this._isEditable) { if (i = f(n, l(t.dataItem)), t.dataItem = i, t.updateModel(), !this.trigger("add", { connection: t })) return this._connectionsDataMap[i.uid] = t, n.add(i), this.addConnection(t, e), t._updateConnectors(), t } else if (!this.trigger("add", { connection: t })) return this.addConnection(t, e), t._updateConnectors(), t }, addShape: function (t, e) { var i, n = this.options.shapeDefaults; if (t instanceof x) i = t; else { if (t instanceof kendo.Class) return; n = O({}, n, t || {}), i = new x(n, this) } return e !== !1 && this.undoRedoService.add(new z.AddShapeUnit(i, this), !1), this.shapes.push(i), i.diagram !== this && (this._shapesQuadTree.insert(i), i.diagram = this), this.mainLayer.append(i.visual), this.trigger(Tt, { added: [i], removed: [] }), i }, _addShape: function (t, e) { var i, n, o = this, s = o.dataSource; if (s && this._isEditable) { if (i = f(s, l(t.dataItem)), t.dataItem = i, t.updateModel(), !this.trigger("add", { shape: t })) return this.dataSource.add(i), n = this._inactiveShapeItems.getByUid(i.uid), n.element = t, n.undoable = e, t } else if (!this.trigger("add", { shape: t })) return this.addShape(t, e) }, remove: function (t, e) { var i, n, o, s; for (t = _t(t) ? t.slice(0) : [t], i = u(t), n = i.shapes, o = i.connections, mt(e) || (e = !0), e && this.undoRedoService.begin(), this._suspendModelRefresh(), s = n.length - 1; s >= 0; s--)this._removeItem(n[s], e, o); for (s = o.length - 1; s >= 0; s--)this._removeItem(o[s], e); this._resumeModelRefresh(), e && this.undoRedoService.commit(!1), this.trigger(Tt, { added: [], removed: t }) }, _removeShapeDataItem: function (t) { this._isEditable && (this.dataSource.remove(t.dataItem), delete this._dataMap[t.dataItem.id]) }, _removeConnectionDataItem: function (t) { this._isEditable && (this.connectionsDataSource.remove(t.dataItem), delete this._connectionsDataMap[t.dataItem.uid]) }, _triggerRemove: function (t) { var e, i, n, o, s = []; for (o = 0; o < t.length; o++)e = t[o], n = e.options.editable, i = e instanceof x ? { shape: e } : { connection: e }, n && n.remove !== !1 && !this.trigger("remove", i) && s.push(e); return s }, undo: function () { this.undoRedoService.undo() }, redo: function () { this.undoRedoService.redo() }, select: function (t, e) { if (!gt(t)) return this._selectedItems; e = O({ addToSelection: !1 }, e); var i, n, o = e.addToSelection, s = [], r = []; for (o || this.deselect(), this._internalSelection = !0, t instanceof Array ? s = t : t instanceof y && (s = [t]), i = 0; i < s.length; i++)n = s[i], n.select(!0) && r.push(n); this._selectionChanged(r, []), this._internalSelection = !1 }, selectAll: function () { this.select(this.shapes.concat(this.connections)) }, selectArea: function (t) { var e, i, n, o; if (this._internalSelection = !0, o = [], t instanceof X) for (i = this.shapes.concat(this.connections), e = 0; e < i.length; e++)n = i[e], t && !n._hitTest(t) || !n.options.enable || n.select(!0) && o.push(n); this._selectionChanged(o, []), this._internalSelection = !1 }, deselect: function (t) { this._internalSelection = !0; var e, i, n = [], o = []; for (t instanceof Array ? o = t : t instanceof y ? o.push(t) : gt(t) || (o = this._selectedItems.slice(0)), i = 0; i < o.length; i++)e = o[i], e.select(!1) && n.push(e); this._selectionChanged([], n), this._internalSelection = !1 }, toFront: function (t, e) { var i, n, o; t || (t = this._selectedItems.slice()), i = this._getDiagramItems(t), !mt(e) || e ? (n = s(this.mainLayer, i.visuals), o = new lt(this, t, n), this.undoRedoService.add(o)) : (this.mainLayer.toFront(i.visuals), this._fixOrdering(i, !0)) }, toBack: function (t, e) { var i, n, o; t || (t = this._selectedItems.slice()), i = this._getDiagramItems(t), !mt(e) || e ? (n = s(this.mainLayer, i.visuals), o = new dt(this, t, n), this.undoRedoService.add(o)) : (this.mainLayer.toBack(i.visuals), this._fixOrdering(i, !1)) }, bringIntoView: function (t, e) { var i, n, o, s, r = this.viewport(), a = new z.RectAlign(r); 0 !== r.width && 0 !== r.height && (e = O({ animate: !1, align: "center middle" }, e), "none" == e.align && (e.align = "center middle"), t instanceof y ? n = t.bounds(oe) : _t(t) ? n = this.boundingBox(t) : t instanceof X && (n = t.clone()), o = n.clone(), n.zoom(this._zoom), (n.width > r.width || n.height > r.height) && (this._zoom = this._getValidZoom(xt.min(r.width / o.width, r.height / o.height)), n = o.clone().zoom(this._zoom)), this._zoomMainLayer(), i = n.clone(), a.align(n, e.align), s = n.topLeft().minus(i.topLeft()), this.pan(s.times(-1), e.animate)) }, alignShapes: function (t) { var e, i, n, o, s, r, a; if (pt(t) && (t = "Left"), e = this.select(), 0 !== e.length) { switch (t.toLowerCase()) { case "left": case "top": i = ee; break; case "right": case "bottom": i = ie }for (o = 0; o < e.length; o++)if (n = e[o], n instanceof x) switch (t.toLowerCase()) { case "left": i = xt.min(i, n.options.x); break; case "top": i = xt.min(i, n.options.y); break; case "right": i = xt.max(i, n.options.x); break; case "bottom": i = xt.max(i, n.options.y) }for (s = [], r = [], o = 0; o < e.length; o++)if (n = e[o], n instanceof x) switch (r.push(n), s.push(n.bounds()), t.toLowerCase()) { case "left": case "right": n.position(new $(i, n.options.y)); break; case "top": case "bottom": n.position(new $(n.options.x, i)) }a = new z.TransformUnit(r, s), this.undoRedoService.add(a, !1) } }, zoom: function (t, e) { var i, n, o, s; return t && (i = e ? e.point : new z.Point(0, 0), t = this._zoom = this._getValidZoom(t), pt(i) || (i = new z.Point(xt.round(i.x), xt.round(i.y)), n = i.times(t), o = this.modelToView(i), s = o.minus(n), this._storePan(new z.Point(xt.round(s.x), xt.round(s.y)))), e && (e.zoom = t), this._panTransform(), this.canvas.surface.hideTooltip(), this._updateAdorners()), this._zoom }, _getPan: function (t) { var e = this.canvas; return e.translate || (t = t.plus(this._pan)), t }, pan: function (t, i) { var n, o; return t instanceof $ ? (n = this, o = n.scroller, t = n._getPan(t), t = t.times(-1), i ? o.animatedScrollTo(t.x, t.y, function () { n._updateAdorners() }) : (o.scrollTo(t.x, t.y), n._updateAdorners()), e) : this._pan.times(-1) }, viewport: function () { var t = this.element, e = t.width(), i = t.height(); return this.toolBar && (i -= U(this.toolBar.element)), new X(0, 0, e, i) }, copy: function () { var t, e; if (this.options.copy.enabled) for (this._clipboard = [], this._copyOffset = 1, t = 0; t < this._selectedItems.length; t++)e = this._selectedItems[t], this._clipboard.push(e) }, cut: function () { var t, e; if (this.options.copy.enabled) { for (this._clipboard = [], this._copyOffset = 0, t = 0; t < this._selectedItems.length; t++)e = this._selectedItems[t], this._clipboard.push(e); this.remove(this._clipboard, !0) } }, paste: function () { var t, e, i, n, o, s, r, a; if (this._clipboard.length > 0) { for (n = {}, o = u(this._clipboard), s = o.connections, r = o.shapes, a = { x: this._copyOffset * this.options.copy.offsetX, y: this._copyOffset * this.options.copy.offsetY }, this.deselect(), i = 0; i < r.length; i++)t = r[i], e = t.clone(), n[t.id] = e, e.position(new $(t.options.x + a.x, t.options.y + a.y)), e.diagram = this, e = this._addShape(e), e && e.select(); for (i = 0; i < s.length; i++)t = s[i], e = this._addConnection(t.clone()), e && (this._updateCopiedConnection(e, t, "source", n, a), this._updateCopiedConnection(e, t, "target", n, a), e.select(!0), e.updateModel()); this._syncChanges(), this._copyOffset += 1 } }, _updateCopiedConnection: function (t, e, i, n, o) { var s, r, a, h = e[i](), c = this; h instanceof w && n[h.shape.id] ? (a = n[h.shape.id], c.getShapeById(a.id) ? t[i](a.getConnector(h.options.name)) : (r = c._inactiveShapeItems.getByUid(a.dataItem.uid), r && (s = function (e) { a = c._dataMap[e.id], t[i](a.getConnector(h.options.name)), t.updateModel() }, c._deferredConnectionUpdates.push(r.onActivate(s))))) : t[i](new $(e[i + "Point"]().x + o.x, e[i + "Point"]().y + o.y)) }, boundingBox: function (t, e) { var i, n, o, s = X.empty(), r = gt(t) ? this._getDiagramItems(t) : { shapes: this.shapes }; if (r.shapes.length > 0) for (n = r.shapes[0], s = n.bounds(se), o = 1; o < r.shapes.length; o++)n = r.shapes[o], i = n.bounds(se), e === !0 && (i.x -= n._rotationOffset.x, i.y -= n._rotationOffset.y), s = s.union(i); return s }, _containerOffset: function () { var t = this.element.offset(); return this.toolBar && (t.top += U(this.toolBar.element)), t }, documentToView: function (t) { var e = this._containerOffset(); return new $(t.x - e.left, t.y - e.top) }, viewToDocument: function (t) { var e = this._containerOffset(); return new $(t.x + e.left, t.y + e.top) }, viewToModel: function (t) { return this._transformWithMatrix(t, this._matrixInvert) }, modelToView: function (t) { return this._transformWithMatrix(t, this._matrix) }, modelToLayer: function (t) { return this._transformWithMatrix(t, this._layerMatrix) }, layerToModel: function (t) { return this._transformWithMatrix(t, this._layerMatrixInvert) }, documentToModel: function (t) { var e = this.documentToView(t); return this.canvas.translate || (e.x = e.x + this.scroller.scrollLeft, e.y = e.y + this.scroller.scrollTop), this.viewToModel(e) }, modelToDocument: function (t) { return this.viewToDocument(this.modelToView(t)) }, _transformWithMatrix: function (t, e) { var i, n, o = t; return t instanceof $ ? e && (o = e.apply(t)) : (i = this._transformWithMatrix(t.topLeft(), e), n = this._transformWithMatrix(t.bottomRight(), e), o = X.fromPoints(i, n)), o }, setDataSource: function (t) { this.options.dataSource = t, this._dataSource(), this.options.autoBind && this.dataSource.fetch() }, setConnectionsDataSource: function (t) { this.options.connectionsDataSource = t, this._connectionDataSource(), this.options.autoBind && this.connectionsDataSource.fetch() }, layout: function (t) { var e, i, n, o, s; switch (this._layouting = !0, pt(t) && (t = this.options.layout), e = pt(t) || pt(t.type) ? "Tree" : t.type, e.toLowerCase()) { case "tree": i = new z.TreeLayout(this); break; case "layered": i = new z.LayeredLayout(this); break; case "forcedirected": case "force": case "spring": case "springembedder": i = new z.SpringLayout(this); break; default: throw "Layout algorithm '" + e + "' is not supported." }n = new z.LayoutState(this), o = i.layout(t), o && (s = new z.LayoutUndoUnit(n, o, t ? t.animate : null), this.undoRedoService.add(s)), this._layouting = !1, this._redrawConnections() }, getShapeById: function (t) { var e; return (e = ht.first(this.shapes, function (e) { return e.visual.id === t })) ? e : e = ht.first(this.connections, function (e) { return e.visual.id === t }) }, getShapeByModelId: function (t) { var e; return e = this._isEditable ? this._dataMap[t] : ht.first(this.shapes, function (e) { return (e.dataItem || {}).id === t }) }, getShapeByModelUid: function (t) { var e; return e = this._isEditable ? ht.first(this.shapes, function (e) { return (e.dataItem || {}).uid === t }) : this._dataMap[t] }, getConnectionByModelId: function (t) { var e; return this.connectionsDataSource && (e = ht.first(this.connections, function (e) { return (e.dataItem || {}).id === t })), e }, getConnectionByModelUid: function (t) { var e; return this.connectionsDataSource && (e = this._connectionsDataMap[t]), e }, _extendLayoutOptions: function (t) { t.layout && (t.layout = O({}, z.LayoutBase.fn.defaultOptions || {}, t.layout)) }, _selectionChanged: function (t, e) { (t.length || e.length) && this.trigger(Vt, { selected: t, deselected: e }) }, _getValidZoom: function (t) { return xt.min(xt.max(t, this.options.zoomMin), this.options.zoomMax) }, _panTransform: function (t) { var e = this, i = t || e._pan; e.canvas.translate ? (e.scroller.scrollTo(i.x, i.y), e._zoomMainLayer()) : (e._storePan(i), e._transformMainLayer()) }, _finishPan: function () { this.trigger(Ft, { total: this._pan, delta: Number.NaN }) }, _storePan: function (t) { this._pan = t, this._storeViewMatrix() }, _zoomMainLayer: function () { var t = this._zoom, e = new W(0, 0, t, t); e.render(this.mainLayer), this._storeLayerMatrix(e), this._storeViewMatrix() }, _transformMainLayer: function () { var t = this._pan, e = this._zoom, i = new W(t.x, t.y, e, e); i.render(this.mainLayer), this._storeLayerMatrix(i), this._storeViewMatrix() }, _storeLayerMatrix: function (t) { this._layerMatrix = t.toMatrix(), this._layerMatrixInvert = t.invert().toMatrix() }, _storeViewMatrix: function () { var t = this._pan, e = this._zoom, i = new W(t.x, t.y, e, e); this._matrix = i.toMatrix(), this._matrixInvert = i.invert().toMatrix() }, _toIndex: function (t, e) { var i = this._getDiagramItems(t); this.mainLayer.toIndex(i.visuals, e), this._fixOrdering(i, !1) }, _fixOrdering: function (t, e) { var i, n, o = e ? this.shapes.length - 1 : 0, s = e ? this.connections.length - 1 : 0; for (i = 0; i < t.shapes.length; i++)n = t.shapes[i], ht.remove(this.shapes, n), ht.insert(this.shapes, n, o); for (i = 0; i < t.cons.length; i++)n = t.cons[i], ht.remove(this.connections, n), ht.insert(this.connections, n, s) }, _getDiagramItems: function (t) { var e, i, n = {}, o = t; for (n.visuals = [], n.shapes = [], n.cons = [], t ? _t(t) || (o = [t]) : o = this._selectedItems.slice(), e = 0; e < o.length; e++)i = o[e], i instanceof x ? (n.shapes.push(i), n.visuals.push(i.visual)) : i instanceof b && (n.cons.push(i), n.visuals.push(i.visual)); return n }, _removeItem: function (t, e, i) { t.select(!1), t instanceof x ? (this._removeShapeDataItem(t), this._removeShape(t, e, i)) : t instanceof b && (this._removeConnectionDataItem(t), this._removeConnection(t, e)), this.mainLayer.remove(t.visual) }, _removeShape: function (t, e, i) { var n, o, s, r, a = [], h = []; for (this.toolService._removeHover(), e && this.undoRedoService.addCompositeItem(new j(t)), ht.remove(this.shapes, t), this._shapesQuadTree.remove(t), n = 0; n < t.connectors.length; n++)for (s = t.connectors[n], r = 0; r < s.connections.length; r++)o = s.connections[r], i && P.inArray(o, i) || (o.sourceConnector == s ? a.push(o) : o.targetConnector == s && h.push(o)); for (n = 0; n < a.length; n++)a[n].source(null, e), a[n].updateModel(); for (n = 0; n < h.length; n++)h[n].target(null, e), h[n].updateModel() }, _removeConnection: function (t, e) { t.sourceConnector && ht.remove(t.sourceConnector.connections, t), t.targetConnector && ht.remove(t.targetConnector.connections, t), e && this.undoRedoService.addCompositeItem(new Q(t)), ht.remove(this.connections, t) }, _removeDataItems: function (t, e) { var i, n, o, s; for (t = _t(t) ? t : [t]; t.length;)if (i = t.shift(), o = this._dataMap[i.uid], o && (this._removeShapeConnections(o), this._removeItem(o, !1), delete this._dataMap[i.uid], e && i.hasChildren && i.loaded())) for (n = i.children.data(), s = 0; s < n.length; s++)t.push(n[s]) }, _removeShapeConnections: function (t) { var e, i = t.connections(); if (i) for (e = 0; e < i.length; e++)this._removeItem(i[e], !1) }, _addDataItem: function (t, e) { var i, n; if (mt(t)) return (i = this._dataMap[t.id]) ? i : (n = O({}, this.options.shapeDefaults), n.dataItem = t, i = new x(n, this), this.addShape(i, e !== !1), this._dataMap[t.id] = i, i) }, _addDataItemByUid: function (t) { var e, i; if (mt(t)) return (e = this._dataMap[t.uid]) ? e : (i = O({}, this.options.shapeDefaults), i.dataItem = t, e = new x(i, this), this.addShape(e), this._dataMap[t.uid] = e, e) }, _addDataItems: function (t, e) { var i, n, o, s, r; for (n = 0; n < t.length; n++)i = t[n], o = this._addDataItemByUid(i), s = this._addDataItemByUid(e), s && !this.connected(s, o) && (r = this.connect(s, o)) }, _refreshSource: function (t) { var e, i, n = this, o = t.node, s = t.action, r = t.items, a = n.options; if (t.field) for (e = 0; e < r.length; e++)this._dataMap[r[e].uid] && this._dataMap[r[e].uid].redrawVisual(); else { if ("remove" == s) this._removeDataItems(t.items, !0); else for (s && "itemloaded" !== s || this._bindingRoots || (this._bindingRoots = !0, i = !0), s || o || n.clear(), this._addDataItems(r, o), e = 0; e < r.length; e++)r[e].load(); a.layout && (i || "remove" == s || "add" == s) && n.layout(a.layout), i && (this.trigger("dataBound"), this._bindingRoots = !1) } }, _addItem: function (t) { t instanceof x ? this.addShape(t) : t instanceof b && this.addConnection(t) }, _createToolBar: function (t) { var e, i, n, o, s, r, a, h, c, d = this.toolService.diagram; this.singleToolBar || 1 !== d.select().length || (e = d.select()[0], e && e.options.editable !== !1 && (i = e.options.editable, n = i.tools, this._isEditable && 0 === n.length && (e instanceof x ? n = ["edit", "rotateClockwise", "rotateAnticlockwise"] : e instanceof b && (n = ["edit"]), i && i.remove !== !1 && n.push("delete")), n && n.length && (o = 20, this.singleToolBar = new S(d, { tools: n, click: N(this._toolBarClick, this), modal: !0, popupZIndex: parseInt(d.element.closest(".k-window").css("zIndex"), 10) + 10 }), r = A(this.singleToolBar._popup.element), a = U(this.singleToolBar._popup.element), e instanceof x ? (h = this.modelToView(e.bounds(se)), s = new $(h.x, h.y).minus(new $((r - h.width) / 2, a + o))) : e instanceof b && (c = this.modelToView(e.bounds()), s = new $(c.x, c.y).minus(new $((r - c.width - 20) / 2, a + o))), s ? (this.canvas.translate || (s = s.minus(new $(this.scroller.scrollLeft, this.scroller.scrollTop))), s = this.viewToDocument(s), s = new $(xt.max(s.x, 0), xt.max(s.y, 0)), this.singleToolBar.showAt(s), t && this.singleToolBar._popup.one("close", _)) : this._destroyToolBar()))) }, _toolBarClick: function (t) { this.trigger("toolBarClick", t), this._destroyToolBar() }, _normalizePointZoom: function (t) { return t.times(1 / this.zoom()) }, _initialize: function () { this.shapes = [], this._selectedItems = [], this.connections = [], this._dataMap = {}, this._connectionsDataMap = {}, this._inactiveShapeItems = new d, this._deferredConnectionUpdates = [], this.undoRedoService = new it({ undone: this._syncHandler, redone: this._syncHandler }), this.id = z.randomId() }, _fetchFreshData: function () { var t = this; t._dataSource(), t._isEditable && t._connectionDataSource(), t.options.autoBind && (t._isEditable ? (this._loadingShapes = !0, this._loadingConnections = !0, t.dataSource.fetch(), t.connectionsDataSource.fetch()) : t.dataSource.fetch()) }, _dataSource: function () { var t, e; mt(this.options.connectionsDataSource) ? (this._isEditable = !0, t = this.options.dataSource || {}, e = _t(t) ? { data: t } : t, this.dataSource && this._shapesRefreshHandler ? this.dataSource.unbind("change", this._shapesRefreshHandler).unbind("requestStart", this._shapesRequestStartHandler).unbind("error", this._shapesErrorHandler) : (this._shapesRefreshHandler = N(this._refreshShapes, this), this._shapesRequestStartHandler = N(this._shapesRequestStart, this), this._shapesErrorHandler = N(this._error, this)), this.dataSource = kendo.data.DataSource.create(e).bind("change", this._shapesRefreshHandler).bind("requestStart", this._shapesRequestStartHandler).bind("error", this._shapesErrorHandler)) : (this._treeDataSource(), this._isEditable = !1) }, _connectionDataSource: function () { var t, e = this.options.connectionsDataSource; e && (t = _t(e) ? { data: e } : e, this.connectionsDataSource && this._connectionsRefreshHandler ? this.connectionsDataSource.unbind("change", this._connectionsRefreshHandler).unbind("requestStart", this._connectionsRequestStartHandler).unbind("error", this._connectionsErrorHandler) : (this._connectionsRefreshHandler = N(this._refreshConnections, this), this._connectionsRequestStartHandler = N(this._connectionsRequestStart, this), this._connectionsErrorHandler = N(this._connectionsError, this)), this.connectionsDataSource = kendo.data.DataSource.create(t).bind("change", this._connectionsRefreshHandler).bind("requestStart", this._connectionsRequestStartHandler).bind("error", this._connectionsErrorHandler)) }, _shapesRequestStart: function (t) { "read" == t.type && (this._loadingShapes = !0) }, _connectionsRequestStart: function (t) { "read" == t.type && (this._loadingConnections = !0) }, _error: function () { this._loadingShapes = !1 }, _connectionsError: function () { this._loadingConnections = !1 }, _refreshShapes: function (t) { "remove" === t.action ? this._shouldRefresh() && this._removeShapes(t.items) : "itemchange" === t.action ? this._shouldRefresh() && this._updateShapes(t.items, t.field) : "add" === t.action ? this._inactiveShapeItems.add(t.items) : "sync" === t.action ? this._syncShapes(t.items) : this.refresh() }, _shouldRefresh: function () { return !this._suspended }, _suspendModelRefresh: function () { this._suspended = (this._suspended || 0) + 1 }, _resumeModelRefresh: function () { this._suspended = xt.max((this._suspended || 0) - 1, 0) }, refresh: function () { this._loadingShapes = !1, this._loadingConnections || this._rebindShapesAndConnections() }, _rebindShapesAndConnections: function () {
                this.clear(), this._addShapes(this.dataSource.view()), this.connectionsDataSource && this._addConnections(this.connectionsDataSource.view(), !1), this.options.layout ? this.layout(this.options.layout) : this._redrawConnections(),
                this.trigger("dataBound")
            }, refreshConnections: function () { this._loadingConnections = !1, this._loadingShapes || this._rebindShapesAndConnections() }, _redrawConnections: function () { var t, e = this.connections; for (t = 0; t < e.length; t++)e[t].refresh() }, _removeShapes: function (t) { var e, i, n = this._dataMap; for (i = 0; i < t.length; i++)e = t[i], n[e.id] && (this.remove(n[e.id], !1), n[e.id] = null) }, _syncShapes: function () { var t = this, e = t._inactiveShapeItems; e.forEach(function (i) { var n = i.dataItem, o = i.element; n.isNew() || (o ? (o._setOptionsFromModel(), t.addShape(o, i.undoable), t._dataMap[n.id] = o) : t._addDataItem(n), i.activate(), e.remove(n)) }) }, _updateShapes: function (t, e) { var i, n, o; for (i = 0; i < t.length; i++)n = t[i], o = this._dataMap[n.id], o && o.updateOptionsFromModel(n, e) }, _addShapes: function (t) { for (var e = 0; e < t.length; e++)this._addDataItem(t[e], !1) }, _refreshConnections: function (t) { "remove" === t.action ? this._shouldRefresh() && this._removeConnections(t.items) : "add" === t.action ? this._addConnections(t.items) : "sync" === t.action || ("itemchange" === t.action ? this._shouldRefresh() && this._updateConnections(t.items) : this.refreshConnections()) }, _removeConnections: function (t) { for (var e = 0; e < t.length; e++)this.remove(this._connectionsDataMap[t[e].uid], !1), this._connectionsDataMap[t[e].uid] = null }, _updateConnections: function (t) { var e, i, n; for (e = 0; e < t.length; e++)i = t[e], n = this._connectionsDataMap[i.uid], n.updateOptionsFromModel(i) }, _addConnections: function (t, e) { var i, n, o = t.length; for (i = 0; i < o; i++)n = t[i], this._addConnectionDataItem(n, e) }, _addConnectionDataItem: function (t, e) { var i, n, o, s; this._connectionsDataMap[t.uid] || (i = this._validateConnector(t.from), mt(i) && null !== i || (i = new $(t.fromX, t.fromY)), n = this._validateConnector(t.to), mt(n) && null !== n || (n = new $(t.toX, t.toY)), mt(i) && mt(n) && (o = O({}, this.options.connectionDefaults), o.dataItem = t, s = new b(i, n, o), this._connectionsDataMap[t.uid] = s, this.addConnection(s, e))) }, _validateConnector: function (t) { var e; return mt(t) && null !== t && (e = this._dataMap[t]), e }, _treeDataSource: function () { var t = this, e = t.options, i = e.dataSource; if (i = _t(i) ? { data: i } : i, i instanceof kendo.data.DataSource && !(i instanceof kendo.data.HierarchicalDataSource)) throw Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well."); i.fields || (i.fields = [{ field: "text" }, { field: "url" }, { field: "spriteCssClass" }, { field: "imageUrl" }]), t.dataSource && t._refreshHandler && t._unbindDataSource(), t._refreshHandler = N(t._refreshSource, t), t._errorHandler = N(t._error, t), t.dataSource = H.create(i).bind(Tt, t._refreshHandler).bind(zt, t._errorHandler) }, _unbindDataSource: function () { var t = this; t.dataSource.unbind(Tt, t._refreshHandler).unbind(zt, t._errorHandler) }, _adorn: function (t, i) { i !== e && t && (i ? (this._adorners.push(t), this.adornerLayer.append(t.visual)) : (ht.remove(this._adorners, t), this.adornerLayer.remove(t.visual))) }, _showConnectors: function (t, e) { e ? this._connectorsAdorner.show(t) : this._connectorsAdorner.destroy() }, _updateAdorners: function () { var t, e, i = this._adorners; for (t = 0; t < i.length; t++)e = i[t], e.refreshBounds && e.refreshBounds(), e.refresh() }, _refresh: function () { for (var t = 0; t < this.connections.length; t++)this.connections[t].refresh() }, _destroyToolBar: function () { this.singleToolBar && (this.singleToolBar.hide(), this.singleToolBar.destroy(), this.singleToolBar = null) }, _destroyGlobalToolBar: function () { this.toolBar && (this.toolBar.hide(), this.toolBar.destroy(), this.toolBar = null) }, exportDOMVisual: function () { var t = this.canvas._viewBox, e = E.transform().translate(-t.x, -t.y), i = new E.Rect([0, 0], [t.width, t.height]), n = L.Path.fromRect(i), o = new L.Group({ transform: e }), s = new L.Group({ clip: n }), r = this.canvas.drawingElement.children[0]; return s.append(o), o.children.push(r), s }, exportVisual: function () { var t = E.transform().scale(1 / this._zoom), e = new L.Group({ transform: t }), i = this.mainLayer.drawingElement; return e.children.push(i), e }, _syncChanges: function () { this._syncShapeChanges(), this._syncConnectionChanges() }, _syncShapeChanges: function () { this.dataSource && this._isEditable && this.dataSource.sync() }, _syncConnectionChanges: function () { var e = this; e.connectionsDataSource && e._isEditable && (t.when.apply(t, e._deferredConnectionUpdates).then(function () { e.connectionsDataSource.sync() }), e.deferredConnectionUpdates = []) }
        }), P.ExportMixin.extend(C.fn, !0), kendo.PDFMixin && kendo.PDFMixin.extend(C.fn), S = kendo.Observable.extend({ init: function (t, e) { kendo.Observable.fn.init.call(this), this.diagram = t, this.options = O({}, this.options, e), this._tools = [], this.createToolBar(), this.createTools(), this.appendTools(), this.options.modal && this.createPopup(), this.bind(this.events, e) }, events: ["click"], createPopup: function () { this.container = t("<div/>").append(this.element), this._popup = this.container.kendoPopup({}).getKendoPopup() }, appendTools: function () { var t, e; for (t = 0; t < this._tools.length; t++)e = this._tools[t], (e.buttons && e.buttons.length || !mt(e.buttons)) && this._toolBar.add(e) }, createToolBar: function () { this.element = t("<div/>"), this._toolBar = this.element.kendoToolBar({ click: N(this.click, this), resizable: !1 }).getKendoToolBar(), this.element.css("border", "none") }, createTools: function () { for (var t = 0; t < this.options.tools.length; t++)this.createTool(this.options.tools[t]) }, createTool: function (t) { wt(t) || (t = { name: t }); var e = t.name + "Tool"; this[e] ? this[e](t) : this._tools.push(O({}, t, { attributes: this._setAttributes({ action: t.name }) })) }, showAt: function (t) { var e = parseInt(this.options.popupZIndex, 10); this._popup && (this._popup.open(t.x, t.y), e && this._popup.wrapper.css("zIndex", e)) }, hide: function () { this._popup && this._popup.close() }, newGroup: function () { return { type: "buttonGroup", buttons: [] } }, editTool: function () { this._tools.push({ icon: "edit", showText: "overflow", type: "button", text: "Edit", attributes: this._setAttributes({ action: "edit" }) }) }, deleteTool: function () { this._tools.push({ icon: "close", showText: "overflow", type: "button", text: "Delete", attributes: this._setAttributes({ action: "delete" }) }) }, rotateAnticlockwiseTool: function (t) { this._appendGroup("rotate"), this._rotateGroup.buttons.push({ icon: "rotate-left", showText: "overflow", text: "RotateAnticlockwise", group: "rotate", attributes: this._setAttributes({ action: "rotateAnticlockwise", step: t.step }) }) }, rotateClockwiseTool: function (t) { this._appendGroup("rotate"), this._rotateGroup.buttons.push({ icon: "rotate-right", attributes: this._setAttributes({ action: "rotateClockwise", step: t.step }), showText: "overflow", text: "RotateClockwise", group: "rotate" }) }, createShapeTool: function () { this._appendGroup("create"), this._createGroup.buttons.push({ icon: "shape", showText: "overflow", text: "CreateShape", group: "create", attributes: this._setAttributes({ action: "createShape" }) }) }, createConnectionTool: function () { this._appendGroup("create"), this._createGroup.buttons.push({ icon: "connector", showText: "overflow", text: "CreateConnection", group: "create", attributes: this._setAttributes({ action: "createConnection" }) }) }, undoTool: function () { this._appendGroup("history"), this._historyGroup.buttons.push({ icon: "undo", showText: "overflow", text: "Undo", group: "history", attributes: this._setAttributes({ action: "undo" }) }) }, redoTool: function () { this._appendGroup("history"), this._historyGroup.buttons.push({ icon: "redo", showText: "overflow", text: "Redo", group: "history", attributes: this._setAttributes({ action: "redo" }) }) }, _appendGroup: function (t) { var e = "_" + t + "Group"; this[e] || (this[e] = this.newGroup(), this._tools.push(this[e])) }, _setAttributes: function (t) { var e = {}; return t.action && (e[kendo.attr("action")] = t.action), t.step && (e[kendo.attr("step")] = t.step), e }, _getAttributes: function (t) { var e, i = {}, n = t.attr(kendo.attr("action")); return n && (i.action = n), e = t.attr(kendo.attr("step")), e && (i.step = e), i }, click: function (e) { var i = this._getAttributes(t(e.target)), n = i.action; n && this[n] && this[n](i), this.trigger("click", this.eventData(n, e.target)) }, eventData: function (t, e) { var i, n, o = this.selectedElements(), s = o.length, r = [], a = []; for (n = 0; n < s; n++)i = o[n], i instanceof x ? r.push(i) : a.push(i); return { shapes: r, connections: a, action: t, target: e } }, "delete": function () { var t = this.diagram, e = t._triggerRemove(this.selectedElements()); e.length && (this.diagram.remove(e, !0), this.diagram._syncChanges()) }, edit: function () { var t = this.selectedElements(); 1 === t.length && this.diagram.edit(t[0]) }, rotateClockwise: function (t) { var e = parseFloat(t.step || 90); this._rotate(e) }, rotateAnticlockwise: function (t) { var e = parseFloat(t.step || 90); this._rotate(-e) }, _rotate: function (t) { var e = this.diagram._resizingAdorner; e.angle(e.angle() + t), e.rotate() }, selectedElements: function () { return this.diagram.select() }, createShape: function () { this.diagram.createShape() }, createConnection: function () { this.diagram.createConnection() }, undo: function () { this.diagram.undo() }, redo: function () { this.diagram.redo() }, destroy: function () { this.diagram = null, this.element = null, this.options = null, this._toolBar && this._toolBar.destroy(), this._popup && this._popup.destroy() } }), k = kendo.Observable.extend({ init: function (t, e) { kendo.Observable.fn.init.call(this), this.options = V(!0, {}, this.options, e), this.element = t, this.model = this.options.model, this.fields = this._getFields(), this._initContainer(), this.createEditable() }, options: { editors: {} }, _initContainer: function () { this.wrapper = this.element }, createEditable: function () { var t = this.options; this.editable = new kendo.ui.Editable(this.wrapper, { fields: this.fields, target: t.target, clearContainer: !1, model: this.model }) }, _isEditable: function (t) { return this.model.editable && this.model.editable(t) }, _getFields: function () { var t, e, i, n = [], o = this.model.fields; for (t in o) e = {}, this._isEditable(t) && (i = this.options.editors[t], i && (e.editor = i), e.field = t, n.push(e)); return n }, end: function () { return this.editable.end() }, destroy: function () { this.editable.destroy(), this.editable.element.find("[" + kendo.attr("container-for") + "]").empty(), this.model = this.wrapper = this.element = this.columns = this.editable = null } }), T = k.extend({ init: function (t, e) { k.fn.init.call(this, t, e), this.bind(this.events, this.options), this.open() }, events: ["update", "cancel"], options: { window: { modal: !0, resizable: !1, draggable: !0, title: "Edit", visible: !1 } }, _initContainer: function () { var e, i = this; this.wrapper = t('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"), this.model.uid), e = "", this.options.template ? (e += this._renderTemplate(), this.fields = []) : e += this._renderFields(), e += this._renderButtons(), this.wrapper.append(t('<div class="k-edit-form-container"/>').append(e)), this.window = new kendo.ui.Window(this.wrapper.appendTo(this.element), this.options.window), this.window.bind("close", function (t) { t.userTriggered && (t.sender.element.focus(), i._cancelClick(t)) }), this._attachButtonEvents() }, _renderTemplate: function () { var t = this.options.template; return "string" == typeof t && (t = window.unescape(t)), t = kendo.template(t)(this.model) }, _renderFields: function () { var t, e, i = ""; for (t = 0; t < this.fields.length; t++)e = this.fields[t], i += '<div class="k-edit-label"><label for="' + e.field + '">' + (e.field || "") + "</label></div>", this._isEditable(e.field) && (i += "<div " + kendo.attr("container-for") + '="' + e.field + '" class="k-edit-field"></div>'); return i }, _renderButtons: function () { var t = '<div class="k-edit-buttons k-state-default">'; return t += this._createButton("update"), t += this._createButton("cancel"), t += "</div>" }, _createButton: function (t) { return kendo.template(pe)(v[t]) }, _attachButtonEvents: function () { this._cancelClickHandler = N(this._cancelClick, this), this.window.element.on(Mt + Ct, "a.k-diagram-cancel", this._cancelClickHandler), this._updateClickHandler = N(this._updateClick, this), this.window.element.on(Mt + Ct, "a.k-diagram-update", this._updateClickHandler) }, _updateClick: function (t) { t.preventDefault(), this.trigger("update") }, _cancelClick: function (t) { t.preventDefault(), this.trigger("cancel") }, open: function () { this.window.center().open() }, close: function () { this.window.bind("deactivate", N(this.destroy, this)).close() }, destroy: function () { this.window.close().destroy(), this.window.element.off(Mt + Ct, "a.k-diagram-cancel", this._cancelClickHandler), this.window.element.off(Mt + Ct, "a.k-diagram-update", this._updateClickHandler), this._cancelClickHandler = null, this._editUpdateClickHandler = null, this.window = null, k.fn.destroy.call(this) } }), c.fn = c.prototype = { onActivate: function (e) { var i = t.Deferred(); return this.callbacks.push({ callback: e, deferred: i }), i }, activate: function () { var t, e, i = this.callbacks; for (e = 0; e < i.length; e++)t = this.callbacks[e], t.callback(this.dataItem), t.deferred.resolve(); this.callbacks = [] } }, d.fn = d.prototype = { add: function (t) { for (var e = 0; e < t.length; e++)this.items[t[e].uid] = new c(t[e]) }, forEach: function (t) { for (var e in this.items) t(this.items[e]) }, getByUid: function (t) { return this.items[t] }, remove: function (t) { delete this.items[t.uid] } }, M = R.extend({ init: function () { this.shapes = [] }, _add: function (t, e) { this.shapes.push({ bounds: e, shape: t }), t._quadNode = this }, insert: function (t, e) { this._add(t, e) }, remove: function (t) { var e, i = this.shapes, n = i.length; for (e = 0; e < n; e++)if (i[e].shape === t) { i.splice(e, 1); break } }, hitTestRect: function (t, e) { var i, n = this.shapes, o = n.length; for (i = 0; i < o; i++)if (this._testRect(n[i].shape, t) && !P.inArray(n[i].shape, e)) return !0 }, _testRect: function (t, e) { var i, n = t.rotate().angle, o = t.bounds(); return i = n ? tt.rects(e, o, -n) : o.overlaps(e) } }), D = M.extend({ init: function (t) { M.fn.init.call(this), this.children = [], this.rect = t }, inBounds: function (t) { var e = this.rect, i = e.bottomRight(), n = t.bottomRight(), o = e.x <= t.x && e.y <= t.y && n.x <= i.x && n.y <= i.y; return o }, overlapsBounds: function (t) { return this.rect.overlaps(t) }, insert: function (t, e) { var i, n = !1, o = this.children, s = o.length; if (this.inBounds(e)) { if (!s && this.shapes.length < 4) this._add(t, e); else { for (s || this._initChildren(), i = 0; i < o.length; i++)if (o[i].insert(t, e)) { n = !0; break } n || this._add(t, e) } n = !0 } return n }, _initChildren: function () { var t, e, i = this.rect, n = this.children, o = this.shapes, s = i.center(), r = i.width / 2, a = i.height / 2; for (n.push(new D(new X(i.x, i.y, r, a)), new D(new X(s.x, i.y, r, a)), new D(new X(i.x, s.y, r, a)), new D(new X(s.x, s.y, r, a))), e = o.length - 1; e >= 0; e--)for (t = 0; t < n.length; t++)if (n[t].insert(o[e].shape, o[e].bounds)) { o.splice(e, 1); break } }, hitTestRect: function (t, e) { var i, n = this.children, o = n.length, s = !1; if (this.overlapsBounds(t)) if (M.fn.hitTestRect.call(this, t, e)) s = !0; else for (i = 0; i < o; i++)if (n[i].hitTestRect(t, e)) { s = !0; break } return s } }), I = R.extend({ ROOT_SIZE: 1e3, init: function (t) { var e = N(this._boundsChange, this); t.bind(kt, e), t.bind(Ht, e), this.initRoots() }, initRoots: function () { this.rootMap = {}, this.root = new M }, clear: function () { this.initRoots() }, _boundsChange: function (t) { t.item._quadNode && t.item._quadNode.remove(t.item), this.insert(t.item) }, insert: function (t) { var e = t.bounds(se), i = this.ROOT_SIZE, n = this.getSectors(e), o = n[0][0], s = n[1][0]; this.inRoot(n) ? this.root.insert(t, e) : (this.rootMap[o] || (this.rootMap[o] = {}), this.rootMap[o][s] || (this.rootMap[o][s] = new D(new X(o * i, s * i, i, i))), this.rootMap[o][s].insert(t, e)) }, remove: function (t) { t._quadNode && t._quadNode.remove(t) }, inRoot: function (t) { return t[0].length > 1 || t[1].length > 1 }, getSectors: function (t) { var e, i, n = this.ROOT_SIZE, o = t.bottomRight(), s = xt.floor(o.x / n), r = xt.floor(o.y / n), a = [[], []]; for (e = xt.floor(t.x / n); e <= s; e++)a[0].push(e); for (i = xt.floor(t.y / n); i <= r; i++)a[1].push(i); return a }, hitTestRect: function (t, e) { var i, n, o, s, r, a = this.getSectors(t); if (this.root.hitTestRect(t, e)) return !0; for (i = 0; i < a[0].length; i++)for (o = a[0][i], n = 0; n < a[1].length; n++)if (s = a[1][n], r = (this.rootMap[o] || {})[s], r && r.hitTestRect(t, e)) return !0; return !1 } }), P.ui.plugin(C), O(z, { Shape: x, Connection: b, Connector: w, DiagramToolBar: S, QuadNode: D, QuadRoot: M, ShapesQuadTree: I, PopupEditor: T })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("kendo.dataviz.diagram.min", ["kendo.data.min", "kendo.draganddrop.min", "kendo.userevents.min", "kendo.mobile.scroller.min", "kendo.drawing.min", "dataviz/diagram/utils.min", "dataviz/diagram/math.min", "dataviz/diagram/svg.min", "dataviz/diagram/services.min", "dataviz/diagram/layout.min", "dataviz/diagram/dom.min"], t) }(function () { return window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (e, define) { define("util/text-metrics.min", ["kendo.core.min"], e) }(function () { !function (e) { function n(e) { return (e + "").replace(s, l) } function t(e) { var n, t = []; for (n in e) t.push(n + e[n]); return t.sort().join("") } function i(e) { var n, t = 2166136261; for (n = 0; n < e.length; ++n)t += (t << 1) + (t << 4) + (t << 7) + (t << 8) + (t << 24), t ^= e.charCodeAt(n); return t >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function r(e, n, t) { return d.current.measure(e, n, t) } var a, s, l, c, p, d; window.kendo.util = window.kendo.util || {}, a = kendo.Class.extend({ init: function (e) { this._size = e, this._length = 0, this._map = {} }, put: function (e, n) { var t = this._map, i = { key: e, value: n }; t[e] = i, this._head ? (this._tail.newer = i, i.older = this._tail, this._tail = i) : this._head = this._tail = i, this._length >= this._size ? (t[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (e) { var n = this._map[e]; if (n) return n === this._head && n !== this._tail && (this._head = n.newer, this._head.older = null), n !== this._tail && (n.older && (n.older.newer = n.newer, n.newer.older = n.older), n.older = this._tail, n.newer = null, this._tail.newer = n, this._tail = n), n.value } }), s = /\r?\n|\r|\t/g, l = " ", c = { baselineMarkerSize: 1 }, "undefined" != typeof document && (p = document.createElement("div"), p.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), d = kendo.Class.extend({ init: function (n) { this._cache = new a(1e3), this.options = e.extend({}, c, n) }, measure: function (e, r, a) { var s, l, c, d, u, h, f, g, m; if (void 0 === a && (a = {}), !e) return o(); if (s = t(r), l = i(e + s), c = this._cache.get(l)) return c; d = o(), u = a.box || p, h = this._baselineMarker().cloneNode(!1); for (f in r) g = r[f], void 0 !== g && (u.style[f] = g); return m = a.normalizeText !== !1 ? n(e) : e + "", u.textContent = m, u.appendChild(h), document.body.appendChild(u), m.length && (d.width = u.offsetWidth - this.options.baselineMarkerSize, d.height = u.offsetHeight, d.baseline = h.offsetTop + this.options.baselineMarkerSize), d.width > 0 && d.height > 0 && this._cache.put(l, d), u.parentNode.removeChild(u), d }, _baselineMarker: function () { var e = document.createElement("div"); return e.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", e } }), d.current = new d, kendo.deepExtend(kendo.util, { LRUCache: a, TextMetrics: d, measureText: r, objectKey: t, hashKey: i, normalizeText: n }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, n, t) { (t || n)() }), function (e, define) { define("kendo.dataviz.gauge.min", ["kendo.dataviz.core.min", "kendo.drawing.min", "kendo.dataviz.themes.min"], e) }(function () { return function (e, n) { function t(e, n) { var t = e.box, i = e.children[0].box, r = n.border || {}, a = n.background || "", s = new S, l = R.fromRect(new j([t.x1, t.y1], [t.width(), t.height()]), { stroke: {} }), c = new P(e.text, new z(i.x1, i.y1), { font: n.font, fill: { color: n.color } }), p = o(c.bbox().clone(), n.padding), d = R.fromRect(p, { stroke: { color: r.width ? r.color : "", width: r.width, dashType: r.dashType, lineJoin: "round", lineCap: "round" }, fill: { color: a } }); return s.append(l), s.append(d), s.append(c), s } function i(e, n, t) { var i = v(e.from) ? e.from : O, o = v(e.to) ? e.to : D; return e.from = l.max(l.min(o, i), n), e.to = l.min(l.max(o, i), t), e } function o(e, n) { var t = e.getOrigin(), i = e.getSize(), o = k(n); return e.setOrigin([t.x - o.left, t.y - o.top]), e.setSize([i.width + (o.left + o.right), i.height + (o.top + o.bottom)]), e } function r(e, n) { var t = k(n); return t.left = -t.left, t.top = -t.top, t.right = -t.right, t.bottom = -t.bottom, o(e, t) } var a, s, l = Math, c = window.kendo, p = c.ui.Widget, d = c.deepExtend, u = c.dataviz, h = u.autoMajorUnit, f = u.ChartElement, g = u.NumericAxis, m = u.Axis, w = u.Box2D, x = c.Class, v = u.defined, b = u.isNumber, y = u.interpolateValue, k = u.getSpacing, _ = u.round, A = u.geometry, T = u.drawing, z = A.Point, S = T.Group, R = T.Path, j = A.Rect, P = T.Text, U = 150, B = 250, C = "arrow", X = "arrowPointer", E = "barPointer", M = "#000", L = .05, V = u.COORD_PRECISION, D = Number.MAX_VALUE, O = -Number.MAX_VALUE, Y = 200, N = .5, G = 200, F = 60, I = 60, J = 5, K = l.PI / 180, Q = 180, W = "inside", H = "linear", q = "needle", Z = "outside", $ = "radialPointer", ee = "x", ne = "y", te = x.extend({ init: function (e, n) { var t = this, i = e.options; f.fn.init.call(t, n), n = t.options, n.fill = n.color, t.scale = e, n.value = v(n.value) ? l.min(l.max(n.value, i.min), i.max) : i.min }, options: { color: M }, value: function (e) { var t = this, i = t.options, o = i.value, r = t.scale.options; return 0 === arguments.length ? o : (i._oldValue = i._oldValue !== n ? i.value : r.min, i.value = l.min(l.max(e, r.min), r.max), t.elements && t.repaint(), n) } }), ie = te.extend({ options: { shape: q, cap: { size: L }, arrow: { width: 16, height: 14 }, animation: { type: $, duration: U } }, setRadius: function (e) { var n = this; e && (n.elements.clear(), n.render(n.parent, n.center, e)) }, setAngle: function (e) { this.elements.transform(A.transform().rotate(e, this.center)) }, repaint: function () { var e = this, n = e.scale, t = e.options, i = n.slotAngle(t._oldValue), o = n.slotAngle(t.value); t.animation.transitions === !1 ? e.setAngle(o) : new ue(e.elements, d(t.animation, { oldAngle: i, newAngle: o })).play() }, render: function () { var e = this, n = e.scale, t = n.arc.center, i = e.options, o = new S; return i.animation !== !1 && d(i.animation, { startAngle: 0, center: t, reverse: n.options.reverse }), i.shape === q ? o.append(e._renderNeedle(), e._renderCap()) : o.append(e._renderArrow()), e.elements = o, e.setAngle(K), o }, reflow: function (e) { var n = this, t = n.center = e.center, i = n.radius = e.getRadiusX(), o = n.capSize = Math.round(i * n.options.cap.size); n.bbox = j.fromPoints(new z(t.x - o, t.y - o), new z(t.x + o, t.y + o)) }, _renderNeedle: function () { var e = this, n = e.options, t = e.scale.options.minorTicks.size, i = e.center, o = n.color, r = new R({ fill: { color: o }, stroke: { color: o, width: N } }); return r.moveTo(i.x + e.radius - t, i.y).lineTo(i.x, i.y - e.capSize / 2).lineTo(i.x, i.y + e.capSize / 2).close(), r }, _renderCap: function () { var e = this, n = e.options, t = n.cap.color || n.color, i = new A.Circle(e.center, e.capSize), o = new T.Circle(i, { fill: { color: t }, stroke: { color: t } }); return o } }), oe = g.extend({ init: function (e) { var n = this; n.options = d({}, n.options, e), n.options.majorUnit = n.options.majorUnit || h(n.options.min, n.options.max), n.options.minorUnit = n.options.minorUnit || n.options.majorUnit / 10, m.fn.init.call(n, n.options) }, options: { min: 0, max: 100, majorTicks: { size: 15, align: W, color: M, width: N, visible: !0 }, minorTicks: { size: 10, align: W, color: M, width: N, visible: !0 }, startAngle: -30, endAngle: 210, labels: { position: W, padding: 2 } }, render: function (e, n) { var t = this, i = t.renderArc(e, n); t.bbox = i.bbox(), t.labelElements = t.renderLabels(), t.ticks = t.renderTicks(), t.ranges = t.renderRanges() }, reflow: function (e) { var t = this, i = e.center(), o = l.min(e.height(), e.width()) / 2; return t.bbox === n ? t.render(i, o) : (t.bbox = t.arc.bbox(), t.radius(t.arc.getRadiusX()), t.repositionRanges(), t.renderLabels(), n) }, slotAngle: function (e) { var n, t = this.options, i = t.startAngle, o = t.reverse, r = t.endAngle - i, a = t.min, s = t.max; return n = o ? t.endAngle - (e - a) / (s - a) * r : (e - a) / (s - a) * r + i, n + Q }, renderLabels: function () { var e, i, o, r, a, s, c, p, d, h, f, g, m, w, x = this, v = x.options, b = v.majorTicks.size, y = x.arc.clone(), k = y.getRadiusX(), _ = x.tickAngles(y, v.majorUnit), T = x.labels, R = T.length, P = v.labels, U = P.padding, B = .05 * k, C = v.rangeSize = v.rangeSize || .1 * k, X = v.ranges || [], E = new S; for (x.options.rangeDistance !== n ? B = x.options.rangeDistance : x.options.rangeDistance = B, P.position === W && (k -= b, X.length && x.labelElements === n && (k -= C + B), y.setRadiusX(k).setRadiusY(k)), c = 0; c < R; c++)a = T[c], e = a.box.width() / 2, i = a.box.height() / 2, r = _[c], o = (r - Q) * K, h = P.position === W, s = y.pointAt(r), p = s.x + l.cos(o) * (e + U) * (h ? 1 : -1), d = s.y + l.sin(o) * (i + U) * (h ? 1 : -1), a.reflow(new u.Box2D(p - e, d - i, p + e, d + i)), g = new z(a.box.x1, a.box.y1), x.labelElements === n ? (f = t(a, v.labels), E.append(f)) : (f = x.labelElements.children[c], m = f.bbox().origin, w = f.transform() || A.transform(), w.translate(g.x - m.x, g.y - m.y), f.transform(w)), x.bbox = j.union(x.bbox, f.bbox()); return E }, repositionRanges: function () { var e, n, t, i = this, o = i.ranges.children, r = i.options.rangeSize, a = i.options.rangeDistance; if (o.length > 0) { for (e = i.getRangeRadius(), i.options.labels.position === W && (e += r + a), n = e + r / 2, t = 0; t < o.length; t++)o[t]._geometry.setRadiusX(n).setRadiusY(n); i.bbox = j.union(i.bbox, i.ranges.bbox()) } }, renderRanges: function () { var e, n, t, i, o, r, a = this, s = a.arc, l = new S, c = a.rangeSegments(), p = c.length, d = a.options.reverse, u = a.options.rangeSize, h = a.options.rangeDistance; if (p) for (i = a.getRangeRadius(), a.radius(a.radius() - u - h), r = 0; r < p; r++)t = c[r], e = a.slotAngle(t[d ? "to" : "from"]), n = a.slotAngle(t[d ? "from" : "to"]), n - e !== 0 && (o = new A.Arc(s.center, { radiusX: i + u / 2, radiusY: i + u / 2, startAngle: e, endAngle: n }), l.append(new T.Arc(o, { stroke: { width: u, color: t.color, opacity: t.opacity } }))); return l }, rangeSegments: function () { function e(e, n, t, i) { return { from: e, to: n, color: t, opacity: i } } var n, t, o, r, a, s = this, l = s.options, c = l.ranges || [], p = c.length, d = l.rangePlaceholderColor, u = [], h = l.min, f = l.max; if (p) for (u.push(e(h, f, d)), r = 0; r < p; r++)for (n = i(c[r], h, f), t = u.length, a = 0; a < t; a++)if (o = u[a], o.from <= n.from && n.from <= o.to) { u.push(e(n.from, n.to, n.color, n.opacity)), o.from <= n.to && n.to <= o.to && u.push(e(n.to, o.to, d, n.opacity)), o.to = n.from; break } return u }, getRangeRadius: function () { var e, n = this, t = n.options, i = t.majorTicks.size, o = t.rangeSize, r = t.rangeDistance, a = n.arc; return e = t.labels.position === Z ? a.getRadiusX() - i - r - o : a.getRadiusX() - o }, renderArc: function (e, n) { var t = this, i = t.options, o = t.arc = new A.Arc(e, { radiusX: n, radiusY: n, startAngle: i.startAngle + Q, endAngle: i.endAngle + Q }); return o }, renderTicks: function () { function e(e, n, t, i) { var o, r, a, s = new S, l = e.center, c = e.getRadiusX(), p = i.visible; if (p) for (o = 0; o < n.length; o++)r = e.pointAt(n[o]), a = new z(l.x + c - i.size, l.y).rotate(n[o], l), s.append(new R({ stroke: { color: i.color, width: i.width } }).moveTo(r).lineTo(a)); return s } var n = this, t = n.arc, i = n.options, o = i.labels.position, r = new S, a = i.majorTicks.size, s = i.minorTicks.size, l = t.clone(), c = l.getRadiusX(); return n.majorTickAngles = n.tickAngles(t, i.majorUnit), n.majorTicks = e(l, n.majorTickAngles, i.majorUnit, i.majorTicks), r.append(n.majorTicks), n._tickDifference = a - s, o === Z && l.setRadiusX(c - a + s).setRadiusY(c - a + s), n.minorTickAngles = n.normalizeTickAngles(n.tickAngles(t, i.minorUnit)), n.minorTicks = e(l, n.minorTickAngles, i.minorUnit, i.minorTicks, i.majorUnit), r.append(n.minorTicks), r }, normalizeTickAngles: function (e) { var n, t = this, i = t.options, o = i.majorUnit / i.minorUnit; for (n = e.length - 1; n >= 0; n--)n % o === 0 && e.splice(n, 1); return e }, tickAngles: function (e, n) { var t, i = this, o = i.options, r = o.reverse, a = o.max - o.min, s = e.endAngle - e.startAngle, l = e.startAngle, c = a / n, p = s / c, d = []; for (r && (l += s, p = -p), t = 0; t < c; t++)d.push(_(l, V)), l += p; return _(l) <= e.endAngle && d.push(l), d }, radius: function (e) { var t = this; return e ? (t.arc.setRadiusX(e).setRadiusY(e), t.repositionTicks(t.majorTicks.children, t.majorTickAngles), t.repositionTicks(t.minorTicks.children, t.minorTickAngles, !0), n) : t.arc.getRadiusX() }, repositionTicks: function (e, n, t) { var i, o, r, a, s, l = this, c = t ? l._tickDifference || 0 : 0, p = l.arc, d = p.getRadiusX(); for (t && l.options.labels.position === Z && 0 !== c && (p = l.arc.clone(), p.setRadiusX(d - c).setRadiusY(d - c)), i = 0; i < e.length; i++)o = p.pointAt(n[i]), r = e[i].segments, a = o.x - r[0].anchor().x, s = o.y - r[0].anchor().y, e[i].transform((new A.Transformation).translate(a, s)) } }), re = p.extend({ init: function (n, t) { var i, o, r, a, s, l = this, h = u.ui.themes || {}; if (c.destroy(n), e(n).empty(), p.fn.init.call(l, n), l.wrapper = l.element, l._originalOptions = d({}, t), i = d({}, l.options, t), r = i.theme, a = h[r] || h[r.toLowerCase()], o = r && a ? a.gauge : {}, l.options = d({}, o, i), e.isArray(i.pointer)) for (s = 0; s < i.pointer.length; s++)l.options.pointer[s] = d({}, o.pointer, i.pointer[s]); l.element.addClass("k-gauge"), l.surface = l._createSurface(), l.redraw() }, options: { plotArea: {}, theme: "default", renderAs: "", pointer: {}, scale: {}, gaugeArea: {} }, destroy: function () { this.surface.destroy(), p.fn.destroy.call(this) }, value: function (e) { var t = this, i = t.pointers[0]; return 0 === arguments.length ? i.value() : (i.value(e), t._setValueOptions(e), n) }, _draw: function () { var e = this.surface; e.clear(), e.draw(this._visuals) }, exportVisual: function () { return this._visuals }, allValues: function (n) { var t, i = this, o = i.pointers, r = []; if (0 === arguments.length) { for (t = 0; t < o.length; t++)r.push(o[t].value()); return r } if (e.isArray(n)) for (t = 0; t < n.length; t++)b(n[t]) && o[t].value(n[t]); i._setValueOptions(n) }, _setValueOptions: function (e) { var n, t = [].concat(this.options.pointer); for (e = [].concat(e), n = 0; n < e.length; n++)t[n].value = e[n] }, _resize: function () { var e, n = this, t = n.options.transitions; for (n.options.transitions = !1, e = 0; e < n.pointers.length; e++)n.pointers[e].options.animation.transitions = !1; for (n.redraw(), n.options.transitions = t, e = 0; e < n.pointers.length; e++)n.pointers[e].options.animation.transitions = t }, redraw: function () { var e, n = this, t = d(n._getSize(), n.options.gaugeArea), i = new j([0, 0], [t.width, t.height]); n.surface.clear(), n.gaugeArea = n._createGaugeArea(), n.surface.element.css({ width: t.width, height: t.height }), n._createModel(), e = r(i.bbox(), n._gaugeAreaMargin), n.reflow(e) }, _createGaugeArea: function () { var e, n = this, t = n.options.gaugeArea, i = n.surface.size(), o = t.border || {}, a = new j([0, 0], [i.width, i.height]); return n._gaugeAreaMargin = t.margin || J, o.width > 0 && (a = r(a, o.width)), e = R.fromRect(a, { stroke: { color: o.width ? o.color : "", width: o.width, dashType: o.dashType, lineJoin: "round", lineCap: "round" }, fill: { color: t.background } }) }, _createSurface: function () { var n, t = this, i = t.options, o = t._getSize(); return o = i.gaugeArea ? d(o, i.gaugeArea) : o, n = e("<div></div>").appendTo(t.element).css({ width: o.width, height: o.height }), new T.Surface.create(n, { type: i.renderAs }) }, getSize: function () { return this._getSize() }, _getSize: function () { var e = this, n = e.element, t = n.width(), i = n.height(); return t || (t = G), i || (i = Y), { width: t, height: i } } }), ae = re.extend({ init: function (e, n) { var t = this; re.fn.init.call(t, e, n), c.notify(t, u.ui) }, options: { name: "RadialGauge", transitions: !0, gaugeArea: { background: "" } }, reflow: function (e) { var n, t = this, i = t.pointers; for (t.scale.reflow(e), t._initialPlotArea = t.scale.bbox, n = 0; n < i.length; n++)i[n].reflow(t.scale.arc), t._initialPlotArea = j.union(t._initialPlotArea, i[n].bbox); t.fitScale(e), t.alignScale(e), t._buildVisual(t.gaugeArea, i, t.scale), t._draw() }, _buildVisual: function (e, n, t) { var i, o, r = new S; for (r.append(e), r.append(t.ticks), r.append(t.ranges), o = 0; o < n.length; o++)i = n[o], i.render(), r.append(i.elements), i.value(i.options.value); r.append(t.labelElements), this._visuals = r }, fitScale: function (e) { for (var n, t, i, o, r, a = this, s = a.scale, c = s.arc, p = a._initialPlotArea, d = l.abs(a.getDiff(p, e)), u = _(d, V), h = _(-d, V), f = 0, g = 0; !(!(g++ < 100) || (f = r === i ? f + 1 : 0, f > 5) || u != o && (n = a.getPlotBox(u, e, c), 0 <= n && n <= 2) || h != o && (i = a.getPlotBox(h, e, c), 0 <= i && i <= 2) || (o = n > 0 && i > 0 ? 2 * u : n < 0 && i < 0 ? 2 * h : _((u + h) / 2 || 1, V), t = a.getPlotBox(o, e, c), 0 <= t && t <= 2));)r = i, t > 0 ? (h = o, i = t) : (u = o, n = t) }, getPlotBox: function (e, n, t) { var i, o = this, r = o.scale, a = o.pointers, s = t.getRadiusX(); for (t = t.clone(), t.setRadiusX(s + e).setRadiusY(s + e), r.arc = t, r.reflow(n), o.plotBbox = r.bbox, i = 0; i < a.length; i++)a[i].reflow(t), o.plotBbox = j.union(o.plotBbox, a[i].bbox); return o.getDiff(o.plotBbox, n) }, getDiff: function (e, n) { return l.min(n.width() - e.width(), n.height() - e.height()) }, alignScale: function (e) { var n, t = this, i = t.plotBbox.center(), o = e.center(), r = i.x - o.x, a = i.y - o.y, s = t.scale, l = t.pointers; for (s.arc.center.x -= r, s.arc.center.y -= a, s.reflow(e), n = 0; n < l.length; n++)l[n].reflow(s.arc), t.plotBbox = j.union(s.bbox, l[n].bbox) }, _createModel: function () { var n, t, i = this, o = i.options, r = o.pointer, a = i.scale = new oe(o.scale); for (i.pointers = [], r = e.isArray(r) ? r : [r], t = 0; t < r.length; t++)n = new ie(a, d({}, r[t], { animation: { transitions: o.transitions } })), i.pointers.push(n) } }), se = re.extend({ init: function (e, n) { var t = this; re.fn.init.call(t, e, n), c.notify(t, u.ui) }, options: { name: "LinearGauge", transitions: !0, gaugeArea: { background: "" }, scale: { vertical: !0 } }, reflow: function (e) { var n, t = this, i = t.pointers, o = e.origin.x, r = e.origin.y, a = new u.Box2D(o, r, o + e.width(), r + e.height()); for (t.scale.reflow(a), n = 0; n < i.length; n++)i[n].reflow(); t.bbox = t._getBox(a), t._alignElements(), t._shrinkElements(), t._buildVisual(), t._draw() }, _buildVisual: function () { var e, n, t = this, i = new S, o = t.scale.render(), r = t.pointers; for (i.append(t.gaugeArea), i.append(o), n = 0; n < r.length; n++)e = r[n], i.append(e.render()), e.value(e.options.value); t._visuals = i }, _createModel: function () { var n, t, i, o = this, r = o.options, a = r.pointer, s = o.scale = new le(r.scale); for (o.pointers = [], a = e.isArray(a) ? a : [a], i = 0; i < a.length; i++)t = d({}, a[i], { animation: { transitions: r.transitions } }), n = t.shape === C ? new pe(s, t) : new de(s, t), o.pointers.push(n) }, _getSize: function () { var e = this, n = e.element, t = n.width(), i = n.height(), o = e.options.scale.vertical; return t || (t = o ? F : G), i || (i = o ? Y : I), { width: t, height: i } }, _getBox: function (e) { var n, t, i = this, o = i.scale, r = i.pointers, a = e.center(), s = r[0].box.clone().wrap(o.box); for (t = 0; t < r.length; t++)s.wrap(r[t].box.clone()); return o.options.vertical ? (n = s.width() / 2, s = new w(a.x - n, e.y1, a.x + n, e.y2)) : (n = s.height() / 2, s = new w(e.x1, a.y - n, e.x2, a.y + n)), s }, _alignElements: function () { var e, n, t = this, i = t.scale, o = t.pointers, r = i.box, a = o[0].box.clone().wrap(i.box), s = t.bbox; for (n = 0; n < o.length; n++)a.wrap(o[n].box.clone()); for (i.options.vertical ? (e = s.center().x - a.center().x, i.reflow(new w(r.x1 + e, s.y1, r.x2 + e, s.y2))) : (e = s.center().y - a.center().y, i.reflow(new w(s.x1, r.y1 + e, s.x2, r.y2 + e))), n = 0; n < o.length; n++)o[n].reflow(t.bbox) }, _shrinkElements: function () { var e, n = this, t = n.scale, i = n.pointers, o = t.box.clone(), r = t.options.vertical ? "y" : "x", a = i[0].box; for (e = 0; e < i.length; e++)a.wrap(i[e].box.clone()); for (o[r + 1] += l.max(o[r + 1] - a[r + 1], 0), o[r + 2] -= l.max(a[r + 2] - o[r + 2], 0), t.reflow(o), e = 0; e < i.length; e++)i[e].reflow(n.bbox) } }), le = g.extend({ init: function (e) { var n = this; n.options = d({}, n.options, e), n.options = d({}, n.options, { labels: { mirror: n.options.mirror } }), n.options.majorUnit = n.options.majorUnit || h(n.options.min, n.options.max), m.fn.init.call(n, n.options), n.options.minorUnit = n.options.minorUnit || n.options.majorUnit / 10 }, options: { min: 0, max: 50, majorTicks: { size: 15, align: W, color: M, width: N, visible: !0 }, minorTicks: { size: 10, align: W, color: M, width: N, visible: !0 }, line: { width: N }, labels: { position: W, padding: 2 }, mirror: !1, _alignLines: !1 }, render: function () { var e = this, n = e.elements = new S, t = e.renderLabels(), i = e.renderLine(), o = e.renderTicks(), r = e.renderRanges(); return n.append(i, t, o, r), n }, renderRanges: function () { var e, n, t, o, r, a = this, s = a.options, l = s.min, c = s.max, p = s.ranges || [], d = s.vertical, u = s.labels.mirror, h = new S, f = p.length, g = s.rangeSize || s.minorTicks.size / 2; if (f) for (r = 0; r < f; r++)e = i(p[r], l, c), n = a.getSlot(e.from, e.to), t = d ? a.lineBox() : n, o = d ? n : a.lineBox(), d ? t.x1 -= g * (u ? -1 : 1) : o.y2 += g * (u ? -1 : 1), h.append(R.fromRect(new j([t.x1, o.y1], [t.x2 - t.x1, o.y2 - o.y1]), { fill: { color: e.color, opacity: e.opacity }, stroke: {} })); return h }, renderLabels: function () { var e, n = this, i = n.options, o = n.labels, r = new S; for (e = 0; e < o.length; e++)r.append(t(o[e], i.labels)); return r }, renderLine: function () { var e, n = this, t = n.options, i = t.line, o = n.lineBox(), r = new S; return i.width > 0 && i.visible && (e = new R({ stroke: { color: i.color, dashType: i.dashType, width: i.width } }), e.moveTo(o.x1, o.y1).lineTo(o.x2, o.y2), r.append(e)), r }, renderTicks: function () { function e(e, i) { var a, l = e.length; if (i.visible) for (a = i.skip; a < l; a += i.step)a % i.skipUnit !== 0 && (s.tickX = r ? o.x2 : o.x2 - i.size, s.tickY = r ? o.y1 - i.size : o.y1, s.position = e[a], t.append(n.renderAxisTick(s, i))) } var n = this, t = new S, i = n.options, o = n.lineBox(), r = i.labels.mirror, a = i.majorTicks.visible ? i.majorUnit : 0, s = { _alignLines: i._alignLines, vertical: i.vertical }; return e(n.getMajorTickPositions(), i.majorTicks), e(n.getMinorTickPositions(), d({}, { skipUnit: a / i.minorUnit }, i.minorTicks)), t }, renderAxisTick: function (e, n) { var t, i, o, r = e.tickX, a = e.tickY, s = e.position; return e.vertical ? (t = new z(r, s), i = new z(r + n.size, s)) : (t = new z(s, a), i = new z(s, a + n.size)), o = new R({ stroke: { color: n.color, width: n.width } }).moveTo(t).lineTo(i) } }), ce = te.extend({ init: function (e, n) { var t = this; te.fn.init.call(t, e, n), t.options = d({ track: { visible: v(n.track) } }, t.options) }, options: { shape: E, track: { border: { width: 1 } }, color: M, border: { width: 1 }, opacity: 1, margin: k(3), animation: { type: E }, visible: !0 }, reflow: function () { var e, n, t, i = this, o = i.options, r = i.scale, a = r.lineBox(), s = o.track.size || o.size, l = o.size / 2, c = r.options.mirror, p = k(o.margin), d = r.options.vertical, u = d ? p[c ? "left" : "right"] : p[c ? "bottom" : "top"]; u = c ? -u : u, d ? (t = new w(a.x1 + u, a.y1, a.x1 + u, a.y2), c ? t.x1 -= s : t.x2 += s, o.shape !== E && (n = new w(a.x2 + u, a.y1 - l, a.x2 + u, a.y2 + l), e = n)) : (t = new w(a.x1, a.y1 - u, a.x2, a.y1 - u), c ? t.y2 += s : t.y1 -= s, o.shape !== E && (n = new w(a.x1 - l, a.y1 - u, a.x2 + l, a.y1 - u), e = n)), i.trackBox = t, i.pointerRangeBox = n, i.box = e || t.clone().pad(o.border.width) }, getElementOptions: function () { var e = this.options; return { fill: { color: e.color, opacity: e.opacity }, stroke: v(e.border) ? { color: e.border.width ? e.border.color || e.color : "", width: e.border.width, dashType: e.border.dashType, opacity: e.opacity } : null } }, _margin: function () { var e = this, n = e.options, t = e.scale, i = t.options.mirror, o = k(n.margin), r = t.options.vertical, a = r ? o[i ? "left" : "right"] : o[i ? "bottom" : "top"]; return a } }), pe = ce.extend({ init: function (e, t) { ce.fn.init.call(this, e, t), this.options.size === n && (this.options.size = .6 * this.scale.options.majorTicks.size) }, pointerShape: function () { var e, n, t = this, i = t.options, o = t.scale, r = i.size, a = o.options.vertical, s = r / 2, l = o.options.mirror ? -1 : 1, c = o.options.reverse; return a ? (e = c ? "y2" : "y1", n = [new z(0, 0 - s), new z(0 - l * r, 0), new z(0, 0 + s)]) : (e = c ? "x1" : "x2", n = [new z(0 - s, 0), new z(0, 0 + l * r), new z(0 + s, 0)]), n }, repaint: function () { var e = this, n = e.scale, t = e.options, i = new a(e.elements, d(t.animation, { vertical: n.options.vertical, mirror: n.options.mirror, margin: e._margin(t.margin), from: n.getSlot(t._oldValue), to: n.getSlot(t.value) })); t.animation.transitions === !1 && (i.options.duration = 0), i.setup(), i.play() }, render: function () { var e, n = this, t = n.options, i = new S, o = n.scale, r = n.getElementOptions(), a = n.pointerShape(t.value); return t.animation.type = X, i = new R({ stroke: r.stroke, fill: r.fill }).moveTo(a[0]).lineTo(a[1]).lineTo(a[2]).close(), e = o.getSlot(t.value), i.transform(A.transform().translate(e.x1, e.y1)), n.elements = i, i } }), de = ce.extend({ init: function (e, t) { ce.fn.init.call(this, e, t), this.options.size === n && (this.options.size = .3 * this.scale.options.majorTicks.size) }, pointerShape: function (e) { var n, t, i, o = this, r = o.options, a = o.scale, s = a.options.vertical, l = a.options.mirror, c = l == s ? -1 : 1, p = r.size * c, d = a.getSlot(a.options.min), u = a.getSlot(e), h = s ? ne : ee, f = s ? ee : ne, g = o._margin() * c, m = new z; return m[h] = d[h + "1"], m[f] = d[f + "1"], n = new z, n[h] = u[h + "1"], n[f] = u[f + "1"], s ? (m.translate(g, 0), n.translate(g, 0)) : (m.translate(0, g), n.translate(0, g)), t = n.clone(), i = m.clone(), s ? (t.translate(p, 0), i.translate(p, 0)) : (t.translate(0, p), i.translate(0, p)), [m, n, t, i] }, repaint: function () { var e, n = this, t = n.scale, i = n.options, o = n.pointerShape(i.value), r = n.elements.children[0], a = n.pointerShape(i._oldValue); r.moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).lineTo(o[3]).close(), e = new s(r, d(i.animation, { reverse: t.options.reverse, vertical: t.options.vertical, oldPoints: [a[1], a[2]], newPoints: [o[1], o[2]] })), i.animation.transitions === !1 && (e.options.duration = 0), e.setup(), e.play() }, render: function () { var e = this, n = new S, t = e.getElementOptions(), i = new R({ stroke: t.stroke, fill: t.fill }); return n.append(i), e.elements = n, n } }), ue = T.Animation.extend({ init: function (e, n) { T.Animation.fn.init.call(this, e, n), n = this.options, n.duration = l.max(l.abs(n.newAngle - n.oldAngle) / n.duration * 1e3, 1) }, options: { easing: H, duration: U }, step: function (e) { var n = this, t = n.options, i = y(t.oldAngle, t.newAngle, e); n.element.transform(A.transform().rotate(i, t.center)) } }); T.AnimationFactory.current.register($, ue), a = T.Animation.extend({ options: { easing: H, duration: B }, setup: function () { var e, n, t = this.options, i = t.margin, o = t.from, r = t.to, a = t.vertical ? "x1" : "y1"; t.mirror == t.vertical ? (o[a] -= i, r[a] -= i) : (o[a] += i, r[a] += i), e = this.fromScale = new z(o.x1, o.y1), n = this.toScale = new z(r.x1, r.y1), 0 !== t.duration && (t.duration = l.max(e.distanceTo(n) / t.duration * 1e3, 1)) }, step: function (e) { var n = y(this.fromScale.x, this.toScale.x, e), t = y(this.fromScale.y, this.toScale.y, e); this.element.transform(A.transform().translate(n, t)) } }), T.AnimationFactory.current.register(X, a), s = T.Animation.extend({ options: { easing: H, speed: B }, setup: function () { var e = this.options, n = e.newPoints, t = e.oldPoints, i = this.axis = e.vertical ? ne : ee, o = this.to = n[0][i], r = this.from = t[0][i]; 0 !== e.duration && (e.duration = l.max(l.abs(o - r) / e.speed * 1e3, 1)), this._set(r) }, step: function (e) { var n = y(this.from, this.to, e); this._set(n) }, _set: function (e) { var n = "set" + this.axis.toUpperCase(), t = this.options.newPoints; t[0][n](e), t[1][n](e) } }), T.AnimationFactory.current.register(E, s), u.ui.plugin(ae), u.ui.plugin(se), u.ExportMixin.extend(re.fn), d(u, { Gauge: re, RadialPointer: ie, LinearPointer: ce, ArrowLinearPointer: pe, BarLinearPointer: de, LinearScale: le, RadialScale: oe, LinearGauge: se, RadialGauge: ae }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (e, n, t) { (t || n)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(s, u) } function i(t) { var e, i = []; for (e in t) i.push(e + t[e]); return i.sort().join("") } function n(t) { var e, i = 2166136261; for (e = 0; e < t.length; ++e)i += (i << 1) + (i << 4) + (i << 7) + (i << 8) + (i << 24), i ^= t.charCodeAt(e); return i >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function a(t, e, i) { return c.current.measure(t, e, i) } var r, s, u, h, l, c; window.kendo.util = window.kendo.util || {}, r = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var i = this._map, n = { key: t, value: e }; i[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (i[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), s = /\r?\n|\r|\t/g, u = " ", h = { baselineMarkerSize: 1 }, "undefined" != typeof document && (l = document.createElement("div"), l.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), c = kendo.Class.extend({ init: function (e) { this._cache = new r(1e3), this.options = t.extend({}, h, e) }, measure: function (t, a, r) { var s, u, h, c, d, p, f, m, _; if (void 0 === r && (r = {}), !t) return o(); if (s = i(a), u = n(t + s), h = this._cache.get(u)) return h; c = o(), d = r.box || l, p = this._baselineMarker().cloneNode(!1); for (f in a) m = a[f], void 0 !== m && (d.style[f] = m); return _ = r.normalizeText !== !1 ? e(t) : t + "", d.textContent = _, d.appendChild(p), document.body.appendChild(d), _.length && (c.width = d.offsetWidth - this.options.baselineMarkerSize, c.height = d.offsetHeight, c.baseline = p.offsetTop + this.options.baselineMarkerSize), c.width > 0 && c.height > 0 && this._cache.put(u, c), d.parentNode.removeChild(d), c }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), c.current = new c, kendo.deepExtend(kendo.util, { LRUCache: r, TextMetrics: c, measureText: a, objectKey: i, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("util/main.min", ["kendo.core.min"], t) }(function () { return function () { function t(t) { return t * t } function e(t) { return "string" != typeof t && (t += "px"), t } function i(t) { var e, i, n = []; if (t) for (e = h.toHyphens(t).split("-"), i = 0; i < e.length; i++)n.push("k-pos-" + e[i]); return n.join(" ") } function n(t) { for (var e = { 1: "i", 10: "x", 100: "c", 2: "ii", 20: "xx", 200: "cc", 3: "iii", 30: "xxx", 300: "ccc", 4: "iv", 40: "xl", 400: "cd", 5: "v", 50: "l", 500: "d", 6: "vi", 60: "lx", 600: "dc", 7: "vii", 70: "lxx", 700: "dcc", 8: "viii", 80: "lxxx", 800: "dccc", 9: "ix", 90: "xc", 900: "cm", 1e3: "m" }, i = [1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], n = ""; t > 0;)t < i[0] ? i.shift() : (n += e[i[0]], t -= i[0]); return n } function o(t) { var e, i, n, o, a; for (t = t.toLowerCase(), e = { i: 1, v: 5, x: 10, l: 50, c: 100, d: 500, m: 1e3 }, i = 0, n = 0, o = 0; o < t.length; ++o) { if (a = e[t.charAt(o)], !a) return null; i += a, a > n && (i -= 2 * n), n = a } return i } function a(t) { var e = Object.create(null); return function () { var i, n = ""; for (i = arguments.length; --i >= 0;)n += ":" + arguments[i]; return n in e ? e[n] : e[n] = t.apply(this, arguments) } } function r(t) { return u.test(t) } function s(t, e) { function i(t) { this.value = t } try { return t.call(e, function (t) { throw new i(t) }) } catch (n) { if (n instanceof i) return n.value; throw n } } var u, h = window.kendo, l = h.deepExtend, c = Date.now; c || (c = function () { return (new Date).getTime() }), l(h, { util: { now: c, renderPos: i, renderSize: e, sqr: t, romanToArabic: o, arabicToRoman: n, memoize: a, isUnicodeLetter: r, withExit: s } }), u = RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]") }(), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/location.min", ["kendo.drawing.min", "util/main.min"], t) }(function () { !function (t, e) { var i, n = Math, o = n.abs, a = n.atan, r = n.atan2, s = n.cos, u = n.max, h = n.min, l = n.sin, c = n.tan, d = window.kendo, p = d.Class, f = d.dataviz, m = d.deepExtend, _ = d.drawing.util, v = _.defined, g = _.deg, y = _.rad, A = _.round, w = _.valueOrDefault, C = d.util.sqr, E = p.extend({ init: function (t, e) { 1 === arguments.length ? (this.lat = t[0], this.lng = t[1]) : (this.lat = t, this.lng = e) }, DISTANCE_ITERATIONS: 100, DISTANCE_CONVERGENCE: 1e-12, DISTANCE_PRECISION: 2, FORMAT: "{0:N6},{1:N6}", toArray: function () { return [this.lat, this.lng] }, equals: function (t) { return t && t.lat === this.lat && t.lng === this.lng }, clone: function () { return new E(this.lat, this.lng) }, round: function (t) { return this.lng = A(this.lng, t), this.lat = A(this.lat, t), this }, wrap: function () { return this.lng = this.lng % 180, this.lat = this.lat % 90, this }, distanceTo: function (t, e) { return this.greatCircleTo(t, e).distance }, destination: function (t, e, i) { var o, a, u, h, c; return e = y(e), i = i || f.map.datums.WGS84, o = y(this.lat), a = y(this.lng), u = t / d.dataviz.map.datums.WGS84.a, h = n.asin(l(o) * s(u) + s(o) * l(u) * s(e)), c = a + r(l(e) * l(u) * s(o), s(u) - l(o) * l(h)), new E(g(h), g(c)) }, greatCircleTo: function (t, e) { var i, u, h, d, p, m, _, v, w, b, k, x, F, z, D, B, T, S, L, M, O, P, I, N, j, R, V, Z, G; if (t = E.create(t), e = e || f.map.datums.WGS84, !t || this.clone().round(8).equals(t.clone().round(8))) return { distance: 0, azimuthFrom: 0, azimuthTo: 0 }; for (i = e.a, u = e.b, h = e.f, d = y(t.lng - this.lng), p = a((1 - h) * c(y(this.lat))), m = l(p), _ = s(p), v = a((1 - h) * c(y(t.lat))), w = l(v), b = s(v), k = d, F = this.DISTANCE_ITERATIONS, z = !1; !z && F-- > 0;)D = l(k), B = s(k), T = n.sqrt(C(b * D) + C(_ * w - m * b * B)), L = m * w + _ * b * B, O = r(T, L), P = _ * b * D / T, S = 1 - C(P), M = 0, 0 !== S && (M = L - 2 * m * w / S), x = k, I = h / 16 * S * (4 + h * (4 - 3 * S)), k = d + (1 - I) * h * P * (O + I * T * (M + I * L * (-1 + 2 * C(M)))), z = o(k - x) <= this.DISTANCE_CONVERGENCE; return N = S * (C(i) - C(u)) / C(u), j = 1 + N / 16384 * (4096 + N * (-768 + N * (320 - 175 * N))), R = N / 1024 * (256 + N * (-128 + N * (74 - 47 * N))), V = R * T * (M + R / 4 * (L * (-1 + 2 * C(M)) - R / 6 * M * (-3 + 4 * C(T)) * (-3 + 4 * C(M)))), Z = r(b * D, _ * w - m * b * B), G = r(_ * D, -m * b + _ * w * B), { distance: A(u * j * (O - V), this.DISTANCE_PRECISION), azimuthFrom: g(Z), azimuthTo: g(G) } } }); E.fn.toString = function () { return d.format(this.FORMAT, this.lat, this.lng) }, E.fromLngLat = function (t) { return new E(t[1], t[0]) }, E.fromLatLng = function (t) { return new E(t[0], t[1]) }, E.create = function (t, e) { if (v(t)) return t instanceof E ? t.clone() : 1 === arguments.length && 2 === t.length ? E.fromLatLng(t) : new E(t, e) }, i = p.extend({ init: function (t, e) { t = E.create(t), e = E.create(e), t.lng + 180 > e.lng + 180 && t.lat + 90 < e.lat + 90 ? (this.se = t, this.nw = e) : (this.se = e, this.nw = t) }, contains: function (t) { var e = this.nw, i = this.se, n = w(t.lng, t[1]), o = w(t.lat, t[0]); return t && n + 180 >= e.lng + 180 && n + 180 <= i.lng + 180 && o + 90 >= i.lat + 90 && o + 90 <= e.lat + 90 }, center: function () { var t = this.nw, e = this.se, i = t.lng + (e.lng - t.lng) / 2, n = t.lat + (e.lat - t.lat) / 2; return new E(n, i) }, containsAny: function (t) { var e, i = !1; for (e = 0; e < t.length; e++)i = i || this.contains(t[e]); return i }, include: function (t) { var e = this.nw, i = this.se, n = w(t.lng, t[1]), o = w(t.lat, t[0]); e.lng = h(e.lng, n), e.lat = u(e.lat, o), i.lng = u(i.lng, n), i.lat = h(i.lat, o) }, includeAll: function (t) { for (var e = 0; e < t.length; e++)this.include(t[e]) }, edges: function () { var t = this.nw, e = this.se; return { nw: this.nw, ne: new E(t.lat, e.lng), se: this.se, sw: new E(e.lat, t.lng) } }, toArray: function () { var t = this.nw, e = this.se; return [t, new E(t.lat, e.lng), e, new E(e.lat, t.lng)] }, overlaps: function (t) { return this.containsAny(t.toArray()) || t.containsAny(this.toArray()) } }), i.World = new i([90, -180], [-90, 180]), i.create = function (t, n) { return t instanceof i ? t : t && n ? new i(t, n) : t && 4 === t.length && !n ? new i([t[0], t[1]], [t[2], t[3]]) : e }, m(f, { map: { Extent: i, Location: E } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/attribution.min", ["kendo.drawing.min"], t) }(function () { !function () { var t = window.kendo, e = t.ui.Widget, i = t.template, n = t.drawing.util, o = n.valueOrDefault, a = n.defined, r = e.extend({ init: function (t, i) { e.fn.init.call(this, t, i), this._initOptions(i), this.items = [], this.element.addClass("k-widget k-attribution") }, options: { name: "Attribution", separator: "&nbsp;|&nbsp;", itemTemplate: "#= text #" }, filter: function (t, e) { this._extent = t, this._zoom = e, this._render() }, add: function (t) { a(t) && ("string" == typeof t && (t = { text: t }), this.items.push(t), this._render()) }, remove: function (t) { var e, i, n = []; for (e = 0; e < this.items.length; e++)i = this.items[e], i.text !== t && n.push(i); this.items = n, this._render() }, clear: function () { this.items = [], this.element.empty() }, _render: function () { var t, e, n, o = [], a = i(this.options.itemTemplate); for (t = 0; t < this.items.length; t++)e = this.items[t], n = this._itemText(e), "" !== n && o.push(a({ text: n })); o.length > 0 ? this.element.empty().append(o.join(this.options.separator)).show() : this.element.hide() }, _itemText: function (t) { var e = "", i = this._inZoomLevel(t.minZoom, t.maxZoom), n = this._inArea(t.extent); return i && n && (e += t.text), e }, _inZoomLevel: function (t, e) { var i = !0; return t = o(t, -Number.MAX_VALUE), e = o(e, Number.MAX_VALUE), i = this._zoom > t && this._zoom < e }, _inArea: function (t) { var e = !0; return t && (e = t.contains(this._extent)), e } }); t.dataviz.ui.plugin(r) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/navigator.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return i.format('<button class="k-button k-navigator-{0}" aria-label="move {0}"><span class="k-icon k-i-arrow-60-{0}"/></button>', t) } var i = window.kendo, n = i.ui.Widget, o = i.keys, a = t.proxy, r = ".kendoNavigator", s = e("up") + e("right") + e("down") + e("left"), u = n.extend({ init: function (t, e) { n.fn.init.call(this, t, e), this._initOptions(e), this.element.addClass("k-widget k-header k-shadow k-navigator").append(s).on("click" + r, ".k-button", a(this, "_click")); var o = this.element.parent().closest("[" + i.attr("role") + "]"); this._keyroot = o.length > 0 ? o : this.element, this._tabindex(this._keyroot), this._keydown = a(this._keydown, this), this._keyroot.on("keydown", this._keydown) }, options: { name: "Navigator", panStep: 1 }, events: ["pan"], dispose: function () { this._keyroot.off("keydown", this._keydown) }, _pan: function (t, e) { var i = this.options.panStep; this.trigger("pan", { x: t * i, y: e * i }) }, _click: function (e) { var i = 0, n = 0, o = t(e.currentTarget); o.is(".k-navigator-up") ? n = 1 : o.is(".k-navigator-down") ? n = -1 : o.is(".k-navigator-right") ? i = 1 : o.is(".k-navigator-left") && (i = -1), this._pan(i, n), e.preventDefault() }, _keydown: function (t) { switch (t.which) { case o.UP: this._pan(0, 1), t.preventDefault(); break; case o.DOWN: this._pan(0, -1), t.preventDefault(); break; case o.RIGHT: this._pan(1, 0), t.preventDefault(); break; case o.LEFT: this._pan(-1, 0), t.preventDefault() } } }); i.dataviz.ui.plugin(u) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/zoom.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t, e) { return i.format('<button class="k-button k-zoom-{0}" title="zoom-{0}" aria-label="zoom-{0}"><span class="k-icon {1}"></span></button>', t, e) } var i = window.kendo, n = i.ui.Widget, o = i.keys, a = t.proxy, r = ".kendoZoomControl", s = e("in", "k-i-plus") + e("out", "k-i-minus"), u = 187, h = 189, l = 61, c = 173, d = n.extend({ init: function (t, e) { n.fn.init.call(this, t, e), this._initOptions(e), this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal k-button-group k-group-horizontal").append(s).on("click" + r, ".k-button", a(this, "_click")); var o = this.element.parent().closest("[" + i.attr("role") + "]"); this._keyroot = o.length > 0 ? o : this.element, this._tabindex(this._keyroot), this._keydown = a(this._keydown, this), this._keyroot.on("keydown", this._keydown) }, options: { name: "ZoomControl", zoomStep: 1 }, events: ["change"], _change: function (t) { var e = this.options.zoomStep; this.trigger("change", { delta: t * e }) }, _click: function (e) { var i = t(e.currentTarget), n = 1; i.is(".k-zoom-out") && (n = -1), this._change(n), e.preventDefault() }, _keydown: function (t) { switch (t.which) { case o.NUMPAD_PLUS: case u: case l: this._change(1); break; case o.NUMPAD_MINUS: case h: case c: this._change(-1) } } }); i.dataviz.ui.plugin(d) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/crs.min", ["dataviz/map/location.min", "kendo.drawing.min"], t) }(function () { !function (t, e) { var i = Math, n = i.atan, o = i.exp, a = i.pow, r = i.sin, s = i.log, u = i.tan, h = window.kendo, l = h.Class, c = h.dataviz, d = h.deepExtend, p = h.geometry, f = p.Point, m = c.map, _ = m.Location, v = h.drawing.util, g = v.rad, y = v.deg, A = v.limitValue, w = i.PI, C = w / 2, E = w / 4, b = w / 180, k = { a: 6378137, b: 6356752.314245179, f: .0033528106647474805, e: .08181919084262149 }, x = l.extend({ init: function (t) { this._initOptions(t) }, MAX_LNG: 180, MAX_LAT: 85.0840590501, INVERSE_ITERATIONS: 15, INVERSE_CONVERGENCE: 1e-12, options: { centralMeridian: 0, datum: k }, forward: function (t, e) { var i = this, n = i.options, o = n.datum, a = o.a, r = n.centralMeridian, s = A(t.lat, -i.MAX_LAT, i.MAX_LAT), u = e ? A(t.lng, -i.MAX_LNG, i.MAX_LNG) : t.lng, h = g(u - r) * a, l = i._projectLat(s); return new f(h, l) }, _projectLat: function (t) { var e = this.options.datum, i = e.e, n = e.a, o = g(t), h = u(E + o / 2), l = i * r(o), c = a((1 - l) / (1 + l), i / 2); return n * s(h * c) }, inverse: function (t, e) { var i = this, n = i.options, o = n.datum, a = o.a, r = n.centralMeridian, s = t.x / (b * a) + r, u = A(i._inverseY(t.y), -i.MAX_LAT, i.MAX_LAT); return e && (s = A(s, -i.MAX_LNG, i.MAX_LNG)), new _(u, s) }, _inverseY: function (t) { var e, s, u, h, l = this, c = l.options.datum, d = c.a, p = c.e, f = p / 2, m = o(-t / d), _ = C - 2 * n(m); for (e = 0; e <= l.INVERSE_ITERATIONS && (s = p * r(_), u = a((1 - s) / (1 + s), f), h = C - 2 * n(m * u) - _, _ += h, !(i.abs(h) <= l.INVERSE_CONVERGENCE)); e++); return y(_) } }), F = x.extend({ MAX_LAT: 85.0511287798, _projectLat: function (t) { var e = this.options.datum.a, i = g(t), n = u(E + i / 2); return e * s(n) }, _inverseY: function (t) { var e = this.options.datum.a, i = o(-t / e); return y(C - 2 * n(i)) } }), z = l.extend({ forward: function (t) { return new f(t.lng, t.lat) }, inverse: function (t) { return new _(t.y, t.x) } }), D = l.extend({ init: function () { var t = this, e = t._proj = new F, i = this.c = 2 * w * e.options.datum.a; this._tm = p.transform().translate(.5, .5).scale(1 / i, -1 / i), this._itm = p.transform().scale(i, -i).translate(-.5, -.5) }, toPoint: function (t, e, i) { var n = this._proj.forward(t, i); return n.transform(this._tm).scale(e || 1) }, toLocation: function (t, e, i) { return t = t.clone().scale(1 / (e || 1)).transform(this._itm), this._proj.inverse(t, i) } }), B = l.extend({ init: function () { this._proj = new x }, toPoint: function (t) { return this._proj.forward(t) }, toLocation: function (t) { return this._proj.inverse(t) } }), T = l.extend({ init: function () { this._proj = new z }, toPoint: function (t) { return this._proj.forward(t) }, toLocation: function (t) { return this._proj.inverse(t) } }); d(c, { map: { crs: { EPSG3395: B, EPSG3857: D, EPSG4326: T }, datums: { WGS84: k }, projections: { Equirectangular: z, Mercator: x, SphericalMercator: F } } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/base.min", ["kendo.core.min", "dataviz/map/location.min"], t) }(function () { !function (t, e) { var i = t.proxy, n = window.kendo, o = n.Class, a = n.dataviz, r = n.deepExtend, s = a.map.Extent, u = n.drawing.util, h = u.defined, l = o.extend({ init: function (e, n) { this._initOptions(n), this.map = e, this.element = t("<div class='k-layer'></div>").css({ zIndex: this.options.zIndex, opacity: this.options.opacity }).appendTo(e.scrollElement), this._beforeReset = i(this._beforeReset, this), this._reset = i(this._reset, this), this._resize = i(this._resize, this), this._panEnd = i(this._panEnd, this), this._activate(), this._updateAttribution() }, destroy: function () { this._deactivate() }, show: function () { this.reset(), this._activate(), this._applyExtent(!0) }, hide: function () { this._deactivate(), this._setVisibility(!1) }, reset: function () { this._beforeReset(), this._reset() }, _reset: function () { this._applyExtent() }, _beforeReset: t.noop, _resize: t.noop, _panEnd: function () { this._applyExtent() }, _applyExtent: function () { var t = this.options, e = this.map.zoom(), i = !h(t.minZoom) || e >= t.minZoom, n = !h(t.maxZoom) || e <= t.maxZoom, o = s.create(t.extent), a = !o || o.overlaps(this.map.extent()); this._setVisibility(i && n && a) }, _setVisibility: function (t) { this.element.css("display", t ? "" : "none") }, _activate: function () { var t = this.map; t.bind("beforeReset", this._beforeReset), t.bind("reset", this._reset), t.bind("resize", this._resize), t.bind("panEnd", this._panEnd) }, _deactivate: function () { var t = this.map; t.unbind("beforeReset", this._beforeReset), t.unbind("reset", this._reset), t.unbind("resize", this._resize), t.unbind("panEnd", this._panEnd) }, _updateAttribution: function () { var t = this.map.attribution; t && t.add(this.options.attribution) } }); r(a, { map: { layers: { Layer: l } } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/shape.min", ["dataviz/map/layers/base.min", "dataviz/map/location.min"], t) }(function () { !function (t, e) { var i = t.proxy, n = window.kendo, o = n.Class, a = n.data.DataSource, r = n.dataviz, s = n.deepExtend, u = n.geometry, h = n.drawing, l = h.Group, c = h.util.last, d = h.util.defined, p = r.map, f = p.Location, m = p.layers.Layer, _ = m.extend({ init: function (t, e) { this._pan = i(this._pan, this), m.fn.init.call(this, t, e), this.surface = h.Surface.create(this.element, { width: t.scrollElement.width(), height: t.scrollElement.height() }), this._initRoot(), this.movable = new n.ui.Movable(this.surface.element), this._markers = [], this._click = this._handler("shapeClick"), this.surface.bind("click", this._click), this._mouseenter = this._handler("shapeMouseEnter"), this.surface.bind("mouseenter", this._mouseenter), this._mouseleave = this._handler("shapeMouseLeave"), this.surface.bind("mouseleave", this._mouseleave), this._initDataSource() }, options: { autoBind: !0 }, destroy: function () { m.fn.destroy.call(this), this.surface.destroy(), this.dataSource.unbind("change", this._dataChange) }, setDataSource: function (t) { this.dataSource && this.dataSource.unbind("change", this._dataChange), this.dataSource = n.data.DataSource.create(t), this.dataSource.bind("change", this._dataChange), this.options.autoBind && this.dataSource.fetch() }, _reset: function () { m.fn._reset.call(this), this._translateSurface(), this._data && this._load(this._data) }, _initRoot: function () { this._root = new l, this.surface.draw(this._root) }, _beforeReset: function () { this.surface.clear(), this._initRoot() }, _resize: function () { this.surface.size(this.map.size()) }, _initDataSource: function () { var t = this.options.dataSource; this._dataChange = i(this._dataChange, this), this.dataSource = a.create(t).bind("change", this._dataChange), t && this.options.autoBind && this.dataSource.fetch() }, _dataChange: function (t) { this._data = t.sender.view(), this._load(this._data) }, _load: function (t) { var e, i, n; for (this._clearMarkers(), this._loader || (this._loader = new v(this.map, this.options.style, this)), e = new l, i = 0; i < t.length; i++)n = this._loader.parse(t[i]), n && e.append(n); this._root.clear(), this._root.append(e) }, shapeCreated: function (t) { var e, i = !1; return t instanceof h.Circle && (i = d(this._createMarker(t))), i || (e = { layer: this, shape: t }, i = this.map.trigger("shapeCreated", e)), i }, featureCreated: function (t) { t.layer = this, this.map.trigger("shapeFeatureCreated", t) }, _createMarker: function (t) { var e = this.map.markers.bind({ location: t.location }, t.dataItem); return e && this._markers.push(e), e }, _clearMarkers: function () { for (var t = 0; t < this._markers.length; t++)this.map.markers.remove(this._markers[t]); this._markers = [] }, _pan: function () { this._panning || (this._panning = !0, this.surface.suspendTracking()) }, _panEnd: function (t) { m.fn._panEnd.call(this, t), this._translateSurface(), this.surface.resumeTracking(), this._panning = !1 }, _translateSurface: function () { var t = this.map, e = t.locationToView(t.extent().nw); this.surface.translate && (this.surface.translate(e), this.movable.moveTo({ x: e.x, y: e.y })) }, _handler: function (t) { var e = this; return function (i) { if (i.element) { var n = { layer: e, shape: i.element, originalEvent: i.originalEvent }; e.map.trigger(t, n) } } }, _activate: function () { m.fn._activate.call(this), this.map.bind("pan", this._pan) }, _deactivate: function () { m.fn._deactivate.call(this), this.map.unbind("pan", this._pan) } }), v = o.extend({ init: function (t, e, i) { this.observer = i, this.locator = t, this.style = e }, parse: function (t) { var e = new l, i = !0; return "Feature" === t.type ? (i = !1, this._loadGeometryTo(e, t.geometry, t), this._featureCreated(e, t)) : this._loadGeometryTo(e, t, t), i && e.children.length < 2 && (e = e.children[0]), e }, _shapeCreated: function (t) { var e = !1; return this.observer && this.observer.shapeCreated && (e = this.observer.shapeCreated(t)), e }, _featureCreated: function (t, e) { this.observer && this.observer.featureCreated && this.observer.featureCreated({ group: t, dataItem: e, properties: e.properties }) }, _loadGeometryTo: function (t, e, i) { var n, o, a = e.coordinates; switch (e.type) { case "LineString": o = this._loadPolygon(t, [a], i), this._setLineFill(o); break; case "MultiLineString": for (n = 0; n < a.length; n++)o = this._loadPolygon(t, [a[n]], i), this._setLineFill(o); break; case "Polygon": this._loadPolygon(t, a, i); break; case "MultiPolygon": for (n = 0; n < a.length; n++)this._loadPolygon(t, a[n], i); break; case "Point": this._loadPoint(t, a, i); break; case "MultiPoint": for (n = 0; n < a.length; n++)this._loadPoint(t, a[n], i) } }, _setLineFill: function (t) { var e = t.segments; (e.length < 4 || !e[0].anchor().equals(c(e).anchor())) && (t.options.fill = null) }, _loadShape: function (t, e) { return this._shapeCreated(e) || t.append(e), e }, _loadPolygon: function (t, e, i) { var n = this._buildPolygon(e); return n.dataItem = i, this._loadShape(t, n) }, _buildPolygon: function (t) { var e, i, n, o = t.length > 1 ? h.MultiPath : h.Path, a = new o(this.style); for (e = 0; e < t.length; e++)for (i = 0; i < t[e].length; i++)n = this.locator.locationToView(f.fromLngLat(t[e][i])), 0 === i ? a.moveTo(n.x, n.y) : a.lineTo(n.x, n.y); return a }, _loadPoint: function (t, e, i) { var n = f.fromLngLat(e), o = this.locator.locationToView(n), a = new u.Circle(o, 10), r = new h.Circle(a, this.style); return r.dataItem = i, r.location = n, this._loadShape(t, r) } }); s(n.data, { schemas: { geojson: { type: "json", data: function (t) { return "FeatureCollection" === t.type ? t.features : "GeometryCollection" === t.type ? t.geometries : t } } }, transports: { geojson: { read: { dataType: "json" } } } }), s(r, { map: { layers: { shape: _, ShapeLayer: _ }, GeoJSONLoader: v } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/bubble.min", ["dataviz/map/layers/shape.min"], t) }(function () { !function (t, e) { var i = window.kendo, n = i.getter, o = i.dataviz, a = i.deepExtend, r = i.geometry, s = i.drawing, u = s.util, h = u.defined, l = o.map, c = l.Location, d = l.layers.ShapeLayer, p = d.extend({ options: { autoBind: !0, locationField: "location", valueField: "value", minSize: 0, maxSize: 100, scale: "sqrt", symbol: "circle" }, _load: function (t) { var e, i, o, a, r, s, u, l, d, p, f; if (this.surface.clear(), 0 !== t.length) for (e = this.options, i = n(e.valueField), t = t.slice(0), t.sort(function (t, e) { return i(e) - i(t) }), o = this._scaleType(), r = 0; r < t.length; r++)s = t[r], u = n(e.locationField)(s), l = n(e.valueField)(s), h(u) && h(l) && (a || (a = new o([0, l], [e.minSize, e.maxSize])), u = c.create(u), d = this.map.locationToView(u), p = a.map(l), f = this._createSymbol({ center: d, size: p, style: e.style, dataItem: s, location: u }), f.dataItem = s, f.location = u, f.value = l, this._drawSymbol(f)) }, _scaleType: function () { var t = this.options.scale; return i.isFunction(t) ? t : o.map.scales[t] }, _createSymbol: function (t) { var e = this.options.symbol; return i.isFunction(e) || (e = o.map.symbols[e]), e(t) }, _drawSymbol: function (t) { var e = { layer: this, shape: t }, i = this.map.trigger("shapeCreated", e); i || this.surface.draw(t) } }), f = i.Class.extend({ init: function (t, e) { var i, n; this._domain = t, this._range = e, i = Math.sqrt(t[1]) - Math.sqrt(t[0]), n = e[1] - e[0], this._ratio = n / i }, map: function (t) { var e = (Math.sqrt(t) - Math.sqrt(this._domain[0])) * this._ratio; return this._range[0] + e } }), m = { circle: function (t) { var e = new r.Circle(t.center, t.size / 2); return new s.Circle(e, t.style) }, square: function (t) { var e = new s.Path(t.style), i = t.size / 2, n = t.center; return e.moveTo(n.x - i, n.y - i).lineTo(n.x + i, n.y - i).lineTo(n.x + i, n.y + i).lineTo(n.x - i, n.y + i).close(), e } }; a(o, { map: { layers: { bubble: p, BubbleLayer: p }, scales: { sqrt: f }, symbols: m } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/tile.min", ["dataviz/map/layers/base.min", "dataviz/map/location.min"], t) }(function () {
    !function (t, e) {
        function i(t) { return new c(_(t.x), _(t.y)) } var n = Math, o = t.proxy, a = window.kendo, r = a.Class, s = a.template, u = a.dataviz, h = a.deepExtend, l = a.geometry, c = l.Point, d = u.map.layers.Layer, p = a.util, f = p.renderSize, m = a.drawing.util, _ = m.round, v = m.limitValue, g = d.extend({ init: function (t, e) { d.fn.init.call(this, t, e), "string" == typeof this.options.subdomains && (this.options.subdomains = this.options.subdomains.split("")); var i = this._viewType(); this._view = new i(this.element, this.options) }, destroy: function () { d.fn.destroy.call(this), this._view.destroy(), this._view = null }, _beforeReset: function () { var t = this.map, e = t.locationToLayer(t.extent().nw).round(); this._view.viewOrigin(e) }, _reset: function () { d.fn._reset.call(this), this._updateView(), this._view.reset() }, _viewType: function () { return y }, _activate: function () { d.fn._activate.call(this), a.support.mobileOS || (this._pan || (this._pan = a.throttle(o(this._render, this), 100)), this.map.bind("pan", this._pan)) }, _deactivate: function () { d.fn._deactivate.call(this), this._pan && this.map.unbind("pan", this._pan) }, _updateView: function () { var t = this._view, e = this.map, i = e.extent(), n = { nw: e.locationToLayer(i.nw).round(), se: e.locationToLayer(i.se).round() }; t.center(e.locationToLayer(e.center())), t.extent(n), t.zoom(e.zoom()) }, _resize: function () { this._render() }, _panEnd: function (t) { d.fn._panEnd.call(this, t), this._render() }, _render: function () { this._updateView(), this._view.render() } }), y = r.extend({
            init: function (t, e) { this.element = t, this._initOptions(e), this.pool = new w }, options: { tileSize: 256, subdomains: ["a", "b", "c"], urlTemplate: "" }, center: function (t) { this._center = t }, extent: function (t) { this._extent = t }, viewOrigin: function (t) { this._viewOrigin = t }, zoom: function (t) { this._zoom = t }, pointToTileIndex: function (t) { return new c(n.floor(t.x / this.options.tileSize), n.floor(t.y / this.options.tileSize)) }, tileCount: function () { var t = this.size(), e = this.pointToTileIndex(this._extent.nw), i = this._extent.nw, o = this.indexToPoint(e).translate(-i.x, -i.y); return { x: n.ceil((n.abs(o.x) + t.width) / this.options.tileSize), y: n.ceil((n.abs(o.y) + t.height) / this.options.tileSize) } }, size: function () { var t = this._extent.nw, e = this._extent.se, i = e.clone().translate(-t.x, -t.y); return { width: i.x, height: i.y } }, indexToPoint: function (t) { var e = t.x, i = t.y; return new c(e * this.options.tileSize, i * this.options.tileSize) }, subdomainText: function () { var t = this.options.subdomains; return t[this.subdomainIndex++ % t.length] }, destroy: function () { this.element.empty(), this.pool.empty() }, reset: function () { this.pool.reset(), this.subdomainIndex = 0, this.render() }, render: function () { var t, e, i, n = this.tileCount(), o = this.pointToTileIndex(this._extent.nw); for (e = 0; e < n.x; e++)for (i = 0; i < n.y; i++)t = this.createTile({ x: o.x + e, y: o.y + i }), t.visible || t.show() }, createTile: function (t) { var e = this.tileOptions(t), i = this.pool.get(this._center, e); return 0 === i.element.parent().length && this.element.append(i.element), i }, tileOptions: function (t) { var e = this.wrapIndex(t), n = this.indexToPoint(t), o = this._viewOrigin, a = n.clone().translate(-o.x, -o.y); return { index: e, currentIndex: t, point: n, offset: i(a), zoom: this._zoom, size: this.options.tileSize, subdomain: this.subdomainText(), urlTemplate: this.options.urlTemplate, errorUrlTemplate: this.options.errorUrlTemplate } }, wrapIndex: function (t) {
                var e = n.pow(2, this._zoom);
                return { x: this.wrapValue(t.x, e), y: v(t.y, 0, e - 1) }
            }, wrapValue: function (t, e) { var i = n.abs(t) % e; return t = t >= 0 ? i : e - (0 === i ? e : i) }
        }), A = r.extend({ init: function (t, e) { this.id = t, this.visible = !0, this._initOptions(e), this.createElement(), this.show() }, options: { urlTemplate: "", errorUrlTemplate: "" }, createElement: function () { this.element = t("<img style='position: absolute; display: block;' alt='' />").css({ width: this.options.size, height: this.options.size }).on("error", o(function (t) { this.errorUrl() ? t.target.setAttribute("src", this.errorUrl()) : t.target.removeAttribute("src") }, this)) }, show: function () { var t, e = this.element[0]; e.style.top = f(this.options.offset.y), e.style.left = f(this.options.offset.x), t = this.url(), t && e.setAttribute("src", t), e.style.visibility = "visible", this.visible = !0 }, hide: function () { this.element[0].style.visibility = "hidden", this.visible = !1 }, url: function () { var t = s(this.options.urlTemplate); return t(this.urlOptions()) }, errorUrl: function () { var t = s(this.options.errorUrlTemplate); return t(this.urlOptions()) }, urlOptions: function () { var t = this.options; return { zoom: t.zoom, subdomain: t.subdomain, z: t.zoom, x: t.index.x, y: t.index.y, s: t.subdomain, quadkey: t.quadkey, q: t.quadkey, culture: t.culture, c: t.culture } }, destroy: function () { this.element && (this.element.remove(), this.element = null) } }), w = r.extend({ init: function () { this._items = [] }, options: { maxSize: 100 }, get: function (t, e) { return this._items.length >= this.options.maxSize && this._remove(t), this._create(e) }, empty: function () { var t, e = this._items; for (t = 0; t < e.length; t++)e[t].destroy(); this._items = [] }, reset: function () { var t, e = this._items; for (t = 0; t < e.length; t++)e[t].hide() }, _create: function (t) { var e, i, n = this._items, o = p.hashKey("" + t.point + ("" + t.offset) + t.zoom + t.urlTemplate); for (i = 0; i < n.length; i++)if (n[i].id === o) { e = n[i]; break } return e ? e.show() : (e = new A(o, t), this._items.push(e)), e }, _remove: function (t) { var e, i, n = this._items, o = -1, a = -1; for (e = 0; e < n.length; e++)i = n[e].options.point.distanceTo(t), i > o && !n[e].visible && (a = e, o = i); a !== -1 && (n[a].destroy(), n.splice(a, 1)) } }); h(u, { map: { layers: { tile: g, TileLayer: g, ImageTile: A, TilePool: w, TileView: y } } })
    }(window.kendo.jQuery)
}, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/bing.min", ["dataviz/map/layers/tile.min"], t) }(function () { !function (t, e) { var i = window.kendo, n = i.dataviz, o = i.deepExtend, a = i.drawing.util.defined, r = n.map.Extent, s = n.map.Location, u = n.map.layers.TileLayer, h = n.map.layers.TileView, l = u.extend({ init: function (e, i) { this.options.baseUrl = this._scheme() + "://dev.virtualearth.net/REST/v1/Imagery/Metadata/", u.fn.init.call(this, e, i), this._onMetadata = t.proxy(this._onMetadata, this), this._fetchMetadata() }, options: { imagerySet: "road" }, _fetchMetadata: function () { var e = this.options; if (!e.key) throw Error("Bing tile layer: API key is required"); t.ajax({ url: e.baseUrl + e.imagerySet, data: { output: "json", include: "ImageryProviders", key: e.key, uriScheme: this._scheme() }, type: "get", dataType: "jsonp", jsonp: "jsonp", success: this._onMetadata }) }, _scheme: function (t) { return t = t || window.location.protocol, "https" === t.replace(":", "") ? "https" : "http" }, _onMetadata: function (t) { var e, i; t && t.resourceSets.length && (e = this.resource = t.resourceSets[0].resources[0], o(this._view.options, { urlTemplate: e.imageUrl.replace("{subdomain}", "#= subdomain #").replace("{quadkey}", "#= quadkey #").replace("{culture}", "#= culture #"), subdomains: e.imageUrlSubdomains }), i = this.options, a(i.minZoom) || (i.minZoom = e.zoomMin), a(i.maxZoom) || (i.maxZoom = e.zoomMax), this._addAttribution(), "none" !== this.element.css("display") && this._reset()) }, _viewType: function () { return c }, _addAttribution: function () { var t, e, i, n, o, a = this.map.attribution; if (a && (t = this.resource.imageryProviders)) for (e = 0; e < t.length; e++)for (i = t[e], n = 0; n < i.coverageAreas.length; n++)o = i.coverageAreas[n], a.add({ text: i.attribution, minZoom: o.zoomMin, maxZoom: o.zoomMax, extent: new r(new s(o.bbox[2], o.bbox[1]), new s(o.bbox[0], o.bbox[3])) }) }, imagerySet: function (t) { return t ? (this.options.imagerySet = t, this.map.attribution.clear(), this._fetchMetadata(), e) : this.options.imagerySet } }), c = h.extend({ options: { culture: "en-US" }, tileOptions: function (t) { var e = h.fn.tileOptions.call(this, t); return e.culture = this.options.culture, e.quadkey = this.tileQuadKey(this.wrapIndex(t)), e }, tileQuadKey: function (t) { var e, i, n, o = ""; for (n = this._zoom; n > 0; n--)e = 0, i = 1 << n - 1, 0 !== (t.x & i) && e++ , 0 !== (t.y & i) && (e += 2), o += e; return o } }); o(n, { map: { layers: { bing: l, BingLayer: l, BingView: c } } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/layers/marker.min", ["dataviz/map/layers/base.min", "dataviz/map/location.min", "kendo.data.min", "kendo.tooltip.min"], t) }(function () { !function (t, e) { var i = document, n = Math, o = t.inArray, a = t.proxy, r = window.kendo, s = r.Class, u = r.data.DataSource, h = r.ui.Tooltip, l = r.dataviz, c = r.deepExtend, d = l.map, p = d.Location, f = d.layers.Layer, m = f.extend({ init: function (t, e) { f.fn.init.call(this, t, e), this._markerClick = a(this._markerClick, this), this.element.on("click", ".k-marker", this._markerClick), this.items = [], this._initDataSource() }, destroy: function () { f.fn.destroy.call(this), this.element.off("click", ".k-marker", this._markerClick), this.dataSource.unbind("change", this._dataChange), this.clear() }, options: { zIndex: 1e3, autoBind: !0, dataSource: {}, locationField: "location", titleField: "title" }, add: function (e) { if (!t.isArray(e)) return this._addOne(e); for (var i = 0; i < e.length; i++)this._addOne(e[i]) }, remove: function (t) { t.destroy(); var e = o(t, this.items); e > -1 && this.items.splice(e, 1) }, clear: function () { for (var t = 0; t < this.items.length; t++)this.items[t].destroy(); this.items = [] }, update: function (t) { var e, i = t.location(); i && (t.showAt(this.map.locationToView(i)), e = { marker: t, layer: this }, this.map.trigger("markerActivate", e)) }, _reset: function () { var t, e; for (f.fn._reset.call(this), t = this.items, e = 0; e < t.length; e++)this.update(t[e]) }, bind: function (t, e) { var i, n, o = d.Marker.create(t, this.options); if (o.dataItem = e, i = { marker: o, layer: this }, n = this.map.trigger("markerCreated", i), !n) return this.add(o), o }, setDataSource: function (t) { this.dataSource && this.dataSource.unbind("change", this._dataChange), this.dataSource = r.data.DataSource.create(t), this.dataSource.bind("change", this._dataChange), this.options.autoBind && this.dataSource.fetch() }, _addOne: function (t) { var e = _.create(t, this.options); return e.addTo(this), e }, _initDataSource: function () { var t = this.options.dataSource; this._dataChange = a(this._dataChange, this), this.dataSource = u.create(t).bind("change", this._dataChange), t && this.options.autoBind && this.dataSource.fetch() }, _dataChange: function (t) { this._load(t.sender.view()) }, _load: function (t) { var e, i, n, o; for (this._data = t, this.clear(), e = r.getter(this.options.locationField), i = r.getter(this.options.titleField), n = 0; n < t.length; n++)o = t[n], this.bind({ location: e(o), title: i(o) }, o) }, _markerClick: function (e) { var i = { marker: t(e.target).data("kendoMarker"), layer: this }; this.map.trigger("markerClick", i) } }), _ = s.extend({ init: function (t) { this.options = t || {} }, addTo: function (t) { this.layer = t.markers || t, this.layer.items.push(this), this.layer.update(this) }, location: function (t) { return t ? (this.options.location = p.create(t).toArray(), this.layer && this.layer.update(this), this) : p.create(this.options.location) }, showAt: function (t) { this.render(), this.element.css({ left: n.round(t.x), top: n.round(t.y) }), this.tooltip && this.tooltip.popup && this.tooltip.popup._position() }, hide: function () { this.element && (this.element.remove(), this.element = null), this.tooltip && (this.tooltip.destroy(), this.tooltip = null) }, destroy: function () { this.layer = null, this.hide() }, render: function () { var e, n; this.element || (e = this.options, n = this.layer, this.element = t(i.createElement("span")).addClass("k-marker k-icon k-i-marker-" + r.toHyphens(e.shape || "pin")).attr("title", e.title).attr(e.attributes || {}).data("kendoMarker", this).css("zIndex", e.zIndex), n && n.element.append(this.element), this.renderTooltip()) }, renderTooltip: function () { var t, e, i = this, n = i.options.title, o = i.options.tooltip || {}; o && h && (t = o.template, t && (e = r.template(t), o.content = function (t) { return t.location = i.location(), t.marker = i, e(t) }), (n || o.content || o.contentUrl) && (this.tooltip = new h(this.element, o), this.tooltip.marker = this)) } }); _.create = function (t, e) { return t instanceof _ ? t : new _(c({}, e, t)) }, c(l, { map: { layers: { marker: m, MarkerLayer: m }, Marker: _ } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/map/main.min", ["dataviz/map/crs.min", "dataviz/map/location.min"], t) }(function () { !function (t, e) { var i = document, n = Math, o = n.min, a = n.pow, r = t.proxy, s = window.kendo, u = s.ui.Widget, h = s.deepExtend, l = s.dataviz, c = l.ui, d = s.geometry, p = d.Point, f = l.map, m = f.Extent, _ = f.Location, v = f.crs.EPSG3857, g = s.util, y = g.renderPos, A = s.drawing.util, w = A.defined, C = A.limitValue, E = A.valueOrDefault, b = "k-", k = .9, x = .93, F = "DOMMouseScroll mousewheel", z = 5, D = u.extend({ init: function (t, e) { s.destroy(t), u.fn.init.call(this, t), this._initOptions(e), this.bind(this.events, e), this.crs = new v, this.element.addClass(b + this.options.name.toLowerCase()).css("position", "relative").empty().append(i.createElement("div")), this._viewOrigin = this._getOrigin(), this._initScroller(), this._initMarkers(), this._initControls(), this._initLayers(), this._reset(), this._mousewheel = r(this._mousewheel, this), this.element.bind("click", r(this._click, this)), this.element.bind(F, this._mousewheel) }, options: { name: "Map", controls: { attribution: !0, navigator: { panStep: 100 }, zoom: !0 }, layers: [], layerDefaults: { shape: { style: { fill: { color: "#fff" }, stroke: { color: "#aaa", width: .5 } } }, bubble: { style: { fill: { color: "#fff", opacity: .5 }, stroke: { color: "#aaa", width: .5 } } }, marker: { shape: "pinTarget", tooltip: { position: "top" } } }, center: [0, 0], zoom: 3, minSize: 256, minZoom: 1, maxZoom: 19, markers: [], markerDefaults: { shape: "pinTarget", tooltip: { position: "top" } }, wraparound: !0 }, events: ["beforeReset", "click", "markerActivate", "markerClick", "markerCreated", "pan", "panEnd", "reset", "shapeClick", "shapeCreated", "shapeFeatureCreated", "shapeMouseEnter", "shapeMouseLeave", "zoomEnd", "zoomStart"], destroy: function () { this.scroller.destroy(), this.navigator && this.navigator.destroy(), this.attribution && this.attribution.destroy(), this.zoomControl && this.zoomControl.destroy(), this.markers.destroy(); for (var t = 0; t < this.layers.length; t++)this.layers[t].destroy(); u.fn.destroy.call(this) }, zoom: function (t) { var e = this.options; return w(t) ? (t = n.round(C(t, e.minZoom, e.maxZoom)), e.zoom !== t && (e.zoom = t, this._reset()), this) : e.zoom }, center: function (t) { return t ? (this.options.center = _.create(t).toArray(), this._reset(), this) : _.create(this.options.center) }, extent: function (t) { return t ? (this._setExtent(t), this) : this._getExtent() }, setOptions: function (t) { u.fn.setOptions.call(this, t), this._reset() }, locationToLayer: function (t, e) { var i = !this.options.wraparound; return t = _.create(t), this.crs.toPoint(t, this._layerSize(e), i) }, layerToLocation: function (t, e) { var i = !this.options.wraparound; return t = p.create(t), this.crs.toLocation(t, this._layerSize(e), i) }, locationToView: function (t) { var e, i; return t = _.create(t), e = this.locationToLayer(this._viewOrigin), i = this.locationToLayer(t), i.translateWith(e.scale(-1)) }, viewToLocation: function (t, e) { var i = this.locationToLayer(this._getOrigin(), e); return t = p.create(t), t = t.clone().translateWith(i), this.layerToLocation(t, e) }, eventOffset: function (t) { var e = this.element.offset(), i = t.originalEvent || t, n = E(i.pageX, i.clientX) - e.left, o = E(i.pageY, i.clientY) - e.top; return new d.Point(n, o) }, eventToView: function (t) { var e = this.eventOffset(t); return this.locationToView(this.viewToLocation(e)) }, eventToLayer: function (t) { return this.locationToLayer(this.eventToLocation(t)) }, eventToLocation: function (t) { var e = this.eventOffset(t); return this.viewToLocation(e) }, viewSize: function () { var t = this.element, e = this._layerSize(), i = t.width(); return this.options.wraparound || (i = o(e, i)), { width: i, height: o(e, t.height()) } }, exportVisual: function () { return this._reset(), !1 }, _setOrigin: function (t, e) { var i, n = this.viewSize(); return t = this._origin = _.create(t), i = this.locationToLayer(t, e), i.x += n.width / 2, i.y += n.height / 2, this.options.center = this.layerToLocation(i, e).toArray(), this }, _getOrigin: function (t) { var e, i = this.viewSize(); return !t && this._origin || (e = this.locationToLayer(this.center()), e.x -= i.width / 2, e.y -= i.height / 2, this._origin = this.layerToLocation(e)), this._origin }, _setExtent: function (t) { var e, i, o, a, r, s, u, h = m.create(t), l = h.se.clone(); for (this.options.wraparound && l.lng < 0 && t.nw.lng > 0 && (l.lng = 180 + (180 + l.lng)), t = new m(h.nw, l), this.center(t.center()), e = this.element.width(), i = this.element.height(), o = this.options.maxZoom; o >= this.options.minZoom && (a = this.locationToLayer(t.nw, o), r = this.locationToLayer(t.se, o), s = n.abs(r.x - a.x), u = n.abs(r.y - a.y), !(s <= e && u <= i)); o--); this.zoom(o) }, _getExtent: function () { var t, e = this._getOrigin(), i = this.locationToLayer(e), n = this.viewSize(); return i.x += n.width, i.y += n.height, t = this.layerToLocation(i), new m(e, t) }, _zoomAround: function (t, e) { this._setOrigin(this.layerToLocation(t, e), e), this.zoom(e) }, _initControls: function () { var t = this.options.controls; c.Attribution && t.attribution && this._createAttribution(t.attribution), s.support.mobileOS || (c.Navigator && t.navigator && this._createNavigator(t.navigator), c.ZoomControl && t.zoom && this._createZoomControl(t.zoom)) }, _createControlElement: function (e, i) { var n = e.position || i, o = "." + y(n).replace(" ", "."), a = t(".k-map-controls" + o, this.element); return 0 === a.length && (a = t("<div>").addClass("k-map-controls " + y(n)).appendTo(this.element)), t("<div>").appendTo(a) }, _createAttribution: function (t) { var e = this._createControlElement(t, "bottomRight"); this.attribution = new c.Attribution(e, t) }, _createNavigator: function (t) { var e = this._createControlElement(t, "topLeft"), i = this.navigator = new c.Navigator(e, t); this._navigatorPan = r(this._navigatorPan, this), i.bind("pan", this._navigatorPan), this._navigatorCenter = r(this._navigatorCenter, this), i.bind("center", this._navigatorCenter) }, _navigatorPan: function (t) { var e = this, i = e.scroller, n = i.scrollLeft + t.x, o = i.scrollTop - t.y, a = this._virtualSize, r = this.element.height(), s = this.element.width(); n = C(n, a.x.min, a.x.max - s), o = C(o, a.y.min, a.y.max - r), e.scroller.one("scroll", function (t) { e._scrollEnd(t) }), e.scroller.scrollTo(-n, -o) }, _navigatorCenter: function () { this.center(this.options.center) }, _createZoomControl: function (t) { var e = this._createControlElement(t, "topLeft"), i = this.zoomControl = new c.ZoomControl(e, t); this._zoomControlChange = r(this._zoomControlChange, this), i.bind("change", this._zoomControlChange) }, _zoomControlChange: function (t) { this.trigger("zoomStart", { originalEvent: t }) || (this.zoom(this.zoom() + t.delta), this.trigger("zoomEnd", { originalEvent: t })) }, _initScroller: function () { var t = s.support.mobileOS ? x : k, e = this.options.zoomable !== !1, i = this.scroller = new s.mobile.ui.Scroller(this.element.children(0), { friction: t, velocityMultiplier: z, zoom: e, mousewheelScrolling: !1 }); i.bind("scroll", r(this._scroll, this)), i.bind("scrollEnd", r(this._scrollEnd, this)), i.userEvents.bind("gesturestart", r(this._scaleStart, this)), i.userEvents.bind("gestureend", r(this._scale, this)), this.scrollElement = i.scrollElement }, _initLayers: function () { var t, e, i, n, o, a = this.options.layers, r = this.layers = []; for (t = 0; t < a.length; t++)e = a[t], i = e.type || "shape", n = this.options.layerDefaults[i], o = l.map.layers[i], r.push(new o(this, h({}, n, e))) }, _initMarkers: function () { this.markers = new f.layers.MarkerLayer(this, this.options.markerDefaults), this.markers.add(this.options.markers) }, _scroll: function (t) { var e = this.locationToLayer(this._viewOrigin).round(), i = t.sender.movable, n = new d.Point(i.x, i.y).scale(-1).scale(1 / i.scale); e.x += n.x, e.y += n.y, this._scrollOffset = n, this._setOrigin(this.layerToLocation(e)), this.trigger("pan", { originalEvent: t, origin: this._getOrigin(), center: this.center() }) }, _scrollEnd: function (t) { this._scrollOffset && this._panComplete() && (this._scrollOffset = null, this._panEndTS = new Date, this.trigger("panEnd", { originalEvent: t, origin: this._getOrigin(), center: this.center() })) }, _panComplete: function () { return new Date - (this._panEndTS || 0) > 50 }, _scaleStart: function (t) { if (this.trigger("zoomStart", { originalEvent: t })) { var e = t.touches[1]; e && e.cancel() } }, _scale: function (t) { var e = this.scroller.movable.scale, i = this._scaleToZoom(e), n = new d.Point(t.center.x, t.center.y), o = this.viewToLocation(n, i), a = this.locationToLayer(o, i), r = a.translate(-n.x, -n.y); this._zoomAround(r, i), this.trigger("zoomEnd", { originalEvent: t }) }, _scaleToZoom: function (t) { var e = this._layerSize() * t, i = e / this.options.minSize, o = n.log(i) / n.log(2); return n.round(o) }, _reset: function () { this.attribution && this.attribution.filter(this.center(), this.zoom()), this._viewOrigin = this._getOrigin(!0), this._resetScroller(), this.trigger("beforeReset"), this.trigger("reset") }, _resetScroller: function () { var t, e, i, n, o = this.scroller, r = o.dimensions.x, s = o.dimensions.y, u = this._layerSize(), h = this.extent().nw, l = this.locationToLayer(h).round(); o.movable.round = !0, o.reset(), o.userEvents.cancel(), t = this.zoom(), o.dimensions.forcedMinScale = a(2, this.options.minZoom - t), o.dimensions.maxScale = a(2, this.options.maxZoom - t), e = { min: -l.x, max: u - l.x }, i = { min: -l.y, max: u - l.y }, this.options.wraparound && (e.max = 20 * u, e.min = -e.max), this.options.pannable === !1 && (n = this.viewSize(), e.min = i.min = 0, e.max = n.width, i.max = n.height), r.makeVirtual(), s.makeVirtual(), r.virtualSize(e.min, e.max), s.virtualSize(i.min, i.max), this._virtualSize = { x: e, y: i } }, _renderLayers: function () { var t, e, i, n, o, a = this.options.layers, r = this.layers = [], s = this.scrollWrap; for (s.empty(), t = 0; t < a.length; t++)e = a[t], i = e.type || "shape", n = this.options.layerDefaults[i], o = l.map.layers[i], r.push(new o(this, h({}, n, e))) }, _layerSize: function (t) { return t = E(t, this.options.zoom), this.options.minSize * a(2, t) }, _click: function (t) { if (this._panComplete()) { var e = this.eventOffset(t); this.trigger("click", { originalEvent: t, location: this.viewToLocation(e) }) } }, _mousewheel: function (t) { var e, i, n, o, a, r, s, u; t.preventDefault(), e = l.mwDelta(t) > 0 ? -1 : 1, i = this.options, n = this.zoom(), o = C(n + e, i.minZoom, i.maxZoom), i.zoomable !== !1 && o !== n && (this.trigger("zoomStart", { originalEvent: t }) || (a = this.eventOffset(t), r = this.viewToLocation(a), s = this.locationToLayer(r, o), u = s.translate(-a.x, -a.y), this._zoomAround(u, o), this.trigger("zoomEnd", { originalEvent: t }))) } }); l.ui.plugin(D) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("kendo.dataviz.map.min", ["kendo.data.min", "kendo.userevents.min", "kendo.tooltip.min", "kendo.mobile.scroller.min", "kendo.draganddrop.min", "kendo.dataviz.core.min", "dataviz/map/location.min", "dataviz/map/attribution.min", "dataviz/map/navigator.min", "dataviz/map/zoom.min", "dataviz/map/crs.min", "dataviz/map/layers/base.min", "dataviz/map/layers/shape.min", "dataviz/map/layers/bubble.min", "dataviz/map/layers/tile.min", "dataviz/map/layers/bing.min", "dataviz/map/layers/marker.min", "dataviz/map/main.min"], t) }(function () { return window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (o, define) { define("util/text-metrics.min", ["kendo.core.min"], o) }(function () { !function (o) { function r(o) { return (o + "").replace(n, l) } function e(o) { var r, e = []; for (r in o) e.push(r + o[r]); return e.sort().join("") } function t(o) { var r, e = 2166136261; for (r = 0; r < o.length; ++r)e += (e << 1) + (e << 4) + (e << 7) + (e << 8) + (e << 24), e ^= o.charCodeAt(r); return e >>> 0 } function d() { return { width: 0, height: 0, baseline: 0 } } function a(o, r, e) { return c.current.measure(o, r, e) } var s, n, l, i, u, c; window.kendo.util = window.kendo.util || {}, s = kendo.Class.extend({ init: function (o) { this._size = o, this._length = 0, this._map = {} }, put: function (o, r) { var e = this._map, t = { key: o, value: r }; e[o] = t, this._head ? (this._tail.newer = t, t.older = this._tail, this._tail = t) : this._head = this._tail = t, this._length >= this._size ? (e[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (o) { var r = this._map[o]; if (r) return r === this._head && r !== this._tail && (this._head = r.newer, this._head.older = null), r !== this._tail && (r.older && (r.older.newer = r.newer, r.newer.older = r.older), r.older = this._tail, r.newer = null, this._tail.newer = r, this._tail = r), r.value } }), n = /\r?\n|\r|\t/g, l = " ", i = { baselineMarkerSize: 1 }, "undefined" != typeof document && (u = document.createElement("div"), u.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), c = kendo.Class.extend({ init: function (r) { this._cache = new s(1e3), this.options = o.extend({}, i, r) }, measure: function (o, a, s) { var n, l, i, c, w, C, g, h, p; if (void 0 === s && (s = {}), !o) return d(); if (n = e(a), l = t(o + n), i = this._cache.get(l)) return i; c = d(), w = s.box || u, C = this._baselineMarker().cloneNode(!1); for (g in a) h = a[g], void 0 !== h && (w.style[g] = h); return p = s.normalizeText !== !1 ? r(o) : o + "", w.textContent = p, w.appendChild(C), document.body.appendChild(w), p.length && (c.width = w.offsetWidth - this.options.baselineMarkerSize, c.height = w.offsetHeight, c.baseline = C.offsetTop + this.options.baselineMarkerSize), c.width > 0 && c.height > 0 && this._cache.put(l, c), w.parentNode.removeChild(w), c }, _baselineMarker: function () { var o = document.createElement("div"); return o.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", o } }), c.current = new c, kendo.deepExtend(kendo.util, { LRUCache: s, TextMetrics: c, measureText: a, objectKey: e, hashKey: t, normalizeText: r }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (o, r, e) { (e || r)() }), function (o, define) { define("kendo.dataviz.qrcode.min", ["kendo.dataviz.core.min", "kendo.drawing.min"], o) }(function () { return function (o, r) { function e(o) { return parseInt(o, 2) } function t(o, r) { var e = (+o).toString(2); return e.length < r && (e = Array(r - e.length + 1).join(0) + e), e } function d(o, r) { for (var e = [], t = 0; t < o.length;)e.push(o.substring(t, t + r)), t += r; return e } function a(o, r, e, t) { for (var d = 0; d < o.length; d++)o[d][e][t] = r } function s(o, r, e, t) { for (var d = 0; d < ko.length; d++)o[d][e][t] = ko[d](e, t) ? 1 ^ r : parseInt(r, 10) } function n() { var o, r; for (r = 1; r < 255; r++)o = 2 * so[r - 1], o > 255 && (o = 285 ^ o), so[r] = o, ao[o] = r; o = 2 * so[r - 1] ^ 285, so[r] = o, so[-1] = 0 } function l() { var o, r, e, t = 68; for (o = 2; o <= t; o++)r = no[o - 1], e = [o, 0], no[o] = D(r, e) } function i(o, e) { var t = [], d = o.length - 1; do t[d] = so[(o[d] + e) % 255], d--; while (o[d] !== r); return t } function u(o, r) { return parseInt(o.charAt(r), 10) } function c(o, r, e, t, d) { r[o][t] = (r[o][t] << 1 ^ d) % 128, r[o][t] == fo && (e[o] += 40) } function w(o, r, e, t, d, a) { e[o][a] == t ? d[o][a]++ : (e[o][a] = t, d[o][a] >= 5 && (r[o] += 3 + d[o][a] - 5), d[o][a] = 1) } function C(o, r) { var e = Math.floor(o / r * 100), t = e % 5, d = Math.abs(e - t - 50), a = Math.abs(e + 5 - t - 50), s = 10 * Math.min(d / 5, a / 5); return s } var g, h, p, f, k, B, D, P, v, M, m, _, L, Q, S, x, E, H, A, I, b, R, T, y, O, U, V, z, N, F, Z, K, j, W, G = window.kendo, $ = o.extend, q = G.drawing, X = G.dataviz, J = G.ui.Widget, Y = X.Box2D, oo = "0000", ro = "numeric", eo = "alphanumeric", to = "byte", ao = { 1: 0 }, so = { 0: 1 }, no = [[1, 0], [1, 25, 0]], lo = { 15: 20, 16: 20, 18: 24, 19: 24, 22: 20, 24: 22, 26: 24, 28: 20, 30: 20, 31: 24, 32: 28, 33: 24, 36: 18, 37: 22, 39: 20, 40: 24 }, io = [{ L: { groups: [[1, 19]], totalDataCodewords: 19, errorCodewordsPerBlock: 7 }, M: { groups: [[1, 16]], totalDataCodewords: 16, errorCodewordsPerBlock: 10 }, Q: { groups: [[1, 13]], totalDataCodewords: 13, errorCodewordsPerBlock: 13 }, H: { groups: [[1, 9]], totalDataCodewords: 9, errorCodewordsPerBlock: 17 } }, { L: { groups: [[1, 34]], totalDataCodewords: 34, errorCodewordsPerBlock: 10 }, M: { groups: [[1, 28]], totalDataCodewords: 28, errorCodewordsPerBlock: 16 }, Q: { groups: [[1, 22]], totalDataCodewords: 22, errorCodewordsPerBlock: 22 }, H: { groups: [[1, 16]], totalDataCodewords: 16, errorCodewordsPerBlock: 28 } }, { L: { groups: [[1, 55]], totalDataCodewords: 55, errorCodewordsPerBlock: 15 }, M: { groups: [[1, 44]], totalDataCodewords: 44, errorCodewordsPerBlock: 26 }, Q: { groups: [[2, 17]], totalDataCodewords: 34, errorCodewordsPerBlock: 18 }, H: { groups: [[2, 13]], totalDataCodewords: 26, errorCodewordsPerBlock: 22 } }, { L: { groups: [[1, 80]], totalDataCodewords: 80, errorCodewordsPerBlock: 20 }, M: { groups: [[2, 32]], totalDataCodewords: 64, errorCodewordsPerBlock: 18 }, Q: { groups: [[2, 24]], totalDataCodewords: 48, errorCodewordsPerBlock: 26 }, H: { groups: [[4, 9]], totalDataCodewords: 36, errorCodewordsPerBlock: 16 } }, { L: { groups: [[1, 108]], totalDataCodewords: 108, errorCodewordsPerBlock: 26 }, M: { groups: [[2, 43]], totalDataCodewords: 86, errorCodewordsPerBlock: 24 }, Q: { groups: [[2, 15], [2, 16]], totalDataCodewords: 62, errorCodewordsPerBlock: 18 }, H: { groups: [[2, 11], [2, 12]], totalDataCodewords: 46, errorCodewordsPerBlock: 22 } }, { L: { groups: [[2, 68]], totalDataCodewords: 136, errorCodewordsPerBlock: 18 }, M: { groups: [[4, 27]], totalDataCodewords: 108, errorCodewordsPerBlock: 16 }, Q: { groups: [[4, 19]], totalDataCodewords: 76, errorCodewordsPerBlock: 24 }, H: { groups: [[4, 15]], totalDataCodewords: 60, errorCodewordsPerBlock: 28 } }, { L: { groups: [[2, 78]], totalDataCodewords: 156, errorCodewordsPerBlock: 20 }, M: { groups: [[4, 31]], totalDataCodewords: 124, errorCodewordsPerBlock: 18 }, Q: { groups: [[2, 14], [4, 15]], totalDataCodewords: 88, errorCodewordsPerBlock: 18 }, H: { groups: [[4, 13], [1, 14]], totalDataCodewords: 66, errorCodewordsPerBlock: 26 } }, { L: { groups: [[2, 97]], totalDataCodewords: 194, errorCodewordsPerBlock: 24 }, M: { groups: [[2, 38], [2, 39]], totalDataCodewords: 154, errorCodewordsPerBlock: 22 }, Q: { groups: [[4, 18], [2, 19]], totalDataCodewords: 110, errorCodewordsPerBlock: 22 }, H: { groups: [[4, 14], [2, 15]], totalDataCodewords: 86, errorCodewordsPerBlock: 26 } }, { L: { groups: [[2, 116]], totalDataCodewords: 232, errorCodewordsPerBlock: 30 }, M: { groups: [[3, 36], [2, 37]], totalDataCodewords: 182, errorCodewordsPerBlock: 22 }, Q: { groups: [[4, 16], [4, 17]], totalDataCodewords: 132, errorCodewordsPerBlock: 20 }, H: { groups: [[4, 12], [4, 13]], totalDataCodewords: 100, errorCodewordsPerBlock: 24 } }, { L: { groups: [[2, 68], [2, 69]], totalDataCodewords: 274, errorCodewordsPerBlock: 18 }, M: { groups: [[4, 43], [1, 44]], totalDataCodewords: 216, errorCodewordsPerBlock: 26 }, Q: { groups: [[6, 19], [2, 20]], totalDataCodewords: 154, errorCodewordsPerBlock: 24 }, H: { groups: [[6, 15], [2, 16]], totalDataCodewords: 122, errorCodewordsPerBlock: 28 } }, { L: { groups: [[4, 81]], totalDataCodewords: 324, errorCodewordsPerBlock: 20 }, M: { groups: [[1, 50], [4, 51]], totalDataCodewords: 254, errorCodewordsPerBlock: 30 }, Q: { groups: [[4, 22], [4, 23]], totalDataCodewords: 180, errorCodewordsPerBlock: 28 }, H: { groups: [[3, 12], [8, 13]], totalDataCodewords: 140, errorCodewordsPerBlock: 24 } }, { L: { groups: [[2, 92], [2, 93]], totalDataCodewords: 370, errorCodewordsPerBlock: 24 }, M: { groups: [[6, 36], [2, 37]], totalDataCodewords: 290, errorCodewordsPerBlock: 22 }, Q: { groups: [[4, 20], [6, 21]], totalDataCodewords: 206, errorCodewordsPerBlock: 26 }, H: { groups: [[7, 14], [4, 15]], totalDataCodewords: 158, errorCodewordsPerBlock: 28 } }, { L: { groups: [[4, 107]], totalDataCodewords: 428, errorCodewordsPerBlock: 26 }, M: { groups: [[8, 37], [1, 38]], totalDataCodewords: 334, errorCodewordsPerBlock: 22 }, Q: { groups: [[8, 20], [4, 21]], totalDataCodewords: 244, errorCodewordsPerBlock: 24 }, H: { groups: [[12, 11], [4, 12]], totalDataCodewords: 180, errorCodewordsPerBlock: 22 } }, { L: { groups: [[3, 115], [1, 116]], totalDataCodewords: 461, errorCodewordsPerBlock: 30 }, M: { groups: [[4, 40], [5, 41]], totalDataCodewords: 365, errorCodewordsPerBlock: 24 }, Q: { groups: [[11, 16], [5, 17]], totalDataCodewords: 261, errorCodewordsPerBlock: 20 }, H: { groups: [[11, 12], [5, 13]], totalDataCodewords: 197, errorCodewordsPerBlock: 24 } }, { L: { groups: [[5, 87], [1, 88]], totalDataCodewords: 523, errorCodewordsPerBlock: 22 }, M: { groups: [[5, 41], [5, 42]], totalDataCodewords: 415, errorCodewordsPerBlock: 24 }, Q: { groups: [[5, 24], [7, 25]], totalDataCodewords: 295, errorCodewordsPerBlock: 30 }, H: { groups: [[11, 12], [7, 13]], totalDataCodewords: 223, errorCodewordsPerBlock: 24 } }, { L: { groups: [[5, 98], [1, 99]], totalDataCodewords: 589, errorCodewordsPerBlock: 24 }, M: { groups: [[7, 45], [3, 46]], totalDataCodewords: 453, errorCodewordsPerBlock: 28 }, Q: { groups: [[15, 19], [2, 20]], totalDataCodewords: 325, errorCodewordsPerBlock: 24 }, H: { groups: [[3, 15], [13, 16]], totalDataCodewords: 253, errorCodewordsPerBlock: 30 } }, { L: { groups: [[1, 107], [5, 108]], totalDataCodewords: 647, errorCodewordsPerBlock: 28 }, M: { groups: [[10, 46], [1, 47]], totalDataCodewords: 507, errorCodewordsPerBlock: 28 }, Q: { groups: [[1, 22], [15, 23]], totalDataCodewords: 367, errorCodewordsPerBlock: 28 }, H: { groups: [[2, 14], [17, 15]], totalDataCodewords: 283, errorCodewordsPerBlock: 28 } }, { L: { groups: [[5, 120], [1, 121]], totalDataCodewords: 721, errorCodewordsPerBlock: 30 }, M: { groups: [[9, 43], [4, 44]], totalDataCodewords: 563, errorCodewordsPerBlock: 26 }, Q: { groups: [[17, 22], [1, 23]], totalDataCodewords: 397, errorCodewordsPerBlock: 28 }, H: { groups: [[2, 14], [19, 15]], totalDataCodewords: 313, errorCodewordsPerBlock: 28 } }, { L: { groups: [[3, 113], [4, 114]], totalDataCodewords: 795, errorCodewordsPerBlock: 28 }, M: { groups: [[3, 44], [11, 45]], totalDataCodewords: 627, errorCodewordsPerBlock: 26 }, Q: { groups: [[17, 21], [4, 22]], totalDataCodewords: 445, errorCodewordsPerBlock: 26 }, H: { groups: [[9, 13], [16, 14]], totalDataCodewords: 341, errorCodewordsPerBlock: 26 } }, { L: { groups: [[3, 107], [5, 108]], totalDataCodewords: 861, errorCodewordsPerBlock: 28 }, M: { groups: [[3, 41], [13, 42]], totalDataCodewords: 669, errorCodewordsPerBlock: 26 }, Q: { groups: [[15, 24], [5, 25]], totalDataCodewords: 485, errorCodewordsPerBlock: 30 }, H: { groups: [[15, 15], [10, 16]], totalDataCodewords: 385, errorCodewordsPerBlock: 28 } }, { L: { groups: [[4, 116], [4, 117]], totalDataCodewords: 932, errorCodewordsPerBlock: 28 }, M: { groups: [[17, 42]], totalDataCodewords: 714, errorCodewordsPerBlock: 26 }, Q: { groups: [[17, 22], [6, 23]], totalDataCodewords: 512, errorCodewordsPerBlock: 28 }, H: { groups: [[19, 16], [6, 17]], totalDataCodewords: 406, errorCodewordsPerBlock: 30 } }, { L: { groups: [[2, 111], [7, 112]], totalDataCodewords: 1006, errorCodewordsPerBlock: 28 }, M: { groups: [[17, 46]], totalDataCodewords: 782, errorCodewordsPerBlock: 28 }, Q: { groups: [[7, 24], [16, 25]], totalDataCodewords: 568, errorCodewordsPerBlock: 30 }, H: { groups: [[34, 13]], totalDataCodewords: 442, errorCodewordsPerBlock: 24 } }, { L: { groups: [[4, 121], [5, 122]], totalDataCodewords: 1094, errorCodewordsPerBlock: 30 }, M: { groups: [[4, 47], [14, 48]], totalDataCodewords: 860, errorCodewordsPerBlock: 28 }, Q: { groups: [[11, 24], [14, 25]], totalDataCodewords: 614, errorCodewordsPerBlock: 30 }, H: { groups: [[16, 15], [14, 16]], totalDataCodewords: 464, errorCodewordsPerBlock: 30 } }, { L: { groups: [[6, 117], [4, 118]], totalDataCodewords: 1174, errorCodewordsPerBlock: 30 }, M: { groups: [[6, 45], [14, 46]], totalDataCodewords: 914, errorCodewordsPerBlock: 28 }, Q: { groups: [[11, 24], [16, 25]], totalDataCodewords: 664, errorCodewordsPerBlock: 30 }, H: { groups: [[30, 16], [2, 17]], totalDataCodewords: 514, errorCodewordsPerBlock: 30 } }, { L: { groups: [[8, 106], [4, 107]], totalDataCodewords: 1276, errorCodewordsPerBlock: 26 }, M: { groups: [[8, 47], [13, 48]], totalDataCodewords: 1e3, errorCodewordsPerBlock: 28 }, Q: { groups: [[7, 24], [22, 25]], totalDataCodewords: 718, errorCodewordsPerBlock: 30 }, H: { groups: [[22, 15], [13, 16]], totalDataCodewords: 538, errorCodewordsPerBlock: 30 } }, { L: { groups: [[10, 114], [2, 115]], totalDataCodewords: 1370, errorCodewordsPerBlock: 28 }, M: { groups: [[19, 46], [4, 47]], totalDataCodewords: 1062, errorCodewordsPerBlock: 28 }, Q: { groups: [[28, 22], [6, 23]], totalDataCodewords: 754, errorCodewordsPerBlock: 28 }, H: { groups: [[33, 16], [4, 17]], totalDataCodewords: 596, errorCodewordsPerBlock: 30 } }, { L: { groups: [[8, 122], [4, 123]], totalDataCodewords: 1468, errorCodewordsPerBlock: 30 }, M: { groups: [[22, 45], [3, 46]], totalDataCodewords: 1128, errorCodewordsPerBlock: 28 }, Q: { groups: [[8, 23], [26, 24]], totalDataCodewords: 808, errorCodewordsPerBlock: 30 }, H: { groups: [[12, 15], [28, 16]], totalDataCodewords: 628, errorCodewordsPerBlock: 30 } }, { L: { groups: [[3, 117], [10, 118]], totalDataCodewords: 1531, errorCodewordsPerBlock: 30 }, M: { groups: [[3, 45], [23, 46]], totalDataCodewords: 1193, errorCodewordsPerBlock: 28 }, Q: { groups: [[4, 24], [31, 25]], totalDataCodewords: 871, errorCodewordsPerBlock: 30 }, H: { groups: [[11, 15], [31, 16]], totalDataCodewords: 661, errorCodewordsPerBlock: 30 } }, { L: { groups: [[7, 116], [7, 117]], totalDataCodewords: 1631, errorCodewordsPerBlock: 30 }, M: { groups: [[21, 45], [7, 46]], totalDataCodewords: 1267, errorCodewordsPerBlock: 28 }, Q: { groups: [[1, 23], [37, 24]], totalDataCodewords: 911, errorCodewordsPerBlock: 30 }, H: { groups: [[19, 15], [26, 16]], totalDataCodewords: 701, errorCodewordsPerBlock: 30 } }, { L: { groups: [[5, 115], [10, 116]], totalDataCodewords: 1735, errorCodewordsPerBlock: 30 }, M: { groups: [[19, 47], [10, 48]], totalDataCodewords: 1373, errorCodewordsPerBlock: 28 }, Q: { groups: [[15, 24], [25, 25]], totalDataCodewords: 985, errorCodewordsPerBlock: 30 }, H: { groups: [[23, 15], [25, 16]], totalDataCodewords: 745, errorCodewordsPerBlock: 30 } }, { L: { groups: [[13, 115], [3, 116]], totalDataCodewords: 1843, errorCodewordsPerBlock: 30 }, M: { groups: [[2, 46], [29, 47]], totalDataCodewords: 1455, errorCodewordsPerBlock: 28 }, Q: { groups: [[42, 24], [1, 25]], totalDataCodewords: 1033, errorCodewordsPerBlock: 30 }, H: { groups: [[23, 15], [28, 16]], totalDataCodewords: 793, errorCodewordsPerBlock: 30 } }, { L: { groups: [[17, 115]], totalDataCodewords: 1955, errorCodewordsPerBlock: 30 }, M: { groups: [[10, 46], [23, 47]], totalDataCodewords: 1541, errorCodewordsPerBlock: 28 }, Q: { groups: [[10, 24], [35, 25]], totalDataCodewords: 1115, errorCodewordsPerBlock: 30 }, H: { groups: [[19, 15], [35, 16]], totalDataCodewords: 845, errorCodewordsPerBlock: 30 } }, { L: { groups: [[17, 115], [1, 116]], totalDataCodewords: 2071, errorCodewordsPerBlock: 30 }, M: { groups: [[14, 46], [21, 47]], totalDataCodewords: 1631, errorCodewordsPerBlock: 28 }, Q: { groups: [[29, 24], [19, 25]], totalDataCodewords: 1171, errorCodewordsPerBlock: 30 }, H: { groups: [[11, 15], [46, 16]], totalDataCodewords: 901, errorCodewordsPerBlock: 30 } }, { L: { groups: [[13, 115], [6, 116]], totalDataCodewords: 2191, errorCodewordsPerBlock: 30 }, M: { groups: [[14, 46], [23, 47]], totalDataCodewords: 1725, errorCodewordsPerBlock: 28 }, Q: { groups: [[44, 24], [7, 25]], totalDataCodewords: 1231, errorCodewordsPerBlock: 30 }, H: { groups: [[59, 16], [1, 17]], totalDataCodewords: 961, errorCodewordsPerBlock: 30 } }, { L: { groups: [[12, 121], [7, 122]], totalDataCodewords: 2306, errorCodewordsPerBlock: 30 }, M: { groups: [[12, 47], [26, 48]], totalDataCodewords: 1812, errorCodewordsPerBlock: 28 }, Q: { groups: [[39, 24], [14, 25]], totalDataCodewords: 1286, errorCodewordsPerBlock: 30 }, H: { groups: [[22, 15], [41, 16]], totalDataCodewords: 986, errorCodewordsPerBlock: 30 } }, { L: { groups: [[6, 121], [14, 122]], totalDataCodewords: 2434, errorCodewordsPerBlock: 30 }, M: { groups: [[6, 47], [34, 48]], totalDataCodewords: 1914, errorCodewordsPerBlock: 28 }, Q: { groups: [[46, 24], [10, 25]], totalDataCodewords: 1354, errorCodewordsPerBlock: 30 }, H: { groups: [[2, 15], [64, 16]], totalDataCodewords: 1054, errorCodewordsPerBlock: 30 } }, { L: { groups: [[17, 122], [4, 123]], totalDataCodewords: 2566, errorCodewordsPerBlock: 30 }, M: { groups: [[29, 46], [14, 47]], totalDataCodewords: 1992, errorCodewordsPerBlock: 28 }, Q: { groups: [[49, 24], [10, 25]], totalDataCodewords: 1426, errorCodewordsPerBlock: 30 }, H: { groups: [[24, 15], [46, 16]], totalDataCodewords: 1096, errorCodewordsPerBlock: 30 } }, { L: { groups: [[4, 122], [18, 123]], totalDataCodewords: 2702, errorCodewordsPerBlock: 30 }, M: { groups: [[13, 46], [32, 47]], totalDataCodewords: 2102, errorCodewordsPerBlock: 28 }, Q: { groups: [[48, 24], [14, 25]], totalDataCodewords: 1502, errorCodewordsPerBlock: 30 }, H: { groups: [[42, 15], [32, 16]], totalDataCodewords: 1142, errorCodewordsPerBlock: 30 } }, { L: { groups: [[20, 117], [4, 118]], totalDataCodewords: 2812, errorCodewordsPerBlock: 30 }, M: { groups: [[40, 47], [7, 48]], totalDataCodewords: 2216, errorCodewordsPerBlock: 28 }, Q: { groups: [[43, 24], [22, 25]], totalDataCodewords: 1582, errorCodewordsPerBlock: 30 }, H: { groups: [[10, 15], [67, 16]], totalDataCodewords: 1222, errorCodewordsPerBlock: 30 } }, { L: { groups: [[19, 118], [6, 119]], totalDataCodewords: 2956, errorCodewordsPerBlock: 30 }, M: { groups: [[18, 47], [31, 48]], totalDataCodewords: 2334, errorCodewordsPerBlock: 28 }, Q: { groups: [[34, 24], [34, 25]], totalDataCodewords: 1666, errorCodewordsPerBlock: 30 }, H: { groups: [[20, 15], [61, 16]], totalDataCodewords: 1276, errorCodewordsPerBlock: 30 } }], uo = [1, 0, 1, 1, 1], co = [1, 0, 1], wo = { L: "01", M: "00", Q: "11", H: "10" }, Co = "101010000010010", go = "10100110111", ho = "1111100100101", po = ["11101100", "00010001"], fo = 93, ko = [function (o, r) { return (o + r) % 2 === 0 }, function (o) { return o % 2 === 0 }, function (o, r) { return r % 3 === 0 }, function (o, r) { return (o + r) % 3 === 0 }, function (o, r) { return (Math.floor(o / 2) + Math.floor(r / 3)) % 2 === 0 }, function (o, r) { return o * r % 2 + o * r % 3 === 0 }, function (o, r) { return (o * r % 2 + o * r % 3) % 2 === 0 }, function (o, r) { return ((o + r) % 2 + o * r % 3) % 2 === 0 }], Bo = /^\d+/, Do = "A-Z0-9 $%*+./:-", Po = "A-Z $%*+./:-", vo = RegExp("^[" + Po + "]+"), Mo = RegExp("^[" + Do + "]+"), mo = RegExp("^[^" + Do + "]+"), _o = 8, Lo = 5, Qo = 8, So = 17, xo = 9, Eo = 16, Ho = Math.round, Ao = G.Class.extend({ getVersionIndex: function (o) { return o < 10 ? 0 : o > 26 ? 2 : 1 }, getBitsCharacterCount: function (o) { var r = this; return r.bitsInCharacterCount[r.getVersionIndex(o || 40)] }, getModeCountString: function (o, r) { var e = this; return e.modeIndicator + t(o, e.getBitsCharacterCount(r)) }, encode: function () { }, getStringBitsLength: function () { }, getValue: function () { }, modeIndicator: "", bitsInCharacterCount: [] }), Io = {}; Io[ro] = Ao.extend({ bitsInCharacterCount: [10, 12, 14], modeIndicator: "0001", getValue: function (o) { return parseInt(o, 10) }, encode: function (o, r) { var e, a = this, s = d(o, 3), n = a.getModeCountString(o.length, r); for (e = 0; e < s.length - 1; e++)n += t(s[e], 10); return n + t(s[e], 1 + 3 * s[e].length) }, getStringBitsLength: function (o, r) { var e = o % 3; return 4 + this.getBitsCharacterCount(r) + 10 * Math.floor(o / 3) + 3 * e + (0 === e ? 0 : 1) } }), Io[eo] = Ao.extend({ characters: { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, G: 16, H: 17, I: 18, J: 19, K: 20, L: 21, M: 22, N: 23, O: 24, P: 25, Q: 26, R: 27, S: 28, T: 29, U: 30, V: 31, W: 32, X: 33, Y: 34, Z: 35, " ": 36, $: 37, "%": 38, "*": 39, "+": 40, "-": 41, ".": 42, "/": 43, ":": 44 }, bitsInCharacterCount: [9, 11, 13], modeIndicator: "0010", getValue: function (o) { return this.characters[o] }, encode: function (o, r) { var e, a, s = this, n = d(o, 2), l = s.getModeCountString(o.length, r); for (a = 0; a < n.length - 1; a++)e = 45 * s.getValue(n[a].charAt(0)) + s.getValue(n[a].charAt(1)), l += t(e, 11); return e = 2 == n[a].length ? 45 * s.getValue(n[a].charAt(0)) + s.getValue(n[a].charAt(1)) : s.getValue(n[a].charAt(0)), l + t(e, 1 + 5 * n[a].length) }, getStringBitsLength: function (o, r) { return 4 + this.getBitsCharacterCount(r) + 11 * Math.floor(o / 2) + 6 * (o % 2) } }), Io[to] = Ao.extend({ bitsInCharacterCount: [8, 16, 16], modeIndicator: "0100", getValue: function (o) { var r = o.charCodeAt(0); if (r <= 127 || 160 <= r && r <= 255) return r; throw Error("Unsupported character: " + o) }, encode: function (o, r) { var e, d = this, a = d.getModeCountString(o.length, r); for (e = 0; e < o.length; e++)a += t(d.getValue(o.charAt(e)), 8); return a }, getStringBitsLength: function (o, r) { return 4 + this.getBitsCharacterCount(r) + 8 * o } }), g = {}; for (h in Io) g[h] = new Io[h]; p = function (o) { var e = this, t = o.length - 1, d = o.length - 1, a = d, s = -1, n = 0; e.move = function () { t += s * n, n ^= 1, d = a - n }, e.getNextCell = function () { for (; o[t][d] !== r;)e.move(), (t < 0 || t >= o.length) && (s = -s, a -= 8 != a ? 2 : 3, d = a, t = s < 0 ? o.length - 1 : 0); return { row: t, column: d } }, e.getNextRemainderCell = function () { if (e.move(), o[t][d] === r) return { row: t, column: d } } }, f = function (o, r) { var e, t, d, a, n, l, i = new p(o[0]); for (a = 0; a < r.length; a++)for (e = r[a], t = 0; e.length > 0;) { for (n = 0; n < e.length; n++)for (l = 0; l < 8; l++)d = i.getNextCell(), s(o, e[n][t].charAt(l), d.row, d.column); for (t++; e[0] && t == e[0].length;)e.splice(0, 1) } for (; d = i.getNextRemainderCell();)s(o, 0, d.row, d.column) }, k = function (o, r) { for (var e = 8 * r, t = 0, d = 0; o.length < e && t < oo.length;)o += oo.charAt(t++); for (o.length % 8 !== 0 && (o += Array(9 - o.length % 8).join("0")); o.length < e;)o += po[d], d ^= 1; return o }, B = function (o, r) { var e, t = [], d = o.length - 2; for (e = d; e >= 0; e--)t[e] = o[e] ^ r[e]; return t }, D = function (o, e) { var t, d, a = []; for (t = 0; t < o.length; t++)for (d = 0; d < e.length; d++)a[t + d] = a[t + d] === r ? (o[t] + (e[d] >= 0 ? e[d] : 0)) % 255 : ao[so[a[t + d]] ^ so[(o[t] + e[d]) % 255]]; return a }, n(), l(), P = function (o, r) { var e, d, a = no[r - 1], s = Array(r).concat(o), n = Array(s.length - a.length).concat(a), l = o.length, u = []; for (d = 0; d < l; d++)e = i(n, ao[s[s.length - 1]]), n.splice(0, 1), s = B(e, s); for (d = s.length - 1; d >= 0; d--)u[r - 1 - d] = t(s[d], 8); return u }, v = function (o, r) { var t, d, a, s, n, l, i, u, c = 0, w = [], C = [], g = r.groups; for (l = 0; l < g.length; l++)for (a = g[l][0], i = 0; i < a; i++) { for (d = g[l][1], t = [], s = [], u = 1; u <= d; u++)n = o.substring(c, c + 8), t.push(n), s[d - u] = e(n), c += 8; w.push(t), C.push(P(s, r.errorCodewordsPerBlock)) } return [w, C] }, M = function (o, r, e, t, d) { var a, s, n = Bo.exec(o), l = n ? n[0] : "", i = vo.exec(o), u = i ? i[0] : "", c = Mo.exec(o), w = c ? c[0] : ""; return l && (l.length >= r || o.length == l.length || l.length >= e && !Mo.test(o.charAt(l.length))) ? (a = ro, s = l) : w && (o.length == w.length || w.length >= t || d == eo) ? (a = eo, s = l || u) : (a = to, s = w ? w + mo.exec(o.substring(w.length))[0] : mo.exec(o)[0]), { mode: a, modeString: s } }, m = function (o) { var r, e, t = [], d = 0; for (t.push(M(o, _o, Lo, Qo, r)), r = t[0].mode, o = o.substr(t[0].modeString.length); o.length > 0;)e = M(o, So, xo, Eo, r), e.mode != r ? (r = e.mode, t.push(e), d++) : t[d].modeString += e.modeString, o = o.substr(e.modeString.length); return t }, _ = function (o) { var r, e, t = 0; for (e = 0; e < o.length; e++)r = g[o[e].mode], t += r.getStringBitsLength(o[e].modeString.length); return Math.ceil(t / 8) }, L = function (o, r) { var e = 0, t = io.length - 1, d = Math.floor(io.length / 2); do o < io[d][r].totalDataCodewords ? t = d : e = d, d = e + Math.floor((t - e) / 2); while (t - e > 1); return o <= io[e][r].totalDataCodewords ? d + 1 : t + 1 }, Q = function (o, r) { var e, t, d = ""; for (t = 0; t < o.length; t++)e = g[o[t].mode], d += e.encode(o[t].modeString, r); return d }, S = function (o) { var r, t, d = e(o), a = ""; if (0 === d) return "101010000010010"; for (r = x(e(o), go, 15), t = 0; t < r.length; t++)a += r.charAt(t) ^ Co.charAt(t); return a }, x = function (o, r, d) { var a = e(r), s = r.length - 1, n = o << s, l = d - s, i = t(o, l), u = E(n, a); return u = i + t(u, s) }, E = function (o, r) { var e = r.toString(2).length, t = o.toString(2).length; do o ^= r << t - e, t = o.toString(2).length; while (t >= e); return o }, H = function (o) { var r, e, t = [], d = 17 + 4 * o; for (r = 0; r < ko.length; r++)for (t[r] = Array(d), e = 0; e < d; e++)t[r][e] = Array(d); return t }, A = function (o, r) { var e, t, d = o[0], s = 0, n = r.length; for (e = 0, t = 8; e <= 8; e++)6 !== e && a(o, u(r, n - 1 - s++), e, t); for (e = 8, t = 7; t >= 0; t--)6 !== t && a(o, u(r, n - 1 - s++), e, t); for (s = 0, t = d.length - 1, e = 8; t >= d.length - 8; t--)a(o, u(r, n - 1 - s++), e, t); for (a(o, 1, d.length - 8, 8), e = d.length - 7, t = 8; e < d.length; e++)a(o, u(r, n - 1 - s++), e, t) }, I = function (o) { return x(o, ho, 18) }, b = function (o, r) { var e, t, d, s, n = o[0], l = n.length, i = 0, c = l - 11, w = l - 11, C = 0; for (s = 0; s < r.length; s++)e = Math.floor(s / 3), t = s % 3, d = u(r, r.length - s - 1), a(o, d, i + e, c + t), a(o, d, w + t, C + e) }, R = function (o, r, e, t) { var d, s, n, l = r.length + 2, i = r.length + 1; for (s = 0; s < r.length; s++)for (n = s; n < l - s; n++)d = r[s], a(o, d, e + n, t + s), a(o, d, e + s, t + n), a(o, d, e + i - n, t + i - s), a(o, d, e + i - s, t + i - n) }, T = function (o, r, e, t) { var d = e, s = t, n = o[0]; do a(o, 0, d, t), a(o, 0, e, s), d += r[0], s += r[1]; while (d >= 0 && d < n.length) }, y = function (o) { var r = o[0].length; R(o, uo, 0, 0), T(o, [-1, -1], 7, 7), R(o, uo, r - 7, 0), T(o, [1, -1], r - 8, 7), R(o, uo, 0, r - 7), T(o, [-1, 1], 7, r - 8) }, O = function (o, e) { var t, d, a, s, n, l, i, u, c; if (!(e < 2)) { for (t = o[0], d = t.length, a = Math.floor(e / 7), s = [6], i = 0, (n = lo[e]) ? l = (d - 13 - n) / a : n = l = (d - 13) / (a + 1), s.push(s[i++] + n); s[i] + l < d;)s.push(s[i++] + l); for (u = 0; u < s.length; u++)for (c = 0; c < s.length; c++)t[s[u]][s[c]] === r && R(o, co, s[u] - 2, s[c] - 2) } }, U = function (o) { var r, e = 6, t = 6, d = 1, s = o[0].length; for (r = 8; r < s - 8; r++)a(o, d, e, r), a(o, d, r, t), d ^= 1 }, V = function (o) { var r, e, t, d, a, s, n, l = [], i = [], u = [], g = [], h = [], p = 0, f = 1, k = o[0].length; for (e = 0; e < o.length; e++)l[e] = 0, u[e] = 0, h[e] = [0, 0], g[e] = [0, 0], i[e] = []; for (e = 0; e < k; e++)for (t = 0; t < k; t++)for (d = 0; d < o.length; d++)r = o[d], u[d] += parseInt(r[e][t], 10), i[d][p] === r[e][t] && e + 1 < k && t - 1 >= 0 && r[e + 1][t] == i[d][p] && r[e + 1][t - 1] == i[d][p] && (l[d] += 3), c(d, g, l, p, r[e][t]), c(d, g, l, f, r[t][e]), w(d, l, i, r[e][t], h, p), w(d, l, i, r[t][e], h, f); for (a = k * k, n = Number.MAX_VALUE, e = 0; e < l.length; e++)l[e] += C(u[e], a), l[e] < n && (n = l[e], s = e); return s }, z = function (o, r) { this.dataString = o, this.version = r }, N = function () { this.getEncodingResult = function (o, r) { var e = m(o), t = _(e), d = L(t, r), a = Q(e, d); return new z(a, d) } }, F = function () { this.mode = g[this.encodingMode] }, F.fn = F.prototype = { encodingMode: to, utfBOM: "111011111011101110111111", initialModeCountStringLength: 20, getEncodingResult: function (o, r) { var e = this, t = e.encode(o), d = e.getDataCodewordsCount(t), a = L(d, r), s = e.mode.getModeCountString(t.length / 8, a) + t; return new z(s, a) }, getDataCodewordsCount: function (o) { var r = this, e = o.length, t = Math.ceil((r.initialModeCountStringLength + e) / 8); return t }, encode: function (o) { var r, e = this, t = e.utfBOM; for (r = 0; r < o.length; r++)t += e.encodeCharacter(o.charCodeAt(r)); return t }, encodeCharacter: function (o) { var r, e, d = this.getBytesCount(o), a = d - 1, s = ""; if (1 == d) s = t(o, 8); else { for (r = 8 - d, e = 0; e < a; e++)s = t(o >> 6 * e & 63 | 128, 8) + s; s = (o >> 6 * a | 255 >> r << r).toString(2) + s } return s }, getBytesCount: function (o) { var r, e = this.ranges; for (r = 0; r < e.length; r++)if (o < e[r]) return r + 1 }, ranges: [128, 2048, 65536, 2097152, 67108864] }, Z = function (o) { return o && o.toLowerCase().indexOf("utf_8") >= 0 ? new F : new N }, K = function (o, r, e) { var d, a, s, n = new Z(e), l = n.getEncodingResult(o, r), i = l.version, u = io[i - 1][r], c = k(l.dataString, u.totalDataCodewords), w = v(c, u), C = H(i); return y(C), O(C, i), U(C), i >= 7 && b(C, t(0, 18)), A(C, t(0, 15)), f(C, w), d = V(C), a = C[d], i >= 7 && b([a], I(i)), s = wo[r] + t(d, 3), A([a], S(s)), a }, j = { DEFAULT_SIZE: 200, QUIET_ZONE_LENGTH: 4, DEFAULT_ERROR_CORRECTION_LEVEL: "L", DEFAULT_BACKGROUND: "#fff", DEFAULT_DARK_MODULE_COLOR: "#000", MIN_BASE_UNIT_SIZE: 1 }, W = J.extend({ init: function (r, e) { var t = this; J.fn.init.call(t, r, e), t.element = o(r), t.wrapper = t.element, t.element.addClass("k-qrcode"), t.surfaceWrap = o("<div />").css("position", "relative").appendTo(this.element), t.surface = q.Surface.create(t.surfaceWrap, { type: t.options.renderAs }), t.setOptions(e) }, redraw: function () { var o = this._getSize(); this.surfaceWrap.css({ width: o, height: o }), this.surface.clear(), this.createVisual(), this.surface.draw(this.visual) }, getSize: function () { return G.dimensions(this.element) }, _resize: function () { this.redraw() }, createVisual: function () { this.visual = this._render() }, exportVisual: function () { return this._render() }, _render: function () { var o, r, e, t, d, a, s, n = this, l = n._value, i = n.options.border || {}, u = n.options.padding || 0, c = i.width || 0; return i.width = c, s = new q.Group, l && (e = K(l, n.options.errorCorrection, n.options.encoding), t = n._getSize(), a = t - 2 * (c + u), o = n._calculateBaseUnit(a, e.length), d = e.length * o, r = c + u + (a - d) / 2, s.append(n._renderBackground(t, i)), s.append(n._renderMatrix(e, o, r))), s }, _getSize: function () { var o, r, e, t = this; return t.options.size ? o = parseInt(t.options.size, 10) : (r = t.element, e = Math.min(r.width(), r.height()), o = e > 0 ? e : j.DEFAULT_SIZE), o }, _calculateBaseUnit: function (o, r) { var e = Math.floor(o / r); if (e < j.MIN_BASE_UNIT_SIZE) throw Error("Insufficient size."); return e * r >= o && e - 1 >= j.MIN_BASE_UNIT_SIZE && e-- , e }, _renderMatrix: function (o, r, e) { var t, d, a, s, n, l, i, u, c = new q.MultiPath({ fill: { color: this.options.color }, stroke: null }); for (t = 0; t < o.length; t++)for (d = e + t * r, a = 0; a < o.length;) { for (; 0 === o[t][a] && a < o.length;)a++; if (a < o.length) { for (s = a; 1 == o[t][a];)a++; n = Ho(e + s * r), l = Ho(d), i = Ho(e + a * r), u = Ho(d + r), c.moveTo(n, l).lineTo(n, u).lineTo(i, u).lineTo(i, l).close() } } return c }, _renderBackground: function (o, r) { var e = new Y(0, 0, o, o).unpad(r.width / 2); return q.Path.fromRect(e.toRect(), { fill: { color: this.options.background }, stroke: { color: r.color, width: r.width } }) }, setOptions: function (o) { var e = this; o = o || {}, e.options = $(e.options, o), o.value !== r && (e._value = e.options.value + ""), e.redraw() }, value: function (o) { var e = this; return o === r ? e._value : (e._value = o + "", e.redraw(), r) }, options: { name: "QRCode", renderAs: "svg", encoding: "ISO_8859_1", value: "", errorCorrection: j.DEFAULT_ERROR_CORRECTION_LEVEL, background: j.DEFAULT_BACKGROUND, color: j.DEFAULT_DARK_MODULE_COLOR, size: "", padding: 0, border: { color: "", width: 0 } } }), X.ExportMixin.extend(W.fn), X.ui.plugin(W), G.deepExtend(X, { QRCode: W, QRCodeDefaults: j, QRCodeFunctions: { FreeCellVisitor: p, fillData: f, padDataString: k, generateErrorCodewords: P, xorPolynomials: B, getBlocks: v, multiplyPolynomials: D, chooseMode: M, getModes: m, getDataCodewordsCount: _, getVersion: L, getDataString: Q, encodeFormatInformation: S, encodeBCH: x, dividePolynomials: E, initMatrices: H, addFormatInformation: A, encodeVersionInformation: I, addVersionInformation: b, addCentricPattern: R, addFinderSeparator: T, addFinderPatterns: y, addAlignmentPatterns: O, addTimingFunctions: U, scoreMaskMatrixes: V, encodeData: K, UTF8Encoder: F }, QRCodeFields: { modes: g, powersOfTwo: ao, powersOfTwoResult: so, generatorPolynomials: no } }) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (o, r, e) { (e || r)() });; !function (e, define) { define("util/text-metrics.min", ["kendo.core.min"], e) }(function () { !function (e) { function i(e) { return (e + "").replace(o, l) } function t(e) { var i, t = []; for (i in e) t.push(i + e[i]); return t.sort().join("") } function n(e) { var i, t = 2166136261; for (i = 0; i < e.length; ++i)t += (t << 1) + (t << 4) + (t << 7) + (t << 8) + (t << 24), t ^= e.charCodeAt(i); return t >>> 0 } function a() { return { width: 0, height: 0, baseline: 0 } } function r(e, i, t) { return c.current.measure(e, i, t) } var s, o, l, h, d, c; window.kendo.util = window.kendo.util || {}, s = kendo.Class.extend({ init: function (e) { this._size = e, this._length = 0, this._map = {} }, put: function (e, i) { var t = this._map, n = { key: e, value: i }; t[e] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (t[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (e) { var i = this._map[e]; if (i) return i === this._head && i !== this._tail && (this._head = i.newer, this._head.older = null), i !== this._tail && (i.older && (i.older.newer = i.newer, i.newer.older = i.older), i.older = this._tail, i.newer = null, this._tail.newer = i, this._tail = i), i.value } }), o = /\r?\n|\r|\t/g, l = " ", h = { baselineMarkerSize: 1 }, "undefined" != typeof document && (d = document.createElement("div"), d.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), c = kendo.Class.extend({ init: function (i) { this._cache = new s(1e3), this.options = e.extend({}, h, i) }, measure: function (e, r, s) { var o, l, h, c, u, p, f, v, m; if (void 0 === s && (s = {}), !e) return a(); if (o = t(r), l = n(e + o), h = this._cache.get(l)) return h; c = a(), u = s.box || d, p = this._baselineMarker().cloneNode(!1); for (f in r) v = r[f], void 0 !== v && (u.style[f] = v); return m = s.normalizeText !== !1 ? i(e) : e + "", u.textContent = m, u.appendChild(p), document.body.appendChild(u), m.length && (c.width = u.offsetWidth - this.options.baselineMarkerSize, c.height = u.offsetHeight, c.baseline = p.offsetTop + this.options.baselineMarkerSize), c.width > 0 && c.height > 0 && this._cache.put(l, c), u.parentNode.removeChild(u), c }, _baselineMarker: function () { var e = document.createElement("div"); return e.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", e } }), c.current = new c, kendo.deepExtend(kendo.util, { LRUCache: s, TextMetrics: c, measureText: r, objectKey: t, hashKey: n, normalizeText: i }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, i, t) { (t || i)() }), function (e, define) { define("dataviz/sparkline/kendo-sparkline.min", ["kendo.dataviz.chart.min"], e) }(function () { !function () { function e(e) { var i, t, n = []; for (i = 0; i < e.length; i++)t = e[i], n[i] = t.style.display, t.style.display = "none"; return n } function i(e, i) { for (var t = 0; t < e.length; t++)e[t].style.display = i[t] } function t(e) { return n.isNumber(e) ? [e] : e } var n, a, r, s, o, l, h, d, c, u, p; window.kendo.dataviz = window.kendo.dataviz || {}, n = kendo.dataviz, a = n.constants, r = n.Chart, s = n.elementSize, o = n.deepExtend, l = -2, h = n.SharedTooltip.extend({ _slotAnchor: function (e, i) { var t, a = this.plotArea.categoryAxis, r = a.options.vertical, s = r ? { horizontal: "left", vertical: "center" } : { horizontal: "center", vertical: "bottom" }; return t = r ? new n.Point(this.plotArea.box.x2, i.center().y) : new n.Point(i.center().x, l), { point: t, align: s } }, _defaultAnchor: function (e, i) { return this._slotAnchor({}, i) } }), d = 150, c = 150, u = [a.BAR, a.BULLET], p = r.extend({ _setElementClass: function (e) { n.addClass(e, "k-sparkline") }, _initElement: function (e) { r.fn._initElement.call(this, e), this._initialWidth = Math.floor(s(e).width) }, _resize: function () { var t = this.element, n = e(t.childNodes); this._initialWidth = Math.floor(s(t).width), i(t.childNodes, n), r.fn._resize.call(this) }, _modelOptions: function () { var t, n = this.options, a = this._surfaceWrap(), r = e(a.childNodes), l = document.createElement("span"); return l.innerHTML = "&nbsp;", a.appendChild(l), t = o({ width: this._autoWidth, height: s(a).height, transitions: n.transitions }, n.chartArea, { inline: !0, align: !1 }), s(a, { width: t.width, height: t.height }), a.removeChild(l), i(a.childNodes, r), this.surface.resize(), t }, _surfaceWrap: function () { if (!this.stage) { var e = this.stage = document.createElement("span"); this.element.appendChild(e) } return this.stage }, _createPlotArea: function (e) { var i = r.fn._createPlotArea.call(this, e); return this._autoWidth = this._initialWidth || this._calculateWidth(i), i }, _calculateWidth: function (e) { var i, t, r, o, l, h, u = this.options, p = n.getSpacing(u.chartArea.margin), f = e.charts, v = this._surfaceWrap(), m = 0; for (i = 0; i < f.length; i++)if (t = f[i], r = (t.options.series || [])[0]) { if (r.type === a.BAR) return d; if (r.type === a.BULLET) return c; if (r.type === a.PIE) return s(v).height; o = t.categoryAxis, o && (l = o.options.categories.length * (!t.options.isStacked && n.inArray(r.type, [a.COLUMN, a.VERTICAL_BULLET]) ? t.seriesOptions.length : 1), m = Math.max(m, l)) } return h = m * u.pointWidth, h > 0 && (h += p.left + p.right), h }, _createSharedTooltip: function (e) { return new h(this._plotArea, e) } }), p.normalizeOptions = function (e) { var i = t(e); return i = n.isArray(i) ? { seriesDefaults: { data: i } } : o({}, i), i.series || (i.series = [{ data: t(i.data) }]), o(i, { seriesDefaults: { type: i.type } }), (n.inArray(i.series[0].type, u) || n.inArray(i.seriesDefaults.type, u)) && (i = o({}, { categoryAxis: { crosshair: { visible: !1 } } }, i)), i }, n.setDefaultOptions(p, { chartArea: { margin: 2 }, axisDefaults: { visible: !1, majorGridLines: { visible: !1 }, valueAxis: { narrowRange: !0 } }, seriesDefaults: { type: "line", area: { line: { width: .5 } }, bar: { stack: !0 }, padding: 2, width: .5, overlay: { gradient: null }, highlight: { visible: !1 }, border: { width: 0 }, markers: { size: 2, visible: !1 } }, tooltip: { visible: !0, shared: !0 }, categoryAxis: { crosshair: { visible: !0, tooltip: { visible: !1 } } }, legend: { visible: !1 }, transitions: !1, pointWidth: 5, panes: [{ clip: !1 }] }), kendo.deepExtend(kendo.dataviz, { Sparkline: p }) }() }, "function" == typeof define && define.amd ? define : function (e, i, t) { (t || i)() }), function (e, define) { define("dataviz/sparkline/sparkline.min", ["dataviz/sparkline/kendo-sparkline.min"], e) }(function () { !function (e) { var i, t = kendo.dataviz, n = t.ui.Chart, a = t.Sparkline, r = t.ChartInstanceObserver, s = e.extend, o = n.extend({ init: function (e, i) { var t = i; t instanceof kendo.data.ObservableArray && (t = { seriesDefaults: { data: t } }), n.fn.init.call(this, e, a.normalizeOptions(t)) }, _createChart: function (e, i) { this._instance = new a(this.element[0], e, i, { observer: new r(this), sender: this, rtl: this._isRtl() }) }, _createTooltip: function () { return new i(this.element, s({}, this.options.tooltip, { rtl: this._isRtl() })) }, options: { name: "Sparkline", chartArea: { margin: 2 }, axisDefaults: { visible: !1, majorGridLines: { visible: !1 }, valueAxis: { narrowRange: !0 } }, seriesDefaults: { type: "line", area: { line: { width: .5 } }, bar: { stack: !0 }, padding: 2, width: .5, overlay: { gradient: null }, highlight: { visible: !1 }, border: { width: 0 }, markers: { size: 2, visible: !1 } }, tooltip: { visible: !0, shared: !0 }, categoryAxis: { crosshair: { visible: !0, tooltip: { visible: !1 } } }, legend: { visible: !1 }, transitions: !1, pointWidth: 5, panes: [{ clip: !1 }] } }); t.ui.plugin(o), i = t.Tooltip.extend({ options: { animation: { duration: 0 } }, _hideElement: function () { this.element && this.element.hide().remove() } }), t.SparklineTooltip = i }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, i, t) { (t || i)() }), function (e, define) { define("kendo.dataviz.sparkline.min", ["dataviz/sparkline/kendo-sparkline.min", "dataviz/sparkline/sparkline.min"], e) }(function () { }, "function" == typeof define && define.amd ? define : function (e, i, t) { (t || i)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(r, l) } function i(t) { var e, i = []; for (e in t) i.push(e + t[e]); return i.sort().join("") } function a(t) { var e, i = 2166136261; for (e = 0; e < t.length; ++e)i += (i << 1) + (i << 4) + (i << 7) + (i << 8) + (i << 24), i ^= t.charCodeAt(e); return i >>> 0 } function n() { return { width: 0, height: 0, baseline: 0 } } function o(t, e, i) { return d.current.measure(t, e, i) } var s, r, l, h, c, d; window.kendo.util = window.kendo.util || {}, s = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var i = this._map, a = { key: t, value: e }; i[t] = a, this._head ? (this._tail.newer = a, a.older = this._tail, this._tail = a) : this._head = this._tail = a, this._length >= this._size ? (i[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), r = /\r?\n|\r|\t/g, l = " ", h = { baselineMarkerSize: 1 }, "undefined" != typeof document && (c = document.createElement("div"), c.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), d = kendo.Class.extend({ init: function (e) { this._cache = new s(1e3), this.options = t.extend({}, h, e) }, measure: function (t, o, s) { var r, l, h, d, u, p, f, v, g; if (void 0 === s && (s = {}), !t) return n(); if (r = i(o), l = a(t + r), h = this._cache.get(l)) return h; d = n(), u = s.box || c, p = this._baselineMarker().cloneNode(!1); for (f in o) v = o[f], void 0 !== v && (u.style[f] = v); return g = s.normalizeText !== !1 ? e(t) : t + "", u.textContent = g, u.appendChild(p), document.body.appendChild(u), g.length && (d.width = u.offsetWidth - this.options.baselineMarkerSize, d.height = u.offsetHeight, d.baseline = p.offsetTop + this.options.baselineMarkerSize), d.width > 0 && d.height > 0 && this._cache.put(l, d), u.parentNode.removeChild(u), d }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), d.current = new d, kendo.deepExtend(kendo.util, { LRUCache: s, TextMetrics: d, measureText: o, objectKey: i, hashKey: a, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/stock/kendo-stock-chart.min", ["kendo.dataviz.chart.min"], t) }(function () { !function () { function t(t, e) { var i = document.createElement("div"); return i.className = t, e && (i.style.cssText = e), i } function e() { } function i(t) { return e.prototype = t, new e } var a, n, o, s, r, l, h, c, d, u, p, f, v, g, m, _; window.kendo.dataviz = window.kendo.dataviz || {}, a = kendo.dataviz, n = a.elementStyles, o = a.deepExtend, s = a.toTime, r = a.constants, l = a.Chart, h = kendo.drawing, c = h.Animation.extend({ setup: function () { this._initialOpacity = parseFloat(n(this.element, "opacity").opacity) }, step: function (t) { n(this.element, { opacity: a.interpolateValue(this._initialOpacity, 0, t) + "" }) }, abort: function () { h.Animation.fn.abort.call(this), n(this.element, { display: "none", opacity: this._initialOpacity + "" }) }, cancel: function () { h.Animation.fn.abort.call(this), n(this.element, { opacity: this._initialOpacity + "" }) } }), d = a.Class.extend({ init: function (t, e, i) { this.options = o({}, this.options, i), this.container = t, this.chartService = e; var a = n(t, ["paddingLeft", "paddingTop"]); this.chartPadding = { top: a.paddingTop, left: a.paddingLeft }, this.createElements(), t.appendChild(this.element) }, createElements: function () { var e = this.element = t("k-navigator-hint", "display: none; position: absolute; top: 1px; left: 1px;"), i = this.tooltip = t("k-tooltip k-chart-tooltip"), a = this.scroll = t("k-scroll"); i.innerHTML = "&nbsp;", e.appendChild(i), e.appendChild(a) }, show: function (t, e, i) { var o, r = this, l = r.element, h = r.options, c = r.scroll, d = r.tooltip, u = a.toDate(s(t) + s(e - t) / 2), p = .4 * i.width(), f = i.center().x - p, v = i.center().x, g = v - f, m = h.max - h.min, _ = g / m, b = u - h.min, x = this.chartService.intl.format(h.format, t, e), y = a.getTemplate(h); this.clearHideTimeout(), this._visible || (n(l, { visibility: "hidden", display: "block" }), this._visible = !0), y && (x = y({ from: t, to: e })), d.innerHTML = x, n(d, { left: i.center().x - d.offsetWidth / 2, top: i.y1 }), o = n(d, ["marginTop", "borderTopWidth", "height"]), n(c, { width: p, left: f + b * _, top: i.y1 + o.marginTop + o.borderTopWidth + o.height / 2 }), n(l, { visibility: "visible" }) }, clearHideTimeout: function () { this._hideTimeout && clearTimeout(this._hideTimeout), this._hideAnimation && this._hideAnimation.cancel() }, hide: function () { var t = this; this.clearHideTimeout(), this._hideTimeout = setTimeout(function () { t._visible = !1, t._hideAnimation = new c(t.element), t._hideAnimation.setup(), t._hideAnimation.play() }, this.options.hideDelay) }, destroy: function () { this.clearHideTimeout(), this.container && this.container.removeChild(this.element), delete this.container, delete this.chartService, delete this.element, delete this.tooltip, delete this.scroll } }), a.setDefaultOptions(d, { format: "{0:d} - {1:d}", hideDelay: 500 }), u = "_navigator", p = u, f = { NAVIGATOR_AXIS: p, NAVIGATOR_PANE: u }, v = 3, g = a.Class.extend({ init: function (t) { var e, i, n; this.chart = t, e = this.options = o({}, this.options, t.options.navigator), i = e.select, i && (i.from = this.parseDate(i.from), i.to = this.parseDate(i.to)), a.defined(e.hint.visible) || (e.hint.visible = e.visible), this.chartObserver = new a.InstanceObserver(this, (n = {}, n[r.DRAG] = "_drag", n[r.DRAG_END] = "_dragEnd", n[r.ZOOM] = "_zoom", n[r.ZOOM_END] = "_zoomEnd", n)), t.addObserver(this.chartObserver) }, parseDate: function (t) { return a.parseDate(this.chart.chartService.intl, t) }, destroy: function () { this.chart && (this.chart.removeObserver(this.chartObserver), delete this.chart), this.selection && (this.selection.destroy(), delete this.selection), this.hint && (this.hint.destroy(), delete this.hint) }, redraw: function () { this._redrawSelf(), this.initSelection() }, initSelection: function () { var t = this, e = t.chart, n = t.options, o = this.mainAxis(), s = o.range(), r = s.min, l = s.max, h = n.select, c = h.from, u = h.to, p = h.mousewheel, f = i(o), v = o.options.categories, g = this.selection; 0 !== v.length && (g && g.destroy(), f.box = o.box, g = this.selection = new a.Selection(e, f, { min: r, max: l, from: c || r, to: u || l, mousewheel: a.valueOrDefault(p, { zoom: "left" }), visible: n.visible }, new a.InstanceObserver(this, { selectStart: "_selectStart", select: "_select", selectEnd: "_selectEnd" })), this.hint && this.hint.destroy(), n.hint.visible && (this.hint = new d(e.element, e.chartService, { min: r, max: l, template: a.getTemplate(n.hint), format: n.hint.format }))) }, setRange: function () { var t, e = this.chart._createPlotArea(!0), i = e.namedCategoryAxes[p], a = i.range(), n = a.min, s = a.max, r = this.options.select || {}, l = r.from || n; l < n && (l = n), t = r.to || s, t > s && (t = s), this.options.select = o({}, r, { from: l, to: t }), this.filterAxes() }, _redrawSelf: function (t) { var e = this.chart._plotArea; e && e.redraw(a.last(e.panes), t) }, redrawSlaves: function () { var t = this.chart, e = t._plotArea, i = e.panes.slice(0, -1); e.srcSeries = t.options.series, e.options.categoryAxis = t.options.categoryAxis, e.redraw(i) }, _drag: function (t) { var e, i, n, o = this, r = o.chart, l = o.selection, h = r._eventCoordinates(t.originalEvent), c = this.mainAxis(), d = c.datesRange(), u = c.pane.box.containsPoint(h), p = r._plotArea.categoryAxis, f = t.axisRanges[p.options.name], v = this.options.select; f && !u && l && (e = v.from && v.to ? s(v.to) - s(v.from) : s(l.options.to) - s(l.options.from), i = a.toDate(a.limitValue(s(f.min), d.min, s(d.max) - e)), n = a.toDate(a.limitValue(s(i) + e, s(d.min) + e, d.max)), this.options.select = { from: i, to: n }, this.options.liveDrag && (this.filterAxes(), this.redrawSlaves()), l.set(i, n), this.showHint(i, n)) }, _dragEnd: function () { this.filterAxes(), this.filter(), this.redrawSlaves(), this.hint && this.hint.hide() }, readSelection: function () { var t = this, e = t.selection.options, i = e.from, a = e.to, n = t.options.select; n.from = i, n.to = a }, filterAxes: function () { var t, e, i, a, n, o, s = this, r = s.options.select; for (void 0 === r && (r = {}), t = s.chart, e = t.options.categoryAxis, i = r.from, a = r.to, n = 0; n < e.length; n++)o = e[n], o.pane !== u && (o.min = i, o.max = a) }, filter: function () { var t, e = this, i = e.chart, n = e.options.select; i.requiresHandlers(["navigatorFilter"]) && (t = new a.DateCategoryAxis(o({ baseUnit: "fit" }, i.options.categoryAxis[0], { categories: [n.from, n.to] }), i.chartService).options, this.chart.trigger("navigatorFilter", { from: a.addDuration(t.min, -t.baseUnitStep, t.baseUnit), to: a.addDuration(t.max, t.baseUnitStep, t.baseUnit) })) }, _zoom: function (t) { var e, i, n = this, o = n.chart._plotArea.categoryAxis, s = n.selection, r = n.options, l = r.select, h = r.liveDrag, c = this.mainAxis().options.categories, d = t.delta; s && (e = a.lteDateIndex(s.options.from, c), i = a.lteDateIndex(s.options.to, c), t.originalEvent.preventDefault(), Math.abs(d) > 1 && (d *= v), i - e > 1 ? (s.expand(d), this.readSelection()) : (o.options.min = l.from, l.from = o.scaleRange(-t.delta).min), h && (this.filterAxes(), this.redrawSlaves()), s.set(l.from, l.to), this.showHint(this.options.select.from, this.options.select.to)) }, _zoomEnd: function (t) { this._dragEnd(t) }, showHint: function (t, e) { var i = this.chart._plotArea; this.hint && this.hint.show(t, e, i.backgroundBox()) }, _selectStart: function (t) { return this.chart._selectStart(t) }, _select: function (t) { return this.showHint(t.from, t.to), this.chart._select(t) }, _selectEnd: function (t) { return this.hint && this.hint.hide(), this.readSelection(), this.filterAxes(), this.filter(), this.redrawSlaves(), this.chart._selectEnd(t) }, mainAxis: function () { var t = this.chart._plotArea; if (t) return t.namedCategoryAxes[p] }, select: function (t, e) { var i = this.options.select; return t && e && (i.from = this.parseDate(t), i.to = this.parseDate(e), this.filterAxes(), this.filter(), this.redrawSlaves(), this.selection.set(t, e)), { from: i.from, to: i.to } } }), g.setup = function (t, e) { var i, a, n; void 0 === t && (t = {}), void 0 === e && (e = {}), t.__navi || (t.__navi = !0, i = o({}, e.navigator, t.navigator), a = t.panes = [].concat(t.panes), n = o({}, i.pane, { name: u }), i.visible || (n.visible = !1, n.height = .1), a.push(n), g.attachAxes(t, i), g.attachSeries(t, i, e)) }, g.attachAxes = function (t, e) { var i = e.series || [], n = t.categoryAxis = [].concat(t.categoryAxis), s = t.valueAxis = [].concat(t.valueAxis), l = a.filterSeriesByType(i, r.EQUALLY_SPACED_SERIES), h = 0 === l.length, c = o({ type: "date", pane: u, roundToBaseUnit: !h, justified: h, _collapse: !1, majorTicks: { visible: !0 }, tooltip: { visible: !1 }, labels: { step: 1 }, autoBind: e.autoBindElements, autoBaseUnitSteps: { minutes: [1], hours: [1, 2], days: [1, 2], weeks: [], months: [1], years: [1] } }), d = e.categoryAxis; n.push(o({}, c, { maxDateGroups: 200 }, d, { name: p, title: null, baseUnit: "fit", baseUnitStep: "auto", labels: { visible: !1 }, majorTicks: { visible: !1 } }), o({}, c, d, { name: p + "_labels", maxDateGroups: 20, baseUnitStep: "auto", plotBands: [], autoBaseUnitSteps: { minutes: [] }, _overlap: !0 }), o({}, c, d, { name: p + "_ticks", maxDateGroups: 200, majorTicks: { width: .5 }, plotBands: [], title: null, labels: { visible: !1, mirror: !0 }, _overlap: !0 })), s.push(o({ name: p, pane: u, majorGridLines: { visible: !1 }, visible: !1 }, e.valueAxis)) }, g.attachSeries = function (t, e, i) { var a, n = t.series = t.series || [], s = [].concat(e.series || []), r = i.seriesColors, l = e.seriesDefaults; for (a = 0; a < s.length; a++)n.push(o({ color: r[a % r.length], categoryField: e.dateField, visibleInLegend: !1, tooltip: { visible: !1 } }, l, s[a], { axis: p, categoryAxis: p, autoBind: e.autoBindElements })) }, m = 28, _ = l.extend({ applyDefaults: function (t, e) { var i = a.elementSize(this.element).width || r.DEFAULT_WIDTH, n = e, s = { seriesDefaults: { categoryField: t.dateField }, axisDefaults: { categoryAxis: { name: "default", majorGridLines: { visible: !1 }, labels: { step: 2 }, majorTicks: { visible: !1 }, maxDateGroups: Math.floor(i / m) } } }; n && (n = o({}, n, s)), g.setup(t, n), l.fn.applyDefaults.call(this, t, n) }, _setElementClass: function (t) { a.addClass(t, "k-chart k-stockchart") }, setOptions: function (t) { this.destroyNavigator(), l.fn.setOptions.call(this, t) }, _resize: function () { var t = this.options.transitions; this.options.transitions = !1, this._fullRedraw(), this.options.transitions = t }, _redraw: function () { var t = this.navigator; !this._dirty() && t && t.options.partialRedraw ? t.redrawSlaves() : this._fullRedraw() }, _dirty: function () { var t = this.options, e = [].concat(t.series, t.navigator.series), i = a.grep(e, function (t) { return t && t.visible }).length, n = this._seriesCount !== i; return this._seriesCount = i, n }, _fullRedraw: function () { var t = this.navigator; t || (t = this.navigator = new g(this), this.trigger("navigatorCreated", { navigator: t })), t.setRange(), l.fn._redraw.call(this), t.initSelection() }, _trackSharedTooltip: function (t) { var e = this._plotArea, i = e.paneByPoint(t); i && i.options.name === u ? this._unsetActivePoint() : l.fn._trackSharedTooltip.call(this, t) }, bindCategories: function () { l.fn.bindCategories.call(this), this.copyNavigatorCategories() }, copyNavigatorCategories: function () { var t, e, i, a = [].concat(this.options.categoryAxis); for (e = 0; e < a.length; e++)i = a[e], i.name === p ? t = i.categories : t && i.pane === u && (i.categories = t) }, destroyNavigator: function () { this.navigator && (this.navigator.destroy(), this.navigator = null) }, destroy: function () { this.destroyNavigator(), l.fn.destroy.call(this) }, _stopDragEvent: function (t) { var e = this._eventCoordinates(t), i = this._plotArea.paneByPoint(e); return l.fn._stopDragEvent.call(this, t) || i && i.options.name === u } }), a.setDefaultOptions(_, { dateField: "date", axisDefaults: { categoryAxis: { type: "date", baseUnit: "fit", justified: !0 }, valueAxis: { narrowRange: !0, labels: { format: "C" } } }, navigator: { select: {}, seriesDefaults: { markers: { visible: !1 }, tooltip: { visible: !0 }, line: { width: 2 } }, hint: {}, visible: !0 }, tooltip: { visible: !0 }, legend: { visible: !1 } }), kendo.deepExtend(kendo.dataviz, { constants: f, Navigator: g, NavigatorHint: d, StockChart: _ }) }() }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("dataviz/stock/stock-chart.min", ["dataviz/stock/kendo-stock-chart.min"], t) }(function () { !function (t) { function e(t, e) { return [{ field: "Date", operator: "gte", value: t }, { field: "Date", operator: "lt", value: e }] } var i = window.kendo, a = i.dataviz, n = a.ChartInstanceObserver, o = a.ui.Chart, s = a.StockChart, r = a.constants, l = r.NAVIGATOR_AXIS, h = r.NAVIGATOR_PANE, c = i.deepExtend, d = a.defined, u = t.proxy, p = "change", f = n.extend({ handlerMap: { navigatorFilter: "_onNavigatorFilter", navigatorCreated: "_onNavigatorCreated" } }), v = o.extend({ options: { name: "StockChart", dateField: "date", axisDefaults: { categoryAxis: { type: "date", baseUnit: "fit", justified: !0 }, valueAxis: { narrowRange: !0, labels: { format: "C" } } }, navigator: { select: {}, seriesDefaults: { markers: { visible: !1 }, tooltip: { visible: !0, template: "#= kendo.toString(category, 'd') #" }, line: { width: 2 } }, hint: {}, visible: !0 }, tooltip: { visible: !0 }, legend: { visible: !1 }, persistSeriesVisibility: !0 }, _createChart: function (t, e) { this._initNavigatorOptions(t), this._instance = new s(this.element[0], t, e, { observer: new f(this), sender: this, rtl: this._isRtl() }) }, _initNavigatorOptions: function (t) { var e = t.navigator || {}, a = i.support, n = a.touch, o = a.browser.mozilla; c(e, { autoBindElements: !e.dataSource, partialRedraw: e.dataSource, liveDrag: !n && !o }) }, _initDataSource: function (t) { var n, s, r, l, h = t || {}, d = h.dataSource, u = d && d.serverFiltering, p = [].concat(h.categoryAxis)[0], f = h.navigator || {}, v = f.select, g = v && v.from && v.to; u && g && (n = [].concat(d.filter || []), s = i.parseDate(v.from), r = i.parseDate(v.to), l = new a.DateCategoryAxis(c({ baseUnit: "fit" }, p, { categories: [s, r] }), i), d.filter = e(l.range().min, r).concat(n)), o.fn._initDataSource.call(this, t) }, _onNavigatorCreated: function (t) { this._instance = t.sender, this.options = t.sender.options, this._navigator = this.navigator = t.navigator, this._initNavigatorDataSource() }, _initNavigatorDataSource: function () { var t = this.options.navigator, e = t.autoBind, a = t.dataSource; a && (this._navigatorDataChangedHandler = this._navigatorDataChangedHandler || u(this._onNavigatorDataChanged, this), this._navigatorDataSource = i.data.DataSource.create(a).bind(p, this._navigatorDataChangedHandler), d(e) || (e = this.options.autoBind), e && this._navigatorDataSource.fetch()) }, _bindNavigatorSeries: function (t, e) { var i, a, n = t.length; for (i = 0; i < n; i++)a = t[i], a.axis == l && this._isBindable(a) && (a.data = e) }, _onNavigatorDataChanged: function () { var t, e, i, a, n = this, o = n._instance, s = n.options.categoryAxis, r = s.length, c = n._navigatorDataSource.view(); for (this._bindNavigatorSeries(n.options.series, c), n._sourceSeries && this._bindNavigatorSeries(n._sourceSeries, c), t = 0; t < r; t++)e = s[t], e.pane == h && (e.name == l ? (n._bindCategoryAxis(e, c, t), i = e.categories) : e.categories = i); o._model && (a = this.navigator, a.redraw(), a.setRange(), (!n.options.dataSource || n.options.dataSource && n._dataBound) && a.redrawSlaves()) }, _bindCategories: function () { o.fn._bindCategories.call(this), this._instance && this._instance.copyNavigatorCategories() }, _onDataChanged: function () { o.fn._onDataChanged.call(this), this._dataBound = !0 }, setOptions: function (t) { this._removeNavigatorDataSource(), this._initNavigatorOptions(t), this._instance.destroyNavigator(), o.fn.setOptions.call(this, t) }, _onNavigatorFilter: function (t) { this.dataSource.filter(e(t.from, t.to)) }, requiresHandlers: function (t) { var e, i; return a.inArray("navigatorFilter", t) ? (e = this.dataSource, i = e && e.options.serverFiltering, i && this.options.navigator.dataSource) : o.fn.requiresHandlers.call(this, t) }, _removeNavigatorDataSource: function () { var t = this._navigatorDataSource; t && (t.unbind(p, this._navigatorDataChangedHandler), delete this._navigatorDataSource) }, destroy: function () { o.fn.destroy.call(this), this._removeNavigatorDataSource() } }); a.ui.plugin(v) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("kendo.dataviz.stock.min", ["dataviz/stock/kendo-stock-chart.min", "dataviz/stock/stock-chart.min"], t) }(function () { }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (t, define) { define("util/text-metrics.min", ["kendo.core.min"], t) }(function () { !function (t) { function e(t) { return (t + "").replace(h, s) } function i(t) { var e, i = []; for (e in t) i.push(e + t[e]); return i.sort().join("") } function n(t) { var e, i = 2166136261; for (e = 0; e < t.length; ++e)i += (i << 1) + (i << 4) + (i << 7) + (i << 8) + (i << 24), i ^= t.charCodeAt(e); return i >>> 0 } function o() { return { width: 0, height: 0, baseline: 0 } } function r(t, e, i) { return u.current.measure(t, e, i) } var a, h, s, l, d, u; window.kendo.util = window.kendo.util || {}, a = kendo.Class.extend({ init: function (t) { this._size = t, this._length = 0, this._map = {} }, put: function (t, e) { var i = this._map, n = { key: t, value: e }; i[t] = n, this._head ? (this._tail.newer = n, n.older = this._tail, this._tail = n) : this._head = this._tail = n, this._length >= this._size ? (i[this._head.key] = null, this._head = this._head.newer, this._head.older = null) : this._length++ }, get: function (t) { var e = this._map[t]; if (e) return e === this._head && e !== this._tail && (this._head = e.newer, this._head.older = null), e !== this._tail && (e.older && (e.older.newer = e.newer, e.newer.older = e.older), e.older = this._tail, e.newer = null, this._tail.newer = e, this._tail = e), e.value } }), h = /\r?\n|\r|\t/g, s = " ", l = { baselineMarkerSize: 1 }, "undefined" != typeof document && (d = document.createElement("div"), d.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"), u = kendo.Class.extend({ init: function (e) { this._cache = new a(1e3), this.options = t.extend({}, l, e) }, measure: function (t, r, a) { var h, s, l, u, c, f, p, m, g; if (void 0 === a && (a = {}), !t) return o(); if (h = i(r), s = n(t + h), l = this._cache.get(s)) return l; u = o(), c = a.box || d, f = this._baselineMarker().cloneNode(!1); for (p in r) m = r[p], void 0 !== m && (c.style[p] = m); return g = a.normalizeText !== !1 ? e(t) : t + "", c.textContent = g, c.appendChild(f), document.body.appendChild(c), g.length && (u.width = c.offsetWidth - this.options.baselineMarkerSize, u.height = c.offsetHeight, u.baseline = f.offsetTop + this.options.baselineMarkerSize), u.width > 0 && u.height > 0 && this._cache.put(s, u), c.parentNode.removeChild(c), u }, _baselineMarker: function () { var t = document.createElement("div"); return t.style.cssText = "display: inline-block; vertical-align: baseline;width: " + this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;", t } }), u.current = new u, kendo.deepExtend(kendo.util, { LRUCache: a, TextMetrics: u, measureText: r, objectKey: i, hashKey: n, normalizeText: e }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() }), function (t, define) { define("kendo.dataviz.treemap.min", ["kendo.data.min", "kendo.userevents.min", "kendo.dataviz.themes.min"], t) }(function () { return function (t, e) { function i(t, e) { if (null === e) return e; var i = b(t, !0); return i(e) } function n(t) { return typeof t !== R } function o(t, e, i) { var n, o, s = h(t), l = h(e), d = u(t) - u(e) < 0, c = []; for (c.push(t), n = 0; n < i; n++)o = { r: r(s.r, l.r, n, i, d), g: r(s.g, l.g, n, i, d), b: r(s.b, l.b, n, i, d) }, c.push(a(o)); return c.push(e), c } function r(t, e, i, n, o) { var r, a = f.min(f.abs(t), f.abs(e)), h = f.max(f.abs(t), f.abs(e)), s = (h - a) / (n + 1), l = s * (i + 1); return r = o ? a + l : h - l } function a(t) { return "#" + s(t.r) + s(t.g) + s(t.b) } function h(t) { t = t.replace("#", ""); var e = l(t); return { r: d(e.r), g: d(e.g), b: d(e.b) } } function s(t) { var e = f.round(t).toString(16).toUpperCase(); return 1 === e.length && (e = "0" + e), e } function l(t) { var e = t.length, i = {}; return 3 === e ? (i.r = t[0], i.g = t[1], i.b = t[2]) : (i.r = t.substring(0, 2), i.g = t.substring(2, 4), i.b = t.substring(4, 6)), i } function d(t) { return parseInt(t.toString(16), 16) } function u(t) { var e = 0; return t && (t = h(t), e = f.sqrt(.241 * t.r * t.r + .691 * t.g * t.g + .068 * t.b * t.b)), e } function c(t) { var e = f.pow(10, 4); return f.round(t * e) / e } var f = Math, p = t.proxy, m = t.isArray, g = window.kendo, v = g._outerHeight, _ = g._outerWidth, w = g.Class, y = g.ui.Widget, k = g.template, x = g.deepExtend, C = g.data.HierarchicalDataSource, b = g.getter, z = g.dataviz, S = ".kendoTreeMap", I = "change", T = "dataBound", H = "itemCreated", M = Number.MAX_VALUE, A = "mouseover" + S, B = "mouseleave" + S, R = "undefined", D = y.extend({ init: function (e, i) { g.destroy(e), t(e).empty(), y.fn.init.call(this, e, i), this.wrapper = this.element, this._initTheme(this.options), this.element.addClass("k-widget k-treemap"), this._setLayout(), this._originalOptions = x({}, this.options), this._initDataSource(), this._attachEvents(), g.notify(this, z.ui) }, options: { name: "TreeMap", theme: "default", autoBind: !0, textField: "text", valueField: "value", colorField: "color" }, events: [T, H], _initTheme: function (t) { var e = this, i = z.ui.themes || {}, n = ((t || {}).theme || "").toLowerCase(), o = (i[n] || {}).treeMap; e.options = x({}, o, t) }, _attachEvents: function () { this.element.on(A, p(this._mouseover, this)).on(B, p(this._mouseleave, this)), this._resizeHandler = p(this.resize, this, !1), g.onResize(this._resizeHandler) }, _setLayout: function () { "horizontal" === this.options.type ? (this._layout = new U((!1)), this._view = new E(this, this.options)) : "vertical" === this.options.type ? (this._layout = new U((!0)), this._view = new E(this, this.options)) : (this._layout = new F, this._view = new L(this, this.options)) }, _initDataSource: function () { var t = this, e = t.options, i = e.dataSource; t._dataChangeHandler = p(t._onDataChange, t), t.dataSource = C.create(i).bind(I, t._dataChangeHandler), i && t.options.autoBind && t.dataSource.fetch() }, setDataSource: function (t) { var e = this; e.dataSource.unbind(I, e._dataChangeHandler), e.dataSource = t.bind(I, e._dataChangeHandler), t && e.options.autoBind && e.dataSource.fetch() }, _onDataChange: function (t) { var e, i, n, o, r = t.node, a = t.items, h = this.options; if (r) { if (a.length) { for (n = this._getByUid(r.uid), n.children = [], a = new g.data.Query(a)._sortForGrouping(h.valueField, "desc"), i = 0; i < a.length; i++)e = a[i], n.children.push(this._wrapItem(e)); o = this._view.htmlSize(n), this._layout.compute(n.children, n.coord, o), this._setColors(n.children), this._view.render(n) } } else this._cleanItems(), this.element.empty(), e = this._wrapItem(a[0]), this._layout.createRoot(e, _(this.element), v(this.element), "vertical" === this.options.type), this._view.createRoot(e), this._root = e, this._colorIdx = 0; for (i = 0; i < a.length; i++)a[i].load(); r && this.trigger(T, { node: r }) }, _cleanItems: function () { var t = this; t.angular("cleanup", function () { return { elements: t.element.find(".k-leaf div,.k-treemap-title,.k-treemap-title-vertical") } }) }, _setColors: function (t) { var e, i, r, a, h = this.options.colors, s = this._colorIdx, l = h[s % h.length]; for (m(l) && (e = o(l[0], l[1], t.length)), r = !1, a = 0; a < t.length; a++)i = t[a], n(i.color) || (i.color = e ? e[a] : l), i.dataItem.hasChildren || (r = !0); r && this._colorIdx++ }, _contentSize: function (t) { this.view.renderHeight(t) }, _wrapItem: function (t) { var e = {}; return n(this.options.valueField) && (e.value = i(this.options.valueField, t)), n(this.options.colorField) && (e.color = i(this.options.colorField, t)), n(this.options.textField) && (e.text = i(this.options.textField, t)), e.level = t.level(), e.dataItem = t, e }, _getByUid: function (t) { for (var e, i = [this._root]; i.length;) { if (e = i.pop(), e.dataItem.uid === t) return e; e.children && (i = i.concat(e.children)) } }, dataItem: function (e) { var i = t(e).attr(g.attr("uid")), n = this.dataSource; return n && n.getByUid(i) }, findByUid: function (t) { return this.element.find(".k-treemap-tile[" + g.attr("uid") + "='" + t + "']") }, _mouseover: function (e) { var i = t(e.target); i.hasClass("k-leaf") && (this._removeActiveState(), i.removeClass("k-state-hover").addClass("k-state-hover")) }, _removeActiveState: function () { this.element.find(".k-state-hover").removeClass("k-state-hover") }, _mouseleave: function () { this._removeActiveState() }, destroy: function () { y.fn.destroy.call(this), this.element.off(S), this.dataSource && this.dataSource.unbind(I, this._dataChangeHandler), this._root = null, g.unbindResize(this._resizeHandler), g.destroy(this.element) }, items: function () { return t() }, getSize: function () { return g.dimensions(this.element) }, _resize: function () { var t, e, i = this._root; i && (t = this.element, e = t.children(), i.coord.width = _(t), i.coord.height = v(t), e.css({ width: i.coord.width, height: i.coord.height }), this._resizeItems(i, e)) }, _resizeItems: function (t, e) { var i, n, o, r; if (t.children && t.children.length) for (i = e.children(".k-treemap-wrap").children(), this._layout.compute(t.children, t.coord, { text: this._view.titleSize(t, e) }), r = 0; r < t.children.length; r++)n = t.children[r], o = i.filter("[" + g.attr("uid") + "='" + n.dataItem.uid + "']"), this._view.setItemSize(n, o), this._resizeItems(n, o) }, setOptions: function (t) { var i = t.dataSource; t.dataSource = e, this._originalOptions = x(this._originalOptions, t), this.options = x({}, this._originalOptions), this._setLayout(), this._initTheme(this.options), y.fn._setEvents.call(this, t), i && this.setDataSource(C.create(i)), this.options.autoBind && this.dataSource.fetch() } }), F = w.extend({ createRoot: function (t, e, i) { t.coord = { width: e, height: i, top: 0, left: 0 } }, leaf: function (t) { return !t.children }, layoutChildren: function (t, e) { var i, n, o, r, a = e.width * e.height, h = 0, s = []; for (i = 0; i < t.length; i++)s[i] = parseFloat(t[i].value), h += s[i]; for (i = 0; i < s.length; i++)t[i].area = a * s[i] / h; n = this.layoutHorizontal() ? e.height : e.width, o = [t[0]], r = t.slice(1), this.squarify(r, o, n, e) }, squarify: function (t, e, i, n) { this.computeDim(t, e, i, n) }, computeDim: function (t, i, n, o) { var r, a, h; return t.length + i.length == 1 ? (r = 1 == t.length ? t : i, this.layoutLast(r, n, o), e) : (t.length >= 2 && 0 === i.length && (i = [t[0]], t = t.slice(1)), 0 === t.length ? (i.length > 0 && this.layoutRow(i, n, o), e) : (a = t[0], this.worstAspectRatio(i, n) >= this.worstAspectRatio([a].concat(i), n) ? this.computeDim(t.slice(1), i.concat([a]), n, o) : (h = this.layoutRow(i, n, o), this.computeDim(t, [], h.dim, h)), e)) }, layoutLast: function (t, e, i) { t[0].coord = i }, layoutRow: function (t, e, i) { return this.layoutHorizontal() ? this.layoutV(t, e, i) : this.layoutH(t, e, i) }, orientation: "h", layoutVertical: function () { return "v" === this.orientation }, layoutHorizontal: function () { return "h" === this.orientation }, layoutChange: function () { this.orientation = this.layoutVertical() ? "h" : "v" }, worstAspectRatio: function (t, e) { var i, n, o, r, a; if (!t || 0 === t.length) return M; for (i = 0, n = 0, o = M, r = 0; r < t.length; r++)a = t[r].area, i += a, o = o < a ? o : a, n = n > a ? n : a; return f.max(e * e * n / (i * i), i * i / (e * e * o)) }, compute: function (t, e, i) { if (e.width >= e.height && this.layoutHorizontal() || this.layoutChange(), t && t.length > 0) { var n = { width: e.width, height: e.height - i.text, top: 0, left: 0 }; this.layoutChildren(t, n) } }, layoutV: function (t, e, i) { var n, o, r, a = this._totalArea(t), h = 0; for (e = c(a / e), n = 0; n < t.length; n++)o = c(t[n].area / e), t[n].coord = { height: o, width: e, top: i.top + h, left: i.left }, h += o; return r = { height: i.height, width: i.width - e, top: i.top, left: i.left + e }, r.dim = f.min(r.width, r.height), r.dim != r.height && this.layoutChange(), r }, layoutH: function (t, e, i) { var n, o, r = this._totalArea(t), a = c(r / e), h = i.top, s = 0; for (n = 0; n < t.length; n++)t[n].coord = { height: a, width: c(t[n].area / a), top: h, left: i.left + s }, s += t[n].coord.width; return o = { height: i.height - a, width: i.width, top: i.top + a, left: i.left }, o.dim = f.min(o.width, o.height), o.dim != o.width && this.layoutChange(), o }, _totalArea: function (t) { var e, i = 0; for (e = 0; e < t.length; e++)i += t[e].area; return i } }), L = w.extend({ init: function (e, i) { this.options = x({}, this.options, i), this.treeMap = e, this.element = t(e.element), this.offset = 0 }, titleSize: function (t, e) { var i = e.children(".k-treemap-title"); return i.height() || 0 }, htmlSize: function (t) { var e, i, n = this._getByUid(t.dataItem.uid), o = { text: 0 }; return t.children && (this._clean(n), e = this._getText(t), e && (i = this._createTitle(t), n.append(i), this._compile(i, t.dataItem), o.text = i.height()), n.append(this._createWrap()), this.offset = (_(n) - n.innerWidth()) / 2), o }, _compile: function (t, e) { this.treeMap.angular("compile", function () { return { elements: t, data: [{ dataItem: e }] } }) }, _getByUid: function (t) { return this.element.find(".k-treemap-tile[" + g.attr("uid") + "='" + t + "']") }, render: function (t) { var e, i, n, o, r = this._getByUid(t.dataItem.uid), a = t.children; if (a) for (e = r.find(".k-treemap-wrap"), i = 0; i < a.length; i++)n = a[i], o = this._createLeaf(n), e.append(o), this._compile(o.children(), n.dataItem), this.treeMap.trigger(H, { element: o }) }, createRoot: function (t) { var e = this._createLeaf(t); this.element.append(e), this._compile(e.children(), t.dataItem), this.treeMap.trigger(H, { element: e }) }, _clean: function (t) { this.treeMap.angular("cleanup", function () { return { elements: t.children(":not(.k-treemap-wrap)") } }), t.css("background-color", ""), t.removeClass("k-leaf"), t.removeClass("k-inverse"), t.empty() }, _createLeaf: function (e) { return this._createTile(e).css("background-color", e.color).addClass("k-leaf").toggleClass("k-inverse", this._tileColorBrightness(e) > 180).append(t("<div></div>").html(this._getText(e))) }, _createTile: function (e) { var i = t("<div class='k-treemap-tile'></div>"); return this.setItemSize(e, i), n(e.dataItem) && n(e.dataItem.uid) && i.attr(g.attr("uid"), e.dataItem.uid), i }, _itemCoordinates: function (t) { var e = { width: t.coord.width, height: t.coord.height, left: t.coord.left, top: t.coord.top }; return e.width += e.left && this.offset ? 2 * this.offset : this.offset, e.height += e.top ? 2 * this.offset : this.offset, e }, setItemSize: function (t, e) { var i = this._itemCoordinates(t); e.css({ width: i.width, height: i.height, left: i.left, top: i.top }) }, _getText: function (t) { var e = t.text; return this.options.template && (e = this._renderTemplate(t)), e }, _renderTemplate: function (t) { var e = k(this.options.template); return e({ dataItem: t.dataItem, text: t.text }) }, _createTitle: function (e) { return t("<div class='k-treemap-title'></div>").append(t("<div></div>").html(this._getText(e))) }, _createWrap: function () { return t("<div class='k-treemap-wrap'></div>") }, _tileColorBrightness: function (t) { return u(t.color) } }), U = w.extend({ createRoot: function (t, e, i, n) { t.coord = { width: e, height: i, top: 0, left: 0 }, t.vertical = n }, init: function (t) { this.vertical = t, this.quotient = t ? 1 : 0 }, compute: function (t, e, i) { var n, o, r; t.length > 0 && (n = e.width, o = e.height, this.vertical ? o -= i.text : n -= i.text, r = { width: n, height: o, top: 0, left: 0 }, this.layoutChildren(t, r)) }, layoutChildren: function (t, e) { var i, n, o = e.width * e.height, r = 0, a = []; for (i = 0; i < t.length; i++)n = t[i], a[i] = parseFloat(t[i].value), r += a[i], n.vertical = this.vertical; for (i = 0; i < a.length; i++)t[i].area = o * a[i] / r; this.sliceAndDice(t, e) }, sliceAndDice: function (t, e) { var i = this._totalArea(t); t[0].level % 2 === this.quotient ? this.layoutHorizontal(t, e, i) : this.layoutVertical(t, e, i) }, layoutHorizontal: function (t, e, i) { var n, o, r, a = 0; for (n = 0; n < t.length; n++)o = t[n], r = o.area / (i / e.width), o.coord = { height: e.height, width: r, top: e.top, left: e.left + a }, a += r }, layoutVertical: function (t, e, i) { var n, o, r, a = 0; for (n = 0; n < t.length; n++)o = t[n], r = o.area / (i / e.height), o.coord = { height: r, width: e.width, top: e.top + a, left: e.left }, a += r }, _totalArea: function (t) { var e, i = 0; for (e = 0; e < t.length; e++)i += t[e].area; return i } }), E = L.extend({ htmlSize: function (t) { var e, i, n = this._getByUid(t.dataItem.uid), o = { text: 0, offset: 0 }; return t.children && (this._clean(n), e = this._getText(t), e && (i = this._createTitle(t), n.append(i), this._compile(i, t.dataItem), o.text = t.vertical ? i.height() : i.width()), n.append(this._createWrap()), this.offset = (_(n) - n.innerWidth()) / 2), o }, titleSize: function (t, e) { var i; return i = t.vertical ? e.children(".k-treemap-title").height() : e.children(".k-treemap-title-vertical").width(), i || 0 }, _createTitle: function (e) { var i; return i = t(e.vertical ? "<div class='k-treemap-title'></div>" : "<div class='k-treemap-title-vertical'></div>"), i.append(t("<div></div>").html(this._getText(e))) } }); z.ui.plugin(D) }(window.kendo.jQuery), window.kendo }, "function" == typeof define && define.amd ? define : function (t, e, i) { (i || e)() });; !function (e, define) { define("aspnetmvc/kendo.data.aspnetmvc.min", ["kendo.data.min", "kendo.combobox.min", "kendo.multiselect.min", "kendo.validator.min"], e) }(function () { !function (e, t) { function n(t, n, r) { var i, o = {}; return t.sort ? (o[this.options.prefix + "sort"] = e.map(t.sort, function (e) { return e.field + "-" + e.dir }).join("~"), delete t.sort) : o[this.options.prefix + "sort"] = "", t.page && (o[this.options.prefix + "page"] = t.page, delete t.page), t.pageSize && (o[this.options.prefix + "pageSize"] = t.pageSize, delete t.pageSize), t.group ? (o[this.options.prefix + "group"] = e.map(t.group, function (e) { return e.field + "-" + e.dir }).join("~"), delete t.group) : o[this.options.prefix + "group"] = "", t.aggregate && (o[this.options.prefix + "aggregate"] = e.map(t.aggregate, function (e) { return e.field + "-" + e.aggregate }).join("~"), delete t.aggregate), t.filter ? (o[this.options.prefix + "filter"] = a(t.filter, r.encode), delete t.filter) : (o[this.options.prefix + "filter"] = "", delete t.filter), delete t.take, delete t.skip, i = new g(r), i.serialize(o, t, ""), o } function a(n, i) { return n.filters ? e.map(n.filters, function (e) { var t = e.filters && e.filters.length > 1, n = a(e, i); return n && t && (n = "(" + n + ")"), n }).join("~" + n.logic + "~") : n.field ? n.field + "~" + n.operator + "~" + r(n.value, i) : t } function r(e, t) { if ("string" == typeof e) { if (!(e.indexOf("Date(") > -1)) return e = e.replace(f, "''"), t && (e = encodeURIComponent(e)), "'" + e + "'"; e = new Date(parseInt(e.replace(/^\/Date\((.*?)\)\/$/, "$1"), 10)) } return e && e.getTime ? "datetime'" + c.format("{0:yyyy-MM-ddTHH-mm-ss}", e) + "'" : e } function i(e, n) { return t !== e ? e : n } function o(t) { var n = t.HasSubgroups || t.hasSubgroups || !1, a = t.Items || t.items; return { value: i(t.Key, i(t.key, t.value)), field: t.Member || t.member || t.field, hasSubgroups: n, aggregates: d(t.Aggregates || t.aggregates), items: n ? e.map(a, o) : a } } function s(e) { var t = {}; return t[e.AggregateMethodName.toLowerCase()] = e.Value, t } function d(e) { var t, n, a, r = {}; for (t in e) { r = {}, a = e[t]; for (n in a) r[n.toLowerCase()] = a[n]; e[t] = r } return e } function u(e) { var t, n, a, r = {}; for (t = 0, n = e.length; t < n; t++)a = e[t], r[a.Member] = l(!0, r[a.Member], s(a)); return r } var c = window.kendo, f = /'/gi, l = e.extend, p = e.isArray, m = e.isPlainObject, v = ".", g = function (e) { e = e || {}, this.culture = e.culture || c.culture(), this.stringifyDates = e.stringifyDates, this.decimalSeparator = this.culture.numberFormat[v] }; g.prototype = g.fn = { serialize: function (e, t, n) { var a, r; for (r in t) a = n ? n + "." + r : r, this.serializeField(e, t[r], t, r, a) }, serializeField: function (e, n, a, r, i) { p(n) ? this.serializeArray(e, n, i) : m(n) ? this.serialize(e, n, i) : e[i] === t && (e[i] = a[r] = this.serializeValue(n)) }, serializeArray: function (e, t, n) { var a, r, i, o, s; for (o = 0, s = 0; o < t.length; o++)a = t[o], r = "[" + s + "]", i = n + r, this.serializeField(e, a, t, r, i), s++ }, serializeValue: function (e) { return e instanceof Date ? e = this.stringifyDates ? c.stringify(e).replace(/"/g, "") : c.toString(e, "G", this.culture.name) : "number" == typeof e && (e = ("" + e).replace(v, this.decimalSeparator)), e } }, l(!0, c.data, { schemas: { "aspnetmvc-ajax": { groups: function (t) { return e.map(this._dataAccessFunction(t), o) }, aggregates: function (t) { var n, a; if (t = t.d || t, n = t.AggregateResults || [], !e.isArray(n)) { for (a in n) n[a] = u(n[a]); return n } return u(n) } } } }), l(!0, c.data, { transports: { "aspnetmvc-ajax": c.data.RemoteTransport.extend({ init: function (e) { var t = this, a = (e || {}).stringifyDates; c.data.RemoteTransport.fn.init.call(this, l(!0, {}, this.options, e, { parameterMap: function (e, r) { return n.call(t, e, r, { encode: !1, stringifyDates: a }) } })) }, read: function (e) { var t = this.options.data, n = this.options.read.url; m(t) ? (n && (this.options.data = null), !t.Data.length && n ? c.data.RemoteTransport.fn.read.call(this, e) : e.success(t)) : c.data.RemoteTransport.fn.read.call(this, e) }, options: { read: { type: "POST" }, update: { type: "POST" }, create: { type: "POST" }, destroy: { type: "POST" }, parameterMap: n, prefix: "" } }) } }), l(!0, c.data, { schemas: { webapi: c.data.schemas["aspnetmvc-ajax"] } }), l(!0, c.data, { transports: { webapi: c.data.RemoteTransport.extend({ init: function (e) { var t, a, r = this, i = (e || {}).stringifyDates; e.update && (t = "string" == typeof e.update ? e.update : e.update.url, e.update = l(e.update, { url: function (n) { return c.format(t, n[e.idField]) } })), e.destroy && (a = "string" == typeof e.destroy ? e.destroy : e.destroy.url, e.destroy = l(e.destroy, { url: function (t) { return c.format(a, t[e.idField]) } })), e.create && "string" == typeof e.create && (e.create = { url: e.create }), c.data.RemoteTransport.fn.init.call(this, l(!0, {}, this.options, e, { parameterMap: function (e, t) { return n.call(r, e, t, { encode: !1, stringifyDates: i, culture: c.cultures["en-US"] }) } })) }, read: function (e) { var t = this.options.data, n = this.options.read.url; m(t) ? (n && (this.options.data = null), !t.Data.length && n ? c.data.RemoteTransport.fn.read.call(this, e) : e.success(t)) : c.data.RemoteTransport.fn.read.call(this, e) }, options: { read: { type: "GET" }, update: { type: "PUT" }, create: { type: "POST" }, destroy: { type: "DELETE" }, parameterMap: n, prefix: "" } }) } }), l(!0, c.data, { transports: { "aspnetmvc-server": c.data.RemoteTransport.extend({ init: function (e) { var t = this; c.data.RemoteTransport.fn.init.call(this, l(e, { parameterMap: function (e, a) { return n.call(t, e, a, { encode: !0 }) } })) }, read: function (t) { var n, a, r = this.options.prefix, i = [r + "sort", r + "page", r + "pageSize", r + "group", r + "aggregate", r + "filter"], o = RegExp("(" + i.join("|") + ")=[^&]*&?", "g"); a = location.search.replace(o, "").replace("?", ""), a.length && !/&$/.test(a) && (a += "&"), t = this.setup(t, "read"), n = t.url, n.indexOf("?") >= 0 ? (a = a.replace(/(.*?=.*?)&/g, function (e) { return n.indexOf(e.substr(0, e.indexOf("="))) >= 0 ? "" : e }), n += "&" + a) : n += "?" + a, n += e.map(t.data, function (e, t) { return t + "=" + e }).join("&"), location.href = n } }) } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.combobox.aspnetmvc.min", ["aspnetmvc/kendo.data.aspnetmvc.min"], e) }(function () { !function (e, t) { var n = window.kendo, a = n.ui; a && a.ComboBox && (a.ComboBox.requestData = function (t) { var n, a, r = e(t).data("kendoComboBox"); if (r) return n = r.dataSource.filter(), a = r.input.val(), n && n.filters.length || (a = ""), { text: a } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.dropdownlist.aspnetmvc.min", ["aspnetmvc/kendo.data.aspnetmvc.min"], e) }(function () { !function (e, t) { var n = window.kendo, a = n.ui; a && a.DropDownList && (a.DropDownList.requestData = function (t) { var n, a, r, i = e(t).data("kendoDropDownList"); if (i) return n = i.dataSource.filter(), a = i.filterInput, r = a ? a.val() : "", n && n.filters.length || (r = ""), { text: r } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.dropdowntree.aspnetmvc.min", ["aspnetmvc/kendo.data.aspnetmvc.min"], e) }(function () { !function (e, t) { var n = window.kendo, a = n.ui; a && a.DropDownTree && (a.DropDownTree.requestData = function (t) { var n, a, r, i = e(t).data("kendoDropDownTree"); if (i) return n = i.dataSource.filter(), a = i.filterInput, r = a ? a.val() : "", n && n.filters.length || (r = ""), { text: r } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.multiselect.aspnetmvc.min", ["aspnetmvc/kendo.combobox.aspnetmvc.min"], e) }(function () { !function (e, t) { var n = window.kendo, a = n.ui; a && a.MultiSelect && (a.MultiSelect.requestData = function (t) { var n, a = e(t).data("kendoMultiSelect"); if (a) return n = a.input.val(), { text: n !== a.options.placeholder ? n : "" } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.imagebrowser.aspnetmvc.min", ["aspnetmvc/kendo.multiselect.aspnetmvc.min"], e) }(function () { !function (e, t) { var n = window.kendo, a = e.extend, r = e.isFunction; a(!0, n.data, { schemas: { "imagebrowser-aspnetmvc": { data: function (e) { return e || [] }, model: { id: "name", fields: { name: { field: "Name" }, size: { field: "Size" }, type: { field: "EntryType", parse: function (e) { return 0 == e ? "f" : "d" } } } } } } }), a(!0, n.data, { schemas: { "filebrowser-aspnetmvc": n.data.schemas["imagebrowser-aspnetmvc"] } }), a(!0, n.data, { transports: { "imagebrowser-aspnetmvc": n.data.RemoteTransport.extend({ init: function (t) { n.data.RemoteTransport.fn.init.call(this, e.extend(!0, {}, this.options, t)) }, _call: function (t, a) { a.data = e.extend({}, a.data, { path: this.options.path() }), r(this.options[t]) ? this.options[t].call(this, a) : n.data.RemoteTransport.fn[t].call(this, a) }, read: function (e) { this._call("read", e) }, create: function (e) { this._call("create", e) }, destroy: function (e) { this._call("destroy", e) }, update: function () { }, options: { read: { type: "POST" }, update: { type: "POST" }, create: { type: "POST" }, destroy: { type: "POST" }, parameterMap: function (e, t) { return "read" != t && (e.EntryType = "f" === e.EntryType ? 0 : 1), e } } }) } }), a(!0, n.data, { transports: { "filebrowser-aspnetmvc": n.data.transports["imagebrowser-aspnetmvc"] } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("aspnetmvc/kendo.validator.aspnetmvc.min", ["aspnetmvc/kendo.imagebrowser.aspnetmvc.min"], e) }(function () { !function (e, t) { function n() { var e, t = {}; for (e in p) t["mvc" + e] = s(e); return t } function a() { var e, t = {}; for (e in p) t["mvc" + e] = d(e); return t } function r(e, t) { var n, a, r, i = {}, o = e.data(), s = t.length; for (r in o) a = r.toLowerCase(), n = a.indexOf(t), n > -1 && (a = a.substring(n + s, r.length), a && (i[a] = o[r])); return i } function i(t) { var n, a, r = t.Fields || [], i = {}; for (n = 0, a = r.length; n < a; n++)e.extend(!0, i, o(r[n])); return i } function o(e) { var t, n, a, r, i = {}, o = {}, s = e.FieldName, d = e.ValidationRules; for (a = 0, r = d.length; a < r; a++)t = d[a].ValidationType, n = d[a].ValidationParameters, i[s + t] = c(s, t, n), o[s + t] = u(d[a].ErrorMessage); return { rules: i, messages: o } } function s(e) { return function (t) { return t.attr("data-val-" + e) } } function d(e) { return function (t) { return !t.filter("[data-val-" + e + "]").length || p[e](t, r(t, e)) } } function u(e) { return function () { return e } } function c(e, t, n) { return function (a) { return !a.filter("[name=" + e + "]").length || p[t](a, n) } } function f(e, t) { return "string" == typeof t && (t = RegExp("^(?:" + t + ")$")), t.test(e) } var l = /("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g, p = { required: function (e) { var t, n, a, r = e.val(), i = e.filter("[type=checkbox]"); return i.length && (t = i[0].name.replace(l, "\\$1"), n = "input:hidden[name='" + t + "']", a = i.next(n), a.length || (a = i.next("label.k-checkbox-label").next(n)), r = a.length ? a.val() : "checked" === e.attr("checked")), !("" === r || !r || 0 === r.length) }, number: function (e) { return "" === e.val() || null == e.val() || null !== kendo.parseFloat(e.val()) }, regex: function (e, t) { return "" === e.val() || f(e.val(), t.pattern) }, range: function (e, t) { return "" === e.val() || this.min(e, t) && this.max(e, t) }, min: function (e, t) { var n = parseFloat(t.min) || 0, a = kendo.parseFloat(e.val()); return n <= a }, max: function (e, t) { var n = parseFloat(t.max) || 0, a = kendo.parseFloat(e.val()); return a <= n }, date: function (e) { return "" === e.val() || null !== kendo.parseDate(e.val()) }, length: function (t, n) { if ("" !== t.val()) { var a = e.trim(t.val()).length; return (!n.min || a >= (n.min || 0)) && (!n.max || a <= (n.max || 0)) } return !0 } }; e.extend(!0, kendo.ui.validator, { rules: a(), messages: n(), messageLocators: { mvcLocator: { locate: function (e, t) { return t = t.replace(l, "\\$1"), e.find(".field-validation-valid[data-valmsg-for='" + t + "'], .field-validation-error[data-valmsg-for='" + t + "']") }, decorate: function (e, t) { e.addClass("field-validation-error").attr("data-valmsg-for", t || "") } }, mvcMetadataLocator: { locate: function (e, t) { return t = t.replace(l, "\\$1"), e.find("#" + t + "_validationMessage.field-validation-valid") }, decorate: function (e, t) { e.addClass("field-validation-error").attr("id", t + "_validationMessage") } } }, ruleResolvers: { mvcMetaDataResolver: { resolve: function (t) { var n, a = window.mvcClientValidationMetadata || []; if (a.length) for (t = e(t), n = 0; n < a.length; n++)if (a[n].FormId == t.attr("id")) return i(a[n]); return {} } } } }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() }), function (e, define) { define("kendo.aspnetmvc.min", ["kendo.data.min", "kendo.combobox.min", "kendo.dropdownlist.min", "kendo.dropdowntree.min", "kendo.multiselect.min", "kendo.validator.min", "aspnetmvc/kendo.data.aspnetmvc.min", "aspnetmvc/kendo.combobox.aspnetmvc.min", "aspnetmvc/kendo.dropdownlist.aspnetmvc.min", "aspnetmvc/kendo.dropdowntree.aspnetmvc.min", "aspnetmvc/kendo.multiselect.aspnetmvc.min", "aspnetmvc/kendo.imagebrowser.aspnetmvc.min", "aspnetmvc/kendo.validator.aspnetmvc.min"], e) }(function () { !function (e, t) { function n(t) { kendo.__documentIsReady ? t() : e(t) } var a = e.extend; e(function () { kendo.__documentIsReady = !0 }), a(kendo, { syncReady: n }) }(window.kendo.jQuery) }, "function" == typeof define && define.amd ? define : function (e, t, n) { (n || t)() });;